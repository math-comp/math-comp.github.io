
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Module mathcomp.analysis.kernel</title>
<meta name="description" content="Documentation of Coq module mathcomp.analysis.kernel" />
<link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.css">
<script src="https://cdn.jsdelivr.net/npm/markdown-it/dist/markdown-it.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/markdown-it-texmath/texmath.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/darkmode-js@1.5.7/lib/darkmode-js.min.js"></script>
<link href="coq2html.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="coq2html.js"> </script>
</head>

<body onload="init('proofscript')">
<h1 class="title">Module mathcomp.analysis.kernel</h1>
<div class="coq">
<span class="vernacular">From</span> <span class="id">HB</span> <span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="NOTFOUND the module url for HB.structures">structures</a></span>.<br/>
<span class="vernacular">From</span> <span class="id">mathcomp</span> <span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.all_ssreflect.html">all_ssreflect</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html">ssralg</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html">ssrnum</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrint.html">ssrint</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html">interval</a></span> <span class="id"><a href="NOTFOUND the module url for mathcomp.finmap.finmap">finmap</a></span>.<br/>
<span class="vernacular">From</span> <span class="id">mathcomp</span> <span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="mathcomp.classical.mathcomp_extra.html">mathcomp_extra</a></span> <span class="id"><a href="mathcomp.classical.boolp.html">boolp</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html">classical_sets</a></span> <span class="id"><a href="mathcomp.classical.functions.html">functions</a></span>.<br/>
<span class="vernacular">From</span> <span class="id">mathcomp</span> <span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="mathcomp.classical.cardinality.html">cardinality</a></span> <span class="id"><a href="mathcomp.classical.fsbigop.html">fsbigop</a></span>.<br/>
<span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="mathcomp.analysis.reals.html">reals</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html">ereal</a></span> <span class="id"><a href="mathcomp.analysis.signed.html">signed</a></span> <span class="id"><a href="mathcomp.analysis.topology.html">topology</a></span> <span class="id"><a href="mathcomp.analysis.normedtype.html">normedtype</a></span> <span class="id"><a href="mathcomp.analysis.sequences.html">sequences</a></span> <span class="id"><a href="mathcomp.analysis.esum.html">esum</a></span> <span class="id"><a href="mathcomp.analysis.measure.html">measure</a></span>.<br/>
<span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="mathcomp.analysis.numfun.html">numfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html">lebesgue_measure</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html">lebesgue_integral</a></span>.<br/>
<br/>
<div class="ssrdoc md">
# Kernels                                                                  
                                                                           
This file provides a formation of kernels, s-finite kernels, finite        
kernels, subprobability kernels, and probability kernels. The main         
formalized result is the fact that s-finite kernels are stable by          
composition.                                                               
Reference:                                                                 
- R. Affeldt, C. Cohen, A. Saito. Semantics of probabilistic programs      
  using s-finite kernels in Coq. CPP 2023                                  
                                                                           
```                                                                        
      R.-ker X ~&gt; Y == kernel from X to Y where X and Y are of type        
                       measurableType                                      
                       The HB class is Kernel.                             
  measure_fam_uub k == the kernel k is uniformly upper-bounded             
    R.-sfker X ~&gt; Y == s-finite kernel                                     
                       The HB class is SFiniteKernel.                      
     R.-fker X ~&gt; Y == finite kernel                                       
                       The HB class is FiniteKernel.                       
    R.-spker X ~&gt; Y == subprobability kernel                               
                       The HB class is SubProbabilityKernel.               
     R.-pker X ~&gt; Y == probability kernel                                  
                       The HB class is ProbabilityKernel.                  
            kseries == countable sum of kernels                            
                       It is declared as an instance of the structure      
                       Kernel. It is also an instance of the structure     
                       SFiniteKernel if the sum is over s-finite kernels.  
              kzero == kernel defined using the mzero measure              
          kdirac mf == kernel defined by a measurable function             
           mset U r == the set of probability measures mu such that        
                       mu U &lt; r                                            
               pset == the sets mset U r with U measurable and r \in [0,1] 
       pprobability == the measurable type generated by pset               
     kprobability m == kernel defined by a probability measure             
         kadd k1 k2 == lifting of the addition of measures to kernels      
             l \; k == composition of kernels                              
```                                                                        
                                                                           
</div>
<br/>
<span class="gallina-kwd">Set</span> <span class="vernacular">Implicit</span> <span class="vernacular">Arguments</span>.<br/>
<span class="id">Unset</span> <span class="id">Strict</span> <span class="vernacular">Implicit</span>.<br/>
<span class="id">Unset</span> <span class="id">Printing</span> <span class="vernacular">Implicit</span> <span class="id">Defensive</span>.<br/>
<span class="vernacular">Import</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.TTheory">Order.TTheory</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory">GRing.Theory</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Def">Num.Def</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory">Num.Theory</a></span>.<br/>
<span class="vernacular">Import</span> <span class="id"><a href="mathcomp.analysis.topology.html#numFieldTopology.Exports">numFieldTopology.Exports</a></span>.<br/>
<br/>
<span class="id">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">classical_set_scope</span>.<br/>
<span class="id">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">ring_scope</span>.<br/>
<span class="id">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">ereal_scope</span>.<br/>
<br/>
<span class="vernacular">Reserved</span> <span class="vernacular">Notation</span> <span class="id">"R&nbsp;.-ker&nbsp;X&nbsp;~&gt;&nbsp;Y"</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span> <span class="id">level</span> <span class="id">42,</span> <span class="id">format</span> <span class="id">"R&nbsp;.-ker&nbsp;&nbsp;X&nbsp;&nbsp;~&gt;&nbsp;&nbsp;Y"</span>).<br/>
<span class="vernacular">Reserved</span> <span class="vernacular">Notation</span> <span class="id">"R&nbsp;.-sfker&nbsp;X&nbsp;~&gt;&nbsp;Y"</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span> <span class="id">level</span> <span class="id">42,</span> <span class="id">format</span> <span class="id">"R&nbsp;.-sfker&nbsp;&nbsp;X&nbsp;&nbsp;~&gt;&nbsp;&nbsp;Y"</span>).<br/>
<span class="vernacular">Reserved</span> <span class="vernacular">Notation</span> <span class="id">"R&nbsp;.-fker&nbsp;X&nbsp;~&gt;&nbsp;Y"</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span> <span class="id">level</span> <span class="id">42,</span> <span class="id">format</span> <span class="id">"R&nbsp;.-fker&nbsp;&nbsp;X&nbsp;&nbsp;~&gt;&nbsp;&nbsp;Y"</span>).<br/>
<span class="vernacular">Reserved</span> <span class="vernacular">Notation</span> <span class="id">"R&nbsp;.-spker&nbsp;X&nbsp;~&gt;&nbsp;Y"</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span> <span class="id">level</span> <span class="id">42,</span> <span class="id">format</span> <span class="id">"R&nbsp;.-spker&nbsp;&nbsp;X&nbsp;&nbsp;~&gt;&nbsp;&nbsp;Y"</span>).<br/>
<span class="vernacular">Reserved</span> <span class="vernacular">Notation</span> <span class="id">"R&nbsp;.-pker&nbsp;X&nbsp;~&gt;&nbsp;Y"</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span> <span class="id">level</span> <span class="id">42,</span> <span class="id">format</span> <span class="id">"R&nbsp;.-pker&nbsp;&nbsp;X&nbsp;&nbsp;~&gt;&nbsp;&nbsp;Y"</span>).<br/>
<br/>
<span class="id">HB.mixin</span> <span class="vernacular">Record</span> <span class="id">isKernel</span> <span id="d:1" class="id">
  <a name="d:1" class="">d</a>
</span> <span id="d':2" class="id">
  <a name="d':2" class="">d'</a>
</span> (<span id="X:3" class="id">
  <a name="X:3" class="">X</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:1">d</a></span>) (<span id="Y:4" class="id">
  <a name="Y:4" class="">Y</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':2">d'</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="R:5" class="id">
  <a name="R:5" class="">R</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) (<span id="k:6" class="id">
  <a name="k:6" class="">k</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#X:3">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#::ring_scope:'{'_'measure'_'set'_x_'->'_'\bar'_x_'}'">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.kernel.html#Y:4">Y</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#::ring_scope:'{'_'measure'_'set'_x_'->'_'\bar'_x_'}'">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.kernel.html#R:5">R}</a></span>) <span class="id">:=</span> <span class="id">{</span><br/>
&nbsp;&nbsp;<span id="measurable_kernel:8" class="id">
  <a name="measurable_kernel:8" class="">measurable_kernel</a>
</span> <span class="id">:</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="U:7" class="id">
  <a name="U:7" class="">U,</a>
</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:7">U</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_':'_x_']'">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#X:3">X]</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#k:6">k</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:x_'^~'_x">^~</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:7">U</a></span>) <span class="id">}</span>.<br/>
<br/>
<span class="id">#[short</span>(<span class="id">type=kernel</span>)<span class="id">]</span><br/>
<span class="id">HB.structure</span> <span class="vernacular">Definition</span> <span class="id">Kernel</span> <span id="d:15" class="id">
  <a name="d:15" class="">d</a>
</span> <span id="d':16" class="id">
  <a name="d':16" class="">d'</a>
</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="X:17" class="id">
  <a name="X:17" class="">X</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:15">d</a></span>) (<span id="Y:18" class="id">
  <a name="Y:18" class="">Y</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':16">d'</a></span>) (<span id="R:19" class="id">
  <a name="R:19" class="">R</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#::type_scope:'{'_x_'&'_x_'}'">{</a></span> <span id="k:20" class="id">
  <a name="k:20" class="">k</a>
</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#::type_scope:'{'_x_'&'_x_'}'">&amp;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#isKernel">isKernel</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#X:17">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Y:18">Y</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#R:19">R</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#k:20">k</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#::type_scope:'{'_x_'&'_x_'}'">}</a></span>.<br/>
<span class="vernacular">Notation</span> <span id=":::x_'.-ker'_x_'~>'_x" class="id">
  <a name=":::x_'.-ker'_x_'~>'_x" class="">"R&nbsp;.-ker&nbsp;X&nbsp;~&gt;&nbsp;Y"</a>
</span> <span class="id">:=</span> (<span class="id"><a href="mathcomp.analysis.kernel.html#kernel">kernel</a></span> <span class="id">X%type</span> <span class="id">Y</span> <span class="id">R</span>).<br/>
<br/>
<span class="vernacular">Arguments</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_kernel">measurable_kernel</a></span> <span class="id">{_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_}</span> <span class="id">_</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="kernel_measurable_eq_cst" class="id">
  <a name="kernel_measurable_eq_cst" class="">kernel_measurable_eq_cst</a>
</span> <span id="d:23" class="id">
  <a name="d:23" class="">d</a>
</span> <span id="d':24" class="id">
  <a name="d':24" class="">d'</a>
</span> (<span id="T:25" class="id">
  <a name="T:25" class="">T</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:23">d</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="T':26" class="id">
  <a name="T':26" class="">T'</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':24">d'</a></span>) (<span id="R:27" class="id">
  <a name="R:27" class="">R</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) (<span id="f:28" class="id">
  <a name="f:28" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#R:27">R</a></span>.<span class="id">-ker</span> <span class="id"><a href="mathcomp.analysis.kernel.html#T:25">T</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#:::x_'.-ker'_x_'~>'_x">~&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#T':26">T'</a></span>) <span id="k:29" class="id">
  <a name="k:29" class="">k</a>
</span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_x_'|'_x_']'">[set</a></span> <span id="t:30" class="id">
  <a name="t:30" class="">t</a>
</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_x_'|'_x_']'">|</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#f:28">f</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#t:30">t</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_':'_x_']'">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#T':26">T']</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#::bool_scope:x_'=='_x">==</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#k:29">k]</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof1')">Proof.</span></div>
<div class="proofscript" id="proof1">
<span class="id">rewrite</span> <span class="id">[X</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#X:31">X]</a></span>(<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> (<span class="id">f</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:x_'^~'_x">^~</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span>) <span class="id">@^-1`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_x_']'">[set</a></span> <span class="id">k]</span>)<span class="id">;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply/seteqP;</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">t/=</span> <span class="id">/eqP</span>.<br/>
<span class="id">have</span> <span class="id">/</span>(<span class="id">_</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT">measurableT</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_x_']'">[set</a></span> <span class="id">k]</span>) <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_kernel">measurable_kernel</a></span> <span class="id">f</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT">measurableT</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setTI">setTI;</a></span> <span class="id">exact</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="kernel_measurable_neq_cst" class="id">
  <a name="kernel_measurable_neq_cst" class="">kernel_measurable_neq_cst</a>
</span> <span id="d:32" class="id">
  <a name="d:32" class="">d</a>
</span> <span id="d':33" class="id">
  <a name="d':33" class="">d'</a>
</span> (<span id="T:34" class="id">
  <a name="T:34" class="">T</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:32">d</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="T':35" class="id">
  <a name="T':35" class="">T'</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':33">d'</a></span>) (<span id="R:36" class="id">
  <a name="R:36" class="">R</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>)  (<span id="f:37" class="id">
  <a name="f:37" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#R:36">R</a></span>.<span class="id">-ker</span> <span class="id"><a href="mathcomp.analysis.kernel.html#T:34">T</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#:::x_'.-ker'_x_'~>'_x">~&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#T':35">T'</a></span>) <span id="k:38" class="id">
  <a name="k:38" class="">k</a>
</span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_x_'|'_x_']'">[set</a></span> <span id="t:39" class="id">
  <a name="t:39" class="">t</a>
</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_x_'|'_x_']'">|</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#f:37">f</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#t:39">t</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_':'_x_']'">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#T':35">T']</a></span> <span class="id">!=</span> <span class="id"><a href="mathcomp.analysis.kernel.html#k:38">k]</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof2')">Proof.</span></div>
<div class="proofscript" id="proof2">
<span class="id">rewrite</span> <span class="id">[X</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#X:40">X]</a></span>(<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> (<span class="id">f</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:x_'^~'_x">^~</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span>) <span class="id">@^-1`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_'~'_x_']'">[set~</a></span> <span class="id">k]</span>)<span class="id">;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply/seteqP;</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">t</span> <span class="id">/eqP</span>.<br/>
<span class="id">have</span> <span class="id">/</span>(<span class="id">_</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT">measurableT</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_'~'_x_']'">[set~</a></span> <span class="id">k]</span>) <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_kernel">measurable_kernel</a></span> <span class="id">f</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT">measurableT</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setTI">setTI;</a></span> <span class="id">apply</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableC">measurableC</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="kernel_measurable_fun_eq_cst" class="id">
  <a name="kernel_measurable_fun_eq_cst" class="">kernel_measurable_fun_eq_cst</a>
</span> <span id="d:41" class="id">
  <a name="d:41" class="">d</a>
</span> <span id="d':42" class="id">
  <a name="d':42" class="">d'</a>
</span> (<span id="T:43" class="id">
  <a name="T:43" class="">T</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:41">d</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="T':44" class="id">
  <a name="T':44" class="">T'</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':42">d'</a></span>) (<span id="R:45" class="id">
  <a name="R:45" class="">R</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) (<span id="f:46" class="id">
  <a name="f:46" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#R:45">R</a></span>.<span class="id">-ker</span> <span class="id"><a href="mathcomp.analysis.kernel.html#T:43">T</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#:::x_'.-ker'_x_'~>'_x">~&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#T':44">T'</a></span>) <span id="k:47" class="id">
  <a name="k:47" class="">k</a>
</span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_':'_x_']'">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#T:43">T]</a></span> (<span class="gallina-kwd">fun</span> <span id="t:48" class="id">
  <a name="t:48" class="">t</a>
</span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.kernel.html#f:46">f</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#t:48">t</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_':'_x_']'">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#T':44">T']</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#::bool_scope:x_'=='_x">==</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#k:47">k</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof3')">Proof.</span></div>
<div class="proofscript" id="proof3">
<span class="id">move=&gt;</span> <span class="id">_</span> <span class="id">/=</span> <span class="id">B</span> <span class="id">mB;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setTI">setTI</a></span>.<br/>
<span class="id">have</span> <span class="id">[/eqP-&gt;|/eqP-&gt;|/eqP-&gt;|/eqP-&gt;]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set_bool">set_bool</a></span> <span class="id">B</span>.<br/>
<span class="id">-</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kernel_measurable_eq_cst">kernel_measurable_eq_cst</a></span>.<br/>
<span class="id">-</span> <span class="id">rewrite</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id">_</span> <span class="id">@^-1`</span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_x_'|'_x_']'">[set</a></span> <span id="b:51" class="id"><span id="b:50" class="id"><span id="b:49" class="id">
  <a name="b:51" class="">b</a>
</span></span></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_x_'|'_x_']'">|</a></span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.kernel.html#b:49">b</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id">!=</span> <span class="id">k]</span>)<span class="id">;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply/seteqP;</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">[t</span> <span class="id">/negbT//|t</span> <span class="id">/negbTE]</span>.<br/>
&nbsp;&nbsp;<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kernel_measurable_neq_cst">kernel_measurable_neq_cst</a></span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#preimage_set0">preimage_set0</a></span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#preimage_setT">preimage_setT</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="eq_kernel" class="id">
  <a name="eq_kernel" class="">eq_kernel</a>
</span> <span id="d:52" class="id">
  <a name="d:52" class="">d</a>
</span> <span id="d':53" class="id">
  <a name="d':53" class="">d'</a>
</span> (<span id="T:54" class="id">
  <a name="T:54" class="">T</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:52">d</a></span>) (<span id="T':55" class="id">
  <a name="T':55" class="">T'</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':53">d'</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="R:56" class="id">
  <a name="R:56" class="">R</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) (<span id="k1:57" class="id">
  <a name="k1:57" class="">k1</a>
</span> <span id="k2:58" class="id">
  <a name="k2:58" class="">k2</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#R:56">R</a></span>.<span class="id">-ker</span> <span class="id"><a href="mathcomp.analysis.kernel.html#T:54">T</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#:::x_'.-ker'_x_'~>'_x">~&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#T':55">T'</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="x:59" class="id">
  <a name="x:59" class="">x</a>
</span> <span id="U:60" class="id">
  <a name="U:60" class="">U,</a>
</span> <span class="id"><a href="mathcomp.analysis.kernel.html#k1:57">k1</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:59">x</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:60">U</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#k2:58">k2</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:59">x</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:60">U</a></span>) <span class="id">-&gt;</span> <span class="id"><a href="mathcomp.analysis.kernel.html#k1:57">k1</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#k2:58">k2</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof4')">Proof.</span></div>
<div class="proofscript" id="proof4">
<span class="id">move:</span> <span class="id">k1</span> <span class="id">k2</span> <span class="id">=&gt;</span> <span class="id">[m1</span> <span class="id">[[?]]]</span> <span class="id">[m2</span> <span class="id">[[?]]]</span> <span class="id">/=</span> <span class="id">k12</span>.<br/>
<span class="id">have</span> <span class="id">?</span> <span class="id">:</span> <span class="id">m1</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id">m2</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply/funext</span> <span class="id">=&gt;</span> <span class="id">t;</span> <span class="id">apply/eq_measure;</span> <span class="id">apply/funext</span> <span class="id">=&gt;</span> <span class="id">U;</span> <span class="id">rewrite</span> <span class="id">k12</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">subst</span> <span class="id">m1;</span> <span class="id">f_equal;</span> <span class="id">f_equal;</span> <span class="id">f_equal;</span> <span class="id">apply/Prop_irrelevance</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Section</span> <span id="kseries" class="id">
  <a name="kseries" class="">kseries</a>
</span>.<br/>
<span class="vernacular">Context</span> <span id="d:61" class="id">
  <a name="d:61" class="">d</a>
</span> <span id="d':62" class="id">
  <a name="d':62" class="">d'</a>
</span> (<span id="X:63" class="id">
  <a name="X:63" class="">X</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:61">d</a></span>) (<span id="Y:64" class="id">
  <a name="Y:64" class="">Y</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':62">d'</a></span>) (<span id="R:65" class="id">
  <a name="R:65" class="">R</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="vernacular">Variable</span> <span id="kseries.k" class="id">
  <a name="kseries.k" class="">k</a>
</span> <span class="id">:</span> (<span class="id"><a href="mathcomp.analysis.kernel.html#kseries.R">R</a></span>.<span class="id">-ker</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kseries.X">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#:::x_'.-ker'_x_'~>'_x">~&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kseries.Y">Y</a></span>)<span class="id">^nat</span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="kseries" class="id">
  <a name="kseries" class="">kseries</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kseries.X">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#::ring_scope:'{'_'measure'_'set'_x_'->'_'\bar'_x_'}'">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kseries.Y">Y</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#::ring_scope:'{'_'measure'_'set'_x_'->'_'\bar'_x_'}'">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kseries.R">R}</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">fun</span> <span id="x:67" class="id">
  <a name="x:67" class="">x</a>
</span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::form_scope:'['_'the'_x_'of'_x_']'">[the</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#Measure.Exports.measure">measure</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.measure.html#mseries">mseries</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#kseries.k">k</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:x_'^~'_x">^~</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:67">x</a></span>) <span class="id">0]</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="measurable_fun_kseries" class="id">
  <a name="measurable_fun_kseries" class="">measurable_fun_kseries</a>
</span> (<span id="U:68" class="id">
  <a name="U:68" class="">U</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kseries.Y">Y</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:68">U</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_':'_x_']'">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kseries.X">X]</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#kseries">kseries</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:x_'^~'_x">^~</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:68">U</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof5')">Proof.</span></div>
<div class="proofscript" id="proof5">
<span class="id">move=&gt;</span> <span class="id">mU</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_emeasurable_fun_sum">ge0_emeasurable_fun_sum</a></span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">n;</span> <span class="id">exact/measurable_kernel</span>.<br/>
Qed.</div>
<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.kernel.html#Build">isKernel.Build</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kseries">kseries</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_kseries">measurable_fun_kseries</a></span>.<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kseries">kseries</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="integral_kseries" class="id">
  <a name="integral_kseries" class="">integral_kseries</a>
</span> <span id="d:69" class="id">
  <a name="d:69" class="">d</a>
</span> <span id="d':70" class="id">
  <a name="d':70" class="">d'</a>
</span> (<span id="X:71" class="id">
  <a name="X:71" class="">X</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:69">d</a></span>) (<span id="Y:72" class="id">
  <a name="Y:72" class="">Y</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':70">d'</a></span>)<br/>
&nbsp;&nbsp;(<span id="R:73" class="id">
  <a name="R:73" class="">R</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) (<span id="k:74" class="id">
  <a name="k:74" class="">k</a>
</span> <span class="id">:</span> (<span class="id"><a href="mathcomp.analysis.kernel.html#R:73">R</a></span>.<span class="id">-ker</span> <span class="id"><a href="mathcomp.analysis.kernel.html#X:71">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#:::x_'.-ker'_x_'~>'_x">~&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Y:72">Y</a></span>)<span class="id">^nat</span>) (<span id="f:75" class="id">
  <a name="f:75" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#Y:72">Y</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::type_scope:'\bar'_x">\bar</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#R:73">R</a></span>) <span id="x:76" class="id">
  <a name="x:76" class="">x</a>
</span> <span class="id">:</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="y:77" class="id">
  <a name="y:77" class="">y,</a>
</span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'<='_x">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#f:75">f</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#y:77">y</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_':'_x_']'">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Y:72">Y]</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#f:75">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#::ereal_scope:'\int'_'['_x_']_'_x_x">\int[kseries</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#k:74">k</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:76">x]_y</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#f:75">f</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#y:78">y</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.analysis.sequences.html#::ereal_scope:'\sum_'_'('_x_'<oo'_')'_x">\sum_</a></span>(<span id="i:85" class="id"><span id="i:84" class="id"><span id="i:83" class="id"><span id="i:81" class="id"><span id="i:80" class="id"><span id="i:79" class="id">
  <a name="i:85" class="">i</a>
</span></span></span></span></span></span> <span class="id"><a href="mathcomp.analysis.sequences.html#::ereal_scope:'\sum_'_'('_x_'<oo'_')'_x">&lt;oo</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#::ereal_scope:'\int'_'['_x_']_'_x_x">\int[k</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#i:79">i</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:76">x]_y</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#f:75">f</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#y:82">y</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof6')">Proof.</span></div>
<div class="proofscript" id="proof6">
<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">f0</span> <span class="id">mf;</span> <span class="id">rewrite</span> <span class="id">/kseries/=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_measure_series">ge0_integral_measure_series</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Section</span> <span id="measure_fam_uub" class="id">
  <a name="measure_fam_uub" class="">measure_fam_uub</a>
</span>.<br/>
<span class="vernacular">Context</span> <span id="d:87" class="id">
  <a name="d:87" class="">d</a>
</span> <span id="d':88" class="id">
  <a name="d':88" class="">d'</a>
</span> (<span id="X:89" class="id">
  <a name="X:89" class="">X</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:87">d</a></span>) (<span id="Y:90" class="id">
  <a name="Y:90" class="">Y</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':88">d'</a></span>) (<span id="R:91" class="id">
  <a name="R:91" class="">R</a>
</span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.NumField.Exports.numFieldType">numFieldType</a></span>).<br/>
<span class="vernacular">Variable</span> <span id="measure_fam_uub.k" class="id">
  <a name="measure_fam_uub.k" class="">k</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measure_fam_uub.X">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#::ring_scope:'{'_'measure'_'set'_x_'->'_'\bar'_x_'}'">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measure_fam_uub.Y">Y</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#::ring_scope:'{'_'measure'_'set'_x_'->'_'\bar'_x_'}'">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measure_fam_uub.R">R}</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="measure_fam_uub" class="id">
  <a name="measure_fam_uub" class="">measure_fam_uub</a>
</span> <span class="id">:=</span> <span class="gallina-kwd">exists</span> <span id="r:93" class="id">
  <a name="r:93" class="">r,</a>
</span> <span class="gallina-kwd">forall</span> <span id="x:94" class="id">
  <a name="x:94" class="">x,</a>
</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measure_fam_uub.k">k</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:94">x</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_':'_x_']'">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measure_fam_uub.Y">Y]</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'<'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#r:93">r%:E</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="measure_fam_uubP" class="id">
  <a name="measure_fam_uubP" class="">measure_fam_uubP</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measure_fam_uub">measure_fam_uub</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'<->'_x">&lt;-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="r:95" class="id">
  <a name="r:95" class="">r</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.signed.html#Signed.Exports.::ring_scope:'{'_'posnum'_x_'}'">{posnum</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measure_fam_uub.R">R},</a></span> <span class="gallina-kwd">forall</span> <span id="x:96" class="id">
  <a name="x:96" class="">x,</a>
</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measure_fam_uub.k">k</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:96">x</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_':'_x_']'">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measure_fam_uub.Y">Y]</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'<'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#r:95">r%:num%:E</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof7')">Proof.</span></div>
<div class="proofscript" id="proof7">
<span class="id">split</span> <span class="id">=&gt;</span> <span class="id">[|]</span> <span class="id">[r</span> <span class="id">kr];</span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> <span class="id">r%:num</span>.<br/>
<span class="id">suff</span> <span class="id">r_gt0</span> <span class="id">:</span> (<span class="id">0</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'<'_x">&lt;</a></span> <span class="id">r</span>)<span class="id">%R</span> <span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> (<span class="id"><a href="mathcomp.analysis.signed.html#PosNum">PosNum</a></span> <span class="id">r_gt0</span>).<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-lte_fin;</span> <span class="id">apply:</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_lt_trans">le_lt_trans</a></span> <span class="id">_</span> (<span class="id">kr</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#point">point</a></span>)).<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measure_fam_uub">measure_fam_uub</a></span>.<br/>
<br/>
<span class="id">HB.mixin</span> <span class="vernacular">Record</span> <span class="id">Kernel_isSFinite_subdef</span> <span id="d:97" class="id">
  <a name="d:97" class="">d</a>
</span> <span id="d':98" class="id">
  <a name="d':98" class="">d'</a>
</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="X:99" class="id">
  <a name="X:99" class="">X</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:97">d</a></span>) (<span id="Y:100" class="id">
  <a name="Y:100" class="">Y</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':98">d'</a></span>) (<span id="R:101" class="id">
  <a name="R:101" class="">R</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="k:102" class="id">
  <a name="k:102" class="">k</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#X:99">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#::ring_scope:'{'_'measure'_'set'_x_'->'_'\bar'_x_'}'">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.kernel.html#Y:100">Y</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#::ring_scope:'{'_'measure'_'set'_x_'->'_'\bar'_x_'}'">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.kernel.html#R:101">R}</a></span>) <span class="id">:=</span> <span class="id">{</span><br/>
&nbsp;&nbsp;<span id="sfinite_kernel_subdef:108" class="id">
  <a name="sfinite_kernel_subdef:108" class="">sfinite_kernel_subdef</a>
</span> <span class="id">:</span> <span class="gallina-kwd">exists2</span> <span id="s:105" class="id"><span id="s:103" class="id">
  <a name="s:105" class="">s</a>
</span></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:'exists2'_x_':'_x_','_x_'&'_x">:</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#R:101">R</a></span>.<span class="id">-ker</span> <span class="id"><a href="mathcomp.analysis.kernel.html#X:99">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#:::x_'.-ker'_x_'~>'_x">~&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Y:100">Y</a></span>)<span class="id">^nat,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="n:104" class="id">
  <a name="n:104" class="">n,</a>
</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measure_fam_uub">measure_fam_uub</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#s:103">s</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#n:104">n</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:'exists2'_x_':'_x_','_x_'&'_x">&amp;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:106" class="id">
  <a name="x:106" class="">x</a>
</span> <span id="U:107" class="id">
  <a name="U:107" class="">U,</a>
</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:107">U</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#k:102">k</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:106">x</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:107">U</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kseries">kseries</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#s:105">s</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:106">x</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:107">U</a></span> <span class="id">}</span>.<br/>
<br/>
<span class="id">HB.structure</span> <span class="vernacular">Definition</span> <span class="id">SFiniteKernel</span> <span id="d:115" class="id">
  <a name="d:115" class="">d</a>
</span> <span id="d':116" class="id">
  <a name="d':116" class="">d'</a>
</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="X:117" class="id">
  <a name="X:117" class="">X</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:115">d</a></span>) (<span id="Y:118" class="id">
  <a name="Y:118" class="">Y</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':116">d'</a></span>) (<span id="R:119" class="id">
  <a name="R:119" class="">R</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="NOTFOUND the module url for HB.structures#::HB_scope:'{'_x_'of'_x_'&'_'..'_'&'_x_'}'">{</a></span> <span id="k:120" class="id">
  <a name="k:120" class="">k</a>
</span> <span class="id">of</span> <span class="id">@Kernel</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#R:119">R</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#k:120">k</a></span> <span class="id"><a href="NOTFOUND the module url for HB.structures#::HB_scope:'{'_x_'of'_x_'&'_'..'_'&'_x_'}'">&amp;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.kernel.html#Kernel_isSFinite_subdef">Kernel_isSFinite_subdef</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#X:117">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Y:118">Y</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#R:119">R</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#k:120">k</a></span> <span class="id"><a href="NOTFOUND the module url for HB.structures#::HB_scope:'{'_x_'of'_x_'&'_'..'_'&'_x_'}'">}</a></span>.<br/>
<span class="vernacular">Notation</span> <span id=":::x_'.-sfker'_x_'~>'_x" class="id">
  <a name=":::x_'.-sfker'_x_'~>'_x" class="">"R&nbsp;.-sfker&nbsp;X&nbsp;~&gt;&nbsp;Y"</a>
</span> <span class="id">:=</span> (<span class="id"><a href="mathcomp.analysis.kernel.html#type">SFiniteKernel.type</a></span> <span class="id">X%type</span> <span class="id">Y</span> <span class="id">R</span>).<br/>
<span class="vernacular">Arguments</span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfinite_kernel_subdef">sfinite_kernel_subdef</a></span> <span class="id">{_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_}</span> <span class="id">_</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="eq_sfkernel" class="id">
  <a name="eq_sfkernel" class="">eq_sfkernel</a>
</span> <span id="d:123" class="id">
  <a name="d:123" class="">d</a>
</span> <span id="d':124" class="id">
  <a name="d':124" class="">d'</a>
</span> (<span id="T:125" class="id">
  <a name="T:125" class="">T</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:123">d</a></span>) (<span id="T':126" class="id">
  <a name="T':126" class="">T'</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':124">d'</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="R:127" class="id">
  <a name="R:127" class="">R</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) (<span id="k1:128" class="id">
  <a name="k1:128" class="">k1</a>
</span> <span id="k2:129" class="id">
  <a name="k2:129" class="">k2</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#R:127">R</a></span>.<span class="id">-sfker</span> <span class="id"><a href="mathcomp.analysis.kernel.html#T:125">T</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#:::x_'.-sfker'_x_'~>'_x">~&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#T':126">T'</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="x:130" class="id">
  <a name="x:130" class="">x</a>
</span> <span id="U:131" class="id">
  <a name="U:131" class="">U,</a>
</span> <span class="id"><a href="mathcomp.analysis.kernel.html#k1:128">k1</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:130">x</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:131">U</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#k2:129">k2</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:130">x</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:131">U</a></span>) <span class="id">-&gt;</span> <span class="id"><a href="mathcomp.analysis.kernel.html#k1:128">k1</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#k2:129">k2</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof8')">Proof.</span></div>
<div class="proofscript" id="proof8">
<span class="id">move:</span> <span class="id">k1</span> <span class="id">k2</span> <span class="id">=&gt;</span> <span class="id">[m1</span> <span class="id">[[?]</span> <span class="id">[?]]]</span> <span class="id">[m2</span> <span class="id">[[?]</span> <span class="id">[?]]]</span> <span class="id">/=</span> <span class="id">k12</span>.<br/>
<span class="id">have</span> <span class="id">?</span> <span class="id">:</span> <span class="id">m1</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id">m2</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply/funext</span> <span class="id">=&gt;</span> <span class="id">t;</span> <span class="id">apply/eq_measure;</span> <span class="id">apply/funext</span> <span class="id">=&gt;</span> <span class="id">U;</span> <span class="id">rewrite</span> <span class="id">k12</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">subst</span> <span class="id">m1;</span> <span class="id">f_equal;</span> <span class="id">f_equal;</span> <span class="id">f_equal;</span> <span class="id">apply/Prop_irrelevance</span>.<br/>
Qed.</div>
<br/>
<span class="id">HB.mixin</span> <span class="vernacular">Record</span> <span class="id">SFiniteKernel_isFinite</span> <span id="d:132" class="id">
  <a name="d:132" class="">d</a>
</span> <span id="d':133" class="id">
  <a name="d':133" class="">d'</a>
</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="X:134" class="id">
  <a name="X:134" class="">X</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:132">d</a></span>) (<span id="Y:135" class="id">
  <a name="Y:135" class="">Y</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':133">d'</a></span>) (<span id="R:136" class="id">
  <a name="R:136" class="">R</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="k:137" class="id">
  <a name="k:137" class="">k</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#X:134">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#::ring_scope:'{'_'measure'_'set'_x_'->'_'\bar'_x_'}'">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.kernel.html#Y:135">Y</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#::ring_scope:'{'_'measure'_'set'_x_'->'_'\bar'_x_'}'">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.kernel.html#R:136">R}</a></span>) <span class="id">:=</span> <span class="id">{</span><br/>
&nbsp;&nbsp;<span id="measure_uub:138" class="id">
  <a name="measure_uub:138" class="">measure_uub</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measure_fam_uub">measure_fam_uub</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#k:137">k</a></span> <span class="id">}</span>.<br/>
<br/>
<span class="id">#[short</span>(<span class="id">type=finite_kernel</span>)<span class="id">]</span><br/>
<span class="id">HB.structure</span> <span class="vernacular">Definition</span> <span class="id">FiniteKernel</span> <span id="d:145" class="id">
  <a name="d:145" class="">d</a>
</span> <span id="d':146" class="id">
  <a name="d':146" class="">d'</a>
</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="X:147" class="id">
  <a name="X:147" class="">X</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:145">d</a></span>) (<span id="Y:148" class="id">
  <a name="Y:148" class="">Y</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':146">d'</a></span>) (<span id="R:149" class="id">
  <a name="R:149" class="">R</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="NOTFOUND the module url for HB.structures#::HB_scope:'{'_x_'of'_x_'&'_'..'_'&'_x_'}'">{</a></span> <span id="k:150" class="id">
  <a name="k:150" class="">k</a>
</span> <span class="id">of</span> <span class="id">@SFiniteKernel</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#k:150">k</a></span> <span class="id"><a href="NOTFOUND the module url for HB.structures#::HB_scope:'{'_x_'of'_x_'&'_'..'_'&'_x_'}'">&amp;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.kernel.html#SFiniteKernel_isFinite">SFiniteKernel_isFinite</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#X:147">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Y:148">Y</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#R:149">R</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#k:150">k</a></span> <span class="id"><a href="NOTFOUND the module url for HB.structures#::HB_scope:'{'_x_'of'_x_'&'_'..'_'&'_x_'}'">}</a></span>.<br/>
<span class="vernacular">Notation</span> <span id=":::x_'.-fker'_x_'~>'_x" class="id">
  <a name=":::x_'.-fker'_x_'~>'_x" class="">"R&nbsp;.-fker&nbsp;X&nbsp;~&gt;&nbsp;Y"</a>
</span> <span class="id">:=</span> (<span class="id"><a href="mathcomp.analysis.kernel.html#finite_kernel">finite_kernel</a></span> <span class="id">X%type</span> <span class="id">Y</span> <span class="id">R</span>).<br/>
<span class="vernacular">Arguments</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measure_uub">measure_uub</a></span> <span class="id">{_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_}</span> <span class="id">_</span>.<br/>
<br/>
<span class="id">HB.factory</span> <span class="vernacular">Record</span> <span class="id">Kernel_isFinite</span> <span id="d:153" class="id">
  <a name="d:153" class="">d</a>
</span> <span id="d':154" class="id">
  <a name="d':154" class="">d'</a>
</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="X:155" class="id">
  <a name="X:155" class="">X</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:153">d</a></span>) (<span id="Y:156" class="id">
  <a name="Y:156" class="">Y</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':154">d'</a></span>) (<span id="R:157" class="id">
  <a name="R:157" class="">R</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="k:158" class="id">
  <a name="k:158" class="">k</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#X:155">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#::ring_scope:'{'_'measure'_'set'_x_'->'_'\bar'_x_'}'">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.kernel.html#Y:156">Y</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#::ring_scope:'{'_'measure'_'set'_x_'->'_'\bar'_x_'}'">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.kernel.html#R:157">R}</a></span>) <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.kernel.html#isKernel">isKernel</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#k:158">k</a></span> <span class="id">:=</span> <span class="id">{</span><br/>
&nbsp;&nbsp;<span id="measure_uub:159" class="id">
  <a name="measure_uub:159" class="">measure_uub</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measure_fam_uub">measure_fam_uub</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#k:158">k</a></span> <span class="id">}</span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="kzero" class="id">
  <a name="kzero" class="">kzero</a>
</span>.<br/>
<span class="vernacular">Context</span> <span id="d:166" class="id">
  <a name="d:166" class="">d</a>
</span> <span id="d':167" class="id">
  <a name="d':167" class="">d'</a>
</span> (<span id="X:168" class="id">
  <a name="X:168" class="">X</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:166">d</a></span>) (<span id="Y:169" class="id">
  <a name="Y:169" class="">Y</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':167">d'</a></span>) (<span id="R:170" class="id">
  <a name="R:170" class="">R</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="kzero" class="id">
  <a name="kzero" class="">kzero</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kzero.X">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#::ring_scope:'{'_'measure'_'set'_x_'->'_'\bar'_x_'}'">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kzero.Y">Y</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#::ring_scope:'{'_'measure'_'set'_x_'->'_'\bar'_x_'}'">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kzero.R">R}</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">fun</span> <span class="id">_</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kzero.X">X</a></span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::form_scope:'['_'the'_x_'of'_x_']'">[the</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#Measure.Exports.measure">measure</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.measure.html#mzero">mzero]</a></span>.<br/>
<br/>
<span class="vernacular">Let</span> <span id="kzero.measurable_fun_kzero" class="id">
  <a name="kzero.measurable_fun_kzero" class="">measurable_fun_kzero</a>
</span> <span id="U:171" class="id">
  <a name="U:171" class="">U</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:171">U</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_':'_x_']'">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kzero.X">X]</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#kzero">kzero</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:x_'^~'_x">^~</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:171">U</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof9')">Proof.</span></div>
<div class="proofscript" id="proof9">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">?/=;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_cst">measurable_cst</a></span>. Qed.</div>
<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id">@isKernel</span>.<span class="id">Build</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kzero.X">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kzero.Y">Y</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kzero.R">R</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kzero">kzero</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kzero.measurable_fun_kzero">measurable_fun_kzero</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="kzero_uub" class="id">
  <a name="kzero_uub" class="">kzero_uub</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measure_fam_uub">measure_fam_uub</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kzero">kzero</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof10')">Proof.</span></div>
<div class="proofscript" id="proof10">
 <span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> <span class="id">1%R</span> <span class="id">=&gt;</span> <span class="id">/=</span> <span class="id">t;</span> <span class="id">rewrite</span> <span class="id">/mzero/=</span>. Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kzero">kzero</a></span>.<br/>
<br/>
<span class="id">HB.builders</span> <span class="vernacular">Context</span> <span id="d:172" class="id">
  <a name="d:172" class="">d</a>
</span> <span id="d':173" class="id">
  <a name="d':173" class="">d'</a>
</span> (<span id="X:174" class="id">
  <a name="X:174" class="">X</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:172">d</a></span>) (<span id="Y:175" class="id">
  <a name="Y:175" class="">Y</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':173">d'</a></span>)<br/>
&nbsp;&nbsp;(<span id="R:176" class="id">
  <a name="R:176" class="">R</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) <span id="k:177" class="id">
  <a name="k:177" class="">k</a>
</span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.kernel.html#Kernel_isFinite">Kernel_isFinite</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:172">d</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':173">d'</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#X:174">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Y:175">Y</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#R:176">R</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#k:177">k</a></span>.<br/>
<br/>
<span class="vernacular">Let</span> <span id="Builders_23.Builders_23.sfinite_finite" class="id">
  <a name="Builders_23.Builders_23.sfinite_finite" class="">sfinite_finite</a>
</span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists2</span> <span id="k_:186" class="id"><span id="k_:184" class="id">
  <a name="k_:186" class="">k_</a>
</span></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:'exists2'_x_':'_x_','_x_'&'_x">:</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#Builders_23.Builders_23.R">R</a></span>.<span class="id">-ker</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#:::x_'.-ker'_x_'~>'_x">~&gt;</a></span> <span class="id">_</span>)<span class="id">^nat,</span> <span class="gallina-kwd">forall</span> <span id="n:185" class="id">
  <a name="n:185" class="">n,</a>
</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measure_fam_uub">measure_fam_uub</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#k_:184">k_</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#n:185">n</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:'exists2'_x_':'_x_','_x_'&'_x">&amp;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:187" class="id">
  <a name="x:187" class="">x</a>
</span> <span id="U:188" class="id">
  <a name="U:188" class="">U,</a>
</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:188">U</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_23.Builders_23.k">k</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:187">x</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:188">U</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#mseries">mseries</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#k_:186">k_</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:x_'^~'_x">^~</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:187">x</a></span>) <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:188">U</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof11')">Proof.</span></div>
<div class="proofscript" id="proof11">
<span class="gallina-kwd">exists</span> (<span class="gallina-kwd">fun</span> <span id="n:191" class="id"><span id="n:189" class="id">
  <a name="n:191" class="">n</a>
</span></span> <span class="id">=&gt;</span> <span class="gallina-kwd">if</span> <span class="id"><a href="mathcomp.analysis.kernel.html#n:189">n</a></span> <span class="id">is</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#O">O</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::form_scope:'['_'the'_x_'of'_x_']'">[the</a></span> <span class="id">_</span>.<span class="id">-ker</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#:::x_'.-ker'_x_'~>'_x">~&gt;</a></span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_23.Builders_23.k">k]</a></span> <span class="gallina-kwd">else</span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::form_scope:'['_'the'_x_'of'_x_']'">[the</a></span> <span class="id">_</span>.<span class="id">-ker</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#:::x_'.-ker'_x_'~>'_x">~&gt;</a></span> <span class="id">_</span> <span class="id">of</span> <span class="id">@kzero</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_23.Builders_23.X">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_23.Builders_23.Y">Y</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_23.Builders_23.R">R]</a></span>).<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">case</span> <span class="id">=&gt;</span> <span class="id">[|_];</span> <span class="id">[exact:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_23.measure_uub">measure_uub|exact:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kzero_uub">kzero_uub]</a></span>.<br/>
<span class="id">move=&gt;</span> <span class="id">t</span> <span class="id">U</span> <span class="id">mU/=;</span> <span class="id">rewrite</span> <span class="id">/mseries</span>.<br/>
<span class="id">rewrite</span> (<span class="id"><a href="mathcomp.analysis.sequences.html#nneseries_split">nneseries_split</a></span> <span class="id">1%N</span>)<span class="id">//</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.bigop.html#big_ord_recl">big_ord_recl/=</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.bigop.html#big_ord0">big_ord0</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#adde0">adde0</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.sequences.html#ereal_series">ereal_series</a></span> (<span class="id">@eq_eseriesr</span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:'fun'_'=>'_x">fun=&gt;</a></span> <span class="id">0%E</span>))<span class="id">;</span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">case</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.sequences.html#eseries0">eseries0//</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#adde0">adde0</a></span>.<br/>
Qed.</div>
<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id">@Kernel_isSFinite_subdef</span>.<span class="id">Build</span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_23.Builders_23.d">d</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_23.Builders_23.d'">d'</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_23.Builders_23.X">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_23.Builders_23.Y">Y</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_23.Builders_23.R">R</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_23.Builders_23.k">k</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_23.Builders_23.sfinite_finite">sfinite_finite</a></span>.<br/>
<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id">@SFiniteKernel_isFinite</span>.<span class="id">Build</span>  <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_23.Builders_23.d">d</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_23.Builders_23.d'">d'</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_23.Builders_23.X">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_23.Builders_23.Y">Y</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_23.Builders_23.R">R</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_23.Builders_23.k">k</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_23.measure_uub">measure_uub</a></span>.<br/>
<br/>
<span class="id">HB.end</span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="sfinite" class="id">
  <a name="sfinite" class="">sfinite</a>
</span>.<br/>
<span class="vernacular">Context</span> <span id="d:193" class="id">
  <a name="d:193" class="">d</a>
</span> <span id="d':194" class="id">
  <a name="d':194" class="">d'</a>
</span> (<span id="X:195" class="id">
  <a name="X:195" class="">X</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:193">d</a></span>) (<span id="Y:196" class="id">
  <a name="Y:196" class="">Y</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':194">d'</a></span>).<br/>
<span class="vernacular">Variables</span> (<span id="sfinite.R" class="id">
  <a name="sfinite.R" class="">R</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) (<span id="sfinite.k" class="id">
  <a name="sfinite.k" class="">k</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#R:197">R</a></span>.<span class="id">-sfker</span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfinite.X">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#:::x_'.-sfker'_x_'~>'_x">~&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfinite.Y">Y</a></span>).<br/>
<br/>
<span class="vernacular">Let</span> <span id="sfinite.s" class="id">
  <a name="sfinite.s" class="">s</a>
</span> <span class="id">:</span> (<span class="id"><a href="mathcomp.analysis.kernel.html#sfinite.X">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#::ring_scope:'{'_'measure'_'set'_x_'->'_'\bar'_x_'}'">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfinite.Y">Y</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#::ring_scope:'{'_'measure'_'set'_x_'->'_'\bar'_x_'}'">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfinite.R">R}</a></span>)<span class="id">^nat</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id">let:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#exist2">exist2</a></span> <span class="id">x</span> <span class="id">_</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.boolp.html#cid2">cid2</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#sfinite_kernel_subdef">sfinite_kernel_subdef</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfinite.k">k</a></span>) <span class="gallina-kwd">in</span> <span class="id">x</span>.<br/>
<br/>
<span class="vernacular">Let</span> <span id="sfinite.ms" class="id">
  <a name="sfinite.ms" class="">ms</a>
</span> <span id="n:199" class="id">
  <a name="n:199" class="">n</a>
</span> <span class="id">:</span> <span class="id">@isKernel</span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfinite.d">d</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfinite.d'">d'</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfinite.X">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfinite.Y">Y</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfinite.R">R</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#sfinite.s">s</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#n:199">n</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof12')">Proof.</span></div>
<div class="proofscript" id="proof12">
<span class="id">split;</span> <span class="id">rewrite</span> <span class="id">/s;</span> <span class="id">case:</span> <span class="id"><a href="mathcomp.classical.boolp.html#cid2">cid2</a></span> <span class="id">=&gt;</span> <span class="id">/=</span> <span class="id">s'</span> <span class="id">s'_uub</span> <span class="id">kE</span>.<br/>
<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_kernel">measurable_kernel</a></span>.<br/>
Qed.</div>
<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span id="n:200" class="id">
  <a name="n:200" class="">n</a>
</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfinite.ms">ms</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#n:200">n</a></span>.<br/>
<br/>
<span class="vernacular">Let</span> <span id="sfinite.s_uub" class="id">
  <a name="sfinite.s_uub" class="">s_uub</a>
</span> <span id="n:201" class="id">
  <a name="n:201" class="">n</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measure_fam_uub">measure_fam_uub</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#sfinite.s">s</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#n:201">n</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof13')">Proof.</span></div>
<div class="proofscript" id="proof13">
 <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/s;</span> <span class="id">case:</span> <span class="id"><a href="mathcomp.classical.boolp.html#cid2">cid2</a></span>. Qed.</div>
<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span id="n:202" class="id">
  <a name="n:202" class="">n</a>
</span> <span class="id">:=</span> <span class="id">@Kernel_isFinite</span>.<span class="id">Build</span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfinite.d">d</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfinite.d'">d'</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfinite.X">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfinite.Y">Y</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfinite.R">R</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#sfinite.s">s</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#n:202">n</a></span>) (<span class="id"><a href="mathcomp.analysis.kernel.html#sfinite.s_uub">s_uub</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#n:202">n</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="sfinite_kernel" class="id">
  <a name="sfinite_kernel" class="">sfinite_kernel</a>
</span> <span class="id">:</span> <span class="gallina-kwd">exists</span> <span id="s:203" class="id">
  <a name="s:203" class="">s</a>
</span> <span class="id">:</span> (<span class="id"><a href="mathcomp.analysis.kernel.html#sfinite.R">R</a></span>.<span class="id">-fker</span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfinite.X">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#:::x_'.-fker'_x_'~>'_x">~&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfinite.Y">Y</a></span>)<span class="id">^nat,</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:204" class="id">
  <a name="x:204" class="">x</a>
</span> <span id="U:205" class="id">
  <a name="U:205" class="">U,</a>
</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:205">U</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfinite.k">k</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:204">x</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:205">U</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kseries">kseries</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#s:203">s</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:204">x</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:205">U</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof14')">Proof.</span></div>
<div class="proofscript" id="proof14">
<span class="gallina-kwd">exists</span> (<span class="gallina-kwd">fun</span> <span id="n:207" class="id"><span id="n:206" class="id">
  <a name="n:207" class="">n</a>
</span></span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::form_scope:'['_'the'_x_'of'_x_']'">[the</a></span> <span class="id">_</span>.<span class="id">-fker</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#:::x_'.-fker'_x_'~>'_x">~&gt;</a></span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfinite.s">s</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#n:206">n]</a></span>) <span class="id">=&gt;</span> <span class="id">x</span> <span class="id">U</span> <span class="id">mU</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/s</span> <span class="id">/=</span> <span class="id">/s;</span> <span class="gallina-kwd">by</span> <span class="id">case:</span> <span class="id"><a href="mathcomp.classical.boolp.html#cid2">cid2</a></span> <span class="id">=&gt;</span> <span class="id">?</span> <span class="id">?</span> <span class="id">-&gt;</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfinite">sfinite</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="sfinite_kernel_measure" class="id">
  <a name="sfinite_kernel_measure" class="">sfinite_kernel_measure</a>
</span> <span id="d:208" class="id">
  <a name="d:208" class="">d</a>
</span> <span id="d':209" class="id">
  <a name="d':209" class="">d'</a>
</span> (<span id="Z:210" class="id">
  <a name="Z:210" class="">Z</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:208">d</a></span>) (<span id="X:211" class="id">
  <a name="X:211" class="">X</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':209">d'</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="R:212" class="id">
  <a name="R:212" class="">R</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) (<span id="k:213" class="id">
  <a name="k:213" class="">k</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#R:212">R</a></span>.<span class="id">-sfker</span> <span class="id"><a href="mathcomp.analysis.kernel.html#Z:210">Z</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#:::x_'.-sfker'_x_'~>'_x">~&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#X:211">X</a></span>) (<span id="z:214" class="id">
  <a name="z:214" class="">z</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#Z:210">Z</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#sfinite_measure">sfinite_measure</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#k:213">k</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#z:214">z</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof15')">Proof.</span></div>
<div class="proofscript" id="proof15">
<span class="id">have</span> <span class="id">[s</span> <span class="id">ks]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfinite_kernel">sfinite_kernel</a></span> <span class="id">k</span>.<br/>
<span class="gallina-kwd">exists</span> (<span class="id">s</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:x_'^~'_x">^~</a></span> <span class="id">z</span>).<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">n;</span> <span class="id">have</span> <span class="id">[r</span> <span class="id">snr]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measure_uub">measure_uub</a></span> (<span class="id">s</span> <span class="id">n</span>).<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#lty_fin_num_fun">lty_fin_num_fun;</a></span> <span class="id">rewrite</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.lt_le_trans">lt_le_trans</a></span> (<span class="id">snr</span> <span class="id">_</span>))<span class="id">//</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leey">leey</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">U</span> <span class="id">mU;</span> <span class="id">rewrite</span> <span class="id">ks</span>.<br/>
Qed.</div>
<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span id="d:215" class="id">
  <a name="d:215" class="">d</a>
</span> <span id="d':216" class="id">
  <a name="d':216" class="">d'</a>
</span> (<span id="X:217" class="id">
  <a name="X:217" class="">X</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:215">d</a></span>) (<span id="Y:218" class="id">
  <a name="Y:218" class="">Y</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':216">d'</a></span>) (<span id="R:219" class="id">
  <a name="R:219" class="">R</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id">@Kernel_isFinite</span>.<span class="id">Build</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#R:219">R</a></span> (<span class="id">@kzero</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#X:217">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Y:218">Y</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#R:219">R</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">@kzero_uub</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#X:217">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Y:218">Y</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#R:219">R</a></span>).<br/>
<br/>
<span class="id">HB.factory</span> <span class="vernacular">Record</span> <span class="id">Kernel_isSFinite</span> <span id="d:220" class="id">
  <a name="d:220" class="">d</a>
</span> <span id="d':221" class="id">
  <a name="d':221" class="">d'</a>
</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="X:222" class="id">
  <a name="X:222" class="">X</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:220">d</a></span>) (<span id="Y:223" class="id">
  <a name="Y:223" class="">Y</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':221">d'</a></span>) (<span id="R:224" class="id">
  <a name="R:224" class="">R</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="k:225" class="id">
  <a name="k:225" class="">k</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#X:222">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#::ring_scope:'{'_'measure'_'set'_x_'->'_'\bar'_x_'}'">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.kernel.html#Y:223">Y</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#::ring_scope:'{'_'measure'_'set'_x_'->'_'\bar'_x_'}'">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.kernel.html#R:224">R}</a></span>) <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.kernel.html#isKernel">isKernel</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#k:225">k</a></span> <span class="id">:=</span> <span class="id">{</span><br/>
&nbsp;&nbsp;<span id="sfinite:229" class="id">
  <a name="sfinite:229" class="">sfinite</a>
</span> <span class="id">:</span> <span class="gallina-kwd">exists</span> <span id="s:226" class="id">
  <a name="s:226" class="">s</a>
</span> <span class="id">:</span> (<span class="id"><a href="mathcomp.analysis.kernel.html#R:224">R</a></span>.<span class="id">-fker</span> <span class="id"><a href="mathcomp.analysis.kernel.html#X:222">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#:::x_'.-fker'_x_'~>'_x">~&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Y:223">Y</a></span>)<span class="id">^nat,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:227" class="id">
  <a name="x:227" class="">x</a>
</span> <span id="U:228" class="id">
  <a name="U:228" class="">U,</a>
</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:228">U</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#k:225">k</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:227">x</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:228">U</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kseries">kseries</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#s:226">s</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:227">x</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:228">U</a></span> <span class="id">}</span>.<br/>
<br/>
<span class="id">HB.builders</span> <span class="vernacular">Context</span> <span id="d:236" class="id">
  <a name="d:236" class="">d</a>
</span> <span id="d':237" class="id">
  <a name="d':237" class="">d'</a>
</span> (<span id="X:238" class="id">
  <a name="X:238" class="">X</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:236">d</a></span>) (<span id="Y:239" class="id">
  <a name="Y:239" class="">Y</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':237">d'</a></span>)<br/>
&nbsp;&nbsp;(<span id="R:240" class="id">
  <a name="R:240" class="">R</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) <span id="k:241" class="id">
  <a name="k:241" class="">k</a>
</span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.kernel.html#Kernel_isSFinite">Kernel_isSFinite</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:236">d</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':237">d'</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#X:238">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Y:239">Y</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#R:240">R</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#k:241">k</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="Builders_46.sfinite_subdef" class="id">
  <a name="Builders_46.sfinite_subdef" class="">sfinite_subdef</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#Kernel_isSFinite_subdef">Kernel_isSFinite_subdef</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_46.Builders_46.d">d</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_46.Builders_46.d'">d'</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_46.Builders_46.X">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_46.Builders_46.Y">Y</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_46.Builders_46.R">R</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_46.Builders_46.k">k</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof16')">Proof.</span></div>
<div class="proofscript" id="proof16">
<span class="id">split;</span> <span class="id">have</span> <span class="id">[s</span> <span class="id">sE]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_46.sfinite">sfinite;</a></span> <span class="gallina-kwd">exists</span> <span class="id">s</span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">n;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measure_uub">measure_uub</a></span>.<br/>
Qed.</div>
<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span>  <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_46.sfinite_subdef">sfinite_subdef</a></span>.<br/>
<br/>
<span class="id">HB.end</span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="sfkseries" class="id">
  <a name="sfkseries" class="">sfkseries</a>
</span>.<br/>
<span class="vernacular">Context</span> <span id="d:248" class="id">
  <a name="d:248" class="">d</a>
</span> <span id="d':249" class="id">
  <a name="d':249" class="">d'</a>
</span> (<span id="X:250" class="id">
  <a name="X:250" class="">X</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:248">d</a></span>) (<span id="Y:251" class="id">
  <a name="Y:251" class="">Y</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':249">d'</a></span>) (<span id="R:252" class="id">
  <a name="R:252" class="">R</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="vernacular">Variables</span> <span id="sfkseries.k" class="id">
  <a name="sfkseries.k" class="">k</a>
</span> <span class="id">:</span> (<span class="id"><a href="mathcomp.analysis.kernel.html#sfkseries.R">R</a></span>.<span class="id">-sfker</span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfkseries.X">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#:::x_'.-sfker'_x_'~>'_x">~&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfkseries.Y">Y</a></span>)<span class="id">^nat</span>.<br/>
<br/>
<span class="vernacular">Let</span> <span id="sfkseries.sfinite_kseries" class="id">
  <a name="sfkseries.sfinite_kseries" class="">sfinite_kseries</a>
</span> <span class="id">:</span> <span class="gallina-kwd">exists2</span> <span id="k_:256" class="id"><span id="k_:254" class="id">
  <a name="k_:256" class="">k_</a>
</span></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:'exists2'_x_':'_x_','_x_'&'_x">:</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#sfkseries.R">R</a></span>.<span class="id">-ker</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#:::x_'.-ker'_x_'~>'_x">~&gt;</a></span> <span class="id">_</span>)<span class="id">^nat,</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="n:255" class="id">
  <a name="n:255" class="">n,</a>
</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measure_fam_uub">measure_fam_uub</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#k_:254">k_</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#n:255">n</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:'exists2'_x_':'_x_','_x_'&'_x">&amp;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:257" class="id">
  <a name="x:257" class="">x</a>
</span> <span id="U:258" class="id">
  <a name="U:258" class="">U,</a>
</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:258">U</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kseries">kseries</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfkseries.k">k</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:257">x</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:258">U</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#mseries">mseries</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#k_:256">k_</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:x_'^~'_x">^~</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:257">x</a></span>) <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:258">U</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof17')">Proof.</span></div>
<div class="proofscript" id="proof17">
<span class="id">have</span> <span class="id">/ppcard_eqP[f]</span> <span class="id">:</span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_':'_x_']'">[set:</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat]</a></span> <span class="id"><a href="mathcomp.classical.cardinality.html#::card_scope:x_'#='_x">#=</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_':'_x_']'">[set:</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#::type_scope:x_'*'_x">*</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat]</a></span>)<span class="id">%card</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.cardinality.html#card_eq_sym">card_eq_sym;</a></span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.classical.cardinality.html#card_nat2">card_nat2</a></span>.<br/>
<span class="id">pose</span> <span class="id">p</span> <span id="n:260" class="id"><span id="n:259" class="id">
  <a name="n:260" class="">n</a>
</span></span> <span class="id">:</span> (<span class="id"><a href="mathcomp.analysis.kernel.html#sfkseries.R">R</a></span>.<span class="id">-fker</span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfkseries.X">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#:::x_'.-fker'_x_'~>'_x">~&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfkseries.Y">Y</a></span>)<span class="id">^nat</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#sval">sval</a></span> (<span class="id"><a href="mathcomp.classical.boolp.html#cid">cid</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#sfinite_kernel">sfinite_kernel</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#sfkseries.k">k</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#n:260">n</a></span>))).<br/>
<span class="gallina-kwd">exists</span> (<span class="gallina-kwd">fun</span> <span id="i:262" class="id"><span id="i:261" class="id">
  <a name="i:262" class="">i</a>
</span></span> <span class="id">=&gt;</span> <span class="id">p</span> (<span class="id">f</span> <span class="id"><a href="mathcomp.analysis.kernel.html#i:261">i</a></span>).<span class="id">1</span> (<span class="id">f</span> <span class="id"><a href="mathcomp.analysis.kernel.html#i:261">i</a></span>).<span class="id">2</span>).<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">n;</span> <span class="id">have</span> <span class="id">[r</span> <span class="id">Hr]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measure_uub">measure_uub</a></span> (<span class="id">p</span> (<span class="id">f</span> <span class="id">n</span>).<span class="id">1</span> (<span class="id">f</span> <span class="id">n</span>).<span class="id">2</span>).<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> <span class="id">r</span> <span class="id">=&gt;</span> <span class="id">x</span> <span class="id">/=;</span> <span class="id">exact:</span> <span class="id">Hr</span>.<br/>
<span class="id">move=&gt;</span> <span class="id">x</span> <span class="id">U</span> <span class="id">mU;</span> <span class="id">rewrite</span> <span class="id">/kseries</span> <span class="id">/mseries/=</span> <span class="id">/mseries/=</span>.<br/>
<span class="id">have</span> <span class="id">kE</span> <span class="id">i</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfkseries.k">k</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#i:263">i</a></span> <span class="id">x</span> <span class="id">U</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.analysis.sequences.html#::ereal_scope:'\sum_'_'('_x_'<oo'_')'_x">\sum_</a></span>(<span id="j:269" class="id"><span id="j:268" class="id"><span id="j:267" class="id"><span id="j:266" class="id"><span id="j:265" class="id"><span id="j:264" class="id">
  <a name="j:269" class="">j</a>
</span></span></span></span></span></span> <span class="id"><a href="mathcomp.analysis.sequences.html#::ereal_scope:'\sum_'_'('_x_'<oo'_')'_x">&lt;oo</a></span>) <span class="id">p</span> <span class="id"><a href="mathcomp.analysis.kernel.html#i:263">i</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#j:264">j</a></span> <span class="id">x</span> <span class="id">U</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/p</span> <span class="id">/sval/=;</span> <span class="id">case:</span> <span class="id"><a href="mathcomp.classical.boolp.html#cid">cid</a></span> <span class="id">=&gt;</span> <span class="id">k_</span> <span class="id">-&gt;</span>.<br/>
<span class="id">transitivity</span> (<span class="id"><a href="mathcomp.analysis.esum.html#::ring_scope:'\esum_'_'('_x_'in'_x_')'_x">\esum_</a></span>(<span id="l:271" class="id"><span id="l:270" class="id">
  <a name="l:271" class="">l</a>
</span></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_':'_x_']'">[set:</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat]</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:x_'`*`'_x">`*`</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_':'_x_']'">[set:</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat]</a></span>) <span class="id">p</span> <span class="id"><a href="mathcomp.analysis.kernel.html#l:270">l</a></span>.<span class="id">1</span> <span class="id"><a href="mathcomp.analysis.kernel.html#l:270">l</a></span>.<span class="id">2</span> <span class="id">x</span> <span class="id">U</span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:x_'`*`'_x">`*`</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:x_'`*``'_x">`*``</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:'fun'_'=>'_x">fun=&gt;</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span>))<span class="id">;</span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">apply/seteqP;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-</span>(<span class="id">@esum_esum</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (<span class="gallina-kwd">fun</span> <span id="i:276" class="id"><span id="i:274" class="id"><span id="i:272" class="id">
  <a name="i:276" class="">i</a>
</span></span></span> <span id="j:277" class="id"><span id="j:275" class="id"><span id="j:273" class="id">
  <a name="j:277" class="">j</a>
</span></span></span> <span class="id">=&gt;</span> <span class="id">p</span> <span class="id"><a href="mathcomp.analysis.kernel.html#i:272">i</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#j:273">j</a></span> <span class="id">x</span> <span class="id">U</span>))<span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.esum.html#nneseries_esum">nneseries_esum//</a></span> <span class="id">-fun_true;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.esum.html#eq_esum">eq_esum</a></span> <span class="id">=&gt;</span> <span class="id">i</span> <span class="id">_</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">kE//</span> <span class="id"><a href="mathcomp.analysis.esum.html#nneseries_esum">nneseries_esum</a></span>.<br/>
<span class="id">rewrite</span> (<span class="id"><a href="mathcomp.analysis.esum.html#reindex_esum">reindex_esum</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_':'_x_']'">[set:</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat]</a></span> <span class="id">_</span> <span class="id">f</span>)<span class="id">//;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">:=</span> <span class="id">@bijTT</span> <span class="id">_</span> <span class="id">_</span> <span class="id">f</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-setTT_bijective/=</span> <span class="id">-[in</span> <span class="id">X</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.classical.functions.html#set_bij">set_bij</a></span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfkseries.X">X</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id">_]</span>(<span class="id">@setMTT</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span>).<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.esum.html#nneseries_esum">nneseries_esum//</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#fun_true">fun_true;</a></span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.esum.html#eq_esum">eq_esum</a></span>.<br/>
Qed.</div>
<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.kernel.html#Build">Kernel_isSFinite_subdef.Build</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfkseries.R">R</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#kseries">kseries</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfkseries.k">k</a></span>) <span class="id"><a href="mathcomp.analysis.kernel.html#sfkseries.sfinite_kseries">sfinite_kseries</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfkseries">sfkseries</a></span>.<br/>
<br/>
<span class="id">HB.mixin</span> <span class="vernacular">Record</span> <span class="id">FiniteKernel_isSubProbability</span> <span id="d:279" class="id">
  <a name="d:279" class="">d</a>
</span> <span id="d':280" class="id">
  <a name="d':280" class="">d'</a>
</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="X:281" class="id">
  <a name="X:281" class="">X</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:279">d</a></span>) (<span id="Y:282" class="id">
  <a name="Y:282" class="">Y</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':280">d'</a></span>) (<span id="R:283" class="id">
  <a name="R:283" class="">R</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="k:284" class="id">
  <a name="k:284" class="">k</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#X:281">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#::ring_scope:'{'_'measure'_'set'_x_'->'_'\bar'_x_'}'">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.kernel.html#Y:282">Y</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#::ring_scope:'{'_'measure'_'set'_x_'->'_'\bar'_x_'}'">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.kernel.html#R:283">R}</a></span>) <span class="id">:=</span> <span class="id">{</span><br/>
&nbsp;&nbsp;<span id="sprob_kernel:286" class="id">
  <a name="sprob_kernel:286" class="">sprob_kernel</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup">ereal_sup</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_x_'|'_x_'in'_x_']'">[set</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#k:284">k</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:285">x</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_':'_x_']'">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Y:282">Y]</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_x_'|'_x_'in'_x_']'">|</a></span> <span id="x:285" class="id">
  <a name="x:285" class="">x</a>
</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_':'_x_']'">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#X:281">X]]</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'<='_x">&lt;=</a></span> <span class="id">1</span> <span class="id">}</span>.<br/>
<br/>
<span class="id">#[short</span>(<span class="id">type=sprobability_kernel</span>)<span class="id">]</span><br/>
<span class="id">HB.structure</span> <span class="vernacular">Definition</span> <span class="id">SubProbabilityKernel</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span id="d:293" class="id">
  <a name="d:293" class="">d</a>
</span> <span id="d':294" class="id">
  <a name="d':294" class="">d'</a>
</span> (<span id="X:295" class="id">
  <a name="X:295" class="">X</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:293">d</a></span>) (<span id="Y:296" class="id">
  <a name="Y:296" class="">Y</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':294">d'</a></span>) (<span id="R:297" class="id">
  <a name="R:297" class="">R</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="NOTFOUND the module url for HB.structures#::HB_scope:'{'_x_'of'_x_'&'_'..'_'&'_x_'}'">{</a></span> <span id="k:298" class="id">
  <a name="k:298" class="">k</a>
</span> <span class="id">of</span> <span class="id">@FiniteKernel</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#k:298">k</a></span> <span class="id"><a href="NOTFOUND the module url for HB.structures#::HB_scope:'{'_x_'of'_x_'&'_'..'_'&'_x_'}'">&amp;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.kernel.html#FiniteKernel_isSubProbability">FiniteKernel_isSubProbability</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#X:295">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Y:296">Y</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#R:297">R</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#k:298">k</a></span> <span class="id"><a href="NOTFOUND the module url for HB.structures#::HB_scope:'{'_x_'of'_x_'&'_'..'_'&'_x_'}'">}</a></span>.<br/>
<span class="vernacular">Notation</span> <span id=":::x_'.-spker'_x_'~>'_x" class="id">
  <a name=":::x_'.-spker'_x_'~>'_x" class="">"R&nbsp;.-spker&nbsp;X&nbsp;~&gt;&nbsp;Y"</a>
</span> <span class="id">:=</span> (<span class="id"><a href="mathcomp.analysis.kernel.html#sprobability_kernel">sprobability_kernel</a></span> <span class="id">X%type</span> <span class="id">Y</span> <span class="id">R</span>).<br/>
<br/>
<span class="id">HB.factory</span> <span class="vernacular">Record</span> <span class="id">Kernel_isSubProbability</span> <span id="d:301" class="id">
  <a name="d:301" class="">d</a>
</span> <span id="d':302" class="id">
  <a name="d':302" class="">d'</a>
</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="X:303" class="id">
  <a name="X:303" class="">X</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:301">d</a></span>) (<span id="Y:304" class="id">
  <a name="Y:304" class="">Y</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':302">d'</a></span>) (<span id="R:305" class="id">
  <a name="R:305" class="">R</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="k:306" class="id">
  <a name="k:306" class="">k</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#X:303">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#::ring_scope:'{'_'measure'_'set'_x_'->'_'\bar'_x_'}'">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.kernel.html#Y:304">Y</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#::ring_scope:'{'_'measure'_'set'_x_'->'_'\bar'_x_'}'">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.kernel.html#R:305">R}</a></span>) <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.kernel.html#isKernel">isKernel</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#X:303">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Y:304">Y</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#R:305">R</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#k:306">k</a></span> <span class="id">:=</span> <span class="id">{</span><br/>
&nbsp;&nbsp;<span id="sprob_kernel:308" class="id">
  <a name="sprob_kernel:308" class="">sprob_kernel</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup">ereal_sup</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_x_'|'_x_'in'_x_']'">[set</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#k:306">k</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:307">x</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_':'_x_']'">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Y:304">Y]</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_x_'|'_x_'in'_x_']'">|</a></span> <span id="x:307" class="id">
  <a name="x:307" class="">x</a>
</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_':'_x_']'">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#X:303">X]]</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'<='_x">&lt;=</a></span> <span class="id">1</span> <span class="id">}</span>.<br/>
<br/>
<span class="id">HB.builders</span> <span class="vernacular">Context</span> <span id="d:315" class="id">
  <a name="d:315" class="">d</a>
</span> <span id="d':316" class="id">
  <a name="d':316" class="">d'</a>
</span> (<span id="X:317" class="id">
  <a name="X:317" class="">X</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:315">d</a></span>) (<span id="Y:318" class="id">
  <a name="Y:318" class="">Y</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':316">d'</a></span>)<br/>
&nbsp;&nbsp;(<span id="R:319" class="id">
  <a name="R:319" class="">R</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) <span id="k:320" class="id">
  <a name="k:320" class="">k</a>
</span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.kernel.html#Kernel_isSubProbability">Kernel_isSubProbability</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:315">d</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':316">d'</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#X:317">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Y:318">Y</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#R:319">R</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#k:320">k</a></span>.<br/>
<br/>
<span class="vernacular">Let</span> <span id="Builders_60.Builders_60.finite" class="id">
  <a name="Builders_60.Builders_60.finite" class="">finite</a>
</span> <span class="id">:</span> <span class="id">@Kernel_isFinite</span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_60.Builders_60.d">d</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_60.Builders_60.d'">d'</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_60.Builders_60.X">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_60.Builders_60.Y">Y</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_60.Builders_60.R">R</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_60.Builders_60.k">k</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof18')">Proof.</span></div>
<div class="proofscript" id="proof18">
<span class="id">split;</span> <span class="gallina-kwd">exists</span> <span class="id">2%R</span> <span class="id">=&gt;</span> <span class="id">/=</span> <span class="id">?;</span> <span class="id">rewrite</span> (<span class="id">@le_lt_trans</span> <span class="id">_</span> <span class="id">_</span> <span class="id">1%:E</span>) <span class="id">?lte_fin</span> <span class="id">?ltr1n//</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans</a></span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_60.sprob_kernel">sprob_kernel</a></span>)<span class="id">//;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup_ub">ereal_sup_ub</a></span>.<br/>
Qed.</div>
<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_60.Builders_60.finite">finite</a></span>.<br/>
<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id">@FiniteKernel_isSubProbability</span>.<span class="id">Build</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_60.Builders_60.k">k</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_60.sprob_kernel">sprob_kernel</a></span>.<br/>
<br/>
<span class="id">HB.end</span>.<br/>
<br/>
<span class="id">HB.mixin</span> <span class="vernacular">Record</span> <span class="id">SubProbability_isProbability</span> <span id="d:327" class="id">
  <a name="d:327" class="">d</a>
</span> <span id="d':328" class="id">
  <a name="d':328" class="">d'</a>
</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="X:329" class="id">
  <a name="X:329" class="">X</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:327">d</a></span>) (<span id="Y:330" class="id">
  <a name="Y:330" class="">Y</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':328">d'</a></span>) (<span id="R:331" class="id">
  <a name="R:331" class="">R</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="k:332" class="id">
  <a name="k:332" class="">k</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#X:329">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#::ring_scope:'{'_'measure'_'set'_x_'->'_'\bar'_x_'}'">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.kernel.html#Y:330">Y</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#::ring_scope:'{'_'measure'_'set'_x_'->'_'\bar'_x_'}'">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.kernel.html#R:331">R}</a></span>) <span class="id">:=</span> <span class="id">{</span><br/>
&nbsp;&nbsp;<span id="prob_kernel:334" class="id">
  <a name="prob_kernel:334" class="">prob_kernel</a>
</span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="x:333" class="id">
  <a name="x:333" class="">x,</a>
</span> <span class="id"><a href="mathcomp.analysis.kernel.html#k:332">k</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:333">x</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_':'_x_']'">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Y:330">Y]</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id">1</span> <span class="id">}</span>.<br/>
<br/>
<span class="id">#[short</span>(<span class="id">type=probability_kernel</span>)<span class="id">]</span><br/>
<span class="id">HB.structure</span> <span class="vernacular">Definition</span> <span class="id">ProbabilityKernel</span> <span id="d:341" class="id">
  <a name="d:341" class="">d</a>
</span> <span id="d':342" class="id">
  <a name="d':342" class="">d'</a>
</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="X:343" class="id">
  <a name="X:343" class="">X</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:341">d</a></span>) (<span id="Y:344" class="id">
  <a name="Y:344" class="">Y</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':342">d'</a></span>) (<span id="R:345" class="id">
  <a name="R:345" class="">R</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="NOTFOUND the module url for HB.structures#::HB_scope:'{'_x_'of'_x_'&'_'..'_'&'_x_'}'">{</a></span> <span id="k:346" class="id">
  <a name="k:346" class="">k</a>
</span> <span class="id">of</span> <span class="id">@SubProbabilityKernel</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#k:346">k</a></span> <span class="id"><a href="NOTFOUND the module url for HB.structures#::HB_scope:'{'_x_'of'_x_'&'_'..'_'&'_x_'}'">&amp;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.kernel.html#SubProbability_isProbability">SubProbability_isProbability</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#X:343">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Y:344">Y</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#R:345">R</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#k:346">k</a></span> <span class="id"><a href="NOTFOUND the module url for HB.structures#::HB_scope:'{'_x_'of'_x_'&'_'..'_'&'_x_'}'">}</a></span>.<br/>
<span class="vernacular">Notation</span> <span id=":::x_'.-pker'_x_'~>'_x" class="id">
  <a name=":::x_'.-pker'_x_'~>'_x" class="">"R&nbsp;.-pker&nbsp;X&nbsp;~&gt;&nbsp;Y"</a>
</span> <span class="id">:=</span> (<span class="id"><a href="mathcomp.analysis.kernel.html#probability_kernel">probability_kernel</a></span> <span class="id">X%type</span> <span class="id">Y</span> <span class="id">R</span>).<br/>
<br/>
<span class="id">HB.factory</span> <span class="vernacular">Record</span> <span class="id">Kernel_isProbability</span> <span id="d:349" class="id">
  <a name="d:349" class="">d</a>
</span> <span id="d':350" class="id">
  <a name="d':350" class="">d'</a>
</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="X:351" class="id">
  <a name="X:351" class="">X</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:349">d</a></span>) (<span id="Y:352" class="id">
  <a name="Y:352" class="">Y</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':350">d'</a></span>) (<span id="R:353" class="id">
  <a name="R:353" class="">R</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="k:354" class="id">
  <a name="k:354" class="">k</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#X:351">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#::ring_scope:'{'_'measure'_'set'_x_'->'_'\bar'_x_'}'">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.kernel.html#Y:352">Y</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#::ring_scope:'{'_'measure'_'set'_x_'->'_'\bar'_x_'}'">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.kernel.html#R:353">R}</a></span>) <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.kernel.html#isKernel">isKernel</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#X:351">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Y:352">Y</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#R:353">R</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#k:354">k</a></span> <span class="id">:=</span> <span class="id">{</span><br/>
&nbsp;&nbsp;<span id="prob_kernel:356" class="id">
  <a name="prob_kernel:356" class="">prob_kernel</a>
</span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="x:355" class="id">
  <a name="x:355" class="">x,</a>
</span> <span class="id"><a href="mathcomp.analysis.kernel.html#k:354">k</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:355">x</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_':'_x_']'">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Y:352">Y]</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id">1</span> <span class="id">}</span>.<br/>
<br/>
<span class="id">HB.builders</span> <span class="vernacular">Context</span> <span id="d:363" class="id">
  <a name="d:363" class="">d</a>
</span> <span id="d':364" class="id">
  <a name="d':364" class="">d'</a>
</span> (<span id="X:365" class="id">
  <a name="X:365" class="">X</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:363">d</a></span>) (<span id="Y:366" class="id">
  <a name="Y:366" class="">Y</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':364">d'</a></span>)<br/>
&nbsp;&nbsp;(<span id="R:367" class="id">
  <a name="R:367" class="">R</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) <span id="k:368" class="id">
  <a name="k:368" class="">k</a>
</span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.kernel.html#Kernel_isProbability">Kernel_isProbability</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:363">d</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':364">d'</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#X:365">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Y:366">Y</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#R:367">R</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#k:368">k</a></span>.<br/>
<br/>
<span class="vernacular">Let</span> <span id="Builders_76.Builders_76.sprob_kernel" class="id">
  <a name="Builders_76.Builders_76.sprob_kernel" class="">sprob_kernel</a>
</span> <span class="id">:</span> <span class="id">@Kernel_isSubProbability</span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_76.Builders_76.d">d</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_76.Builders_76.d'">d'</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_76.Builders_76.X">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_76.Builders_76.Y">Y</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_76.Builders_76.R">R</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_76.Builders_76.k">k</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof19')">Proof.</span></div>
<div class="proofscript" id="proof19">
<span class="gallina-kwd">by</span> <span class="id">split;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ub_ereal_sup">ub_ereal_sup</a></span> <span class="id">=&gt;</span> <span class="id">x</span> <span class="id">[y</span> <span class="id">_</span> <span class="id">&lt;-{x}];</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_76.prob_kernel">prob_kernel</a></span>.<br/>
Qed.</div>
<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_76.Builders_76.sprob_kernel">sprob_kernel</a></span>.<br/>
<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id">@SubProbability_isProbability</span>.<span class="id">Build</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_76.Builders_76.k">k</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_76.prob_kernel">prob_kernel</a></span>.<br/>
<br/>
<span class="id">HB.end</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="finite_kernel_measure" class="id">
  <a name="finite_kernel_measure" class="">finite_kernel_measure</a>
</span> <span id="d:375" class="id">
  <a name="d:375" class="">d</a>
</span> <span id="d':376" class="id">
  <a name="d':376" class="">d'</a>
</span> (<span id="X:377" class="id">
  <a name="X:377" class="">X</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:375">d</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="Y:378" class="id">
  <a name="Y:378" class="">Y</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':376">d'</a></span>) (<span id="R:379" class="id">
  <a name="R:379" class="">R</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) (<span id="k:380" class="id">
  <a name="k:380" class="">k</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#R:379">R</a></span>.<span class="id">-fker</span> <span class="id"><a href="mathcomp.analysis.kernel.html#X:377">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#:::x_'.-fker'_x_'~>'_x">~&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Y:378">Y</a></span>) (<span id="x:381" class="id">
  <a name="x:381" class="">x</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#X:377">X</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#fin_num_fun">fin_num_fun</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#k:380">k</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:381">x</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof20')">Proof.</span></div>
<div class="proofscript" id="proof20">
<span class="id">have</span> <span class="id">[r</span> <span class="id">k_r]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measure_uub">measure_uub</a></span> <span class="id">k</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#lty_fin_num_fun">lty_fin_num_fun;</a></span> <span class="id">rewrite</span> (<span class="id">@lt_trans</span> <span class="id">_</span> <span class="id">_</span> <span class="id">r%:E</span>) <span class="id">?ltey</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Section</span> <span id="measurable_prod_subset_kernel" class="id">
  <a name="measurable_prod_subset_kernel" class="">measurable_prod_subset_kernel</a>
</span>.<br/>
<span class="vernacular">Context</span> <span id="d:382" class="id">
  <a name="d:382" class="">d</a>
</span> <span id="d':383" class="id">
  <a name="d':383" class="">d'</a>
</span> (<span id="X:384" class="id">
  <a name="X:384" class="">X</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:382">d</a></span>) (<span id="Y:385" class="id">
  <a name="Y:385" class="">Y</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':383">d'</a></span>) (<span id="R:386" class="id">
  <a name="R:386" class="">R</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="vernacular">Implicit</span> <span class="id">Types</span> <span class="id">A</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#measurable_prod_subset_kernel.X">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#::type_scope:x_'*'_x">*</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_prod_subset_kernel.Y">Y</a></span>).<br/>
<br/>
<span class="vernacular">Section</span> <span id="measurable_prod_subset_kernel.xsection_kernel" class="id">
  <a name="measurable_prod_subset_kernel.xsection_kernel" class="">xsection_kernel</a>
</span>.<br/>
<span class="vernacular">Variable</span> (<span id="measurable_prod_subset_kernel.xsection_kernel.k" class="id">
  <a name="measurable_prod_subset_kernel.xsection_kernel.k" class="">k</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_prod_subset_kernel.R">R</a></span>.<span class="id">-ker</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_prod_subset_kernel.X">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#:::x_'.-ker'_x_'~>'_x">~&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_prod_subset_kernel.Y">Y</a></span>) (<span id="measurable_prod_subset_kernel.xsection_kernel.D" class="id">
  <a name="measurable_prod_subset_kernel.xsection_kernel.D" class="">D</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_prod_subset_kernel.Y">Y</a></span>) (<span id="measurable_prod_subset_kernel.xsection_kernel.mD" class="id">
  <a name="measurable_prod_subset_kernel.xsection_kernel.mD" class="">mD</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#D:388">D</a></span>).<br/>
<span class="vernacular">Let</span> <span id="measurable_prod_subset_kernel.xsection_kernel.kD" class="id">
  <a name="measurable_prod_subset_kernel.xsection_kernel.kD" class="">kD</a>
</span> <span id="x:390" class="id">
  <a name="x:390" class="">x</a>
</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.measure.html#mrestr">mrestr</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#measurable_prod_subset_kernel.xsection_kernel.k">k</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:390">x</a></span>) <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_prod_subset_kernel.xsection_kernel.mD">mD</a></span>.<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span id="x:391" class="id">
  <a name="x:391" class="">x</a>
</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measure.on">Measure.on</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#measurable_prod_subset_kernel.xsection_kernel.kD">kD</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:391">x</a></span>).<br/>
<span class="vernacular">Let</span> <span id="measurable_prod_subset_kernel.xsection_kernel.phi" class="id">
  <a name="measurable_prod_subset_kernel.xsection_kernel.phi" class="">phi</a>
</span> <span id="A:392" class="id">
  <a name="A:392" class="">A</a>
</span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="x:393" class="id">
  <a name="x:393" class="">x</a>
</span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_prod_subset_kernel.xsection_kernel.kD">kD</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:393">x</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#xsection">xsection</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#A:392">A</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:393">x</a></span>).<br/>
<span class="vernacular">Let</span> <span id="measurable_prod_subset_kernel.xsection_kernel.XY" class="id">
  <a name="measurable_prod_subset_kernel.xsection_kernel.XY" class="">XY</a>
</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_x_'|'_x_']'">[set</a></span> <span id="A:394" class="id">
  <a name="A:394" class="">A</a>
</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_x_'|'_x_']'">|</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#A:394">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'/\'_x">/\</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_':'_x_']'">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_prod_subset_kernel.X">X]</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#measurable_prod_subset_kernel.xsection_kernel.phi">phi</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#A:394">A</a></span>)<span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_x_'|'_x_']'">]</a></span>.<br/>
<br/>
<span class="vernacular">Let</span> <span id="measurable_prod_subset_kernel.xsection_kernel.phiM" class="id">
  <a name="measurable_prod_subset_kernel.xsection_kernel.phiM" class="">phiM</a>
</span> (<span id="A:395" class="id">
  <a name="A:395" class="">A</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_prod_subset_kernel.X">X</a></span>) <span id="B:396" class="id">
  <a name="B:396" class="">B</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_prod_subset_kernel.xsection_kernel.phi">phi</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#A:395">A</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:x_'`*`'_x">`*`</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#B:396">B</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> (<span class="gallina-kwd">fun</span> <span id="x:397" class="id">
  <a name="x:397" class="">x</a>
</span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_prod_subset_kernel.xsection_kernel.kD">kD</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:397">x</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#B:396">B</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'*'_x">*</a></span> (<span class="id"><a href="mathcomp.analysis.numfun.html#::ring_scope:'\1_'_x">\1_A</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:397">x</a></span>)<span class="id">%:E</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof21')">Proof.</span></div>
<div class="proofscript" id="proof21">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE</a></span> <span class="id">=&gt;</span> <span class="id">x;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.numfun.html#indicE">indicE</a></span> <span class="id">/phi/=</span>.<br/>
<span class="id">have</span> <span class="id">[xA|xA]</span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#boolP">boolP</a></span> (<span class="id">x</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::bool_scope:x_'\in'_x">\in</a></span> <span class="id">A</span>)<span class="id">;</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule1">mule1</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#in_xsectionM">in_xsectionM</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule0">mule0</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#notin_xsectionM">notin_xsectionM//</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set0I">set0I</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measure0">measure0</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="measurable_prod_subset_xsection_kernel" class="id">
  <a name="measurable_prod_subset_xsection_kernel" class="">measurable_prod_subset_xsection_kernel</a>
</span> <span class="id">:</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="x:398" class="id">
  <a name="x:398" class="">x,</a>
</span> <span class="gallina-kwd">exists</span> <span id="M:399" class="id">
  <a name="M:399" class="">M,</a>
</span> <span class="gallina-kwd">forall</span> <span id="X:400" class="id">
  <a name="X:400" class="">X,</a>
</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#X:400">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_prod_subset_kernel.xsection_kernel.kD">kD</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:398">x</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#X:400">X</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'<'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#M:399">M%:E</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:x_'`<=`'_x">`&lt;=`</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_prod_subset_kernel.xsection_kernel.XY">XY</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof22')">Proof.</span></div>
<div class="proofscript" id="proof22">
<span class="id">move=&gt;</span> <span class="id">kD_ub;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_prod_measurableType">measurable_prod_measurableType</a></span>.<br/>
<span class="id">set</span> <span class="id">C</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_x_'|'_x_'in'_x_'&'_x_'in'_x_']'">[set</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#A:401">A</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:x_'`*`'_x">`*`</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#B:402">B</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_x_'|'_x_'in'_x_'&'_x_'in'_x_']'">|</a></span> <span id="A:405" class="id"><span id="A:403" class="id"><span id="A:401" class="id">
  <a name="A:405" class="">A</a>
</span></span></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_x_'|'_x_'in'_x_'&'_x_'in'_x_']'">&amp;</a></span> <span id="B:406" class="id"><span id="B:404" class="id"><span id="B:402" class="id">
  <a name="B:406" class="">B</a>
</span></span></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable]</a></span>.<br/>
<span class="id">have</span> <span class="id">CI</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#setI_closed">setI_closed</a></span> <span class="id">C</span>.<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">_</span> <span class="id">_</span> <span class="id">[X1</span> <span class="id">mX1</span> <span class="id">[X2</span> <span class="id">mX2</span> <span class="id">&lt;-]]</span> <span class="id">[Y1</span> <span class="id">mY1</span> <span class="id">[Y2</span> <span class="id">mY2</span> <span class="id">&lt;-]]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> (<span class="id">X1</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:x_'`&`'_x">`&amp;`</a></span> <span class="id">Y1</span>)<span class="id">;</span> <span class="id">first</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableI">measurableI</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> (<span class="id">X2</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:x_'`&`'_x">`&amp;`</a></span> <span class="id">Y2</span>)<span class="id">;</span> <span class="id">[exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableI">measurableI|rewrite</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setMI">setMI]</a></span>.<br/>
<span class="id">have</span> <span class="id">CT</span> <span class="id">:</span> <span class="id">C</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="gallina-kwd">exists</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setMTT">setMTT</a></span>.<br/>
<span class="id">have</span> <span class="id">CXY</span> <span class="id">:</span> <span class="id">C</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:x_'`<=`'_x">`&lt;=`</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_prod_subset_kernel.xsection_kernel.XY">XY</a></span>.<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">_</span> <span class="id">[A</span> <span class="id">mA</span> <span class="id">[B</span> <span class="id">mB</span> <span class="id">&lt;-]];</span> <span class="id">split;</span> <span class="id">first</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableM">measurableM</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_prod_subset_kernel.xsection_kernel.phiM">phiM</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_funM">emeasurable_funM</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">first</span> <span class="id">exact/measurable_kernel/measurableI</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply/EFin_measurable_fun;</span> <span class="id">rewrite</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#::ring_scope:'\1_'_x">\1_</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mindic">mindic</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_prod_subset_kernel.R">R</a></span> <span class="id">mA</span>).<br/>
<span class="id">suff</span> <span class="id">monoB</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#monotone_class">monotone_class</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_prod_subset_kernel.xsection_kernel.XY">XY</a></span> <span class="gallina-kwd">by</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#monotone_class_subset">monotone_class_subset</a></span>.<br/>
<span class="id">split</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">[exact:</span> <span class="id">CXY|</span> <span class="id">|exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#xsection_ndseq_closed">xsection_ndseq_closed]</a></span>.<br/>
<span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">B</span> <span class="id">BA</span> <span class="id">[mA</span> <span class="id">mphiA]</span> <span class="id">[mB</span> <span class="id">mphiB];</span> <span class="id">split;</span> <span class="id">first</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableD">measurableD</a></span>.<br/>
<span class="id">suff</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_prod_subset_kernel.xsection_kernel.phi">phi</a></span> (<span class="id">A</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:x_'`\`'_x">`\`</a></span> <span class="id">B</span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> (<span class="gallina-kwd">fun</span> <span id="x:407" class="id">
  <a name="x:407" class="">x</a>
</span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_prod_subset_kernel.xsection_kernel.phi">phi</a></span> <span class="id">A</span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:407">x</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'-'_x">-</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_prod_subset_kernel.xsection_kernel.phi">phi</a></span> <span class="id">B</span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:407">x</a></span>).<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">-&gt;;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_funB">emeasurable_funB</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE</a></span> <span class="id">=&gt;</span> <span class="id">x;</span> <span class="id">rewrite</span> <span class="id">/phi/=</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#xsectionD">xsectionD//</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measureD">measureD</a></span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setIidr">setIidr//;</a></span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#le_xsection">le_xsection</a></span>.<br/>
<span class="id">-</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_xsection">measurable_xsection</a></span>.<br/>
<span class="id">-</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_xsection">measurable_xsection</a></span>.<br/>
<span class="id">-</span> <span class="id">have</span> <span class="id">[M</span> <span class="id">kM]</span> <span class="id">:=</span> <span class="id">kD_ub</span> <span class="id">x</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.lt_le_trans">lt_le_trans</a></span> (<span class="id">kM</span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#xsection">xsection</a></span> <span class="id">A</span> <span class="id">x</span>) <span class="id">_</span>)) <span class="id">?leey//</span>.<br/>
&nbsp;&nbsp;<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_xsection">measurable_xsection</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_prod_subset_kernel.xsection_kernel">xsection_kernel</a></span>.<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_prod_subset_kernel">measurable_prod_subset_kernel</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="measurable_fun_xsection_finite_kernel" class="id">
  <a name="measurable_fun_xsection_finite_kernel" class="">measurable_fun_xsection_finite_kernel</a>
</span>.<br/>
<span class="vernacular">Context</span> <span id="d:408" class="id">
  <a name="d:408" class="">d</a>
</span> <span id="d':409" class="id">
  <a name="d':409" class="">d'</a>
</span> (<span id="X:410" class="id">
  <a name="X:410" class="">X</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:408">d</a></span>) (<span id="Y:411" class="id">
  <a name="Y:411" class="">Y</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':409">d'</a></span>) (<span id="R:412" class="id">
  <a name="R:412" class="">R</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="vernacular">Variable</span> <span id="measurable_fun_xsection_finite_kernel.k" class="id">
  <a name="measurable_fun_xsection_finite_kernel.k" class="">k</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_xsection_finite_kernel.R">R</a></span>.<span class="id">-fker</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_xsection_finite_kernel.X">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#:::x_'.-fker'_x_'~>'_x">~&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_xsection_finite_kernel.Y">Y</a></span>.<br/>
<span class="vernacular">Implicit</span> <span class="id">Types</span> <span class="id">A</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_xsection_finite_kernel.X">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#::type_scope:x_'*'_x">*</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_xsection_finite_kernel.Y">Y</a></span>).<br/>
<br/>
<span class="vernacular">Let</span> <span id="measurable_fun_xsection_finite_kernel.phi" class="id">
  <a name="measurable_fun_xsection_finite_kernel.phi" class="">phi</a>
</span> <span id="A:414" class="id">
  <a name="A:414" class="">A</a>
</span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="x:415" class="id">
  <a name="x:415" class="">x</a>
</span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_xsection_finite_kernel.k">k</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:415">x</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#xsection">xsection</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#A:414">A</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:415">x</a></span>).<br/>
<span class="vernacular">Let</span> <span id="measurable_fun_xsection_finite_kernel.XY" class="id">
  <a name="measurable_fun_xsection_finite_kernel.XY" class="">XY</a>
</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_x_'|'_x_']'">[set</a></span> <span id="A:416" class="id">
  <a name="A:416" class="">A</a>
</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_x_'|'_x_']'">|</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#A:416">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'/\'_x">/\</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_':'_x_']'">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_xsection_finite_kernel.X">X]</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_xsection_finite_kernel.phi">phi</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#A:416">A</a></span>)<span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_x_'|'_x_']'">]</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="measurable_fun_xsection_finite_kernel" class="id">
  <a name="measurable_fun_xsection_finite_kernel" class="">measurable_fun_xsection_finite_kernel</a>
</span> <span id="A:417" class="id">
  <a name="A:417" class="">A</a>
</span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.kernel.html#A:417">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::bool_scope:x_'\in'_x">\in</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_':'_x_']'">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_xsection_finite_kernel.X">X]</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_xsection_finite_kernel.phi">phi</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#A:417">A</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof23')">Proof.</span></div>
<div class="proofscript" id="proof23">
<span class="id">move:</span> <span class="id">A;</span> <span class="id">suff</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:x_'`<=`'_x">`&lt;=`</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_xsection_finite_kernel.XY">XY</a></span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">+</span> <span class="id">A;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> <span class="id">=&gt;</span> <span class="id">/[apply]</span> <span class="id">-[]</span>.<br/>
<span class="id">move=&gt;</span> <span class="id">/=</span> <span class="id">A</span> <span class="id">mA;</span> <span class="id">rewrite</span> <span class="id">/XY/=;</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">rewrite</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_xsection_finite_kernel.phi">phi</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="gallina-kwd">fun</span> <span id="x:420" class="id"><span id="x:419" class="id"><span id="x:418" class="id">
  <a name="x:420" class="">x</a>
</span></span></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.measure.html#mrestr">mrestr</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_xsection_finite_kernel.k">k</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:418">x</a></span>) <span class="id"><a href="mathcomp.analysis.measure.html#measurableT">measurableT</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#xsection">xsection</a></span> <span class="id">A</span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:418">x</a></span>)))<span class="id">;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply/funext</span> <span class="id">=&gt;</span> <span class="id">x//=;</span> <span class="id">rewrite</span> <span class="id">/mrestr</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setIT">setIT</a></span>.<br/>
<span class="id">apply</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_prod_subset_xsection_kernel">measurable_prod_subset_xsection_kernel</a></span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">x</span>.<br/>
<span class="id">have</span> <span class="id">[r</span> <span class="id">hr]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measure_uub">measure_uub</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_xsection_finite_kernel.k">k;</a></span> <span class="gallina-kwd">exists</span> <span class="id">r</span> <span class="id">=&gt;</span> <span class="id">B</span> <span class="id">mB</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_lt_trans">le_lt_trans</a></span> <span class="id">_</span> (<span class="id">hr</span> <span class="id">x</span>)) <span class="id">//</span> <span class="id">/mrestr</span> <span class="id">/=</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setIT">setIT</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#le_measure">le_measure//</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_xsection_finite_kernel">measurable_fun_xsection_finite_kernel</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="measurable_fun_integral_finite_sfinite" class="id">
  <a name="measurable_fun_integral_finite_sfinite" class="">measurable_fun_integral_finite_sfinite</a>
</span>.<br/>
<span class="vernacular">Context</span> <span id="d:421" class="id">
  <a name="d:421" class="">d</a>
</span> <span id="d':422" class="id">
  <a name="d':422" class="">d'</a>
</span> (<span id="X:423" class="id">
  <a name="X:423" class="">X</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:421">d</a></span>) (<span id="Y:424" class="id">
  <a name="Y:424" class="">Y</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':422">d'</a></span>) (<span id="R:425" class="id">
  <a name="R:425" class="">R</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="vernacular">Variable</span> <span id="measurable_fun_integral_finite_sfinite.k" class="id">
  <a name="measurable_fun_integral_finite_sfinite.k" class="">k</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_integral_finite_sfinite.X">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#::type_scope:x_'*'_x">*</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_integral_finite_sfinite.Y">Y</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::type_scope:'\bar'_x">\bar</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_integral_finite_sfinite.R">R</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="measurable_fun_xsection_integral" class="id">
  <a name="measurable_fun_xsection_integral" class="">measurable_fun_xsection_integral</a>
</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="l:427" class="id">
  <a name="l:427" class="">l</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_integral_finite_sfinite.X">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#::ring_scope:'{'_'measure'_'set'_x_'->'_'\bar'_x_'}'">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_integral_finite_sfinite.Y">Y</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#::ring_scope:'{'_'measure'_'set'_x_'->'_'\bar'_x_'}'">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_integral_finite_sfinite.R">R}</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="k_:428" class="id">
  <a name="k_:428" class="">k_</a>
</span> <span class="id">:</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#::form_scope:'{'_'nnsfun'_x_'>->'_x_'}'">{nnsfun</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::form_scope:'['_'the'_x_'of'_x_']'">[the</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_integral_finite_sfinite.X">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#::type_scope:x_'*'_x">*</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_integral_finite_sfinite.Y">Y]</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#::form_scope:'{'_'nnsfun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_integral_finite_sfinite.R">R}</a></span>)<span class="id">^nat</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="ndk_:429" class="id">
  <a name="ndk_:429" class="">ndk_</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.sequences.html#:::'nondecreasing_seq'_x">nondecreasing_seq</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#k_:428">k_</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_integral_finite_sfinite.X">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#::type_scope:x_'*'_x">*</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_integral_finite_sfinite.Y">Y</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_integral_finite_sfinite.R">R</a></span>)<span class="id">^nat</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="k_k:431" class="id">
  <a name="k_k:431" class="">k_k</a>
</span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="z:430" class="id">
  <a name="z:430" class="">z,</a>
</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:x_'\o'_x">\o</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#k_:428">k_</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:x_'^~'_x">^~</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#z:430">z</a></span>) <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'-->'_x">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_integral_finite_sfinite.k">k</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#z:430">z</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="n:432" class="id">
  <a name="n:432" class="">n</a>
</span> <span id="r:433" class="id">
  <a name="r:433" class="">r,</a>
</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_':'_x_']'">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_integral_finite_sfinite.X">X]</a></span> (<span class="gallina-kwd">fun</span> <span id="x:434" class="id">
  <a name="x:434" class="">x</a>
</span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.kernel.html#l:427">l</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:434">x</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#xsection">xsection</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#k_:428">k_</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#n:432">n</a></span> <span class="id">@^-1`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_x_']'">[set</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#r:433">r]</a></span>) <span class="id"><a href="mathcomp.analysis.kernel.html#x:434">x</a></span>))) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_':'_x_']'">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_integral_finite_sfinite.X">X]</a></span> (<span class="gallina-kwd">fun</span> <span id="x:435" class="id">
  <a name="x:435" class="">x</a>
</span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#::ereal_scope:'\int'_'['_x_']_'_x_x">\int[l</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:435">x]_y</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_integral_finite_sfinite.k">k</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#x:435">x,</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#y:436">y</a></span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof24')">Proof.</span></div>
<div class="proofscript" id="proof24">
<span class="id">move=&gt;</span> <span class="id">h</span>.<br/>
<span class="id">rewrite</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> (<span class="gallina-kwd">fun</span> <span id="x:445" class="id"><span id="x:441" class="id"><span id="x:437" class="id">
  <a name="x:445" class="">x</a>
</span></span></span> <span class="id">=&gt;</span> <span class="id">_</span>) <span class="id">=</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="gallina-kwd">fun</span> <span id="x:446" class="id"><span id="x:442" class="id"><span id="x:438" class="id">
  <a name="x:446" class="">x</a>
</span></span></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.sequences.html#limn_esup">limn_esup</a></span> (<span class="gallina-kwd">fun</span> <span id="n:447" class="id"><span id="n:443" class="id"><span id="n:439" class="id">
  <a name="n:447" class="">n</a>
</span></span></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#::ereal_scope:'\int'_'['_x_']_'_x_x">\int[l</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:438">x]_y</a></span> (<span class="id">k_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#n:439">n</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#x:438">x,</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#y:440">y</a></span>))<span class="id">%:E</span>)))<span class="id">;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">apply/funext</span> <span class="id">=&gt;</span> <span class="id">x</span>.<br/>
&nbsp;&nbsp;<span class="id">transitivity</span> (<span class="id"><a href="mathcomp.analysis.topology.html#lim">lim</a></span> (<span class="gallina-kwd">fun</span> <span id="n:455" class="id"><span id="n:453" class="id"><span id="n:451" class="id"><span id="n:449" class="id">
  <a name="n:455" class="">n</a>
</span></span></span></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#::ereal_scope:'\int'_'['_x_']_'_x_x">\int[l</a></span> <span class="id">x]_y</span> (<span class="id">k_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#n:449">n</a></span> (<span class="id">x,</span> <span class="id"><a href="mathcomp.analysis.kernel.html#y:450">y</a></span>))<span class="id">%:E</span>))<span class="id">;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.sequences.html#is_cvg_limn_esupE">is_cvg_limn_esupE//</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.sequences.html#ereal_nondecreasing_is_cvgn">ereal_nondecreasing_is_cvgn</a></span> <span class="id">=&gt;</span> <span class="id">m</span> <span class="id">n</span> <span class="id">mn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_le_integral">ge0_le_integral</a></span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">y</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">-</span> <span class="id">exact/EFin_measurable_fun/measurableT_comp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">y</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">-</span> <span class="id">exact/EFin_measurable_fun/measurableT_comp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">y</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin;</a></span> <span class="id">exact/lefP/ndk_</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-monotone_convergence//</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> <span class="id">=&gt;</span> <span class="id">y</span> <span class="id">_;</span> <span class="id">apply/esym/cvg_lim</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> <span class="id">k_k</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">n;</span> <span class="id">exact/EFin_measurable_fun/measurableT_comp</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">n</span> <span class="id">y</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">y</span> <span class="id">_</span> <span class="id">m</span> <span class="id">n</span> <span class="id">mn;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin;</a></span> <span class="id">exact/lefP/ndk_</span>.<br/>
<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_fun_limn_esup">measurable_fun_limn_esup</a></span> <span class="id">=&gt;</span> <span class="id">n</span>.<br/>
<span class="id">rewrite</span> <span class="id">[X</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_integral_finite_sfinite.X">X]</a></span>(<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> (<span class="gallina-kwd">fun</span> <span id="x:470" class="id"><span id="x:463" class="id"><span id="x:457" class="id">
  <a name="x:470" class="">x</a>
</span></span></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#::ereal_scope:'\int'_'['_x_']_'_x_x">\int[l</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:457">x]_y</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="mathcomp.classical.fsbigop.html#::ring_scope:'\sum_'_'('_x_'\in'_x_')'_x">\sum_</a></span>(<span id="r:475" class="id"><span id="r:474" class="id"><span id="r:473" class="id"><span id="r:472" class="id"><span id="r:468" class="id"><span id="r:467" class="id"><span id="r:466" class="id"><span id="r:465" class="id"><span id="r:462" class="id"><span id="r:461" class="id"><span id="r:460" class="id"><span id="r:459" class="id">
  <a name="r:475" class="">r</a>
</span></span></span></span></span></span></span></span></span></span></span></span> <span class="id"><a href="mathcomp.classical.fsbigop.html#::ring_scope:'\sum_'_'('_x_'\in'_x_')'_x">\in</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#range">range</a></span> (<span class="id">k_</span> <span class="id">n</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.kernel.html#r:459">r</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'*'_x">*</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#::ring_scope:'\1_'_x">\1_</a></span>(<span class="id">k_</span> <span class="id">n</span> <span class="id">@^-1`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_x_']'">[set</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#r:459">r]</a></span>) (<span class="id"><a href="mathcomp.analysis.kernel.html#x:457">x,</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#y:458">y</a></span>))<span class="id">%:E</span>))<span class="id">;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply/funext</span> <span class="id">=&gt;</span> <span class="id">x;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> <span class="id">=&gt;</span> <span class="id">y</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.numfun.html#fimfunE">fimfunE</a></span>.<br/>
<span class="id">rewrite</span> <span class="id">[X</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_integral_finite_sfinite.X">X]</a></span>(<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> (<span class="gallina-kwd">fun</span> <span id="x:491" class="id"><span id="x:483" class="id"><span id="x:476" class="id">
  <a name="x:491" class="">x</a>
</span></span></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.ereal.html#::ereal_scope:'\sum_'_'('_x_'\in'_x_')'_x">\sum_</a></span>(<span id="r:496" class="id"><span id="r:495" class="id"><span id="r:494" class="id"><span id="r:492" class="id"><span id="r:488" class="id"><span id="r:487" class="id"><span id="r:486" class="id"><span id="r:484" class="id"><span id="r:481" class="id"><span id="r:480" class="id"><span id="r:479" class="id"><span id="r:477" class="id">
  <a name="r:496" class="">r</a>
</span></span></span></span></span></span></span></span></span></span></span></span> <span class="id"><a href="mathcomp.analysis.ereal.html#::ereal_scope:'\sum_'_'('_x_'\in'_x_')'_x">\in</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#range">range</a></span> (<span class="id">k_</span> <span class="id">n</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#::ereal_scope:'\int'_'['_x_']_'_x_x">\int[l</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:476">x]_y</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#r:477">r</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'*'_x">*</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#::ring_scope:'\1_'_x">\1_</a></span>(<span class="id">k_</span> <span class="id">n</span> <span class="id">@^-1`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_x_']'">[set</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#r:477">r]</a></span>) (<span class="id"><a href="mathcomp.analysis.kernel.html#x:476">x,</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#y:478">y</a></span>))<span class="id">%:E</span>)))<span class="id">;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">apply/funext</span> <span class="id">=&gt;</span> <span class="id">x;</span> <span class="id">rewrite</span> <span class="id">-ge0_integral_fsum//</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> <span class="id">=&gt;</span> <span class="id">y</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id">-fsumEFin</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">move=&gt;</span> <span class="id">r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply/EFin_measurable_fun/measurableT_comp</span> <span class="id">=&gt;</span> <span class="id">[//|]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact/measurableT_comp</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">m</span> <span class="id">y</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnfun_muleindic_ge0">nnfun_muleindic_ge0</a></span>.<br/>
<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_fun_fsum">emeasurable_fun_fsum</a></span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">r</span>.<br/>
<span class="id">rewrite</span> <span class="id">[X</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_integral_finite_sfinite.X">X]</a></span>(<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> (<span class="gallina-kwd">fun</span> <span id="x:503" class="id"><span id="x:500" class="id"><span id="x:498" class="id">
  <a name="x:503" class="">x</a>
</span></span></span> <span class="id">=&gt;</span> <span class="id">r%:E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'*'_x">*</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#::ereal_scope:'\int'_'['_x_']_'_x_x">\int[l</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:498">x]_y</a></span> (<span class="id"><a href="mathcomp.analysis.numfun.html#::ring_scope:'\1_'_x">\1_</a></span>(<span class="id">k_</span> <span class="id">n</span> <span class="id">@^-1`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_x_']'">[set</a></span> <span class="id">r]</span>) (<span class="id"><a href="mathcomp.analysis.kernel.html#x:498">x,</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#y:499">y</a></span>))<span class="id">%:E</span>))<span class="id">;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">apply/funext</span> <span class="id">=&gt;</span> <span class="id">x;</span> <span class="id">under</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinM">EFinM</a></span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">[r0|r0]</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.TotalTheory.leP">leP</a></span> <span class="id">0%R</span> <span class="id">r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralZl">ge0_integralZl//;</a></span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">y</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact/EFin_measurable_fun/measurableT_comp</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral0_eq">integral0_eq;</a></span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">y</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#preimage_nnfun0">preimage_nnfun0//</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#indic0">indic0</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule0">mule0</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral0_eq">integral0_eq</a></span> <span class="id">?mule0//</span> <span class="id">=&gt;</span> <span class="id">y</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#preimage_nnfun0">preimage_nnfun0//</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#indic0">indic0</a></span>.<br/>
<span class="id">apply/measurable_funeM</span>.<br/>
<span class="id">rewrite</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> (<span class="gallina-kwd">fun</span> <span id="x:509" class="id"><span id="x:507" class="id"><span id="x:505" class="id">
  <a name="x:509" class="">x</a>
</span></span></span> <span class="id">=&gt;</span> <span class="id">_</span>) <span class="id">=</span> (<span class="gallina-kwd">fun</span> <span id="x:510" class="id"><span id="x:508" class="id"><span id="x:506" class="id">
  <a name="x:510" class="">x</a>
</span></span></span> <span class="id">=&gt;</span> <span class="id">l</span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:506">x</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#xsection">xsection</a></span> (<span class="id">k_</span> <span class="id">n</span> <span class="id">@^-1`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_x_']'">[set</a></span> <span class="id">r]</span>) <span class="id"><a href="mathcomp.analysis.kernel.html#x:506">x</a></span>))).<br/>
&nbsp;&nbsp;<span class="id">exact/h</span>.<br/>
<span class="id">apply/funext</span> <span class="id">=&gt;</span> <span class="id">x;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_indic">integral_indic//;</a></span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> (<span class="gallina-kwd">fun</span> <span id="x:513" class="id"><span id="x:512" class="id"><span id="x:511" class="id">
  <a name="x:513" class="">x</a>
</span></span></span> <span class="id">=&gt;</span> <span class="id">_</span>) <span class="id">=</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#xsection">xsection</a></span> (<span class="id">k_</span> <span class="id">n</span> <span class="id">@^-1`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_x_']'">[set</a></span> <span class="id">r]</span>) <span class="id">x</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_xsection">measurable_xsection</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/xsection;</span> <span class="id">apply/seteqP;</span> <span class="id">split=&gt;</span> <span class="id">y/=</span> <span class="id">/[!inE]</span>.<br/>
<span class="id">congr</span> (<span class="id">l</span> <span class="id">x</span> <span class="id">_</span>)<span class="id">;</span> <span class="id">apply/funext</span> <span class="id">=&gt;</span> <span class="id">y1/=;</span> <span class="id">rewrite</span> <span class="id">/xsection/=</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">apply/propext;</span> <span class="id">tauto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="measurable_fun_integral_finite_kernel" class="id">
  <a name="measurable_fun_integral_finite_kernel" class="">measurable_fun_integral_finite_kernel</a>
</span> (<span id="l:514" class="id">
  <a name="l:514" class="">l</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_integral_finite_sfinite.R">R</a></span>.<span class="id">-fker</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_integral_finite_sfinite.X">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#:::x_'.-fker'_x_'~>'_x">~&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_integral_finite_sfinite.Y">Y</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="k0:516" class="id">
  <a name="k0:516" class="">k0</a>
</span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="z:515" class="id">
  <a name="z:515" class="">z,</a>
</span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'<='_x">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_integral_finite_sfinite.k">k</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#z:515">z</a></span>) (<span id="mk:517" class="id">
  <a name="mk:517" class="">mk</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_':'_x_']'">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_integral_finite_sfinite.X">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#::type_scope:x_'*'_x">*</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_integral_finite_sfinite.Y">Y]</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_integral_finite_sfinite.k">k</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_':'_x_']'">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_integral_finite_sfinite.X">X]</a></span> (<span class="gallina-kwd">fun</span> <span id="x:518" class="id">
  <a name="x:518" class="">x</a>
</span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#::ereal_scope:'\int'_'['_x_']_'_x_x">\int[l</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:518">x]_y</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_integral_finite_sfinite.k">k</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#x:518">x,</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#y:519">y</a></span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof25')">Proof.</span></div>
<div class="proofscript" id="proof25">
<span class="id">have</span> <span class="id">[k_</span> <span class="id">[ndk_</span> <span class="id">k_k]]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation">approximation</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT">measurableT</a></span> <span class="id">mk</span> (<span class="gallina-kwd">fun</span> <span id="x:520" class="id">
  <a name="x:520" class="">x</a>
</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id">k0</span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:520">x</a></span>).<br/>
<span class="id">apply:</span> (<span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_xsection_integral">measurable_fun_xsection_integral</a></span> <span class="id">ndk_</span> (<span class="id">k_k</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:x_'^~'_x">^~</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#I">Logic.I</a></span>)) <span class="id">=&gt;</span> <span class="id">n</span> <span class="id">r</span>.<br/>
<span class="id">have</span> <span class="id">[l_</span> <span class="id">hl_]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measure_uub">measure_uub</a></span> <span class="id">l</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_xsection_finite_kernel">measurable_fun_xsection_finite_kernel</a></span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">/[!inE]</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="measurable_fun_integral_sfinite_kernel" class="id">
  <a name="measurable_fun_integral_sfinite_kernel" class="">measurable_fun_integral_sfinite_kernel</a>
</span> (<span id="l:521" class="id">
  <a name="l:521" class="">l</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_integral_finite_sfinite.R">R</a></span>.<span class="id">-sfker</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_integral_finite_sfinite.X">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#:::x_'.-sfker'_x_'~>'_x">~&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_integral_finite_sfinite.Y">Y</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="k0:523" class="id">
  <a name="k0:523" class="">k0</a>
</span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="t:522" class="id">
  <a name="t:522" class="">t,</a>
</span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'<='_x">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_integral_finite_sfinite.k">k</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#t:522">t</a></span>) (<span id="mk:524" class="id">
  <a name="mk:524" class="">mk</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_':'_x_']'">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_integral_finite_sfinite.X">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#::type_scope:x_'*'_x">*</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_integral_finite_sfinite.Y">Y]</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_integral_finite_sfinite.k">k</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_':'_x_']'">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_integral_finite_sfinite.X">X]</a></span> (<span class="gallina-kwd">fun</span> <span id="x:525" class="id">
  <a name="x:525" class="">x</a>
</span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#::ereal_scope:'\int'_'['_x_']_'_x_x">\int[l</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:525">x]_y</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_integral_finite_sfinite.k">k</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#x:525">x,</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#y:526">y</a></span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof26')">Proof.</span></div>
<div class="proofscript" id="proof26">
<span class="id">have</span> <span class="id">[k_</span> <span class="id">[ndk_</span> <span class="id">k_k]]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation">approximation</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT">measurableT</a></span> <span class="id">mk</span> (<span class="gallina-kwd">fun</span> <span id="xy:527" class="id">
  <a name="xy:527" class="">xy</a>
</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id">k0</span> <span class="id"><a href="mathcomp.analysis.kernel.html#xy:527">xy</a></span>).<br/>
<span class="id">apply:</span> (<span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_xsection_integral">measurable_fun_xsection_integral</a></span> <span class="id">ndk_</span> (<span class="id">k_k</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:x_'^~'_x">^~</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#I">Logic.I</a></span>)) <span class="id">=&gt;</span> <span class="id">n</span> <span class="id">r</span>.<br/>
<span class="id">have</span> <span class="id">[l_</span> <span class="id">hl_]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfinite_kernel">sfinite_kernel</a></span> <span class="id">l</span>.<br/>
<span class="id">rewrite</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> (<span class="gallina-kwd">fun</span> <span id="x:532" class="id"><span id="x:530" class="id"><span id="x:528" class="id">
  <a name="x:532" class="">x</a>
</span></span></span> <span class="id">=&gt;</span> <span class="id">_</span>) <span class="id">=</span> (<span class="gallina-kwd">fun</span> <span id="x:533" class="id"><span id="x:531" class="id"><span id="x:529" class="id">
  <a name="x:533" class="">x</a>
</span></span></span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#mseries">mseries</a></span> (<span class="id">l_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:x_'^~'_x">^~</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:529">x</a></span>) <span class="id">0</span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#xsection">xsection</a></span> (<span class="id">k_</span> <span class="id">n</span> <span class="id">@^-1`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_x_']'">[set</a></span> <span class="id">r]</span>) <span class="id"><a href="mathcomp.analysis.kernel.html#x:529">x</a></span>)))<span class="id">;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply/funext</span> <span class="id">=&gt;</span> <span class="id">x;</span> <span class="id">rewrite</span> <span class="id">hl_//;</span> <span class="id">exact/measurable_xsection</span>.<br/>
<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_emeasurable_fun_sum">ge0_emeasurable_fun_sum</a></span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">m</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_xsection_finite_kernel">measurable_fun_xsection_finite_kernel</a></span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">/[!inE]</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_integral_finite_sfinite">measurable_fun_integral_finite_sfinite</a></span>.<br/>
<span class="vernacular">Arguments</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_xsection_integral">measurable_fun_xsection_integral</a></span> <span class="id">{_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_}</span> <span class="id">k</span> <span class="id">l</span>.<br/>
<span class="vernacular">Arguments</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_integral_finite_kernel">measurable_fun_integral_finite_kernel</a></span> <span class="id">{_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_}</span> <span class="id">k</span> <span class="id">l</span>.<br/>
<span class="vernacular">Arguments</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_integral_sfinite_kernel">measurable_fun_integral_sfinite_kernel</a></span> <span class="id">{_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_}</span> <span class="id">k</span> <span class="id">l</span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="kdirac" class="id">
  <a name="kdirac" class="">kdirac</a>
</span>.<br/>
<span class="vernacular">Context</span> <span id="d:534" class="id">
  <a name="d:534" class="">d</a>
</span> <span id="d':535" class="id">
  <a name="d':535" class="">d'</a>
</span> (<span id="X:536" class="id">
  <a name="X:536" class="">X</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:534">d</a></span>) (<span id="Y:537" class="id">
  <a name="Y:537" class="">Y</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':535">d'</a></span>) (<span id="R:538" class="id">
  <a name="R:538" class="">R</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="vernacular">Variable</span> <span id="kdirac.f" class="id">
  <a name="kdirac.f" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kdirac.X">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kdirac.Y">Y</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="kdirac" class="id">
  <a name="kdirac" class="">kdirac</a>
</span> (<span id="mf:540" class="id">
  <a name="mf:540" class="">mf</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_':'_x_']'">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kdirac.X">X]</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kdirac.f">f</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kdirac.X">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#::ring_scope:'{'_'measure'_'set'_x_'->'_'\bar'_x_'}'">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kdirac.Y">Y</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#::ring_scope:'{'_'measure'_'set'_x_'->'_'\bar'_x_'}'">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kdirac.R">R}</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">fun</span> <span id="x:541" class="id">
  <a name="x:541" class="">x</a>
</span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::form_scope:'['_'the'_x_'of'_x_']'">[the</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#Measure.Exports.measure">measure</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.measure.html#dirac">dirac</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#kdirac.f">f</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:541">x</a></span>)<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::form_scope:'['_'the'_x_'of'_x_']'">]</a></span>.<br/>
<br/>
<span class="vernacular">Hypothesis</span> <span id="kdirac.mf" class="id">
  <a name="kdirac.mf" class="">mf</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_':'_x_']'">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kdirac.X">X]</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kdirac.f">f</a></span>.<br/>
<br/>
<span class="vernacular">Let</span> <span id="kdirac.measurable_fun_kdirac" class="id">
  <a name="kdirac.measurable_fun_kdirac" class="">measurable_fun_kdirac</a>
</span> <span id="U:543" class="id">
  <a name="U:543" class="">U</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:543">U</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_':'_x_']'">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kdirac.X">X]</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#kdirac">kdirac</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kdirac.mf">mf</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:x_'^~'_x">^~</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:543">U</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof27')">Proof.</span></div>
<div class="proofscript" id="proof27">
<span class="id">move=&gt;</span> <span class="id">mU;</span> <span class="id">apply/EFin_measurable_fun</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> (<span class="gallina-kwd">fun</span> <span id="x:546" class="id"><span id="x:545" class="id"><span id="x:544" class="id">
  <a name="x:546" class="">x</a>
</span></span></span> <span class="id">=&gt;</span> <span class="id">_</span>) <span class="id">=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mindic">mindic</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kdirac.R">R</a></span> <span class="id">mU</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:x_'\o'_x">\o</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kdirac.f">f</a></span>)<span class="id">//;</span> <span class="id">exact/measurableT_comp</span>.<br/>
Qed.</div>
<br/>
<span class="id"><a href="mathcomp.analysis.signed.html#gt0">HB.instance</a></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.kernel.html#Build">isKernel.Build</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.kernel.html#kdirac">kdirac</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kdirac.mf">mf</a></span>)<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.kernel.html#kdirac.measurable_fun_kdirac">measurable_fun_kdirac</a></span>.<br/>
<br/>
<span class="vernacular">Let</span> <span id="kdirac.kdirac_prob" class="id">
  <a name="kdirac.kdirac_prob" class="">kdirac_prob</a>
</span> <span id="x:547" class="id">
  <a name="x:547" class="">x</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kdirac">kdirac</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kdirac.mf">mf</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:547">x</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id">1</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof28')">Proof.</span></div>
<div class="proofscript" id="proof28">
 <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/kdirac/=</span> <span class="id"><a href="mathcomp.analysis.measure.html#diracT">diracT</a></span>. Qed.</div>
<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.kernel.html#Build">Kernel_isProbability.Build</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span><br/>
&nbsp;&nbsp;(<span class="id"><a href="mathcomp.analysis.kernel.html#kdirac">kdirac</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kdirac.mf">mf</a></span>) <span class="id"><a href="mathcomp.analysis.kernel.html#kdirac.kdirac_prob">kdirac_prob</a></span>.<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kdirac">kdirac</a></span>.<br/>
<span class="vernacular">Arguments</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kdirac">kdirac</a></span> <span class="id">{d</span> <span class="id">d'</span> <span class="id">X</span> <span class="id">Y</span> <span class="id">R</span> <span class="id">f}</span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="dist_salgebra_instance" class="id">
  <a name="dist_salgebra_instance" class="">dist_salgebra_instance</a>
</span>.<br/>
<span class="vernacular">Context</span> <span id="d:548" class="id">
  <a name="d:548" class="">d</a>
</span> (<span id="T:549" class="id">
  <a name="T:549" class="">T</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:548">d</a></span>) (<span id="R:550" class="id">
  <a name="R:550" class="">R</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<br/>
<span class="vernacular">Let</span> <span id="dist_salgebra_instance.p0" class="id">
  <a name="dist_salgebra_instance.p0" class="">p0</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Probability.Exports.probability">probability</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#dist_salgebra_instance.T">T</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#dist_salgebra_instance.R">R</a></span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::form_scope:'['_'the'_x_'of'_x_']'">[the</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#Probability.Exports.probability">probability</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.measure.html#dirac">dirac</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#point">point]</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="prob_pointed" class="id">
  <a name="prob_pointed" class="">prob_pointed</a>
</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#Pointed.Class">Pointed.Class</a></span><br/>
&nbsp;&nbsp;(<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.choice.html#Choice.Class">Choice.Class</a></span> <span class="id"><a href="mathcomp.classical.boolp.html#gen_eqMixin">gen_eqMixin</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.choice.html#Choice.Class">Choice.Class</a></span> <span class="id"><a href="mathcomp.classical.boolp.html#gen_eqMixin">gen_eqMixin</a></span> <span class="id"><a href="mathcomp.classical.boolp.html#gen_choiceMixin">gen_choiceMixin</a></span>)) <span class="id"><a href="mathcomp.analysis.kernel.html#dist_salgebra_instance.p0">p0</a></span>.<br/>
<br/>
<span class="vernacular">Canonical</span> <span id="probability_eqType" class="id">
  <a name="probability_eqType" class="">probability_eqType</a>
</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#Equality.Exports.EqType">EqType</a></span> (<span class="id"><a href="mathcomp.analysis.measure.html#Probability.Exports.probability">probability</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#dist_salgebra_instance.T">T</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#dist_salgebra_instance.R">R</a></span>) <span class="id"><a href="mathcomp.analysis.kernel.html#prob_pointed">prob_pointed</a></span>.<br/>
<span class="vernacular">Canonical</span> <span id="probability_choiceType" class="id">
  <a name="probability_choiceType" class="">probability_choiceType</a>
</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.choice.html#Choice.Exports.ChoiceType">ChoiceType</a></span> (<span class="id"><a href="mathcomp.analysis.measure.html#Probability.Exports.probability">probability</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#dist_salgebra_instance.T">T</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#dist_salgebra_instance.R">R</a></span>) <span class="id"><a href="mathcomp.analysis.kernel.html#prob_pointed">prob_pointed</a></span>.<br/>
<span class="vernacular">Canonical</span> <span id="probability_ptType" class="id">
  <a name="probability_ptType" class="">probability_ptType</a>
</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#Pointed.Exports.PointedType">PointedType</a></span> (<span class="id"><a href="mathcomp.analysis.measure.html#Probability.Exports.probability">probability</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#dist_salgebra_instance.T">T</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#dist_salgebra_instance.R">R</a></span>) <span class="id"><a href="mathcomp.analysis.kernel.html#prob_pointed">prob_pointed</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="mset" class="id">
  <a name="mset" class="">mset</a>
</span> (<span id="U:551" class="id">
  <a name="U:551" class="">U</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#dist_salgebra_instance.T">T</a></span>) (<span id="r:552" class="id">
  <a name="r:552" class="">r</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#dist_salgebra_instance.R">R</a></span>) <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_x_':'_x_'|'_x_']'">[set</a></span> <span id="mu:553" class="id">
  <a name="mu:553" class="">mu</a>
</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_x_':'_x_'|'_x_']'">:</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#Probability.Exports.probability">probability</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#dist_salgebra_instance.T">T</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#dist_salgebra_instance.R">R</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_x_':'_x_'|'_x_']'">|</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#mu:553">mu</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:551">U</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'<'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#r:552">r%:E]</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="lt0_mset" class="id">
  <a name="lt0_mset" class="">lt0_mset</a>
</span> (<span id="U:554" class="id">
  <a name="U:554" class="">U</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#dist_salgebra_instance.T">T</a></span>) (<span id="r:555" class="id">
  <a name="r:555" class="">r</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#dist_salgebra_instance.R">R</a></span>) <span class="id">:</span> (<span class="id"><a href="mathcomp.analysis.kernel.html#r:555">r</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'<'_x">&lt;</a></span> <span class="id">0</span>)<span class="id">%R</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#mset">mset</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:554">U</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#r:555">r</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof29')">Proof.</span></div>
<div class="proofscript" id="proof29">
<span class="id">move=&gt;</span> <span class="id">r0;</span> <span class="id">apply/seteqP;</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">x/=</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">apply/negP;</span> <span class="id">rewrite</span> <span class="id">-leNgt</span> (<span class="id">@le_trans</span> <span class="id">_</span> <span class="id">_</span> <span class="id">0</span>)<span class="id">//</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.ltW">ltW</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="gt1_mset" class="id">
  <a name="gt1_mset" class="">gt1_mset</a>
</span> (<span id="U:556" class="id">
  <a name="U:556" class="">U</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#dist_salgebra_instance.T">T</a></span>) (<span id="r:557" class="id">
  <a name="r:557" class="">r</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#dist_salgebra_instance.R">R</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:556">U</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> (<span class="id">1</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'<'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#r:557">r</a></span>)<span class="id">%R</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#mset">mset</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:556">U</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#r:557">r</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_':'_x_']'">[set:</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#Probability.Exports.probability">probability</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#dist_salgebra_instance.T">T</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#dist_salgebra_instance.R">R]</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof30')">Proof.</span></div>
<div class="proofscript" id="proof30">
<span class="id">move=&gt;</span> <span class="id">mU</span> <span class="id">r1;</span> <span class="id">apply/seteqP;</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">x/=</span> <span class="id">_</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/mset/=</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_lt_trans">le_lt_trans</a></span> (<span class="id"><a href="mathcomp.analysis.measure.html#probability_le1">probability_le1</a></span> <span class="id">_</span> <span class="id">_</span>)).<br/>
Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span id="pset" class="id">
  <a name="pset" class="">pset</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> (<span class="id"><a href="mathcomp.analysis.measure.html#Probability.Exports.probability">probability</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#dist_salgebra_instance.T">T</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#dist_salgebra_instance.R">R</a></span>)) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_x_'|'_x_'in'_x_'&'_x_'in'_x_']'">[set</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#mset">mset</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:559">U</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#r:558">r</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_x_'|'_x_'in'_x_'&'_x_'in'_x_']'">|</a></span> <span id="r:558" class="id">
  <a name="r:558" class="">r</a>
</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'`['_x_','_x_']'">`[0%R,1%R]</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_x_'|'_x_'in'_x_'&'_x_'in'_x_']'">&amp;</a></span> <span id="U:559" class="id">
  <a name="U:559" class="">U</a>
</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable]</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="pprobability" class="id">
  <a name="pprobability" class="">pprobability</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#pset">pset</a></span>.<span class="id">-sigma</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::form_scope:'['_'the'_x_'of'_x_']'">[the</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.measure.html#salgebraType">salgebraType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#pset">pset]</a></span>.<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.kernel.html#dist_salgebra_instance">dist_salgebra_instance</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="kprobability" class="id">
  <a name="kprobability" class="">kprobability</a>
</span>.<br/>
<span class="vernacular">Context</span> <span id="d:560" class="id">
  <a name="d:560" class="">d</a>
</span> <span id="d':561" class="id">
  <a name="d':561" class="">d'</a>
</span> (<span id="X:562" class="id">
  <a name="X:562" class="">X</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:560">d</a></span>) (<span id="Y:563" class="id">
  <a name="Y:563" class="">Y</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':561">d'</a></span>) (<span id="R:564" class="id">
  <a name="R:564" class="">R</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="vernacular">Variable</span> <span id="kprobability.P" class="id">
  <a name="kprobability.P" class="">P</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kprobability.X">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#pprobability">pprobability</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kprobability.Y">Y</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kprobability.R">R</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="kprobability" class="id">
  <a name="kprobability" class="">kprobability</a>
</span> (<span id="mP:566" class="id">
  <a name="mP:566" class="">mP</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_':'_x_']'">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kprobability.X">X]</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kprobability.P">P</a></span>)<br/>
&nbsp;&nbsp;<span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kprobability.X">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#::ring_scope:'{'_'measure'_'set'_x_'->'_'\bar'_x_'}'">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kprobability.Y">Y</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#::ring_scope:'{'_'measure'_'set'_x_'->'_'\bar'_x_'}'">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kprobability.R">R}</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kprobability.P">P</a></span>.<br/>
<br/>
<span class="vernacular">Hypothesis</span> <span id="kprobability.mP" class="id">
  <a name="kprobability.mP" class="">mP</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_':'_x_']'">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kprobability.X">X]</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kprobability.P">P</a></span>.<br/>
<br/>
<span class="vernacular">Let</span> <span id="kprobability.measurable_fun_kprobability" class="id">
  <a name="kprobability.measurable_fun_kprobability" class="">measurable_fun_kprobability</a>
</span> <span id="U:568" class="id">
  <a name="U:568" class="">U</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:568">U</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_':'_x_']'">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kprobability.X">X]</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#kprobability">kprobability</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kprobability.mP">mP</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:x_'^~'_x">^~</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:568">U</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof31')">Proof.</span></div>
<div class="proofscript" id="proof31">
<span class="id">move=&gt;</span> <span class="id">mU</span>.<br/>
<span class="id">apply:</span> (<span class="id"><a href="mathcomp.analysis.measure.html#measurability">measurability</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#ErealGenInftyO.measurableE">ErealGenInftyO.measurableE</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kprobability.R">R</a></span>)) <span class="id">=&gt;</span> <span class="id">_</span> <span class="id">/=</span> <span class="id">-[_</span> <span class="id">[r</span> <span class="id">-&gt;]</span> <span class="id">&lt;-]</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setTI">setTI</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#preimage_itv_infty_o">preimage_itv_infty_o</a></span> <span class="id">-/</span>(<span class="id"><a href="mathcomp.analysis.kernel.html#kprobability.P">P</a></span> <span class="id">@^-1`</span> <span class="id"><a href="mathcomp.analysis.kernel.html#mset">mset</a></span> <span class="id">U</span> <span class="id">r</span>).<br/>
<span class="id">have</span> <span class="id">[r0|r0]</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.TotalTheory.leP">leP</a></span> <span class="id">0%R</span> <span class="id">r;</span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.kernel.html#lt0_mset">lt0_mset//</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#preimage_set0">preimage_set0</a></span>.<br/>
<span class="id">have</span> <span class="id">[r1|r1]</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.TotalTheory.leP">leP</a></span> <span class="id">r</span> <span class="id">1%R;</span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.kernel.html#gt1_mset">gt1_mset//</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#preimage_setT">preimage_setT</a></span>.<br/>
<span class="id">move:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kprobability.mP">mP</a></span> <span class="id">=&gt;</span> <span class="id">/</span>(<span class="id">_</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT">measurableT</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#mset">mset</a></span> <span class="id">U</span> <span class="id">r</span>))<span class="id">;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setTI">setTI;</a></span> <span class="id">apply</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#sub_sigma_algebra">sub_sigma_algebra;</a></span> <span class="gallina-kwd">exists</span> <span class="id">r</span> <span class="id">=&gt;</span> <span class="id">/=;</span> <span class="id">[rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#in_itv">in_itv/=</a></span> <span class="id">r0|exists</span> <span class="id">U]</span>.<br/>
Qed.</div>
<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id">@isKernel</span>.<span class="id">Build</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kprobability.X">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kprobability.Y">Y</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kprobability.R">R</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#kprobability">kprobability</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kprobability.mP">mP</a></span>) <span class="id"><a href="mathcomp.analysis.kernel.html#kprobability.measurable_fun_kprobability">measurable_fun_kprobability</a></span>.<br/>
<br/>
<span class="vernacular">Let</span> <span id="kprobability.kprobability_prob" class="id">
  <a name="kprobability.kprobability_prob" class="">kprobability_prob</a>
</span> <span id="x:569" class="id">
  <a name="x:569" class="">x</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kprobability">kprobability</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kprobability.mP">mP</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:569">x</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_':'_x_']'">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kprobability.Y">Y]</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id">1</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof32')">Proof.</span></div>
<div class="proofscript" id="proof32">
 <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/kprobability/=</span> <span class="id"><a href="mathcomp.analysis.measure.html#probability_setT">probability_setT</a></span>. Qed.</div>
<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id">@Kernel_isProbability</span>.<span class="id">Build</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kprobability.X">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kprobability.Y">Y</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kprobability.R">R</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#kprobability">kprobability</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kprobability.mP">mP</a></span>) <span class="id"><a href="mathcomp.analysis.kernel.html#kprobability.kprobability_prob">kprobability_prob</a></span>.<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kprobability">kprobability</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="kadd" class="id">
  <a name="kadd" class="">kadd</a>
</span>.<br/>
<span class="vernacular">Context</span> <span id="d:570" class="id">
  <a name="d:570" class="">d</a>
</span> <span id="d':571" class="id">
  <a name="d':571" class="">d'</a>
</span> (<span id="X:572" class="id">
  <a name="X:572" class="">X</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:570">d</a></span>) (<span id="Y:573" class="id">
  <a name="Y:573" class="">Y</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':571">d'</a></span>) (<span id="R:574" class="id">
  <a name="R:574" class="">R</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="vernacular">Variables</span> <span id="kadd.k1" class="id">
  <a name="kadd.k1" class="">k1</a>
</span> <span id="kadd.k2" class="id">
  <a name="kadd.k2" class="">k2</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kadd.R">R</a></span>.<span class="id">-ker</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kadd.X">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#:::x_'.-ker'_x_'~>'_x">~&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kadd.Y">Y</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="kadd" class="id">
  <a name="kadd" class="">kadd</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kadd.X">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#::ring_scope:'{'_'measure'_'set'_x_'->'_'\bar'_x_'}'">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kadd.Y">Y</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#::ring_scope:'{'_'measure'_'set'_x_'->'_'\bar'_x_'}'">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kadd.R">R}</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">fun</span> <span id="x:577" class="id">
  <a name="x:577" class="">x</a>
</span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::form_scope:'['_'the'_x_'of'_x_']'">[the</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#Measure.Exports.measure">measure</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.measure.html#measure_add">measure_add</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#kadd.k1">k1</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:577">x</a></span>) (<span class="id"><a href="mathcomp.analysis.kernel.html#kadd.k2">k2</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:577">x</a></span>)<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::form_scope:'['_'the'_x_'of'_x_']'">]</a></span>.<br/>
<br/>
<span class="vernacular">Let</span> <span id="kadd.measurable_fun_kadd" class="id">
  <a name="kadd.measurable_fun_kadd" class="">measurable_fun_kadd</a>
</span> <span id="U:578" class="id">
  <a name="U:578" class="">U</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:578">U</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_':'_x_']'">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kadd.X">X]</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#kadd">kadd</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:x_'^~'_x">^~</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:578">U</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof33')">Proof.</span></div>
<div class="proofscript" id="proof33">
<span class="id">move=&gt;</span> <span class="id">mU;</span> <span class="id">rewrite</span> <span class="id">/kadd</span>.<br/>
<span class="id">rewrite</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> (<span class="gallina-kwd">fun</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id">_</span>) <span class="id">=</span> (<span class="gallina-kwd">fun</span> <span id="x:581" class="id"><span id="x:580" class="id"><span id="x:579" class="id">
  <a name="x:581" class="">x</a>
</span></span></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kadd.k1">k1</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:579">x</a></span> <span class="id">U</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'+'_x">+</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kadd.k2">k2</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:579">x</a></span> <span class="id">U</span>))<span class="id">;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply/funext</span> <span class="id">=&gt;</span> <span class="id">x;</span> <span class="id">rewrite</span> <span class="id">-measure_addE</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_funD">emeasurable_funD;</a></span> <span class="id">exact/measurable_kernel</span>.<br/>
Qed.</div>
<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id">@isKernel</span>.<span class="id">Build</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kadd">kadd</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kadd.measurable_fun_kadd">measurable_fun_kadd</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kadd">kadd</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="sfkadd" class="id">
  <a name="sfkadd" class="">sfkadd</a>
</span>.<br/>
<span class="vernacular">Context</span> <span id="d:582" class="id">
  <a name="d:582" class="">d</a>
</span> <span id="d':583" class="id">
  <a name="d':583" class="">d'</a>
</span> (<span id="X:584" class="id">
  <a name="X:584" class="">X</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:582">d</a></span>) (<span id="Y:585" class="id">
  <a name="Y:585" class="">Y</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':583">d'</a></span>) (<span id="R:586" class="id">
  <a name="R:586" class="">R</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="vernacular">Variables</span> <span id="sfkadd.k1" class="id">
  <a name="sfkadd.k1" class="">k1</a>
</span> <span id="sfkadd.k2" class="id">
  <a name="sfkadd.k2" class="">k2</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfkadd.R">R</a></span>.<span class="id">-sfker</span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfkadd.X">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#:::x_'.-sfker'_x_'~>'_x">~&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfkadd.Y">Y</a></span>.<br/>
<br/>
<span class="vernacular">Let</span> <span id="sfkadd.sfinite_kadd" class="id">
  <a name="sfkadd.sfinite_kadd" class="">sfinite_kadd</a>
</span> <span class="id">:</span> <span class="gallina-kwd">exists2</span> <span id="k_:591" class="id"><span id="k_:589" class="id">
  <a name="k_:591" class="">k_</a>
</span></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:'exists2'_x_':'_x_','_x_'&'_x">:</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#sfkadd.R">R</a></span>.<span class="id">-ker</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#:::x_'.-ker'_x_'~>'_x">~&gt;</a></span> <span class="id">_</span>)<span class="id">^nat,</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="n:590" class="id">
  <a name="n:590" class="">n,</a>
</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measure_fam_uub">measure_fam_uub</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#k_:589">k_</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#n:590">n</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:'exists2'_x_':'_x_','_x_'&'_x">&amp;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:592" class="id">
  <a name="x:592" class="">x</a>
</span> <span id="U:593" class="id">
  <a name="U:593" class="">U,</a>
</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:593">U</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.kernel.html#kadd">kadd</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfkadd.k1">k1</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfkadd.k2">k2</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:592">x</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:593">U</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#mseries">mseries</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#k_:591">k_</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:x_'^~'_x">^~</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:592">x</a></span>) <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:593">U</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof34')">Proof.</span></div>
<div class="proofscript" id="proof34">
<span class="id">have</span> <span class="id">[f1</span> <span class="id">hk1]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfinite_kernel">sfinite_kernel</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfkadd.k1">k1;</a></span> <span class="id">have</span> <span class="id">[f2</span> <span class="id">hk2]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfinite_kernel">sfinite_kernel</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfkadd.k2">k2</a></span>.<br/>
<span class="gallina-kwd">exists</span> (<span class="gallina-kwd">fun</span> <span id="n:595" class="id"><span id="n:594" class="id">
  <a name="n:595" class="">n</a>
</span></span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::form_scope:'['_'the'_x_'of'_x_']'">[the</a></span> <span class="id">_</span>.<span class="id">-ker</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#:::x_'.-ker'_x_'~>'_x">~&gt;</a></span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kadd">kadd</a></span> (<span class="id">f1</span> <span class="id"><a href="mathcomp.analysis.kernel.html#n:594">n</a></span>) (<span class="id">f2</span> <span class="id"><a href="mathcomp.analysis.kernel.html#n:594">n</a></span>)<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::form_scope:'['_'the'_x_'of'_x_']'">]</a></span>).<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">n</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">[r1</span> <span class="id">f1r1]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measure_uub">measure_uub</a></span> (<span class="id">f1</span> <span class="id">n</span>).<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">[r2</span> <span class="id">f2r2]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measure_uub">measure_uub</a></span> (<span class="id">f2</span> <span class="id">n</span>).<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> (<span class="id">r1</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'+'_x">+</a></span> <span class="id">r2</span>)<span class="id">%R</span> <span class="id">=&gt;</span> <span class="id">x/=</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/msum</span> <span class="id">!big_ord_recr/=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.bigop.html#big_ord0">big_ord0</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#add0e">add0e</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinD">EFinD</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_add">lte_add</a></span>.<br/>
<span class="id">move=&gt;</span> <span class="id">x</span> <span class="id">U</span> <span class="id">mU</span>.<br/>
<span class="id">rewrite</span> <span class="id">/kadd/=</span> <span class="id">-/</span>(<span class="id"><a href="mathcomp.analysis.measure.html#measure_add">measure_add</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#sfkadd.k1">k1</a></span> <span class="id">x</span>) (<span class="id"><a href="mathcomp.analysis.kernel.html#sfkadd.k2">k2</a></span> <span class="id">x</span>)) <span class="id"><a href="mathcomp.analysis.measure.html#measure_addE">measure_addE</a></span> <span class="id">hk1//=</span> <span class="id">hk2//=</span>.<br/>
<span class="id">rewrite</span> <span class="id">/mseries</span> <span class="id">-nneseriesD//;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.sequences.html#eq_eseriesr">eq_eseriesr</a></span> <span class="id">=&gt;</span> <span class="id">n</span> <span class="id">_</span> <span class="id">/=</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-/</span>(<span class="id"><a href="mathcomp.analysis.measure.html#measure_add">measure_add</a></span> (<span class="id">f1</span> <span class="id">n</span> <span class="id">x</span>) (<span class="id">f2</span> <span class="id">n</span> <span class="id">x</span>)) <span class="id"><a href="mathcomp.analysis.measure.html#measure_addE">measure_addE</a></span>.<br/>
Qed.</div>
<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span id="t:596" class="id">
  <a name="t:596" class="">t</a>
</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.kernel.html#Build">Kernel_isSFinite_subdef.Build</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfkadd.R">R</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#kadd">kadd</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfkadd.k1">k1</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfkadd.k2">k2</a></span>) <span class="id"><a href="mathcomp.analysis.kernel.html#sfkadd.sfinite_kadd">sfinite_kadd</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfkadd">sfkadd</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="fkadd" class="id">
  <a name="fkadd" class="">fkadd</a>
</span>.<br/>
<span class="vernacular">Context</span> <span id="d:597" class="id">
  <a name="d:597" class="">d</a>
</span> <span id="d':598" class="id">
  <a name="d':598" class="">d'</a>
</span> (<span id="X:599" class="id">
  <a name="X:599" class="">X</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:597">d</a></span>) (<span id="Y:600" class="id">
  <a name="Y:600" class="">Y</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':598">d'</a></span>) (<span id="R:601" class="id">
  <a name="R:601" class="">R</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="vernacular">Variables</span> <span id="fkadd.k1" class="id">
  <a name="fkadd.k1" class="">k1</a>
</span> <span id="fkadd.k2" class="id">
  <a name="fkadd.k2" class="">k2</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#fkadd.R">R</a></span>.<span class="id">-fker</span> <span class="id"><a href="mathcomp.analysis.kernel.html#fkadd.X">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#:::x_'.-fker'_x_'~>'_x">~&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#fkadd.Y">Y</a></span>.<br/>
<br/>
<span class="vernacular">Let</span> <span id="fkadd.kadd_finite_uub" class="id">
  <a name="fkadd.kadd_finite_uub" class="">kadd_finite_uub</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measure_fam_uub">measure_fam_uub</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#kadd">kadd</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#fkadd.k1">k1</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#fkadd.k2">k2</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof35')">Proof.</span></div>
<div class="proofscript" id="proof35">
<span class="id">have</span> <span class="id">[f1</span> <span class="id">hk1]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measure_uub">measure_uub</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#fkadd.k1">k1;</a></span> <span class="id">have</span> <span class="id">[f2</span> <span class="id">hk2]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measure_uub">measure_uub</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#fkadd.k2">k2</a></span>.<br/>
<span class="gallina-kwd">exists</span> (<span class="id">f1</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'+'_x">+</a></span> <span class="id">f2</span>)<span class="id">%R</span> <span class="id">=&gt;</span> <span class="id">x;</span> <span class="id">rewrite</span> <span class="id">/kadd</span> <span class="id">/=</span>.<br/>
<span class="id">rewrite</span> <span class="id">-/</span>(<span class="id"><a href="mathcomp.analysis.measure.html#measure_add">measure_add</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#fkadd.k1">k1</a></span> <span class="id">x</span>) (<span class="id"><a href="mathcomp.analysis.kernel.html#fkadd.k2">k2</a></span> <span class="id">x</span>)).<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.measure.html#measure_addE">measure_addE</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinD">EFinD;</a></span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_add">lte_add</a></span>.<br/>
Qed.</div>
<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span id="t:604" class="id">
  <a name="t:604" class="">t</a>
</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.kernel.html#Build">Kernel_isFinite.Build</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#fkadd.R">R</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#kadd">kadd</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#fkadd.k1">k1</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#fkadd.k2">k2</a></span>) <span class="id"><a href="mathcomp.analysis.kernel.html#fkadd.kadd_finite_uub">kadd_finite_uub</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.kernel.html#fkadd">fkadd</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="measurable_fun_mnormalize" class="id">
  <a name="measurable_fun_mnormalize" class="">measurable_fun_mnormalize</a>
</span> <span id="d:605" class="id">
  <a name="d:605" class="">d</a>
</span> <span id="d':606" class="id">
  <a name="d':606" class="">d'</a>
</span> (<span id="X:607" class="id">
  <a name="X:607" class="">X</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:605">d</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="Y:608" class="id">
  <a name="Y:608" class="">Y</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':606">d'</a></span>) (<span id="R:609" class="id">
  <a name="R:609" class="">R</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) (<span id="k:610" class="id">
  <a name="k:610" class="">k</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#R:609">R</a></span>.<span class="id">-ker</span> <span class="id"><a href="mathcomp.analysis.kernel.html#X:607">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#:::x_'.-ker'_x_'~>'_x">~&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Y:608">Y</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_':'_x_']'">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#X:607">X]</a></span> (<span class="gallina-kwd">fun</span> <span id="x:611" class="id">
  <a name="x:611" class="">x</a>
</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::form_scope:'['_'the'_x_'of'_x_']'">[the</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#Probability.Exports.probability">probability</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.measure.html#mnormalize">mnormalize</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#k:610">k</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:611">x</a></span>) <span class="id"><a href="mathcomp.classical.classical_sets.html#point">point]</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#pprobability">pprobability</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Y:608">Y</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#R:609">R</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof36')">Proof.</span></div>
<div class="proofscript" id="proof36">
<span class="id">apply:</span> (<span class="id">@measurability</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span><br/>
&nbsp;&nbsp;(<span class="id">@pset</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#pprobability">pprobability</a></span> <span class="id">Y</span> <span class="id">R</span>)))) <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
<span class="id">move=&gt;</span> <span class="id">_</span> <span class="id">-[_</span> <span class="id">[r</span> <span class="id">r01]</span> <span class="id">[Ys</span> <span class="id">mYs</span> <span class="id">&lt;-]]</span> <span class="id">&lt;-</span>.<br/>
<span class="id">rewrite</span> <span class="id">/mnormalize</span> <span class="id">/mset</span> <span class="id">/preimage/=</span>.<br/>
<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#emeasurable_fun_infty_o">emeasurable_fun_infty_o</a></span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
<span class="id">rewrite</span> <span class="id">/mnormalize/=</span>.<br/>
<span class="id">rewrite</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> (<span class="gallina-kwd">fun</span> <span id="x:616" class="id"><span id="x:614" class="id"><span id="x:612" class="id">
  <a name="x:616" class="">x</a>
</span></span></span> <span class="id">=&gt;</span> <span class="id">_</span>) <span class="id">=</span> (<span class="gallina-kwd">fun</span> <span id="x:617" class="id"><span id="x:615" class="id"><span id="x:613" class="id">
  <a name="x:617" class="">x</a>
</span></span></span> <span class="id">=&gt;</span> <span class="gallina-kwd">if</span> (<span class="id">k</span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:613">x</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#::bool_scope:x_'=='_x">==</a></span> <span class="id">0</span>) <span class="id">||</span> (<span class="id">k</span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:613">x</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#::bool_scope:x_'=='_x">==</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'+oo'">+oo</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">then</span> <span class="id"><a href="mathcomp.analysis.measure.html#::ring_scope:'\d_'_x">\d_point</a></span> <span class="id">Ys</span> <span class="gallina-kwd">else</span> <span class="id">k</span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:613">x</a></span> <span class="id">Ys</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'*'_x">*</a></span> ((<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (<span class="id">k</span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:613">x</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span>))<span class="id">^-1</span>)<span class="id">%:E</span>))<span class="id">;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply/funext</span> <span class="id">=&gt;</span> <span class="id">x/=;</span> <span class="id">case:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span>.<br/>
<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun_if">measurable_fun_if</a></span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
<span class="id">-</span> <span class="id">apply:</span> (<span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun_bool">measurable_fun_bool</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#true">true</a></span>) <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id">_</span> <span class="id">@^-1`</span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_x_'|'_x_']'">[set</a></span> <span id="t:622" class="id"><span id="t:620" class="id"><span id="t:618" class="id">
  <a name="t:622" class="">t</a>
</span></span></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_x_'|'_x_']'">|</a></span> <span class="id">k</span> <span class="id"><a href="mathcomp.analysis.kernel.html#t:618">t</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#::bool_scope:x_'=='_x">==</a></span> <span class="id">0]</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:x_'`|`'_x">`|`</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_x_'|'_x_']'">[set</a></span> <span id="t:623" class="id"><span id="t:621" class="id"><span id="t:619" class="id">
  <a name="t:623" class="">t</a>
</span></span></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_x_'|'_x_']'">|</a></span> <span class="id">k</span> <span class="id"><a href="mathcomp.analysis.kernel.html#t:619">t</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#::bool_scope:x_'=='_x">==</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'+oo'">+oo]</a></span>)<span class="id">;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply/seteqP;</span> <span class="id">split=&gt;</span> <span class="id">x</span> <span class="id">/=</span> <span class="id">/orP//</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableU">measurableU;</a></span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kernel_measurable_eq_cst">kernel_measurable_eq_cst</a></span>.<br/>
<span class="id">-</span> <span class="id">apply/emeasurable_funM;</span> <span class="id">first</span> <span class="id">exact/measurable_funTS/measurable_kernel</span>.<br/>
&nbsp;&nbsp;<span class="id">apply/EFin_measurable_fun;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setTI">setTI</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> (<span class="id">@measurable_comp</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_x_':'_x_'|'_x_']'">[set</a></span> <span id="r:625" class="id"><span id="r:624" class="id">
  <a name="r:625" class="">r</a>
</span></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_x_':'_x_'|'_x_']'">:</a></span> <span class="id">R</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_x_':'_x_'|'_x_']'">|</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#r:624">r</a></span> <span class="id">!=</span> <span class="id">0%R]</span>).<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#open_measurable">open_measurable</a></span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">/=</span> <span class="id">_</span> <span class="id">[x</span> <span class="id">/norP[s0</span> <span class="id">soo]]</span> <span class="id">&lt;-;</span> <span class="id">rewrite</span> <span class="id">-eqe</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK</a></span> <span class="id">?ge0_fin_numE</span> <span class="id">?ltey</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#open_continuous_measurable_fun">open_continuous_measurable_fun</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">apply/in_setP</span> <span class="id">=&gt;</span> <span class="id">x</span> <span class="id">/=</span> <span class="id">x0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#inv_continuous">inv_continuous</a></span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact/measurable_funS/measurable_kernel</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Section</span> <span id="knormalize" class="id">
  <a name="knormalize" class="">knormalize</a>
</span>.<br/>
<span class="vernacular">Context</span> <span id="d:626" class="id">
  <a name="d:626" class="">d</a>
</span> <span id="d':627" class="id">
  <a name="d':627" class="">d'</a>
</span> (<span id="X:628" class="id">
  <a name="X:628" class="">X</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:626">d</a></span>) (<span id="Y:629" class="id">
  <a name="Y:629" class="">Y</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':627">d'</a></span>) (<span id="R:630" class="id">
  <a name="R:630" class="">R</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="vernacular">Variable</span> <span id="knormalize.f" class="id">
  <a name="knormalize.f" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#knormalize.R">R</a></span>.<span class="id">-ker</span> <span class="id"><a href="mathcomp.analysis.kernel.html#knormalize.X">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#:::x_'.-ker'_x_'~>'_x">~&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#knormalize.Y">Y</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="knormalize" class="id">
  <a name="knormalize" class="">knormalize</a>
</span> (<span id="P:632" class="id">
  <a name="P:632" class="">P</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Probability.Exports.probability">probability</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#knormalize.Y">Y</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#knormalize.R">R</a></span>) <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#knormalize.X">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#::ring_scope:'{'_'measure'_'set'_x_'->'_'\bar'_x_'}'">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.kernel.html#knormalize.Y">Y</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#::ring_scope:'{'_'measure'_'set'_x_'->'_'\bar'_x_'}'">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.kernel.html#knormalize.R">R}</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">fun</span> <span id="x:633" class="id">
  <a name="x:633" class="">x</a>
</span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::form_scope:'['_'the'_x_'of'_x_']'">[the</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#Measure.Exports.measure">measure</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.measure.html#mnormalize">mnormalize</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#knormalize.f">f</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:633">x</a></span>) <span class="id"><a href="mathcomp.analysis.kernel.html#P:632">P]</a></span>.<br/>
<br/>
<span class="vernacular">Variable</span> <span id="knormalize.P" class="id">
  <a name="knormalize.P" class="">P</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Probability.Exports.probability">probability</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#knormalize.Y">Y</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#knormalize.R">R</a></span>.<br/>
<br/>
<span class="vernacular">Let</span> <span id="knormalize.measurable_fun_knormalize" class="id">
  <a name="knormalize.measurable_fun_knormalize" class="">measurable_fun_knormalize</a>
</span> <span id="U:635" class="id">
  <a name="U:635" class="">U</a>
</span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:635">U</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_':'_x_']'">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#knormalize.X">X]</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#knormalize">knormalize</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#knormalize.P">P</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:x_'^~'_x">^~</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:635">U</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof37')">Proof.</span></div>
<div class="proofscript" id="proof37">
<span class="id">move=&gt;</span> <span class="id">mU;</span> <span class="id">rewrite</span> <span class="id">/knormalize/=</span> <span class="id">/mnormalize</span> <span class="id">/=</span>.<br/>
<span class="id">rewrite</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> (<span class="gallina-kwd">fun</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id">_</span>) <span class="id">=</span> (<span class="gallina-kwd">fun</span> <span id="x:638" class="id"><span id="x:637" class="id"><span id="x:636" class="id">
  <a name="x:638" class="">x</a>
</span></span></span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">if</span> <span class="id"><a href="mathcomp.analysis.kernel.html#knormalize.f">f</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:636">x</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#::bool_scope:x_'=='_x">==</a></span> <span class="id">0</span> <span class="gallina-kwd">then</span> <span class="id"><a href="mathcomp.analysis.kernel.html#knormalize.P">P</a></span> <span class="id">U</span> <span class="gallina-kwd">else</span> <span class="gallina-kwd">if</span> <span class="id"><a href="mathcomp.analysis.kernel.html#knormalize.f">f</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:636">x</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#::bool_scope:x_'=='_x">==</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'+oo'">+oo</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="mathcomp.analysis.kernel.html#knormalize.P">P</a></span> <span class="id">U</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">else</span> <span class="id"><a href="mathcomp.analysis.kernel.html#knormalize.f">f</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:636">x</a></span> <span class="id">U</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'*'_x">*</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#knormalize.f">f</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:636">x</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span>))<span class="id">^-1%:E</span>))<span class="id">;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">apply/funext</span> <span class="id">=&gt;</span> <span class="id">x;</span> <span class="id">case:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span> <span class="id">=&gt;</span> <span class="id">[/orP[-&gt;//|-&gt;]|];</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">case:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negb_or">negb_or=&gt;</a></span> <span class="id">/andP[/negbTE</span> <span class="id">-&gt;</span> <span class="id">/negbTE</span> <span class="id">-&gt;]</span>.<br/>
<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun_if">measurable_fun_if</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">[exact:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kernel_measurable_fun_eq_cst">kernel_measurable_fun_eq_cst|]</a></span>.<br/>
<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun_if">measurable_fun_if</a></span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
<span class="id">-</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setTI">setTI</a></span> <span class="id">[X</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#knormalize.X">X]</a></span>(<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_x_'|'_x_']'">[set</a></span> <span id="t:642" class="id"><span id="t:640" class="id"><span id="t:639" class="id">
  <a name="t:642" class="">t</a>
</span></span></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_x_'|'_x_']'">|</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#knormalize.f">f</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#t:639">t</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id">!=</span> <span class="id">0]</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kernel_measurable_neq_cst">kernel_measurable_neq_cst</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply/seteqP;</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">[x</span> <span class="id">/negbT//|x</span> <span class="id">/negbTE]</span>.<br/>
<span class="id">-</span> <span class="id">apply:</span> (<span class="id">@measurable_funS</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span>) <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kernel_measurable_fun_eq_cst">kernel_measurable_fun_eq_cst</a></span>.<br/>
<span class="id">-</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_funM">emeasurable_funM</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">have</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_kernel">measurable_kernel</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#knormalize.f">f</a></span> <span class="id">U</span> <span class="id">mU;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_funS">measurable_funS</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply/EFin_measurable_fun</span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> (<span class="id">@measurable_comp</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_x_':'_x_'|'_x_']'">[set</a></span> <span id="r:644" class="id"><span id="r:643" class="id">
  <a name="r:644" class="">r</a>
</span></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_x_':'_x_'|'_x_']'">:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#knormalize.R">R</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_x_':'_x_'|'_x_']'">|</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#r:643">r</a></span> <span class="id">!=</span> <span class="id">0%R]</span>) <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#open_measurable">open_measurable</a></span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">move=&gt;</span> <span class="id">/=</span> <span class="id">r</span> <span class="id">[t]</span> <span class="id">[]</span> <span class="id">[_</span> <span class="id">ft0]</span> <span class="id">ftoo</span> <span class="id">ftr;</span> <span class="id">apply/eqP</span> <span class="id">=&gt;</span> <span class="id">r0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move:</span> (<span class="id">ftr</span>)<span class="id">;</span> <span class="id">rewrite</span> <span class="id">r0</span> <span class="id">=&gt;</span> <span class="id">/eqP;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine_eq0">fine_eq0</a></span> <span class="id">?ft0//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ge0_fin_numE">ge0_fin_numE//</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.lt_neqAle">lt_neqAle</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leey">leey</a></span> <span class="id">ftoo</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#open_continuous_measurable_fun">open_continuous_measurable_fun</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">apply/in_setP</span> <span class="id">=&gt;</span> <span class="id">x</span> <span class="id">/=</span> <span class="id">x0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#inv_continuous">inv_continuous</a></span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span> <span class="id">=&gt;</span> <span class="id">//=</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">have</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_kernel">measurable_kernel</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#knormalize.f">f</a></span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT">measurableT;</a></span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_funS">measurable_funS</a></span>.<br/>
Qed.</div>
<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.kernel.html#Build">isKernel.Build</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#knormalize.R">R</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#knormalize">knormalize</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#knormalize.P">P</a></span>)<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.kernel.html#knormalize.measurable_fun_knormalize">measurable_fun_knormalize</a></span>.<br/>
<br/>
<span class="vernacular">Let</span> <span id="knormalize.knormalize1" class="id">
  <a name="knormalize.knormalize1" class="">knormalize1</a>
</span> <span id="x:645" class="id">
  <a name="x:645" class="">x</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#knormalize">knormalize</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#knormalize.P">P</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:645">x</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_':'_x_']'">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#knormalize.Y">Y]</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id">1</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof38')">Proof.</span></div>
<div class="proofscript" id="proof38">
 <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/knormalize/=</span> <span class="id"><a href="mathcomp.analysis.measure.html#probability_setT">probability_setT</a></span>. Qed.</div>
<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id">@Kernel_isProbability</span>.<span class="id">Build</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.kernel.html#knormalize">knormalize</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#knormalize.P">P</a></span>) <span class="id"><a href="mathcomp.analysis.kernel.html#knormalize.knormalize1">knormalize1</a></span>.<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.kernel.html#knormalize">knormalize</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="kcomp_def" class="id">
  <a name="kcomp_def" class="">kcomp_def</a>
</span>.<br/>
<span class="vernacular">Context</span> <span id="d1:646" class="id">
  <a name="d1:646" class="">d1</a>
</span> <span id="d2:647" class="id">
  <a name="d2:647" class="">d2</a>
</span> <span id="d3:648" class="id">
  <a name="d3:648" class="">d3</a>
</span> (<span id="X:649" class="id">
  <a name="X:649" class="">X</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d1:646">d1</a></span>) (<span id="Y:650" class="id">
  <a name="Y:650" class="">Y</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d2:647">d2</a></span>)<br/>
&nbsp;&nbsp;(<span id="Z:651" class="id">
  <a name="Z:651" class="">Z</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d3:648">d3</a></span>) (<span id="R:652" class="id">
  <a name="R:652" class="">R</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="vernacular">Variable</span> <span id="kcomp_def.l" class="id">
  <a name="kcomp_def.l" class="">l</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_def.X">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#::ring_scope:'{'_'measure'_'set'_x_'->'_'\bar'_x_'}'">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_def.Y">Y</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#::ring_scope:'{'_'measure'_'set'_x_'->'_'\bar'_x_'}'">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_def.R">R}</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="kcomp_def.k" class="id">
  <a name="kcomp_def.k" class="">k</a>
</span> <span class="id">:</span> (<span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_def.X">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#::type_scope:x_'*'_x">*</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_def.Y">Y</a></span>)<span class="id">%type</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#::ring_scope:'{'_'measure'_'set'_x_'->'_'\bar'_x_'}'">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_def.Z">Z</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#::ring_scope:'{'_'measure'_'set'_x_'->'_'\bar'_x_'}'">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_def.R">R}</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="kcomp" class="id">
  <a name="kcomp" class="">kcomp</a>
</span> <span id="x:655" class="id">
  <a name="x:655" class="">x</a>
</span> <span id="U:656" class="id">
  <a name="U:656" class="">U</a>
</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#::ereal_scope:'\int'_'['_x_']_'_x_x">\int[l</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:655">x]_y</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_def.k">k</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#x:655">x,</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#y:657">y</a></span>) <span class="id"><a href="mathcomp.analysis.kernel.html#U:656">U</a></span>.<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_def">kcomp_def</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="kcomp_is_measure" class="id">
  <a name="kcomp_is_measure" class="">kcomp_is_measure</a>
</span>.<br/>
<span class="vernacular">Context</span> <span id="d1:658" class="id">
  <a name="d1:658" class="">d1</a>
</span> <span id="d2:659" class="id">
  <a name="d2:659" class="">d2</a>
</span> <span id="d3:660" class="id">
  <a name="d3:660" class="">d3</a>
</span> (<span id="X:661" class="id">
  <a name="X:661" class="">X</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d1:658">d1</a></span>) (<span id="Y:662" class="id">
  <a name="Y:662" class="">Y</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d2:659">d2</a></span>)<br/>
&nbsp;(<span id="Z:663" class="id">
  <a name="Z:663" class="">Z</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d3:660">d3</a></span>) (<span id="R:664" class="id">
  <a name="R:664" class="">R</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="vernacular">Variable</span> <span id="kcomp_is_measure.l" class="id">
  <a name="kcomp_is_measure.l" class="">l</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_is_measure.R">R</a></span>.<span class="id">-ker</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_is_measure.X">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#:::x_'.-ker'_x_'~>'_x">~&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_is_measure.Y">Y</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="kcomp_is_measure.k" class="id">
  <a name="kcomp_is_measure.k" class="">k</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_is_measure.R">R</a></span>.<span class="id">-ker</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::form_scope:'['_'the'_x_'of'_x_']'">[the</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_is_measure.X">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#::type_scope:x_'*'_x">*</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_is_measure.Y">Y]</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#:::x_'.-ker'_x_'~>'_x">~&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_is_measure.Z">Z</a></span>.<br/>
<br/>
<span class="vernacular">Let</span> <span id="kcomp_is_measure.kcomp0" class="id">
  <a name="kcomp_is_measure.kcomp0" class="">kcomp0</a>
</span> <span id="x:667" class="id">
  <a name="x:667" class="">x</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp">kcomp</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_is_measure.l">l</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_is_measure.k">k</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:667">x</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id">0</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof39')">Proof.</span></div>
<div class="proofscript" id="proof39">
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/kcomp</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> <span class="id">0</span>)) <span class="id">?integral0//</span> <span class="id">=&gt;</span> <span class="id">y</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.measure.html#measure0">measure0</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="kcomp_is_measure.kcomp_ge0" class="id">
  <a name="kcomp_is_measure.kcomp_ge0" class="">kcomp_ge0</a>
</span> <span id="x:668" class="id">
  <a name="x:668" class="">x</a>
</span> <span id="U:669" class="id">
  <a name="U:669" class="">U</a>
</span> <span class="id">:</span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'<='_x">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp">kcomp</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_is_measure.l">l</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_is_measure.k">k</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:668">x</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:669">U</a></span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof40')">Proof.</span></div>
<div class="proofscript" id="proof40">
 <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ge0">integral_ge0</a></span>. Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="kcomp_is_measure.kcomp_sigma_additive" class="id">
  <a name="kcomp_is_measure.kcomp_sigma_additive" class="">kcomp_sigma_additive</a>
</span> <span id="x:670" class="id">
  <a name="x:670" class="">x</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#semi_sigma_additive">semi_sigma_additive</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#kcomp">kcomp</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_is_measure.l">l</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_is_measure.k">k</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:670">x</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof41')">Proof.</span></div>
<div class="proofscript" id="proof41">
<span class="id">move=&gt;</span> <span class="id">U</span> <span class="id">mU</span> <span class="id">tU</span> <span class="id">mUU;</span> <span class="id">rewrite</span> <span class="id">[X</span> <span class="gallina-kwd">in</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'-->'_x">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_is_measure.X">X]</a></span>(<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#::ereal_scope:'\int'_'['_x_']_'_x_x">\int[l</a></span> <span class="id">x]_y</span> (<span class="id"><a href="mathcomp.analysis.sequences.html#::ereal_scope:'\sum_'_'('_x_'<oo'_')'_x">\sum_</a></span>(<span id="n:692" class="id"><span id="n:691" class="id"><span id="n:690" class="id"><span id="n:689" class="id"><span id="n:688" class="id"><span id="n:687" class="id"><span id="n:684" class="id"><span id="n:683" class="id"><span id="n:682" class="id"><span id="n:681" class="id"><span id="n:680" class="id"><span id="n:679" class="id"><span id="n:677" class="id"><span id="n:676" class="id"><span id="n:675" class="id"><span id="n:674" class="id"><span id="n:673" class="id"><span id="n:672" class="id">
  <a name="n:692" class="">n</a>
</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span> <span class="id"><a href="mathcomp.analysis.sequences.html#::ereal_scope:'\sum_'_'('_x_'<oo'_')'_x">&lt;oo</a></span>) <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_is_measure.k">k</a></span> (<span class="id">x,</span> <span class="id"><a href="mathcomp.analysis.kernel.html#y:671">y</a></span>) (<span class="id">U</span> <span class="id"><a href="mathcomp.analysis.kernel.html#n:672">n</a></span>)))<span class="id">;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> <span class="id">=&gt;</span> <span class="id">V</span> <span class="id">_</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply/esym/cvg_lim</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact/measure_semi_sigma_additive</span>.<br/>
<span class="id">apply/cvg_closeP;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.sequences.html#is_cvg_nneseries">is_cvg_nneseries</a></span> <span class="id">=&gt;</span> <span class="id">n</span> <span class="id">_;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ge0">integral_ge0</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.topology.html#closeE">closeE//</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_nneseries">integral_nneseries//</a></span> <span class="id">=&gt;</span> <span class="id">n</span>.<br/>
<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#measurable_kernel">measurable_kernel</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_is_measure.k">k</a></span> <span class="id">_</span> (<span class="id">mU</span> <span class="id">n</span>)) <span class="id">_</span>.<br/>
Qed.</div>
<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span id="x:693" class="id">
  <a name="x:693" class="">x</a>
</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.measure.html#isMeasure.Build">isMeasure.Build</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_is_measure.R">R</a></span><br/>
&nbsp;&nbsp;(<span class="id"><a href="mathcomp.analysis.kernel.html#kcomp">kcomp</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_is_measure.l">l</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_is_measure.k">k</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:693">x</a></span>) (<span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_is_measure.kcomp0">kcomp0</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:693">x</a></span>) (<span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_is_measure.kcomp_ge0">kcomp_ge0</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:693">x</a></span>) (<span class="id">@kcomp_sigma_additive</span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:693">x</a></span>).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="mkcomp" class="id">
  <a name="mkcomp" class="">mkcomp</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_is_measure.X">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#::ring_scope:'{'_'measure'_'set'_x_'->'_'\bar'_x_'}'">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_is_measure.Z">Z</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#::ring_scope:'{'_'measure'_'set'_x_'->'_'\bar'_x_'}'">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_is_measure.R">R}</a></span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="x:694" class="id">
  <a name="x:694" class="">x</a>
</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::form_scope:'['_'the'_x_'of'_x_']'">[the</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#Measure.Exports.measure">measure</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp">kcomp</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_is_measure.l">l</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_is_measure.k">k</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:694">x]</a></span>.<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_is_measure">kcomp_is_measure</a></span>.<br/>
<br/>
<span class="vernacular">Notation</span> <span id="::ereal_scope:x_'\;'_x" class="id">
  <a name="::ereal_scope:x_'\;'_x" class="">"l&nbsp;\;&nbsp;k"</a>
</span> <span class="id">:=</span> (<span class="id"><a href="mathcomp.analysis.kernel.html#mkcomp">mkcomp</a></span> <span class="id">l</span> <span class="id">k</span>) <span class="id">:</span> <span class="id">ereal_scope</span>.<br/>
<br/>
<span class="vernacular">Module</span> <span id="KCOMP_FINITE_KERNEL" class="id">
  <a name="KCOMP_FINITE_KERNEL" class="">KCOMP_FINITE_KERNEL</a>
</span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="KCOMP_FINITE_KERNEL.kcomp_finite_kernel_kernel" class="id">
  <a name="KCOMP_FINITE_KERNEL.kcomp_finite_kernel_kernel" class="">kcomp_finite_kernel_kernel</a>
</span>.<br/>
<span class="vernacular">Context</span> <span id="d:695" class="id">
  <a name="d:695" class="">d</a>
</span> <span id="d':696" class="id">
  <a name="d':696" class="">d'</a>
</span> <span id="d3:697" class="id">
  <a name="d3:697" class="">d3</a>
</span> (<span id="X:698" class="id">
  <a name="X:698" class="">X</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:695">d</a></span>) (<span id="Y:699" class="id">
  <a name="Y:699" class="">Y</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':696">d'</a></span>)<br/>
&nbsp;&nbsp;(<span id="Z:700" class="id">
  <a name="Z:700" class="">Z</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d3:697">d3</a></span>) (<span id="R:701" class="id">
  <a name="R:701" class="">R</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) (<span id="l:702" class="id">
  <a name="l:702" class="">l</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#R:701">R</a></span>.<span class="id">-fker</span> <span class="id"><a href="mathcomp.analysis.kernel.html#X:698">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#:::x_'.-fker'_x_'~>'_x">~&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Y:699">Y</a></span>)<br/>
&nbsp;&nbsp;(<span id="k:703" class="id">
  <a name="k:703" class="">k</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#R:701">R</a></span>.<span class="id">-ker</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::form_scope:'['_'the'_x_'of'_x_']'">[the</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.kernel.html#X:698">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#::type_scope:x_'*'_x">*</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Y:699">Y]</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#:::x_'.-ker'_x_'~>'_x">~&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Z:700">Z</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="KCOMP_FINITE_KERNEL.measurable_fun_kcomp_finite" class="id">
  <a name="KCOMP_FINITE_KERNEL.measurable_fun_kcomp_finite" class="">measurable_fun_kcomp_finite</a>
</span> <span id="U:704" class="id">
  <a name="U:704" class="">U</a>
</span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:704">U</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_':'_x_']'">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_FINITE_KERNEL.kcomp_finite_kernel_kernel.X">X]</a></span> ((<span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_FINITE_KERNEL.kcomp_finite_kernel_kernel.l">l</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#::ereal_scope:x_'\;'_x">\;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_FINITE_KERNEL.kcomp_finite_kernel_kernel.k">k</a></span>) <span class="id">^~</span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:704">U</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof42')">Proof.</span></div>
<div class="proofscript" id="proof42">
<span class="id">move=&gt;</span> <span class="id">mU;</span> <span class="id">apply:</span> (<span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_integral_finite_kernel">measurable_fun_integral_finite_kernel</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_FINITE_KERNEL.kcomp_finite_kernel_kernel.k">k</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:x_'^~'_x">^~</a></span> <span class="id">U</span>)) <span class="id">=&gt;</span> <span class="id">//=</span>.<br/>
<span class="id">exact/measurable_kernel</span>.<br/>
Qed.</div>
<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.kernel.html#isKernel.Build">isKernel.Build</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_FINITE_KERNEL.kcomp_finite_kernel_kernel.X">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_FINITE_KERNEL.kcomp_finite_kernel_kernel.Z">Z</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_FINITE_KERNEL.kcomp_finite_kernel_kernel.R">R</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_FINITE_KERNEL.kcomp_finite_kernel_kernel.l">l</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#::ereal_scope:x_'\;'_x">\;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_FINITE_KERNEL.kcomp_finite_kernel_kernel.k">k</a></span>) <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_FINITE_KERNEL.measurable_fun_kcomp_finite">measurable_fun_kcomp_finite</a></span>.<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_FINITE_KERNEL.kcomp_finite_kernel_kernel">kcomp_finite_kernel_kernel</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="KCOMP_FINITE_KERNEL.kcomp_finite_kernel_finite" class="id">
  <a name="KCOMP_FINITE_KERNEL.kcomp_finite_kernel_finite" class="">kcomp_finite_kernel_finite</a>
</span>.<br/>
<span class="vernacular">Context</span> <span id="d:705" class="id">
  <a name="d:705" class="">d</a>
</span> <span id="d':706" class="id">
  <a name="d':706" class="">d'</a>
</span> <span id="d3:707" class="id">
  <a name="d3:707" class="">d3</a>
</span> (<span id="X:708" class="id">
  <a name="X:708" class="">X</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:705">d</a></span>) (<span id="Y:709" class="id">
  <a name="Y:709" class="">Y</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':706">d'</a></span>)<br/>
&nbsp;&nbsp;(<span id="Z:710" class="id">
  <a name="Z:710" class="">Z</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d3:707">d3</a></span>) (<span id="R:711" class="id">
  <a name="R:711" class="">R</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="vernacular">Variable</span> <span id="KCOMP_FINITE_KERNEL.kcomp_finite_kernel_finite.l" class="id">
  <a name="KCOMP_FINITE_KERNEL.kcomp_finite_kernel_finite.l" class="">l</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_FINITE_KERNEL.kcomp_finite_kernel_finite.R">R</a></span>.<span class="id">-fker</span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_FINITE_KERNEL.kcomp_finite_kernel_finite.X">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#:::x_'.-fker'_x_'~>'_x">~&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_FINITE_KERNEL.kcomp_finite_kernel_finite.Y">Y</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="KCOMP_FINITE_KERNEL.kcomp_finite_kernel_finite.k" class="id">
  <a name="KCOMP_FINITE_KERNEL.kcomp_finite_kernel_finite.k" class="">k</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_FINITE_KERNEL.kcomp_finite_kernel_finite.R">R</a></span>.<span class="id">-fker</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::form_scope:'['_'the'_x_'of'_x_']'">[the</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_FINITE_KERNEL.kcomp_finite_kernel_finite.X">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#::type_scope:x_'*'_x">*</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_FINITE_KERNEL.kcomp_finite_kernel_finite.Y">Y]</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#:::x_'.-fker'_x_'~>'_x">~&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_FINITE_KERNEL.kcomp_finite_kernel_finite.Z">Z</a></span>.<br/>
<br/>
<span class="vernacular">Let</span> <span id="KCOMP_FINITE_KERNEL.kcomp_finite_kernel_finite.mkcomp_finite" class="id">
  <a name="KCOMP_FINITE_KERNEL.kcomp_finite_kernel_finite.mkcomp_finite" class="">mkcomp_finite</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measure_fam_uub">measure_fam_uub</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#mkcomp">mkcomp</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_FINITE_KERNEL.kcomp_finite_kernel_finite.l">l</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_FINITE_KERNEL.kcomp_finite_kernel_finite.k">k</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof43')">Proof.</span></div>
<div class="proofscript" id="proof43">
<span class="id">have</span> <span class="id">/measure_fam_uubP[r</span> <span class="id">hr]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measure_uub">measure_uub</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_FINITE_KERNEL.kcomp_finite_kernel_finite.k">k</a></span>.<br/>
<span class="id">have</span> <span class="id">/measure_fam_uubP[s</span> <span class="id">hs]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measure_uub">measure_uub</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_FINITE_KERNEL.kcomp_finite_kernel_finite.l">l</a></span>.<br/>
<span class="id">apply/measure_fam_uubP;</span> <span class="gallina-kwd">exists</span> (<span class="id"><a href="mathcomp.analysis.signed.html#PosNum">PosNum</a></span> <span class="id"><a href="mathcomp.analysis.signed.html#:::'['_'gt0'_'of'_x_']'">[gt0</a></span> <span class="id">of</span> (<span class="id">r%:num</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'*'_x">*</a></span> <span class="id">s%:num</span>)<span class="id">%R]</span>) <span class="id">=&gt;</span> <span class="id">x</span> <span class="id">/=</span>.<br/>
<span class="id">apply:</span> (<span class="id">@le_lt_trans</span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#::ereal_scope:'\int'_'['_x_']_'_x_x">\int[l</a></span> <span class="id">x]__</span> <span class="id">r%:num%:E</span>)).<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_le_integral">ge0_le_integral</a></span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#measurable_kernel">measurable_kernel</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_FINITE_KERNEL.kcomp_finite_kernel_finite.k">k</a></span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT">measurableT</a></span>) <span class="id">_</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">y</span> <span class="id">_;</span> <span class="id">exact/ltW/hr</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_cst">integral_cst//=</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinM">EFinM</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_pmul2l">lte_pmul2l</a></span>.<br/>
Qed.</div>
<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.kernel.html#Kernel_isFinite.Build">Kernel_isFinite.Build</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_FINITE_KERNEL.kcomp_finite_kernel_finite.X">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_FINITE_KERNEL.kcomp_finite_kernel_finite.Z">Z</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_FINITE_KERNEL.kcomp_finite_kernel_finite.R">R</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_FINITE_KERNEL.kcomp_finite_kernel_finite.l">l</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#::ereal_scope:x_'\;'_x">\;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_FINITE_KERNEL.kcomp_finite_kernel_finite.k">k</a></span>) <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_FINITE_KERNEL.kcomp_finite_kernel_finite.mkcomp_finite">mkcomp_finite</a></span>.<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_FINITE_KERNEL.kcomp_finite_kernel_finite">kcomp_finite_kernel_finite</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_FINITE_KERNEL">KCOMP_FINITE_KERNEL</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="kcomp_sfinite_kernel" class="id">
  <a name="kcomp_sfinite_kernel" class="">kcomp_sfinite_kernel</a>
</span>.<br/>
<span class="vernacular">Context</span> <span id="d:714" class="id">
  <a name="d:714" class="">d</a>
</span> <span id="d':715" class="id">
  <a name="d':715" class="">d'</a>
</span> <span id="d3:716" class="id">
  <a name="d3:716" class="">d3</a>
</span> (<span id="X:717" class="id">
  <a name="X:717" class="">X</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:714">d</a></span>) (<span id="Y:718" class="id">
  <a name="Y:718" class="">Y</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':715">d'</a></span>)<br/>
&nbsp;&nbsp;(<span id="Z:719" class="id">
  <a name="Z:719" class="">Z</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d3:716">d3</a></span>) (<span id="R:720" class="id">
  <a name="R:720" class="">R</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="vernacular">Variable</span> <span id="kcomp_sfinite_kernel.l" class="id">
  <a name="kcomp_sfinite_kernel.l" class="">l</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_sfinite_kernel.R">R</a></span>.<span class="id">-sfker</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_sfinite_kernel.X">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#:::x_'.-sfker'_x_'~>'_x">~&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_sfinite_kernel.Y">Y</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="kcomp_sfinite_kernel.k" class="id">
  <a name="kcomp_sfinite_kernel.k" class="">k</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_sfinite_kernel.R">R</a></span>.<span class="id">-sfker</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::form_scope:'['_'the'_x_'of'_x_']'">[the</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_sfinite_kernel.X">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#::type_scope:x_'*'_x">*</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_sfinite_kernel.Y">Y]</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#:::x_'.-sfker'_x_'~>'_x">~&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_sfinite_kernel.Z">Z</a></span>.<br/>
<br/>
<span class="vernacular">Import</span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_FINITE_KERNEL">KCOMP_FINITE_KERNEL</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="mkcomp_sfinite" class="id">
  <a name="mkcomp_sfinite" class="">mkcomp_sfinite</a>
</span> <span class="id">:</span> <span class="gallina-kwd">exists</span> <span id="k_:723" class="id">
  <a name="k_:723" class="">k_</a>
</span> <span class="id">:</span> (<span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_sfinite_kernel.R">R</a></span>.<span class="id">-fker</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_sfinite_kernel.X">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#:::x_'.-fker'_x_'~>'_x">~&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_sfinite_kernel.Z">Z</a></span>)<span class="id">^nat,</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:724" class="id">
  <a name="x:724" class="">x</a>
</span> <span id="U:725" class="id">
  <a name="U:725" class="">U,</a>
</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:725">U</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_sfinite_kernel.l">l</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#::ereal_scope:x_'\;'_x">\;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_sfinite_kernel.k">k</a></span>) <span class="id"><a href="mathcomp.analysis.kernel.html#x:724">x</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:725">U</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kseries">kseries</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#k_:723">k_</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:724">x</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:725">U</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof44')">Proof.</span></div>
<div class="proofscript" id="proof44">
<span class="id">have</span> <span class="id">[k_</span> <span class="id">hk_]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfinite_kernel">sfinite_kernel</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_sfinite_kernel.k">k;</a></span> <span class="id">have</span> <span class="id">[l_</span> <span class="id">hl_]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfinite_kernel">sfinite_kernel</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_sfinite_kernel.l">l</a></span>.<br/>
<span class="id">have</span> <span class="id">[kl</span> <span class="id">hkl]</span> <span class="id">:</span> <span class="gallina-kwd">exists</span> <span id="kl:726" class="id">
  <a name="kl:726" class="">kl</a>
</span> <span class="id">:</span> (<span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_sfinite_kernel.R">R</a></span>.<span class="id">-fker</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_sfinite_kernel.X">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#:::x_'.-fker'_x_'~>'_x">~&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_sfinite_kernel.Z">Z</a></span>) <span class="id">^nat,</span> <span class="gallina-kwd">forall</span> <span id="x:727" class="id">
  <a name="x:727" class="">x</a>
</span> <span id="U:728" class="id">
  <a name="U:728" class="">U,</a>
</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.esum.html#::ring_scope:'\esum_'_'('_x_'in'_x_')'_x">\esum_</a></span>(<span id="i:729" class="id">
  <a name="i:729" class="">i</a>
</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span>) (<span class="id">l_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#i:729">i</a></span>.<span class="id">2</span> <span class="id"><a href="mathcomp.analysis.kernel.html#::ereal_scope:x_'\;'_x">\;</a></span> <span class="id">k_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#i:729">i</a></span>.<span class="id">1</span>) <span class="id"><a href="mathcomp.analysis.kernel.html#x:727">x</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:728">U</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.analysis.sequences.html#::ereal_scope:'\sum_'_'('_x_'<oo'_')'_x">\sum_</a></span>(<span id="i:735" class="id"><span id="i:734" class="id"><span id="i:733" class="id"><span id="i:732" class="id"><span id="i:731" class="id"><span id="i:730" class="id">
  <a name="i:735" class="">i</a>
</span></span></span></span></span></span> <span class="id"><a href="mathcomp.analysis.sequences.html#::ereal_scope:'\sum_'_'('_x_'<oo'_')'_x">&lt;oo</a></span>) <span class="id"><a href="mathcomp.analysis.kernel.html#kl:726">kl</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#i:730">i</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:727">x</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:728">U</a></span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">/ppcard_eqP[f]</span> <span class="id">:</span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_':'_x_']'">[set:</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat]</a></span> <span class="id"><a href="mathcomp.classical.cardinality.html#::card_scope:x_'#='_x">#=</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_':'_x_']'">[set:</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#::type_scope:x_'*'_x">*</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat]</a></span>)<span class="id">%card</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.cardinality.html#card_eq_sym">card_eq_sym;</a></span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.classical.cardinality.html#card_nat2">card_nat2</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> (<span class="gallina-kwd">fun</span> <span id="i:737" class="id"><span id="i:736" class="id">
  <a name="i:737" class="">i</a>
</span></span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::form_scope:'['_'the'_x_'of'_x_']'">[the</a></span> <span class="id">_</span>.<span class="id">-fker</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#:::x_'.-fker'_x_'~>'_x">~&gt;</a></span> <span class="id">_</span> <span class="id">of</span> <span class="id">l_</span> (<span class="id">f</span> <span class="id"><a href="mathcomp.analysis.kernel.html#i:736">i</a></span>).<span class="id">2</span> <span class="id"><a href="mathcomp.analysis.kernel.html#::ereal_scope:x_'\;'_x">\;</a></span> <span class="id">k_</span> (<span class="id">f</span> <span class="id"><a href="mathcomp.analysis.kernel.html#i:736">i</a></span>).<span class="id">1]</span>) <span class="id">=&gt;</span> <span class="id">x</span> <span class="id">U</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id"><a href="mathcomp.analysis.esum.html#reindex_esum">reindex_esum</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_':'_x_']'">[set:</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat]</a></span> <span class="id">_</span> <span class="id">f</span>)<span class="id">//</span> <span class="id"><a href="mathcomp.analysis.esum.html#nneseries_esum">nneseries_esum//</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#fun_true">fun_true</a></span>.<br/>
<span class="gallina-kwd">exists</span> <span class="id">kl</span> <span class="id">=&gt;</span> <span class="id">x</span> <span class="id">U</span> <span class="id">mU</span>.<br/>
<span class="id">transitivity</span> ((<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::form_scope:'['_'the'_x_'of'_x_']'">[the</a></span> <span class="id">_</span>.<span class="id">-ker</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#:::x_'.-ker'_x_'~>'_x">~&gt;</a></span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kseries">kseries</a></span> <span class="id">l_]</span> <span class="id"><a href="mathcomp.analysis.kernel.html#::ereal_scope:x_'\;'_x">\;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::form_scope:'['_'the'_x_'of'_x_']'">[the</a></span> <span class="id">_</span>.<span class="id">-ker</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#:::x_'.-ker'_x_'~>'_x">~&gt;</a></span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kseries">kseries</a></span> <span class="id">k_]</span>) <span class="id">x</span> <span class="id">U</span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">/=</span> <span class="id">/kcomp</span> <span class="id">[in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS]</a></span>(<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_measure_integral">eq_measure_integral</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_sfinite_kernel.l">l</a></span> <span class="id">x</span>))<span class="id">;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">*;</span> <span class="id">rewrite</span> <span class="id">hl_</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> <span class="id">=&gt;</span> <span class="id">y</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id">hk_</span>.<br/>
<span class="id">rewrite</span> <span class="id">/=</span> <span class="id">/kcomp/=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_nneseries">integral_nneseries//=;</a></span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">n;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#measurable_kernel">measurable_kernel</a></span> (<span class="id">k_</span> <span class="id">n</span>) <span class="id">_</span> <span class="id">mU</span>) <span class="id">_</span>.<br/>
<span class="id">transitivity</span> (<span class="id"><a href="mathcomp.analysis.sequences.html#::ereal_scope:'\sum_'_'('_x_'<oo'_')'_x">\sum_</a></span>(<span id="i:767" class="id"><span id="i:766" class="id"><span id="i:765" class="id"><span id="i:758" class="id"><span id="i:757" class="id"><span id="i:756" class="id"><span id="i:749" class="id"><span id="i:748" class="id"><span id="i:747" class="id"><span id="i:740" class="id"><span id="i:739" class="id"><span id="i:738" class="id">
  <a name="i:767" class="">i</a>
</span></span></span></span></span></span></span></span></span></span></span></span> <span class="id"><a href="mathcomp.analysis.sequences.html#::ereal_scope:'\sum_'_'('_x_'<oo'_')'_x">&lt;oo</a></span>) <span class="id"><a href="mathcomp.analysis.sequences.html#::ereal_scope:'\sum_'_'('_x_'<oo'_')'_x">\sum_</a></span>(<span id="j:773" class="id"><span id="j:772" class="id"><span id="j:771" class="id"><span id="j:770" class="id"><span id="j:769" class="id"><span id="j:768" class="id"><span id="j:764" class="id"><span id="j:763" class="id"><span id="j:762" class="id"><span id="j:761" class="id"><span id="j:760" class="id"><span id="j:759" class="id"><span id="j:755" class="id"><span id="j:754" class="id"><span id="j:753" class="id"><span id="j:752" class="id"><span id="j:751" class="id"><span id="j:750" class="id"><span id="j:746" class="id"><span id="j:745" class="id"><span id="j:744" class="id"><span id="j:743" class="id"><span id="j:742" class="id"><span id="j:741" class="id">
  <a name="j:773" class="">j</a>
</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span> <span class="id"><a href="mathcomp.analysis.sequences.html#::ereal_scope:'\sum_'_'('_x_'<oo'_')'_x">&lt;oo</a></span>) (<span class="id">l_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#j:741">j</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#::ereal_scope:x_'\;'_x">\;</a></span> <span class="id">k_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#i:738">i</a></span>) <span class="id">x</span> <span class="id">U</span>).<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.sequences.html#eq_eseriesr">eq_eseriesr</a></span> <span class="id">=&gt;</span> <span class="id">i</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.kernel.html#integral_kseries">integral_kseries//</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#measurable_kernel">measurable_kernel</a></span> (<span class="id">k_</span> <span class="id">i</span>) <span class="id">_</span> <span class="id">mU</span>) <span class="id">_</span>.<br/>
<span class="id">rewrite</span> <span class="id">/mseries</span> <span class="id">-hkl/=</span>.<br/>
<span class="id">rewrite</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:x_'`*``'_x">`*``</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:'fun'_'=>'_x">fun=&gt;</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span>))<span class="id">;</span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">apply/seteqP;</span> <span class="id">split</span>.<br/>
<span class="id">rewrite</span> <span class="id">-</span>(<span class="id">@esum_esum</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (<span class="gallina-kwd">fun</span> <span id="i:778" class="id"><span id="i:776" class="id"><span id="i:774" class="id">
  <a name="i:778" class="">i</a>
</span></span></span> <span id="j:779" class="id"><span id="j:777" class="id"><span id="j:775" class="id">
  <a name="j:779" class="">j</a>
</span></span></span> <span class="id">=&gt;</span> (<span class="id">l_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#j:775">j</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#::ereal_scope:x_'\;'_x">\;</a></span> <span class="id">k_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#i:774">i</a></span>) <span class="id">x</span> <span class="id">U</span>))<span class="id">//</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.esum.html#nneseries_esum">nneseries_esum;</a></span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">n</span> <span class="id">_;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.sequences.html#nneseries_ge0">nneseries_ge0</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#fun_true">fun_true;</a></span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.esum.html#eq_esum">eq_esum</a></span> <span class="id">=&gt;</span> <span class="id">/=</span> <span class="id">i</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.esum.html#nneseries_esum">nneseries_esum//</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#fun_true">fun_true</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="measurable_fun_mkcomp_sfinite" class="id">
  <a name="measurable_fun_mkcomp_sfinite" class="">measurable_fun_mkcomp_sfinite</a>
</span> <span id="U:780" class="id">
  <a name="U:780" class="">U</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:780">U</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_':'_x_']'">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_sfinite_kernel.X">X]</a></span> ((<span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_sfinite_kernel.l">l</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#::ereal_scope:x_'\;'_x">\;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_sfinite_kernel.k">k</a></span>) <span class="id">^~</span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:780">U</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof45')">Proof.</span></div>
<div class="proofscript" id="proof45">
<span class="id">move=&gt;</span> <span class="id">mU;</span> <span class="id">apply:</span> (<span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_integral_sfinite_kernel">measurable_fun_integral_sfinite_kernel</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_sfinite_kernel.k">k</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:x_'^~'_x">^~</a></span> <span class="id">U</span>)) <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
<span class="id">exact/measurable_kernel</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_sfinite_kernel">kcomp_sfinite_kernel</a></span>.<br/>
<br/>
<span class="vernacular">Module</span> <span id="KCOMP_SFINITE_KERNEL" class="id">
  <a name="KCOMP_SFINITE_KERNEL" class="">KCOMP_SFINITE_KERNEL</a>
</span>.<br/>
<span class="vernacular">Section</span> <span id="KCOMP_SFINITE_KERNEL.kcomp_sfinite_kernel" class="id">
  <a name="KCOMP_SFINITE_KERNEL.kcomp_sfinite_kernel" class="">kcomp_sfinite_kernel</a>
</span>.<br/>
<span class="vernacular">Context</span> <span id="d:781" class="id">
  <a name="d:781" class="">d</a>
</span> <span id="d':782" class="id">
  <a name="d':782" class="">d'</a>
</span> <span id="d3:783" class="id">
  <a name="d3:783" class="">d3</a>
</span> (<span id="X:784" class="id">
  <a name="X:784" class="">X</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:781">d</a></span>) (<span id="Y:785" class="id">
  <a name="Y:785" class="">Y</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':782">d'</a></span>)<br/>
&nbsp;&nbsp;(<span id="Z:786" class="id">
  <a name="Z:786" class="">Z</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d3:783">d3</a></span>) (<span id="R:787" class="id">
  <a name="R:787" class="">R</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="vernacular">Variable</span> <span id="KCOMP_SFINITE_KERNEL.kcomp_sfinite_kernel.l" class="id">
  <a name="KCOMP_SFINITE_KERNEL.kcomp_sfinite_kernel.l" class="">l</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_SFINITE_KERNEL.kcomp_sfinite_kernel.R">R</a></span>.<span class="id">-sfker</span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_SFINITE_KERNEL.kcomp_sfinite_kernel.X">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#:::x_'.-sfker'_x_'~>'_x">~&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_SFINITE_KERNEL.kcomp_sfinite_kernel.Y">Y</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="KCOMP_SFINITE_KERNEL.kcomp_sfinite_kernel.k" class="id">
  <a name="KCOMP_SFINITE_KERNEL.kcomp_sfinite_kernel.k" class="">k</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_SFINITE_KERNEL.kcomp_sfinite_kernel.R">R</a></span>.<span class="id">-sfker</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::form_scope:'['_'the'_x_'of'_x_']'">[the</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_SFINITE_KERNEL.kcomp_sfinite_kernel.X">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#::type_scope:x_'*'_x">*</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_SFINITE_KERNEL.kcomp_sfinite_kernel.Y">Y]</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#:::x_'.-sfker'_x_'~>'_x">~&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_SFINITE_KERNEL.kcomp_sfinite_kernel.Z">Z</a></span>.<br/>
<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.kernel.html#isKernel.Build">isKernel.Build</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_SFINITE_KERNEL.kcomp_sfinite_kernel.X">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_SFINITE_KERNEL.kcomp_sfinite_kernel.Z">Z</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_SFINITE_KERNEL.kcomp_sfinite_kernel.R">R</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_SFINITE_KERNEL.kcomp_sfinite_kernel.l">l</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#::ereal_scope:x_'\;'_x">\;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_SFINITE_KERNEL.kcomp_sfinite_kernel.k">k</a></span>) (<span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_mkcomp_sfinite">measurable_fun_mkcomp_sfinite</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_SFINITE_KERNEL.kcomp_sfinite_kernel.l">l</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_SFINITE_KERNEL.kcomp_sfinite_kernel.k">k</a></span>).<br/>
<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.kernel.html#Kernel_isSFinite.Build">Kernel_isSFinite.Build</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_SFINITE_KERNEL.kcomp_sfinite_kernel.X">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_SFINITE_KERNEL.kcomp_sfinite_kernel.Z">Z</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_SFINITE_KERNEL.kcomp_sfinite_kernel.R">R</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_SFINITE_KERNEL.kcomp_sfinite_kernel.l">l</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#::ereal_scope:x_'\;'_x">\;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_SFINITE_KERNEL.kcomp_sfinite_kernel.k">k</a></span>) (<span class="id"><a href="mathcomp.analysis.kernel.html#mkcomp_sfinite">mkcomp_sfinite</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_SFINITE_KERNEL.kcomp_sfinite_kernel.l">l</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_SFINITE_KERNEL.kcomp_sfinite_kernel.k">k</a></span>).<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_SFINITE_KERNEL.kcomp_sfinite_kernel">kcomp_sfinite_kernel</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_SFINITE_KERNEL">KCOMP_SFINITE_KERNEL</a></span>.<br/>
<span class="id">HB.export</span> <span class="id">KCOMP_SFINITE_KERNEL</span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="measurable_fun_preimage_integral" class="id">
  <a name="measurable_fun_preimage_integral" class="">measurable_fun_preimage_integral</a>
</span>.<br/>
<span class="vernacular">Context</span> <span id="d:790" class="id">
  <a name="d:790" class="">d</a>
</span> <span id="d':791" class="id">
  <a name="d':791" class="">d'</a>
</span> (<span id="X:792" class="id">
  <a name="X:792" class="">X</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:790">d</a></span>) (<span id="Y:793" class="id">
  <a name="Y:793" class="">Y</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':791">d'</a></span>) (<span id="R:794" class="id">
  <a name="R:794" class="">R</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="vernacular">Variables</span> (<span id="measurable_fun_preimage_integral.k" class="id">
  <a name="measurable_fun_preimage_integral.k" class="">k</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_preimage_integral.Y">Y</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::type_scope:'\bar'_x">\bar</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_preimage_integral.R">R</a></span>)<br/>
&nbsp;&nbsp;(<span id="measurable_fun_preimage_integral.k_" class="id">
  <a name="measurable_fun_preimage_integral.k_" class="">k_</a>
</span> <span class="id">:</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#::form_scope:'{'_'nnsfun'_x_'>->'_x_'}'">{nnsfun</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_preimage_integral.Y">Y</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#::form_scope:'{'_'nnsfun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_preimage_integral.R">R}</a></span>) <span class="id">^nat</span>)<br/>
&nbsp;&nbsp;(<span id="measurable_fun_preimage_integral.ndk_" class="id">
  <a name="measurable_fun_preimage_integral.ndk_" class="">ndk_</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.sequences.html#:::'nondecreasing_seq'_x">nondecreasing_seq</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#k_:796">k_</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_preimage_integral.Y">Y</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_preimage_integral.R">R</a></span>)<span class="id">^nat</span>))<br/>
&nbsp;&nbsp;(<span id="measurable_fun_preimage_integral.k_k" class="id">
  <a name="measurable_fun_preimage_integral.k_k" class="">k_k</a>
</span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="z:798" class="id">
  <a name="z:798" class="">z,</a>
</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_':'_x_']'">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_preimage_integral.Y">Y]</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#z:798">z</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:x_'\o'_x">\o</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#k_:796">k_</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:x_'^~'_x">^~</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#z:798">z</a></span>) <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'-->'_x">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#k:795">k</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#z:798">z</a></span>).<br/>
<br/>
<span class="vernacular">Let</span> <span id="measurable_fun_preimage_integral.k_2" class="id">
  <a name="measurable_fun_preimage_integral.k_2" class="">k_2</a>
</span> <span class="id">:</span> (<span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_preimage_integral.X">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#::type_scope:x_'*'_x">*</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_preimage_integral.Y">Y</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_preimage_integral.R">R</a></span>)<span class="id">^nat</span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="n:800" class="id">
  <a name="n:800" class="">n</a>
</span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_preimage_integral.k_">k_</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#n:800">n</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:x_'\o'_x">\o</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#snd">snd</a></span>.<br/>
<br/>
<span class="vernacular">Let</span> <span id="measurable_fun_preimage_integral.k_2_ge0" class="id">
  <a name="measurable_fun_preimage_integral.k_2_ge0" class="">k_2_ge0</a>
</span> <span id="n:801" class="id">
  <a name="n:801" class="">n</a>
</span> <span id="x:802" class="id">
  <a name="x:802" class="">x</a>
</span> <span class="id">:</span> (<span class="id">0</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'<='_x">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_preimage_integral.k_2">k_2</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#n:801">n</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:802">x</a></span>)<span class="id">%R</span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof46')">Proof.</span></div>
<div class="proofscript" id="proof46">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span id="n:803" class="id">
  <a name="n:803" class="">n</a>
</span> <span class="id">:=</span> <span class="id">@isNonNegFun</span>.<span class="id">Build</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_preimage_integral.k_2_ge0">k_2_ge0</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#n:803">n</a></span>).<br/>
<br/>
<span class="vernacular">Let</span> <span id="measurable_fun_preimage_integral.mk_2" class="id">
  <a name="measurable_fun_preimage_integral.mk_2" class="">mk_2</a>
</span> <span id="n:804" class="id">
  <a name="n:804" class="">n</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_':'_x_']'">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_preimage_integral.X">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#::type_scope:x_'*'_x">*</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_preimage_integral.Y">Y]</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_preimage_integral.k_2">k_2</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#n:804">n</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof47')">Proof.</span></div>
<div class="proofscript" id="proof47">
 <span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_snd">measurable_snd</a></span>. Qed.</div>
<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span id="n:805" class="id">
  <a name="n:805" class="">n</a>
</span> <span class="id">:=</span> <span class="id">@isMeasurableFun</span>.<span class="id">Build</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_preimage_integral.mk_2">mk_2</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#n:805">n</a></span>).<br/>
<br/>
<span class="vernacular">Let</span> <span id="measurable_fun_preimage_integral.fk_2" class="id">
  <a name="measurable_fun_preimage_integral.fk_2" class="">fk_2</a>
</span> <span id="n:806" class="id">
  <a name="n:806" class="">n</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.cardinality.html#finite_set">finite_set</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#range">range</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_preimage_integral.k_2">k_2</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#n:806">n</a></span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof48')">Proof.</span></div>
<div class="proofscript" id="proof48">
<span class="id">have</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.cardinality.html#fimfunP">fimfunP</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_preimage_integral.k_">k_</a></span> <span class="id">n</span>).<br/>
<span class="id">suff</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#range">range</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_preimage_integral.k_">k_</a></span> <span class="id">n</span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#range">range</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_preimage_integral.k_2">k_2</a></span> <span class="id">n</span>) <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">&lt;-</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">apply/seteqP;</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">r</span> <span class="id">[y</span> <span class="id">?]</span> <span class="id">&lt;-;</span> <span class="id">[exists</span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#point">point,</a></span> <span class="id">y</span>)<span class="id">|exists</span> <span class="id">y</span>.<span class="id">2]</span>.<br/>
Qed.</div>
<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span id="n:807" class="id">
  <a name="n:807" class="">n</a>
</span> <span class="id">:=</span> <span class="id">@FiniteImage</span>.<span class="id">Build</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_preimage_integral.fk_2">fk_2</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#n:807">n</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="measurable_fun_preimage_integral" class="id">
  <a name="measurable_fun_preimage_integral" class="">measurable_fun_preimage_integral</a>
</span> (<span id="l:808" class="id">
  <a name="l:808" class="">l</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_preimage_integral.X">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#::ring_scope:'{'_'measure'_'set'_x_'->'_'\bar'_x_'}'">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_preimage_integral.Y">Y</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#::ring_scope:'{'_'measure'_'set'_x_'->'_'\bar'_x_'}'">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_preimage_integral.R">R}</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="n:809" class="id">
  <a name="n:809" class="">n</a>
</span> <span id="r:810" class="id">
  <a name="r:810" class="">r,</a>
</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_':'_x_']'">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_preimage_integral.X">X]</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#l:808">l</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:x_'^~'_x">^~</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_preimage_integral.k_">k_</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#n:809">n</a></span> <span class="id">@^-1`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_x_']'">[set</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#r:810">r]</a></span>))) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_':'_x_']'">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_preimage_integral.X">X]</a></span> (<span class="gallina-kwd">fun</span> <span id="x:811" class="id">
  <a name="x:811" class="">x</a>
</span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#::ereal_scope:'\int'_'['_x_']_'_x_x">\int[l</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:811">x]_z</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_preimage_integral.k">k</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#z:812">z</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof49')">Proof.</span></div>
<div class="proofscript" id="proof49">
<span class="id">move=&gt;</span> <span class="id">h;</span> <span class="id">apply:</span> (<span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_xsection_integral">measurable_fun_xsection_integral</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_preimage_integral.k">k</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:x_'\o'_x">\o</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#snd">snd</a></span>) <span class="id">l</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">fun</span> <span id="n:814" class="id"><span id="n:813" class="id">
  <a name="n:814" class="">n</a>
</span></span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::form_scope:'['_'the'_x_'of'_x_']'">[the</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#::form_scope:'{'_'nnsfun'_x_'>->'_x_'}'">{nnsfun</a></span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#::form_scope:'{'_'nnsfun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id">_}</span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_preimage_integral.k_2">k_2</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#n:813">n]</a></span>)) <span class="id">=&gt;</span> <span class="id">/=</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/k_2</span> <span class="id">=&gt;</span> <span class="id">m</span> <span class="id">n</span> <span class="id">mn;</span> <span class="id">apply/lefP</span> <span class="id">=&gt;</span> <span class="id">-[x</span> <span class="id">y]</span> <span class="id">/=;</span> <span class="id">exact/lefP/ndk_</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">[x</span> <span class="id">y];</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_preimage_integral.k_k">k_k</a></span>.<br/>
<span class="id">-</span> <span class="id">move=&gt;</span> <span class="id">n</span> <span class="id">r</span> <span class="id">_</span> <span class="id">/=</span> <span class="id">B</span> <span class="id">mB</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">:=</span> <span class="id">h</span> <span class="id">n</span> <span class="id">r</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT">measurableT</a></span> <span class="id">B</span> <span class="id">mB;</span> <span class="id">rewrite</span> <span class="id">!setTI</span>.<br/>
&nbsp;&nbsp;<span class="id">suff</span> <span class="id">:</span> (<span class="id">l</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:x_'^~'_x">^~</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_preimage_integral.k_">k_</a></span> <span class="id">n</span> <span class="id">@^-1`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_x_']'">[set</a></span> <span class="id">r]</span>)) <span class="id">@^-1`</span> <span class="id">B</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="gallina-kwd">fun</span> <span id="x:815" class="id">
  <a name="x:815" class="">x</a>
</span> <span class="id">=&gt;</span> <span class="id">l</span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:815">x</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#xsection">xsection</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_preimage_integral.k_2">k_2</a></span> <span class="id">n</span> <span class="id">@^-1`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_x_']'">[set</a></span> <span class="id">r]</span>) <span class="id"><a href="mathcomp.analysis.kernel.html#x:815">x</a></span>)) <span class="id">@^-1`</span> <span class="id">B</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">-&gt;</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply/seteqP;</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">x/=;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#comp_preimage">comp_preimage</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#snd">snd</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_preimage_integral.k_">k_</a></span> <span class="id">n</span>)) <span class="id"><a href="mathcomp.classical.classical_sets.html#xsection_preimage_snd">xsection_preimage_snd</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_preimage_integral">measurable_fun_preimage_integral</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="measurable_fun_integral_kernel" class="id">
  <a name="measurable_fun_integral_kernel" class="">measurable_fun_integral_kernel</a>
</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span id="d:816" class="id">
  <a name="d:816" class="">d</a>
</span> <span id="d':817" class="id">
  <a name="d':817" class="">d'</a>
</span> (<span id="X:818" class="id">
  <a name="X:818" class="">X</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:816">d</a></span>) (<span id="Y:819" class="id">
  <a name="Y:819" class="">Y</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':817">d'</a></span>) (<span id="R:820" class="id">
  <a name="R:820" class="">R</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="l:821" class="id">
  <a name="l:821" class="">l</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#X:818">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#::ring_scope:'{'_'measure'_'set'_x_'->'_'\bar'_x_'}'">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.kernel.html#Y:819">Y</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#::ring_scope:'{'_'measure'_'set'_x_'->'_'\bar'_x_'}'">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.kernel.html#R:820">R}</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="ml:823" class="id">
  <a name="ml:823" class="">ml</a>
</span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="U:822" class="id">
  <a name="U:822" class="">U,</a>
</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:822">U</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_':'_x_']'">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#X:818">X]</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#l:821">l</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:x_'^~'_x">^~</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:822">U</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="k:824" class="id">
  <a name="k:824" class="">k</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#Y:819">Y</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::type_scope:'\bar'_x">\bar</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#R:820">R</a></span>) (<span id="k0:826" class="id">
  <a name="k0:826" class="">k0</a>
</span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="z:825" class="id">
  <a name="z:825" class="">z,</a>
</span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'<='_x">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#k:824">k</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#z:825">z</a></span>) (<span id="mk:827" class="id">
  <a name="mk:827" class="">mk</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_':'_x_']'">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Y:819">Y]</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#k:824">k</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_':'_x_']'">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#X:818">X]</a></span> (<span class="gallina-kwd">fun</span> <span id="x:828" class="id">
  <a name="x:828" class="">x</a>
</span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#::ereal_scope:'\int'_'['_x_']_'_x_x">\int[l</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:828">x]_y</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#k:824">k</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#y:829">y</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof50')">Proof.</span></div>
<div class="proofscript" id="proof50">
<span class="id">have</span> <span class="id">[k_</span> <span class="id">[ndk_</span> <span class="id">k_k]]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation">approximation</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT">measurableT</a></span> <span class="id">mk</span> (<span class="gallina-kwd">fun</span> <span id="x:830" class="id">
  <a name="x:830" class="">x</a>
</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id">k0</span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:830">x</a></span>).<br/>
<span class="gallina-kwd">by</span> <span class="id">apply:</span> (<span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_preimage_integral">measurable_fun_preimage_integral</a></span> <span class="id">ndk_</span> <span class="id">k_k</span>) <span class="id">=&gt;</span> <span class="id">n</span> <span class="id">r;</span> <span class="id">exact/ml</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Section</span> <span id="integral_kcomp" class="id">
  <a name="integral_kcomp" class="">integral_kcomp</a>
</span>.<br/>
<span class="vernacular">Context</span> <span id="d:831" class="id">
  <a name="d:831" class="">d</a>
</span> <span id="d2:832" class="id">
  <a name="d2:832" class="">d2</a>
</span> <span id="d3:833" class="id">
  <a name="d3:833" class="">d3</a>
</span> (<span id="X:834" class="id">
  <a name="X:834" class="">X</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:831">d</a></span>) (<span id="Y:835" class="id">
  <a name="Y:835" class="">Y</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d2:832">d2</a></span>)<br/>
&nbsp;&nbsp;(<span id="Z:836" class="id">
  <a name="Z:836" class="">Z</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d3:833">d3</a></span>) (<span id="R:837" class="id">
  <a name="R:837" class="">R</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="vernacular">Variables</span> (<span id="integral_kcomp.l" class="id">
  <a name="integral_kcomp.l" class="">l</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#integral_kcomp.R">R</a></span>.<span class="id">-sfker</span> <span class="id"><a href="mathcomp.analysis.kernel.html#integral_kcomp.X">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#:::x_'.-sfker'_x_'~>'_x">~&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#integral_kcomp.Y">Y</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="integral_kcomp.k" class="id">
  <a name="integral_kcomp.k" class="">k</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#integral_kcomp.R">R</a></span>.<span class="id">-sfker</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::form_scope:'['_'the'_x_'of'_x_']'">[the</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.kernel.html#integral_kcomp.X">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#::type_scope:x_'*'_x">*</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#integral_kcomp.Y">Y]</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#:::x_'.-sfker'_x_'~>'_x">~&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#integral_kcomp.Z">Z</a></span>).<br/>
<br/>
<span class="vernacular">Let</span> <span id="integral_kcomp.integral_kcomp_indic" class="id">
  <a name="integral_kcomp.integral_kcomp_indic" class="">integral_kcomp_indic</a>
</span> <span id="x:840" class="id">
  <a name="x:840" class="">x</a>
</span> <span id="E:841" class="id">
  <a name="E:841" class="">E</a>
</span> (<span id="mE:842" class="id">
  <a name="mE:842" class="">mE</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#E:841">E</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#::ereal_scope:'\int'_'['_x_']_'_x_x">\int[kcomp</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#integral_kcomp.l">l</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#integral_kcomp.k">k</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:840">x]_z</a></span> (<span class="id"><a href="mathcomp.analysis.numfun.html#::ring_scope:'\1_'_x">\1_E</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#z:843">z</a></span>)<span class="id">%:E</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#::ereal_scope:'\int'_'['_x_']_'_x_x">\int[l</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:840">x]_y</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#::ereal_scope:'\int'_'['_x_']_'_x_x">\int[k</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#x:840">x,</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#y:844">y</a></span>)<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#::ereal_scope:'\int'_'['_x_']_'_x_x">]_z</a></span> (<span class="id"><a href="mathcomp.analysis.numfun.html#::ring_scope:'\1_'_x">\1_E</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#z:845">z</a></span>)<span class="id">%:E</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof51')">Proof.</span></div>
<div class="proofscript" id="proof51">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_indic">integral_indic//=</a></span> <span class="id">/kcomp</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> <span class="id">=&gt;</span> <span class="id">y</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_indic">integral_indic</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="integral_kcomp.integral_kcomp_nnsfun" class="id">
  <a name="integral_kcomp.integral_kcomp_nnsfun" class="">integral_kcomp_nnsfun</a>
</span> <span id="x:846" class="id">
  <a name="x:846" class="">x</a>
</span> (<span id="f:847" class="id">
  <a name="f:847" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#::form_scope:'{'_'nnsfun'_x_'>->'_x_'}'">{nnsfun</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#integral_kcomp.Z">Z</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#::form_scope:'{'_'nnsfun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#integral_kcomp.R">R}</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#::ereal_scope:'\int'_'['_x_']_'_x_x">\int[kcomp</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#integral_kcomp.l">l</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#integral_kcomp.k">k</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:846">x]_z</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#f:847">f</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#z:848">z</a></span>)<span class="id">%:E</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#::ereal_scope:'\int'_'['_x_']_'_x_x">\int[l</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:846">x]_y</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#::ereal_scope:'\int'_'['_x_']_'_x_x">\int[k</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#x:846">x,</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#y:849">y</a></span>)<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#::ereal_scope:'\int'_'['_x_']_'_x_x">]_z</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#f:847">f</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#z:850">z</a></span>)<span class="id">%:E</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof52')">Proof.</span></div>
<div class="proofscript" id="proof52">
<span class="id">under</span> <span class="id">[in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.LHS">LHS]eq_integral</a></span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.numfun.html#fimfunE">fimfunE</a></span> <span class="id">-fsumEFin//</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_fsum">ge0_integral_fsum//;</a></span> <span class="id">last</span> <span class="id">2</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">move=&gt;</span> <span class="id">r;</span> <span class="id">apply/EFin_measurable_fun/measurableT_comp</span> <span class="id">=&gt;</span> <span class="id">[//|]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> <span class="id">fr</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> (<span class="id">f</span> <span class="id">@^-1`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_x_']'">[set</a></span> <span class="id">r]</span>) <span class="gallina-kwd">by</span> <span class="id">exact/measurable_sfunP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#::ring_scope:'\1_'_x">\1__</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mindic">mindic</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#integral_kcomp.R">R</a></span> <span class="id">fr</span>).<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">r</span> <span class="id">z</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinM">EFinM</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnfun_muleindic_ge0">nnfun_muleindic_ge0</a></span>.<br/>
<span class="id">under</span> <span class="id">[in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS]eq_integral</a></span>.<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">y</span> <span class="id">_</span>.<br/>
&nbsp;&nbsp;<span class="id">under</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">z</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.numfun.html#fimfunE">fimfunE</a></span> <span class="id">-fsumEFin//;</span> <span class="id">over</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">/=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_fsum">ge0_integral_fsum//;</a></span> <span class="id">last</span> <span class="id">2</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">-</span> <span class="id">move=&gt;</span> <span class="id">r;</span> <span class="id">apply/EFin_measurable_fun/measurableT_comp</span> <span class="id">=&gt;</span> <span class="id">[//|]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> <span class="id">fr</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> (<span class="id">f</span> <span class="id">@^-1`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_x_']'">[set</a></span> <span class="id">r]</span>) <span class="gallina-kwd">by</span> <span class="id">exact/measurable_sfunP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#::ring_scope:'\1_'_x">\1__</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mindic">mindic</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#integral_kcomp.R">R</a></span> <span class="id">fr</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">r</span> <span class="id">z</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinM">EFinM</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnfun_muleindic_ge0">nnfun_muleindic_ge0</a></span>.<br/>
&nbsp;&nbsp;<span class="id">under</span> <span class="id"><a href="mathcomp.classical.fsbigop.html#eq_fsbigr">eq_fsbigr</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">r</span> <span class="id">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralZl_indic">integralZl_indic</a></span> <span class="id">_</span> (<span class="gallina-kwd">fun</span> <span id="r:853" class="id"><span id="r:852" class="id"><span id="r:851" class="id">
  <a name="r:853" class="">r</a>
</span></span></span> <span class="id">=&gt;</span> <span class="id">f</span> <span class="id">@^-1`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_x_']'">[set</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#r:851">r]</a></span>))<span class="id">//;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">r0;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#preimage_nnfun0">preimage_nnfun0</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_indic">integral_indic//</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setIT">setIT</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">over</span>.<br/>
&nbsp;&nbsp;<span class="id">over</span>.<br/>
<span class="id">rewrite</span> <span class="id">/=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_fsum">ge0_integral_fsum//;</a></span> <span class="id">last</span> <span class="id">2</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">move=&gt;</span> <span class="id">r;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_funeM">measurable_funeM</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#measurable_kernel">measurable_kernel</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#integral_kcomp.k">k</a></span> (<span class="id">f</span> <span class="id">@^-1`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_x_']'">[set</a></span> <span class="id">r]</span>) <span class="id">_</span>) <span class="id">_</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">move=&gt;</span> <span class="id">n</span> <span class="id">y</span> <span class="id">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mulemu_ge0">mulemu_ge0</a></span> (<span class="gallina-kwd">fun</span> <span id="n:854" class="id">
  <a name="n:854" class="">n</a>
</span> <span class="id">=&gt;</span> <span class="id">f</span> <span class="id">@^-1`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_x_']'">[set</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#n:854">n]</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#preimage_nnfun0">preimage_nnfun0</a></span>.<br/>
<span class="id">apply:</span> <span class="id"><a href="mathcomp.classical.fsbigop.html#eq_fsbigr">eq_fsbigr</a></span> <span class="id">=&gt;</span> <span class="id">r</span> <span class="id">_</span>.<br/>
<span class="id">rewrite</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralZl_indic">integralZl_indic</a></span> <span class="id">_</span> (<span class="gallina-kwd">fun</span> <span id="r:857" class="id"><span id="r:856" class="id"><span id="r:855" class="id">
  <a name="r:857" class="">r</a>
</span></span></span> <span class="id">=&gt;</span> <span class="id">f</span> <span class="id">@^-1`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_x_']'">[set</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#r:855">r]</a></span>))<span class="id">//;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#preimage_nnfun0">preimage_nnfun0</a></span>.<br/>
<span class="id">rewrite</span> <span class="id">/=</span> <span class="id"><a href="mathcomp.analysis.kernel.html#integral_kcomp.integral_kcomp_indic">integral_kcomp_indic;</a></span> <span class="id">last</span> <span class="id">exact/measurable_sfunP</span>.<br/>
<span class="id">have</span> <span class="id">[r0|r0]</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.TotalTheory.leP">leP</a></span> <span class="id">0%R</span> <span class="id">r</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralZl">ge0_integralZl//;</a></span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#measurable_kernel">measurable_kernel</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#integral_kcomp.k">k</a></span> (<span class="id">f</span> <span class="id">@^-1`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_x_']'">[set</a></span> <span class="id">r]</span>) <span class="id">_</span>) <span class="id">_</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">congr</span> (<span class="id">_</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'*'_x">*</a></span> <span class="id">_</span>)<span class="id">;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> <span class="id">=&gt;</span> <span class="id">y</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_indic">integral_indic//</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setIT">setIT</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral0_eq">integral0_eq</a></span> <span class="id">?mule0;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">y</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral0_eq">integral0_eq//</a></span> <span class="id">=&gt;</span> <span class="id">z</span> <span class="id">_</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#preimage_nnfun0">preimage_nnfun0//</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#indic0">indic0</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral0_eq">integral0_eq//</a></span> <span class="id">=&gt;</span> <span class="id">y</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#preimage_nnfun0">preimage_nnfun0//</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measure0">measure0</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule0">mule0</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="integral_kcomp" class="id">
  <a name="integral_kcomp" class="">integral_kcomp</a>
</span> <span id="x:858" class="id">
  <a name="x:858" class="">x</a>
</span> <span id="f:859" class="id">
  <a name="f:859" class="">f</a>
</span> <span class="id">:</span> (<span class="gallina-kwd">forall</span> <span id="z:860" class="id">
  <a name="z:860" class="">z,</a>
</span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'<='_x">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#f:859">f</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#z:860">z</a></span>) <span class="id">-&gt;</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_':'_x_']'">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#integral_kcomp.Z">Z]</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#f:859">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#::ereal_scope:'\int'_'['_x_']_'_x_x">\int[kcomp</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#integral_kcomp.l">l</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#integral_kcomp.k">k</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:858">x]_z</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#f:859">f</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#z:861">z</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#::ereal_scope:'\int'_'['_x_']_'_x_x">\int[l</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:858">x]_y</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#::ereal_scope:'\int'_'['_x_']_'_x_x">\int[k</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#x:858">x,</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#y:862">y</a></span>)<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#::ereal_scope:'\int'_'['_x_']_'_x_x">]_z</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#f:859">f</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#z:863">z</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof53')">Proof.</span></div>
<div class="proofscript" id="proof53">
<span class="id">move=&gt;</span> <span class="id">f0</span> <span class="id">mf</span>.<br/>
<span class="id">have</span> <span class="id">[f_</span> <span class="id">[ndf_</span> <span class="id">f_f]]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation">approximation</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT">measurableT</a></span> <span class="id">mf</span> (<span class="gallina-kwd">fun</span> <span id="z:864" class="id">
  <a name="z:864" class="">z</a>
</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id">f0</span> <span class="id"><a href="mathcomp.analysis.kernel.html#z:864">z</a></span>).<br/>
<span class="id">transitivity</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#::ereal_scope:'\int'_'['_x_']_'_x_x">\int[kcomp</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#integral_kcomp.l">l</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#integral_kcomp.k">k</a></span> <span class="id">x]_z</span> (<span class="id"><a href="mathcomp.analysis.topology.html#lim">lim</a></span> ((<span class="id">f_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#n:866">n</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#z:865">z</a></span>)<span class="id">%:E</span> <span class="id">@[n</span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'@['_x_'-->'_x_']'">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:'\oo'">\oo]</a></span>))).<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply/eq_integral</span> <span class="id">=&gt;</span> <span class="id">z</span> <span class="id">_;</span> <span class="id">apply/esym/cvg_lim</span> <span class="id">=&gt;</span> <span class="id">//=;</span> <span class="id">exact:</span> <span class="id">f_f</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence">monotone_convergence//;</a></span> <span class="id">last</span> <span class="id">3</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">n;</span> <span class="id">exact/EFin_measurable_fun</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">n</span> <span class="id">z</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">z</span> <span class="id">_</span> <span class="id">a</span> <span class="id">b</span> <span class="id">/ndf_</span> <span class="id">/lefP</span> <span class="id">ab;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
<span class="id">rewrite</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> (<span class="gallina-kwd">fun</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id">_</span>) <span class="id">=</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="gallina-kwd">fun</span> <span id="n:877" class="id"><span id="n:874" class="id"><span id="n:871" class="id">
  <a name="n:877" class="">n</a>
</span></span></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#::ereal_scope:'\int'_'['_x_']_'_x_x">\int[l</a></span> <span class="id">x]_y</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#::ereal_scope:'\int'_'['_x_']_'_x_x">\int[k</a></span> (<span class="id">x,</span> <span class="id"><a href="mathcomp.analysis.kernel.html#y:872">y</a></span>)<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#::ereal_scope:'\int'_'['_x_']_'_x_x">]_z</a></span> (<span class="id">f_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#n:871">n</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#z:873">z</a></span>)<span class="id">%:E</span>)))<span class="id">//;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply/funext</span> <span class="id">=&gt;</span> <span class="id">n;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.kernel.html#integral_kcomp.integral_kcomp_nnsfun">integral_kcomp_nnsfun</a></span>.<br/>
<span class="id">transitivity</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#::ereal_scope:'\int'_'['_x_']_'_x_x">\int[l</a></span> <span class="id">x]_y</span> <span class="id"><a href="mathcomp.analysis.topology.html#lim">lim</a></span> (<span class="gallina-kwd">fun</span> <span id="n:888" class="id"><span id="n:886" class="id"><span id="n:883" class="id"><span id="n:881" class="id">
  <a name="n:888" class="">n</a>
</span></span></span></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#::ereal_scope:'\int'_'['_x_']_'_x_x">\int[k</a></span> (<span class="id">x,</span> <span class="id"><a href="mathcomp.analysis.kernel.html#y:880">y</a></span>)<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#::ereal_scope:'\int'_'['_x_']_'_x_x">]_z</a></span> (<span class="id">f_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#n:881">n</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#z:882">z</a></span>)<span class="id">%:E</span>)).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-monotone_convergence//;</span> <span class="id">last</span> <span class="id">3</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">move=&gt;</span> <span class="id">n;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_integral_kernel">measurable_fun_integral_kernel</a></span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">+</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">U</span> <span class="id">mU;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#measurable_kernel">measurable_kernel</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#integral_kcomp.k">k</a></span> <span class="id">_</span> <span class="id">mU</span>) <span class="id">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">+</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">z;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">+</span> <span class="id">exact/EFin_measurable_fun</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">n</span> <span class="id">y</span> <span class="id">_;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ge0">integral_ge0</a></span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">z</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">move=&gt;</span> <span class="id">y</span> <span class="id">_</span> <span class="id">a</span> <span class="id">b</span> <span class="id">ab;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_le_integral">ge0_le_integral</a></span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">+</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">z</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">+</span> <span class="id">exact/EFin_measurable_fun</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">+</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">z</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">+</span> <span class="id">exact/EFin_measurable_fun</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">+</span> <span class="gallina-kwd">by</span> <span class="id">move:</span> <span class="id">ab</span> <span class="id">=&gt;</span> <span class="id">/ndf_</span> <span class="id">/lefP</span> <span class="id">ab</span> <span class="id">z</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> <span class="id">=&gt;</span> <span class="id">y</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id">-monotone_convergence//;</span> <span class="id">last</span> <span class="id">3</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">n;</span> <span class="id">exact/EFin_measurable_fun</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">n</span> <span class="id">z</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">z</span> <span class="id">_</span> <span class="id">a</span> <span class="id">b</span> <span class="id">/ndf_</span> <span class="id">/lefP;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> <span class="id">=&gt;</span> <span class="id">z</span> <span class="id">_;</span> <span class="id">apply/cvg_lim</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> <span class="id">f_f</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.kernel.html#integral_kcomp">integral_kcomp</a></span>.<br/>

</div>
<div class="footer"><hr/>Generated by <a href="https://github.com/yoshihiro503/coq2html/">a fork of coq2html</a></div>
</body>
</html>
