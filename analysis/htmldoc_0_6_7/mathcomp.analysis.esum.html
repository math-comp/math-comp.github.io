
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Module mathcomp.analysis.esum</title>
<meta name="description" content="Documentation of Coq module mathcomp.analysis.esum" />
<link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.css">
<script src="https://cdn.jsdelivr.net/npm/markdown-it/dist/markdown-it.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/markdown-it-texmath/texmath.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/darkmode-js@1.5.7/lib/darkmode-js.min.js"></script>
<link href="coq2html.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="coq2html.js"> </script>
</head>

<body onload="init('proofscript')">
<h1 class="title">Module mathcomp.analysis.esum</h1>
<div class="coq">
<span class="vernacular">From</span> <span class="id">mathcomp</span> <span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.all_ssreflect.html">all_ssreflect</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html">ssralg</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html">ssrnum</a></span> <span class="id"><a href="NOTFOUND the module url for mathcomp.finmap.finmap">finmap</a></span>.<br/>
<span class="vernacular">From</span> <span class="id">mathcomp</span> <span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="mathcomp.classical.mathcomp_extra.html">mathcomp_extra</a></span> <span class="id"><a href="mathcomp.classical.boolp.html">boolp</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html">classical_sets</a></span> <span class="id"><a href="mathcomp.classical.functions.html">functions</a></span>.<br/>
<span class="vernacular">From</span> <span class="id">mathcomp</span> <span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="mathcomp.classical.cardinality.html">cardinality</a></span> <span class="id"><a href="mathcomp.classical.fsbigop.html">fsbigop</a></span>.<br/>
<span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="mathcomp.analysis.reals.html">reals</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html">ereal</a></span> <span class="id"><a href="mathcomp.analysis.signed.html">signed</a></span> <span class="id"><a href="mathcomp.analysis.topology.html">topology</a></span> <span class="id"><a href="mathcomp.analysis.sequences.html">sequences</a></span> <span class="id"><a href="mathcomp.analysis.normedtype.html">normedtype</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html">numfun</a></span>.<br/>
<br/>
<div class="ssrdoc md">
# Summation over classical sets                                            
                                                                           
This file provides a definition of sum over classical sets and a few       
lemmas in particular for the case of sums of non-negative terms.           
                                                                           
```                                                                        
           fsets S == the set of finite sets (fset) included in S          
\esum_(i in I) f i == summation of non-negative extended real numbers over 
                      classical sets; I is a classical set and f is a      
                      function whose codomain is included in the extended  
                      reals; it is 0 if I = set0 and sup(\sum_A a) where A 
                      is a finite set included in I o.w.                   
      summable D f := \esum_(x in D) `| f x | &lt; +oo                        
```                                                                        
                                                                           
</div>
<br/>
<span class="vernacular">Reserved</span> <span class="vernacular">Notation</span> <span class="id">"\esum_&nbsp;(&nbsp;i&nbsp;'in'&nbsp;P&nbsp;)&nbsp;F"</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span> <span class="id">level</span> <span class="id">41,</span> <span class="id">F</span> <span class="gallina-kwd">at</span> <span class="id">level</span> <span class="id">41,</span> <span class="id">format</span> <span class="id">"\esum_&nbsp;(&nbsp;i&nbsp;&nbsp;'in'&nbsp;&nbsp;P&nbsp;)&nbsp;&nbsp;F"</span>).<br/>
<br/>
<span class="gallina-kwd">Set</span> <span class="vernacular">Implicit</span> <span class="vernacular">Arguments</span>.<br/>
<span class="id">Unset</span> <span class="id">Strict</span> <span class="vernacular">Implicit</span>.<br/>
<span class="id">Unset</span> <span class="id">Printing</span> <span class="vernacular">Implicit</span> <span class="id">Defensive</span>.<br/>
<span class="vernacular">Import</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.TTheory">Order.TTheory</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory">GRing.Theory</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Def">Num.Def</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory">Num.Theory</a></span>.<br/>
<br/>
<span class="id">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">classical_set_scope</span>.<br/>
<span class="id">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">ring_scope</span>.<br/>
<span class="id">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">ereal_scope</span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="set_of_fset_in_a_set" class="id">
  <a name="set_of_fset_in_a_set" class="">set_of_fset_in_a_set</a>
</span>.<br/>
<span class="vernacular">Variable</span> (<span id="set_of_fset_in_a_set.T" class="id">
  <a name="set_of_fset_in_a_set.T" class="">T</a>
</span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.choice.html#Choice.Exports.choiceType">choiceType</a></span>).<br/>
<span class="vernacular">Implicit</span> <span class="gallina-kwd">Type</span> <span class="id">S</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#set_of_fset_in_a_set.T">T</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="fsets" class="id">
  <a name="fsets" class="">fsets</a>
</span> <span id="S:2" class="id">
  <a name="S:2" class="">S</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#set_of_fset_in_a_set.T">T</a></span>) <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_x_'|'_x_']'">[set</a></span> <span id="F:3" class="id">
  <a name="F:3" class="">F</a>
</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_x_'|'_x_']'">|</a></span> <span class="id"><a href="mathcomp.classical.cardinality.html#finite_set">finite_set</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#F:3">F</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'/\'_x">/\</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#F:3">F</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:x_'`<=`'_x">`&lt;=`</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#S:2">S]</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="fsets_set0" class="id">
  <a name="fsets_set0" class="">fsets_set0</a>
</span> <span id="S:4" class="id">
  <a name="S:4" class="">S</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.esum.html#fsets">fsets</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#S:4">S</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof1')">Proof.</span></div>
<div class="proofscript" id="proof1">
 <span class="gallina-kwd">by</span> <span class="id">split</span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="fsets_self" class="id">
  <a name="fsets_self" class="">fsets_self</a>
</span> (<span id="F:5" class="id">
  <a name="F:5" class="">F</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#set_of_fset_in_a_set.T">T</a></span>) <span class="id">:</span> <span class="id"><a href="mathcomp.classical.cardinality.html#finite_set">finite_set</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#F:5">F</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#fsets">fsets</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#F:5">F</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#F:5">F</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof2')">Proof.</span></div>
<div class="proofscript" id="proof2">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">finF;</span> <span class="id">split</span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="fsets0" class="id">
  <a name="fsets0" class="">fsets0</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.esum.html#fsets">fsets</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_x_']'">[set</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0]</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof3')">Proof.</span></div>
<div class="proofscript" id="proof3">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#predeqE">predeqE</a></span> <span class="id">=&gt;</span> <span class="id">A;</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">[|-&gt;];</span> <span class="id">last</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.esum.html#fsets_set0">fsets_set0</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/fsets/=</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#subset0">subset0</a></span> <span class="id">=&gt;</span> <span class="id">-[]</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.esum.html#set_of_fset_in_a_set">set_of_fset_in_a_set</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="esum" class="id">
  <a name="esum" class="">esum</a>
</span>.<br/>
<span class="vernacular">Variables</span> (<span id="esum.R" class="id">
  <a name="esum.R" class="">R</a>
</span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.RealField.Exports.realFieldType">realFieldType</a></span>) (<span id="esum.T" class="id">
  <a name="esum.T" class="">T</a>
</span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.choice.html#Choice.Exports.choiceType">choiceType</a></span>).<br/>
<span class="vernacular">Implicit</span> <span class="id">Types</span> (<span class="id">S</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#esum.T">T</a></span>) (<span class="id">a</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.esum.html#esum.T">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::type_scope:'\bar'_x">\bar</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#esum.R">R</a></span>).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="esum" class="id">
  <a name="esum" class="">esum</a>
</span> <span id="S:8" class="id">
  <a name="S:8" class="">S</a>
</span> <span id="a:9" class="id">
  <a name="a:9" class="">a</a>
</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup">ereal_sup</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_x_'|'_x_'in'_x_']'">[set</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#::ereal_scope:'\sum_'_'('_x_'\in'_x_')'_x">\sum_</a></span>(<span id="x:14" class="id"><span id="x:13" class="id"><span id="x:12" class="id"><span id="x:11" class="id">
  <a name="x:14" class="">x</a>
</span></span></span></span> <span class="id"><a href="mathcomp.analysis.ereal.html#::ereal_scope:'\sum_'_'('_x_'\in'_x_')'_x">\in</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#A:10">A</a></span>) <span class="id"><a href="mathcomp.analysis.esum.html#a:9">a</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#x:11">x</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_x_'|'_x_'in'_x_']'">|</a></span> <span id="A:10" class="id">
  <a name="A:10" class="">A</a>
</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.esum.html#fsets">fsets</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#S:8">S]</a></span>.<br/>
<br/>
<span class="id">Local</span> <span class="vernacular">Notation</span> <span id="esum.:::'\esum_'_'('_x_'in'_x_')'_x" class="id">
  <a name="esum.:::'\esum_'_'('_x_'in'_x_')'_x" class="">"\esum_&nbsp;(&nbsp;i&nbsp;'in'&nbsp;P&nbsp;)&nbsp;A"</a>
</span> <span class="id">:=</span> (<span class="id"><a href="mathcomp.analysis.esum.html#esum">esum</a></span> <span class="id">P</span> (<span class="gallina-kwd">fun</span> <span id="i:15" class="id">
  <a name="i:15" class="">i</a>
</span> <span class="id">=&gt;</span> <span class="id">A</span>)).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="esum_set0" class="id">
  <a name="esum_set0" class="">esum_set0</a>
</span> <span id="a:16" class="id">
  <a name="a:16" class="">a</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.esum.html#esum.:::'\esum_'_'('_x_'in'_x_')'_x">\esum_</a></span>(<span id="i:17" class="id">
  <a name="i:17" class="">i</a>
</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span>) <span class="id"><a href="mathcomp.analysis.esum.html#a:16">a</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:17">i</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id">0</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof4')">Proof.</span></div>
<div class="proofscript" id="proof4">
<span class="id">rewrite</span> <span class="id">/esum</span> <span class="id"><a href="mathcomp.analysis.esum.html#fsets0">fsets0</a></span> <span class="id">[X</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup">ereal_sup</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#X:18">X]</a></span>(<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_x_']'">[set</a></span> <span class="id">0%E]</span>) <span class="id">?ereal_sup1//</span>.<br/>
<span class="id">apply/seteqP;</span> <span class="id">split=&gt;</span> <span class="id">[x</span> <span class="id">[_</span> <span class="id">/=</span> <span class="id">-&gt;]|x];</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.fsbigop.html#fsbig_set0">fsbig_set0</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">-&gt;</span> <span class="id">/=;</span> <span class="gallina-kwd">exists</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.fsbigop.html#fsbig_set0">fsbig_set0</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.esum.html#esum">esum</a></span>.<br/>
<br/>
<span class="vernacular">Notation</span> <span id="::ring_scope:'\esum_'_'('_x_'in'_x_')'_x" class="id">
  <a name="::ring_scope:'\esum_'_'('_x_'in'_x_')'_x" class="">"\esum_&nbsp;(&nbsp;i&nbsp;'in'&nbsp;P&nbsp;)&nbsp;F"</a>
</span> <span class="id">:=</span> (<span class="id"><a href="mathcomp.analysis.esum.html#esum">esum</a></span> <span class="id">P</span> (<span class="gallina-kwd">fun</span> <span id="i:19" class="id">
  <a name="i:19" class="">i</a>
</span> <span class="id">=&gt;</span> <span class="id">F</span>)) <span class="id">:</span> <span class="id">ring_scope</span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="esum_realType" class="id">
  <a name="esum_realType" class="">esum_realType</a>
</span>.<br/>
<span class="vernacular">Variables</span> (<span id="esum_realType.R" class="id">
  <a name="esum_realType.R" class="">R</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) (<span id="esum_realType.T" class="id">
  <a name="esum_realType.T" class="">T</a>
</span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.choice.html#Choice.Exports.choiceType">choiceType</a></span>).<br/>
<span class="vernacular">Implicit</span> <span class="id">Types</span> (<span class="id">a</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.esum.html#esum_realType.T">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::type_scope:'\bar'_x">\bar</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#esum_realType.R">R</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="esum_ge0" class="id">
  <a name="esum_ge0" class="">esum_ge0</a>
</span> (<span id="S:22" class="id">
  <a name="S:22" class="">S</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#esum_realType.T">T</a></span>) <span id="a:23" class="id">
  <a name="a:23" class="">a</a>
</span> <span class="id">:</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="x:24" class="id">
  <a name="x:24" class="">x,</a>
</span> <span class="id"><a href="mathcomp.analysis.esum.html#S:22">S</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#x:24">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'<='_x">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#a:23">a</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#x:24">x</a></span>) <span class="id">-&gt;</span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'<='_x">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#::ring_scope:'\esum_'_'('_x_'in'_x_')'_x">\esum_</a></span>(<span id="i:25" class="id">
  <a name="i:25" class="">i</a>
</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.esum.html#S:22">S</a></span>) <span class="id"><a href="mathcomp.analysis.esum.html#a:23">a</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:25">i</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof5')">Proof.</span></div>
<div class="proofscript" id="proof5">
<span class="id">move=&gt;</span> <span class="id">a0;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup_ub">ereal_sup_ub</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0;</a></span> <span class="id">[exact:</span> <span class="id"><a href="mathcomp.analysis.esum.html#fsets_set0">fsets_set0|rewrite</a></span> <span class="id"><a href="mathcomp.classical.fsbigop.html#fsbig_set0">fsbig_set0]</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="esum_fset" class="id">
  <a name="esum_fset" class="">esum_fset</a>
</span> (<span id="F:26" class="id">
  <a name="F:26" class="">F</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#esum_realType.T">T</a></span>) <span id="a:27" class="id">
  <a name="a:27" class="">a</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.cardinality.html#finite_set">finite_set</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#F:26">F</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="i:28" class="id">
  <a name="i:28" class="">i,</a>
</span> <span class="id"><a href="mathcomp.analysis.esum.html#i:28">i</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::bool_scope:x_'\in'_x">\in</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#F:26">F</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'<='_x">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#a:27">a</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:28">i</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.esum.html#::ring_scope:'\esum_'_'('_x_'in'_x_')'_x">\esum_</a></span>(<span id="i:29" class="id">
  <a name="i:29" class="">i</a>
</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.esum.html#F:26">F</a></span>) <span class="id"><a href="mathcomp.analysis.esum.html#a:27">a</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:29">i</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#::ereal_scope:'\sum_'_'('_x_'\in'_x_')'_x">\sum_</a></span>(<span id="i:33" class="id"><span id="i:32" class="id"><span id="i:31" class="id"><span id="i:30" class="id">
  <a name="i:33" class="">i</a>
</span></span></span></span> <span class="id"><a href="mathcomp.analysis.ereal.html#::ereal_scope:'\sum_'_'('_x_'\in'_x_')'_x">\in</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#F:26">F</a></span>) <span class="id"><a href="mathcomp.analysis.esum.html#a:27">a</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:30">i</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof6')">Proof.</span></div>
<div class="proofscript" id="proof6">
<span class="id">move=&gt;</span> <span class="id">finF</span> <span class="id">f0;</span> <span class="id">apply/eqP;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.eq_le">eq_le;</a></span> <span class="id">apply/andP;</span> <span class="id">split;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup_ub">ereal_sup_ub;</a></span> <span class="gallina-kwd">exists</span> <span class="id">F</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.esum.html#fsets_self">fsets_self</a></span>.<br/>
<span class="id">apply</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ub_ereal_sup">ub_ereal_sup</a></span> <span class="id">=&gt;</span> <span class="id">/=</span> <span class="id">?</span> <span class="id">-[F'</span> <span class="id">[finF'</span> <span class="id">F'F]</span> <span class="id">&lt;-]</span>.<br/>
<span class="id">apply/lee_fsum_nneg_subset</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">first</span> <span class="id">exact/subsetP</span>.<br/>
<span class="gallina-kwd">by</span>  <span class="id">move=&gt;</span> <span class="id">t;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE/=</a></span> <span class="id">=&gt;</span> <span class="id">/andP[_]</span> <span class="id">/f0</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="esum_set1" class="id">
  <a name="esum_set1" class="">esum_set1</a>
</span> <span id="t:34" class="id">
  <a name="t:34" class="">t</a>
</span> <span id="a:35" class="id">
  <a name="a:35" class="">a</a>
</span> <span class="id">:</span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'<='_x">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#a:35">a</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#t:34">t</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#::ring_scope:'\esum_'_'('_x_'in'_x_')'_x">\esum_</a></span>(<span id="i:36" class="id">
  <a name="i:36" class="">i</a>
</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_x_']'">[set</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#t:34">t]</a></span>) <span class="id"><a href="mathcomp.analysis.esum.html#a:35">a</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:36">i</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#a:35">a</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#t:34">t</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof7')">Proof.</span></div>
<div class="proofscript" id="proof7">
<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">?;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.esum.html#esum_fset">esum_fset//</a></span> <span class="id">?fset_set1//</span> <span class="id">?fsbig_set1//</span> <span class="id">=&gt;</span> <span class="id">t'</span> <span class="id">/[!inE]</span> <span class="id">-&gt;</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.esum.html#esum_realType">esum_realType</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="esum_ge" class="id">
  <a name="esum_ge" class="">esum_ge</a>
</span> <span class="id">[R</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType]</a></span> <span class="id">[T</span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.choice.html#Choice.Exports.choiceType">choiceType]</a></span> (<span id="I:39" class="id">
  <a name="I:39" class="">I</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#T:38">T</a></span>) (<span id="a:40" class="id">
  <a name="a:40" class="">a</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.esum.html#T:38">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::type_scope:'\bar'_x">\bar</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#R:37">R</a></span>) <span id="x:41" class="id">
  <a name="x:41" class="">x</a>
</span> <span class="id">:</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">exists2</span> <span id="X:43" class="id"><span id="X:42" class="id">
  <a name="X:43" class="">X</a>
</span></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:'exists2'_x_':'_x_','_x_'&'_x">:</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#T:38">T,</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#fsets">fsets</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#I:39">I</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#X:42">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:'exists2'_x_':'_x_','_x_'&'_x">&amp;</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#x:41">x</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'<='_x">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#::ereal_scope:'\sum_'_'('_x_'\in'_x_')'_x">\sum_</a></span>(<span id="i:47" class="id"><span id="i:46" class="id"><span id="i:45" class="id"><span id="i:44" class="id">
  <a name="i:47" class="">i</a>
</span></span></span></span> <span class="id"><a href="mathcomp.analysis.ereal.html#::ereal_scope:'\sum_'_'('_x_'\in'_x_')'_x">\in</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#X:43">X</a></span>) <span class="id"><a href="mathcomp.analysis.esum.html#a:40">a</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:44">i</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.esum.html#x:41">x</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'<='_x">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#::ring_scope:'\esum_'_'('_x_'in'_x_')'_x">\esum_</a></span>(<span id="i:48" class="id">
  <a name="i:48" class="">i</a>
</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.esum.html#I:39">I</a></span>) <span class="id"><a href="mathcomp.analysis.esum.html#a:40">a</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:48">i</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof8')">Proof.</span></div>
<div class="proofscript" id="proof8">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">[X</span> <span class="id">IX</span> <span class="id">/le_trans-&gt;//];</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup_ub">ereal_sup_ub</a></span> <span class="id">=&gt;</span> <span class="id">/=;</span> <span class="gallina-kwd">exists</span> <span class="id">X</span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="esum1" class="id">
  <a name="esum1" class="">esum1</a>
</span> <span class="id">[R</span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.RealField.Exports.realFieldType">realFieldType]</a></span> <span class="id">[I</span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.choice.html#Choice.Exports.choiceType">choiceType]</a></span> (<span id="D:51" class="id">
  <a name="D:51" class="">D</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#I:50">I</a></span>) (<span id="a:52" class="id">
  <a name="a:52" class="">a</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.esum.html#I:50">I</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::type_scope:'\bar'_x">\bar</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#R:49">R</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="i:53" class="id">
  <a name="i:53" class="">i,</a>
</span> <span class="id"><a href="mathcomp.analysis.esum.html#D:51">D</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:53">i</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#a:52">a</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:53">i</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id">0</span>) <span class="id">-&gt;</span> <span class="id"><a href="mathcomp.analysis.esum.html#::ring_scope:'\esum_'_'('_x_'in'_x_')'_x">\esum_</a></span>(<span id="i:54" class="id">
  <a name="i:54" class="">i</a>
</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.esum.html#D:51">D</a></span>) <span class="id"><a href="mathcomp.analysis.esum.html#a:52">a</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:54">i</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id">0</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof9')">Proof.</span></div>
<div class="proofscript" id="proof9">
<span class="id">move=&gt;</span> <span class="id">a0;</span> <span class="id">rewrite</span> <span class="id">/esum</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_x_'|'_x_'in'_x_']'">[set</a></span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_x_'|'_x_'in'_x_']'">|</a></span> <span class="id">_</span> <span class="gallina-kwd">in</span> <span class="id">_]</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_x_']'">[set</a></span> <span class="id">0]</span>) <span class="id">?ereal_sup1//</span>.<br/>
<span class="id">apply/seteqP;</span> <span class="id">split=&gt;</span> <span class="id">x</span> <span class="id">//=</span> <span class="id">=&gt;</span> <span class="id">[[X</span> <span class="id">[finX</span> <span class="id">XI]]</span> <span class="id">&lt;-|-&gt;]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.fsbigop.html#fsbig1">fsbig1//</a></span> <span class="id">=&gt;</span> <span class="id">i</span> <span class="id">/XI/a0</span>.<br/>
<span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0;</a></span> <span class="id">rewrite</span> <span class="id">?fsbig_set0//;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.esum.html#fsets_set0">fsets_set0</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="le_esum" class="id">
  <a name="le_esum" class="">le_esum</a>
</span> <span class="id">[R</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType]</a></span> <span class="id">[T</span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.choice.html#Choice.Exports.choiceType">choiceType]</a></span> (<span id="I:57" class="id">
  <a name="I:57" class="">I</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#T:56">T</a></span>) (<span id="a:58" class="id">
  <a name="a:58" class="">a</a>
</span> <span id="b:59" class="id">
  <a name="b:59" class="">b</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.esum.html#T:56">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::type_scope:'\bar'_x">\bar</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#R:55">R</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="i:60" class="id">
  <a name="i:60" class="">i,</a>
</span> <span class="id"><a href="mathcomp.analysis.esum.html#I:57">I</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:60">i</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#a:58">a</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:60">i</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'<='_x">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#b:59">b</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:60">i</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.esum.html#::ring_scope:'\esum_'_'('_x_'in'_x_')'_x">\esum_</a></span>(<span id="i:61" class="id">
  <a name="i:61" class="">i</a>
</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.esum.html#I:57">I</a></span>) <span class="id"><a href="mathcomp.analysis.esum.html#a:58">a</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:61">i</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'<='_x">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#::ring_scope:'\esum_'_'('_x_'in'_x_')'_x">\esum_</a></span>(<span id="i:62" class="id">
  <a name="i:62" class="">i</a>
</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.esum.html#I:57">I</a></span>) <span class="id"><a href="mathcomp.analysis.esum.html#b:59">b</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:62">i</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof10')">Proof.</span></div>
<div class="proofscript" id="proof10">
<span class="id">move=&gt;</span> <span class="id">le_ab;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ub_ereal_sup">ub_ereal_sup</a></span> <span class="id">=&gt;</span> <span class="id">//=</span> <span class="id">_</span> <span class="id">[X</span> <span class="id">[finX</span> <span class="id">XI]]</span> <span class="id">&lt;-;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.esum.html#esum_ge">esum_ge//</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> <span class="id">X</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#lee_fsum">lee_fsum</a></span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">t</span> <span class="id">/XI</span> <span class="id">/le_ab</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="eq_esum" class="id">
  <a name="eq_esum" class="">eq_esum</a>
</span> <span class="id">[R</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType]</a></span> <span class="id">[T</span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.choice.html#Choice.Exports.choiceType">choiceType]</a></span> (<span id="I:65" class="id">
  <a name="I:65" class="">I</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#T:64">T</a></span>) (<span id="a:66" class="id">
  <a name="a:66" class="">a</a>
</span> <span id="b:67" class="id">
  <a name="b:67" class="">b</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.esum.html#T:64">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::type_scope:'\bar'_x">\bar</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#R:63">R</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="i:68" class="id">
  <a name="i:68" class="">i,</a>
</span> <span class="id"><a href="mathcomp.analysis.esum.html#I:65">I</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:68">i</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#a:66">a</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:68">i</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#b:67">b</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:68">i</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.esum.html#::ring_scope:'\esum_'_'('_x_'in'_x_')'_x">\esum_</a></span>(<span id="i:69" class="id">
  <a name="i:69" class="">i</a>
</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.esum.html#I:65">I</a></span>) <span class="id"><a href="mathcomp.analysis.esum.html#a:66">a</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:69">i</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#::ring_scope:'\esum_'_'('_x_'in'_x_')'_x">\esum_</a></span>(<span id="i:70" class="id">
  <a name="i:70" class="">i</a>
</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.esum.html#I:65">I</a></span>) <span class="id"><a href="mathcomp.analysis.esum.html#b:67">b</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:70">i</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof11')">Proof.</span></div>
<div class="proofscript" id="proof11">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">e;</span> <span class="id">apply/eqP;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.eq_le">eq_le</a></span> <span class="id">!le_esum//</span> <span class="id">=&gt;</span> <span class="id">i</span> <span class="id">Ii;</span> <span class="id">rewrite</span> <span class="id">e</span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="esumD" class="id">
  <a name="esumD" class="">esumD</a>
</span> <span class="id">[R</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType]</a></span> <span class="id">[T</span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.choice.html#Choice.Exports.choiceType">choiceType]</a></span> (<span id="I:73" class="id">
  <a name="I:73" class="">I</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#T:72">T</a></span>) (<span id="a:74" class="id">
  <a name="a:74" class="">a</a>
</span> <span id="b:75" class="id">
  <a name="b:75" class="">b</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.esum.html#T:72">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::type_scope:'\bar'_x">\bar</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#R:71">R</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="i:76" class="id">
  <a name="i:76" class="">i,</a>
</span> <span class="id"><a href="mathcomp.analysis.esum.html#I:73">I</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:76">i</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'<='_x">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#a:74">a</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:76">i</a></span>) <span class="id">-&gt;</span> (<span class="gallina-kwd">forall</span> <span id="i:77" class="id">
  <a name="i:77" class="">i,</a>
</span> <span class="id"><a href="mathcomp.analysis.esum.html#I:73">I</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:77">i</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'<='_x">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#b:75">b</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:77">i</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.esum.html#::ring_scope:'\esum_'_'('_x_'in'_x_')'_x">\esum_</a></span>(<span id="i:78" class="id">
  <a name="i:78" class="">i</a>
</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.esum.html#I:73">I</a></span>) (<span class="id"><a href="mathcomp.analysis.esum.html#a:74">a</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:78">i</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'+'_x">+</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#b:75">b</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:78">i</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#::ring_scope:'\esum_'_'('_x_'in'_x_')'_x">\esum_</a></span>(<span id="i:79" class="id">
  <a name="i:79" class="">i</a>
</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.esum.html#I:73">I</a></span>) <span class="id"><a href="mathcomp.analysis.esum.html#a:74">a</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:79">i</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'+'_x">+</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#::ring_scope:'\esum_'_'('_x_'in'_x_')'_x">\esum_</a></span>(<span id="i:80" class="id">
  <a name="i:80" class="">i</a>
</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.esum.html#I:73">I</a></span>) <span class="id"><a href="mathcomp.analysis.esum.html#b:75">b</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:80">i</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof12')">Proof.</span></div>
<div class="proofscript" id="proof12">
<span class="id">move=&gt;</span> <span class="id">ag0</span> <span class="id">bg0;</span> <span class="id">apply/eqP;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.eq_le">eq_le;</a></span> <span class="id">apply/andP;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ub_ereal_sup">ub_ereal_sup//=</a></span> <span class="id">=&gt;</span> <span class="id">x</span> <span class="id">[X</span> <span class="id">[finX</span> <span class="id">XI]]</span> <span class="id">&lt;-;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.fsbigop.html#fsbig_split">fsbig_split//=</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_add">lee_add//</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup_ub">ereal_sup_ub//=;</a></span> <span class="gallina-kwd">exists</span> <span class="id">X</span>.<br/>
<span class="id">wlog</span> <span class="id">:</span> <span class="id">a</span> <span class="id">b</span> <span class="id">ag0</span> <span class="id">bg0</span> <span class="id">/</span> <span class="id"><a href="mathcomp.analysis.esum.html#::ring_scope:'\esum_'_'('_x_'in'_x_')'_x">\esum_</a></span>(<span id="i:81" class="id">
  <a name="i:81" class="">i</a>
</span> <span class="gallina-kwd">in</span> <span class="id">I</span>) <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.esum.html#i:81">i</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::bool_scope:x_'\isn''t'_'a'_x">\isn't</a></span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span> <span class="id">=&gt;</span> <span class="id">[saoo|];</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">/fin_numPn[-&gt;|/[dup]</span> <span class="id">aoo</span> <span class="id">-&gt;];</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leNye">leNye</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id">@le_trans</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'+oo'">+oo</a></span>)<span class="id">//;</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/adde/=;</span> <span class="id">case:</span> <span class="id"><a href="mathcomp.analysis.esum.html#esum">esum</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leye_eq">leye_eq;</a></span> <span class="id">apply/eqP/eq_infty</span> <span class="id">=&gt;</span> <span class="id">y;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.esum.html#esum_ge">esum_ge//</a></span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">:</span> <span class="id">y%:E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'<'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#::ring_scope:'\esum_'_'('_x_'in'_x_')'_x">\esum_</a></span>(<span id="i:82" class="id">
  <a name="i:82" class="">i</a>
</span> <span class="gallina-kwd">in</span> <span class="id">I</span>) <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.esum.html#i:82">i</a></span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">aoo//</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ltry">ltry</a></span>.<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">/ereal_sup_gt[_</span> <span class="id">[X</span> <span class="id">[finX</span> <span class="id">XI]]</span> <span class="id">&lt;-]</span> <span class="id">/ltW</span> <span class="id">yle;</span> <span class="gallina-kwd">exists</span> <span class="id">X</span> <span class="id">=&gt;</span> <span class="id">//=</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans</a></span> <span class="id">yle</span>)<span class="id">//</span> <span class="id"><a href="mathcomp.classical.fsbigop.html#fsbig_split">fsbig_split//</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_addl">lee_addl//</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#fsume_ge0">fsume_ge0//</a></span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">i</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">/XI;</span> <span class="id">exact:</span> <span class="id">bg0</span>.<br/>
<span class="id">case:</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#boolP">boolP</a></span> (<span class="id"><a href="mathcomp.analysis.esum.html#::ring_scope:'\esum_'_'('_x_'in'_x_')'_x">\esum_</a></span>(<span id="i:85" class="id"><span id="i:84" class="id"><span id="i:83" class="id">
  <a name="i:85" class="">i</a>
</span></span></span> <span class="gallina-kwd">in</span> <span class="id">I</span>) <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.esum.html#i:83">i</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::bool_scope:x_'\is'_'a'_x">\is</a></span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span>)) <span class="id">=&gt;</span> <span class="id">sa;</span> <span class="id">last</span> <span class="id">exact:</span> <span class="id">saoo</span>.<br/>
<span class="id">case:</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#boolP">boolP</a></span> (<span class="id"><a href="mathcomp.analysis.esum.html#::ring_scope:'\esum_'_'('_x_'in'_x_')'_x">\esum_</a></span>(<span id="i:88" class="id"><span id="i:87" class="id"><span id="i:86" class="id">
  <a name="i:88" class="">i</a>
</span></span></span> <span class="gallina-kwd">in</span> <span class="id">I</span>) <span class="id">b</span> <span class="id"><a href="mathcomp.analysis.esum.html#i:86">i</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::bool_scope:x_'\is'_'a'_x">\is</a></span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span>)) <span class="id">=&gt;</span> <span class="id">sb;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#addeC">addeC</a></span> (<span class="id"><a href="mathcomp.analysis.esum.html#eq_esum">eq_esum</a></span> (<span class="gallina-kwd">fun</span> <span class="id">_</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#addeC">addeC</a></span> <span class="id">_</span> <span class="id">_</span>)) <span class="id">saoo</span>.<br/>
<span class="id">rewrite</span> <span class="id">-lee_subr_addr//</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ub_ereal_sup">ub_ereal_sup//=</a></span> <span class="id">=&gt;</span> <span class="id">_</span> <span class="id">[X</span> <span class="id">[finX</span> <span class="id">XI]]</span> <span class="id">&lt;-</span>.<br/>
<span class="id">have</span> <span class="id">saX</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#::ereal_scope:'\sum_'_'('_x_'\in'_x_')'_x">\sum_</a></span>(<span id="i:92" class="id"><span id="i:91" class="id"><span id="i:90" class="id"><span id="i:89" class="id">
  <a name="i:92" class="">i</a>
</span></span></span></span> <span class="id"><a href="mathcomp.analysis.ereal.html#::ereal_scope:'\sum_'_'('_x_'\in'_x_')'_x">\in</a></span> <span class="id">X</span>) <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.esum.html#i:89">i</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::bool_scope:x_'\is'_'a'_x">\is</a></span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#contraTT">contraTT</a></span> <span class="id">sa</span> <span class="id">=&gt;</span> <span class="id">/fin_numPn[]</span> <span class="id">sa</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">suff</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#::ereal_scope:'\sum_'_'('_x_'\in'_x_')'_x">\sum_</a></span>(<span id="i:96" class="id"><span id="i:95" class="id"><span id="i:94" class="id"><span id="i:93" class="id">
  <a name="i:96" class="">i</a>
</span></span></span></span> <span class="id"><a href="mathcomp.analysis.ereal.html#::ereal_scope:'\sum_'_'('_x_'\in'_x_')'_x">\in</a></span> <span class="id">X</span>) <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.esum.html#i:93">i</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'>='_x">&gt;=</a></span> <span class="id">0</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">sa</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.ereal.html#fsume_ge0">fsume_ge0//</a></span> <span class="id">=&gt;</span> <span class="id">i</span> <span class="id">/XI/ag0</span>.<br/>
&nbsp;&nbsp;<span class="id">apply/fin_numPn;</span> <span class="id">right;</span> <span class="id">apply/eqP;</span> <span class="id">rewrite</span> <span class="id">-leye_eq</span> <span class="id"><a href="mathcomp.analysis.esum.html#esum_ge">esum_ge//</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> <span class="id">X;</span> <span class="id">rewrite</span> <span class="id">//</span> <span class="id">sa</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_subr_addr">lee_subr_addr//</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#addeC">addeC</a></span> <span class="id">-lee_subr_addr//</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ub_ereal_sup">ub_ereal_sup//=</a></span> <span class="id">=&gt;</span> <span class="id">_</span> <span class="id">[Y</span> <span class="id">[finY</span> <span class="id">YI]]</span> <span class="id">&lt;-</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_subr_addr">lee_subr_addr//</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#addeC">addeC</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#esum_ge">esum_ge//;</a></span> <span class="gallina-kwd">exists</span> (<span class="id">X</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:x_'`|`'_x">`|`</a></span> <span class="id">Y</span>).<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">split;</span> <span class="id">[rewrite</span> <span class="id"><a href="mathcomp.classical.cardinality.html#finite_setU">finite_setU|rewrite</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#subUset">subUset]</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.fsbigop.html#fsbig_split">fsbig_split</a></span> <span class="id">?finite_setU//=</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_add">lee_add//</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#lee_fsum_nneg_subset">lee_fsum_nneg_subset//=</a></span> <span class="id">?finite_setU//</span>.<br/>
<span class="id">-</span> <span class="id">exact/subsetP/subsetUl</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">x;</span> <span class="id">rewrite</span> <span class="id">!inE</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#in_setU">in_setU</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andb_orr">andb_orr</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andNb">andNb/=</a></span> <span class="id">=&gt;</span> <span class="id">/andP[_]</span> <span class="id">/[!inE]</span> <span class="id">/YI/ag0</span>.<br/>
<span class="id">-</span> <span class="id">exact/subsetP/subsetUr</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">x;</span> <span class="id">rewrite</span> <span class="id">!inE</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#in_setU">in_setU</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andb_orr">andb_orr</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andNb">andNb/=</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#orbF">orbF</a></span> <span class="id">=&gt;</span> <span class="id">/andP[_]</span> <span class="id">/[!inE]</span> <span class="id">/XI/bg0</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="esum_mkcond" class="id">
  <a name="esum_mkcond" class="">esum_mkcond</a>
</span> <span class="id">[R</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType]</a></span> <span class="id">[T</span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.choice.html#Choice.Exports.choiceType">choiceType]</a></span> (<span id="I:99" class="id">
  <a name="I:99" class="">I</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#T:98">T</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="a:100" class="id">
  <a name="a:100" class="">a</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.esum.html#T:98">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::type_scope:'\bar'_x">\bar</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#R:97">R</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.esum.html#::ring_scope:'\esum_'_'('_x_'in'_x_')'_x">\esum_</a></span>(<span id="i:101" class="id">
  <a name="i:101" class="">i</a>
</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.esum.html#I:99">I</a></span>) <span class="id"><a href="mathcomp.analysis.esum.html#a:100">a</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:101">i</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#::ring_scope:'\esum_'_'('_x_'in'_x_')'_x">\esum_</a></span>(<span id="i:102" class="id">
  <a name="i:102" class="">i</a>
</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_':'_x_']'">[set:</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#T:98">T]</a></span>) <span class="gallina-kwd">if</span> <span class="id"><a href="mathcomp.analysis.esum.html#i:102">i</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::bool_scope:x_'\in'_x">\in</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#I:99">I</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="mathcomp.analysis.esum.html#a:100">a</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:102">i</a></span> <span class="gallina-kwd">else</span> <span class="id">0</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof13')">Proof.</span></div>
<div class="proofscript" id="proof13">
<span class="id">apply/eqP;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.eq_le">eq_le</a></span> <span class="id">!ub_ereal_sup//=</span> <span class="id">=&gt;</span> <span class="id">_</span> <span class="id">[X</span> <span class="id">[finX</span> <span class="id">XI]]</span> <span class="id">&lt;-</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-big_mkcond/=</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.finmap.finmap#big_fset_condE">big_fset_condE/=;</a></span> <span class="id">set</span> <span class="id">Y</span> <span class="id">:=</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.finmap.finmap#::fset_scope:'['_'fset'_x_'|'_x_'in'_x_'&'_x_']'">[fset</a></span> <span class="id">_</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.finmap.finmap#::fset_scope:'['_'fset'_x_'|'_x_'in'_x_'&'_x_']'">|</a></span> <span id="pat:105" class="id"><span id="pat:104" class="id"><span id="pat:103" class="id">
  <a name="pat:105" class="">_</a>
</span></span></span> <span class="gallina-kwd">in</span> <span class="id">_</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.finmap.finmap#::fset_scope:'['_'fset'_x_'|'_x_'in'_x_'&'_x_']'">&amp;</a></span> <span class="id">_]%fset</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup_ub">ereal_sup_ub//=;</a></span> <span class="gallina-kwd">exists</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set`'_x_']'">[set`</a></span> <span class="id">Y];</span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.fsbigop.html#fsbig_finite">fsbig_finite//</a></span> <span class="id"><a href="mathcomp.classical.cardinality.html#set_fsetK">set_fsetK</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">i/=;</span> <span class="id">rewrite</span> <span class="id">!inE/=</span> <span class="id">=&gt;</span> <span class="id">/andP[_];</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup_ub">ereal_sup_ub//;</a></span> <span class="gallina-kwd">exists</span> <span class="id">X</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.classical.fsbigop.html#eq_fsbigr">eq_fsbigr</a></span> <span class="id">=&gt;</span> <span class="id">x;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> <span class="id">=&gt;</span> <span class="id">Xx</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifT">ifT//</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE;</a></span> <span class="id">exact:</span> <span class="id">XI</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="esum_mkcondr" class="id">
  <a name="esum_mkcondr" class="">esum_mkcondr</a>
</span> <span class="id">[R</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType]</a></span> <span class="id">[T</span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.choice.html#Choice.Exports.choiceType">choiceType]</a></span> (<span id="I:108" class="id">
  <a name="I:108" class="">I</a>
</span> <span id="J:109" class="id">
  <a name="J:109" class="">J</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#T:107">T</a></span>) (<span id="a:110" class="id">
  <a name="a:110" class="">a</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.esum.html#T:107">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::type_scope:'\bar'_x">\bar</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#R:106">R</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.esum.html#::ring_scope:'\esum_'_'('_x_'in'_x_')'_x">\esum_</a></span>(<span id="i:111" class="id">
  <a name="i:111" class="">i</a>
</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.esum.html#I:108">I</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:x_'`&`'_x">`&amp;`</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#J:109">J</a></span>) <span class="id"><a href="mathcomp.analysis.esum.html#a:110">a</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:111">i</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#::ring_scope:'\esum_'_'('_x_'in'_x_')'_x">\esum_</a></span>(<span id="i:112" class="id">
  <a name="i:112" class="">i</a>
</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.esum.html#I:108">I</a></span>) <span class="gallina-kwd">if</span> <span class="id"><a href="mathcomp.analysis.esum.html#i:112">i</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::bool_scope:x_'\in'_x">\in</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#J:109">J</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="mathcomp.analysis.esum.html#a:110">a</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:112">i</a></span> <span class="gallina-kwd">else</span> <span class="id">0</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof14')">Proof.</span></div>
<div class="proofscript" id="proof14">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.esum.html#esum_mkcond">esum_mkcond</a></span> <span class="id">[RHS]esum_mkcond;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.esum.html#eq_esum">eq_esum=&gt;</a></span> <span class="id">i</span> <span class="id">_</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#in_setI">in_setI;</a></span> <span class="id">case:</span> (<span class="id">i</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::bool_scope:x_'\in'_x">\in</a></span> <span class="id">I</span>) (<span class="id">i</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::bool_scope:x_'\in'_x">\in</a></span> <span class="id">J</span>) <span class="id">=&gt;</span> <span class="id">[]</span> <span class="id">[]</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="esum_mkcondl" class="id">
  <a name="esum_mkcondl" class="">esum_mkcondl</a>
</span> <span class="id">[R</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType]</a></span> <span class="id">[T</span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.choice.html#Choice.Exports.choiceType">choiceType]</a></span> (<span id="I:115" class="id">
  <a name="I:115" class="">I</a>
</span> <span id="J:116" class="id">
  <a name="J:116" class="">J</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#T:114">T</a></span>) (<span id="a:117" class="id">
  <a name="a:117" class="">a</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.esum.html#T:114">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::type_scope:'\bar'_x">\bar</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#R:113">R</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.esum.html#::ring_scope:'\esum_'_'('_x_'in'_x_')'_x">\esum_</a></span>(<span id="i:118" class="id">
  <a name="i:118" class="">i</a>
</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.esum.html#I:115">I</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:x_'`&`'_x">`&amp;`</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#J:116">J</a></span>) <span class="id"><a href="mathcomp.analysis.esum.html#a:117">a</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:118">i</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#::ring_scope:'\esum_'_'('_x_'in'_x_')'_x">\esum_</a></span>(<span id="i:119" class="id">
  <a name="i:119" class="">i</a>
</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.esum.html#J:116">J</a></span>) <span class="gallina-kwd">if</span> <span class="id"><a href="mathcomp.analysis.esum.html#i:119">i</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::bool_scope:x_'\in'_x">\in</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#I:115">I</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="mathcomp.analysis.esum.html#a:117">a</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:119">i</a></span> <span class="gallina-kwd">else</span> <span class="id">0</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof15')">Proof.</span></div>
<div class="proofscript" id="proof15">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.esum.html#esum_mkcond">esum_mkcond</a></span> <span class="id">[RHS]esum_mkcond;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.esum.html#eq_esum">eq_esum=&gt;</a></span> <span class="id">i</span> <span class="id">_</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#in_setI">in_setI;</a></span> <span class="id">case:</span> (<span class="id">i</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::bool_scope:x_'\in'_x">\in</a></span> <span class="id">I</span>) (<span class="id">i</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::bool_scope:x_'\in'_x">\in</a></span> <span class="id">J</span>) <span class="id">=&gt;</span> <span class="id">[]</span> <span class="id">[]</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="esumID" class="id">
  <a name="esumID" class="">esumID</a>
</span> (<span id="R:120" class="id">
  <a name="R:120" class="">R</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) (<span id="I:121" class="id">
  <a name="I:121" class="">I</a>
</span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.choice.html#Choice.Exports.choiceType">choiceType</a></span>) (<span id="B:122" class="id">
  <a name="B:122" class="">B</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#I:121">I</a></span>) (<span id="A:123" class="id">
  <a name="A:123" class="">A</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#I:121">I</a></span>)<br/>
&nbsp;&nbsp;(<span id="F:124" class="id">
  <a name="F:124" class="">F</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.esum.html#I:121">I</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::type_scope:'\bar'_x">\bar</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#R:120">R</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="i:125" class="id">
  <a name="i:125" class="">i,</a>
</span> <span class="id"><a href="mathcomp.analysis.esum.html#A:123">A</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:125">i</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#F:124">F</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:125">i</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'>='_x">&gt;=</a></span> <span class="id">0</span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.esum.html#::ring_scope:'\esum_'_'('_x_'in'_x_')'_x">\esum_</a></span>(<span id="i:126" class="id">
  <a name="i:126" class="">i</a>
</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.esum.html#A:123">A</a></span>) <span class="id"><a href="mathcomp.analysis.esum.html#F:124">F</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:126">i</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> (<span class="id"><a href="mathcomp.analysis.esum.html#::ring_scope:'\esum_'_'('_x_'in'_x_')'_x">\esum_</a></span>(<span id="i:127" class="id">
  <a name="i:127" class="">i</a>
</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.esum.html#A:123">A</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:x_'`&`'_x">`&amp;`</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#B:122">B</a></span>) <span class="id"><a href="mathcomp.analysis.esum.html#F:124">F</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:127">i</a></span>) <span class="id">+</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="mathcomp.analysis.esum.html#::ring_scope:'\esum_'_'('_x_'in'_x_')'_x">\esum_</a></span>(<span id="i:128" class="id">
  <a name="i:128" class="">i</a>
</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.esum.html#A:123">A</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:x_'`&`'_x">`&amp;`</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'~`'_x">~`</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#B:122">B</a></span>) <span class="id"><a href="mathcomp.analysis.esum.html#F:124">F</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:128">i</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof16')">Proof.</span></div>
<div class="proofscript" id="proof16">
<span class="id">move=&gt;</span> <span class="id">F0;</span> <span class="id">rewrite</span> <span class="id">!esum_mkcondr</span> <span class="id">-esumD;</span> <span class="id">do</span> <span class="id">?by</span> <span class="id">move=&gt;</span> <span class="id">i</span> <span class="id">/F0;</span> <span class="id">case:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifP">ifP</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.esum.html#eq_esum">eq_esum=&gt;</a></span> <span class="id">i;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#in_setC">in_setC;</a></span> <span class="id">case:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifP">ifP;</a></span> <span class="id">rewrite</span> <span class="id">/=</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#adde0">adde0,</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#add0e">add0e</a></span>).<br/>
Qed.</div>
<span class="vernacular">Arguments</span> <span class="id"><a href="mathcomp.analysis.esum.html#esumID">esumID</a></span> <span class="id">{R</span> <span class="id">I}</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="esum_sum" class="id">
  <a name="esum_sum" class="">esum_sum</a>
</span> <span class="id">[R</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType]</a></span> <span class="id">[T1</span> <span id="T2:131" class="id">
  <a name="T2:131" class="">T2</a>
</span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.choice.html#Choice.Exports.choiceType">choiceType]</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="I:132" class="id">
  <a name="I:132" class="">I</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#T1:130">T1</a></span>) (<span id="r:133" class="id">
  <a name="r:133" class="">r</a>
</span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#seq">seq</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#T2:131">T2</a></span>) (<span id="P:134" class="id">
  <a name="P:134" class="">P</a>
</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#pred">pred</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#T2:131">T2</a></span>) (<span id="a:135" class="id">
  <a name="a:135" class="">a</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.esum.html#T1:130">T1</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#T2:131">T2</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::type_scope:'\bar'_x">\bar</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#R:129">R</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="i:136" class="id">
  <a name="i:136" class="">i</a>
</span> <span id="j:137" class="id">
  <a name="j:137" class="">j,</a>
</span> <span class="id"><a href="mathcomp.analysis.esum.html#I:132">I</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:136">i</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#P:134">P</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#j:137">j</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'<='_x">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#a:135">a</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:136">i</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#j:137">j</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.esum.html#::ring_scope:'\esum_'_'('_x_'in'_x_')'_x">\esum_</a></span>(<span id="i:138" class="id">
  <a name="i:138" class="">i</a>
</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.esum.html#I:132">I</a></span>) <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'\sum_'_'('_x_'<-'_x_'|'_x_')'_x">\sum_</a></span>(<span id="j:141" class="id"><span id="j:140" class="id"><span id="j:139" class="id">
  <a name="j:141" class="">j</a>
</span></span></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'\sum_'_'('_x_'<-'_x_'|'_x_')'_x">&lt;-</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#r:133">r</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'\sum_'_'('_x_'<-'_x_'|'_x_')'_x">|</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#P:134">P</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#j:139">j</a></span>) <span class="id"><a href="mathcomp.analysis.esum.html#a:135">a</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:138">i</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#j:139">j</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'\sum_'_'('_x_'<-'_x_'|'_x_')'_x">\sum_</a></span>(<span id="j:144" class="id"><span id="j:143" class="id"><span id="j:142" class="id">
  <a name="j:144" class="">j</a>
</span></span></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'\sum_'_'('_x_'<-'_x_'|'_x_')'_x">&lt;-</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#r:133">r</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'\sum_'_'('_x_'<-'_x_'|'_x_')'_x">|</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#P:134">P</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#j:142">j</a></span>) <span class="id"><a href="mathcomp.analysis.esum.html#::ring_scope:'\esum_'_'('_x_'in'_x_')'_x">\esum_</a></span>(<span id="i:145" class="id">
  <a name="i:145" class="">i</a>
</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.esum.html#I:132">I</a></span>) <span class="id"><a href="mathcomp.analysis.esum.html#a:135">a</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:145">i</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#j:142">j</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof17')">Proof.</span></div>
<div class="proofscript" id="proof17">
<span class="id">move=&gt;</span> <span class="id">a_ge0;</span> <span class="id">elim:</span> <span class="id">r</span> <span class="id">=&gt;</span> <span class="id">[|j</span> <span class="id">r</span> <span class="id">IHr];</span> <span class="id">rewrite</span> <span class="id">?</span>(<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.bigop.html#big_nil">big_nil,</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.bigop.html#big_cons">big_cons</a></span>)<span class="id">//</span> <span class="id">-?IHr</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.esum.html#esum1">esum1//</a></span> <span class="id">=&gt;</span> <span class="id">i;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.bigop.html#big_nil">big_nil</a></span>.<br/>
<span class="id">case:</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#boolP">boolP</a></span> (<span class="id">P</span> <span class="id">j</span>)) <span class="id">=&gt;</span> <span class="id">Pj;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.esum.html#eq_esum">eq_esum</a></span> <span class="id">=&gt;</span> <span class="id">i</span> <span class="id">Ii;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.bigop.html#big_cons">big_cons</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negPf">negPf</a></span> <span class="id">Pj</span>).<br/>
<span class="id">have</span> <span class="id">aj_ge0</span> <span class="id">i</span> <span class="id">:</span> <span class="id">I</span> <span class="id"><a href="mathcomp.analysis.esum.html#i:146">i</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.esum.html#i:146">i</a></span> <span class="id">j</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'>='_x">&gt;=</a></span> <span class="id">0</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">?;</span> <span class="id">apply:</span> <span class="id">a_ge0</span>.<br/>
<span class="id">rewrite</span> <span class="id">-esumD//;</span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">i</span> <span class="id">Ii;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#sume_ge0">sume_ge0</a></span> <span class="id">=&gt;</span> <span class="id">*;</span> <span class="id">apply:</span> <span class="id">a_ge0</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.esum.html#eq_esum">eq_esum</a></span> <span class="id">=&gt;</span> <span class="id">i</span> <span class="id">Ii;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.bigop.html#big_cons">big_cons</a></span> <span class="id">Pj</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="esum_esum" class="id">
  <a name="esum_esum" class="">esum_esum</a>
</span> <span class="id">[R</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType]</a></span> <span class="id">[T1</span> <span id="T2:149" class="id">
  <a name="T2:149" class="">T2</a>
</span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.choice.html#Choice.Exports.choiceType">choiceType]</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="I:150" class="id">
  <a name="I:150" class="">I</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#T1:148">T1</a></span>) (<span id="J:151" class="id">
  <a name="J:151" class="">J</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.esum.html#T1:148">T1</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#T2:149">T2</a></span>) (<span id="a:152" class="id">
  <a name="a:152" class="">a</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.esum.html#T1:148">T1</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#T2:149">T2</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::type_scope:'\bar'_x">\bar</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#R:147">R</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="i:153" class="id">
  <a name="i:153" class="">i</a>
</span> <span id="j:154" class="id">
  <a name="j:154" class="">j,</a>
</span> <span class="id"><a href="mathcomp.analysis.esum.html#I:150">I</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:153">i</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#J:151">J</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:153">i</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#j:154">j</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'<='_x">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#a:152">a</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:153">i</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#j:154">j</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.esum.html#::ring_scope:'\esum_'_'('_x_'in'_x_')'_x">\esum_</a></span>(<span id="i:155" class="id">
  <a name="i:155" class="">i</a>
</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.esum.html#I:150">I</a></span>) <span class="id"><a href="mathcomp.analysis.esum.html#::ring_scope:'\esum_'_'('_x_'in'_x_')'_x">\esum_</a></span>(<span id="j:156" class="id">
  <a name="j:156" class="">j</a>
</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.esum.html#J:151">J</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:155">i</a></span>) <span class="id"><a href="mathcomp.analysis.esum.html#a:152">a</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:155">i</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#j:156">j</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#::ring_scope:'\esum_'_'('_x_'in'_x_')'_x">\esum_</a></span>(<span id="k:157" class="id">
  <a name="k:157" class="">k</a>
</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.esum.html#I:150">I</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:x_'`*``'_x">`*``</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#J:151">J</a></span>) <span class="id"><a href="mathcomp.analysis.esum.html#a:152">a</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#k:157">k</a></span>.<span class="id">1</span> <span class="id"><a href="mathcomp.analysis.esum.html#k:157">k</a></span>.<span class="id">2</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof18')">Proof.</span></div>
<div class="proofscript" id="proof18">
<span class="id">move=&gt;</span> <span class="id">a_ge0;</span> <span class="id">apply/eqP;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.eq_le">eq_le;</a></span> <span class="id">apply/andP;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ub_ereal_sup">ub_ereal_sup</a></span> <span class="id">=&gt;</span> <span class="id">/=</span> <span class="id">_</span> <span class="id">[X</span> <span class="id">[finX</span> <span class="id">XI]]</span> <span class="id">&lt;-</span>.<br/>
&nbsp;&nbsp;<span class="id">under</span> <span class="id"><a href="mathcomp.classical.fsbigop.html#eq_fsbigr">eq_fsbigr</a></span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.esum.html#esum_mkcond">esum_mkcond</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.fsbigop.html#fsbig_finite">fsbig_finite//=</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.bigop.html#big_seq">big_seq</a></span> <span class="id">-esum_sum;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">i</span> <span class="id">j</span> <span class="id">_</span> <span class="id">/[!in_fset_set]//</span> <span class="id">/[!inE]</span> <span class="id">/XI</span> <span class="id">Ij</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">case:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">/[!inE]</span> <span class="id">/a_ge0-/</span>(<span class="id">_</span> <span class="id">Ij</span>).<br/>
&nbsp;&nbsp;<span class="id">under</span> <span class="id"><a href="mathcomp.analysis.esum.html#eq_esum">eq_esum</a></span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id">-big_seq</span> <span class="id">-big_mkcond/=</span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ub_ereal_sup">ub_ereal_sup</a></span> <span class="id">=&gt;</span> <span class="id">/=</span> <span class="id">_</span> <span class="id">[Y</span> <span class="id">[finY</span> <span class="id">_]</span> <span class="id">&lt;-];</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup_ub">ereal_sup_ub</a></span> <span class="id">=&gt;</span> <span class="id">/=</span>.<br/>
&nbsp;&nbsp;<span class="id">set</span> <span class="id">XYJ</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_x_'|'_x_']'">[set</a></span> <span id="z:160" class="id"><span id="z:159" class="id"><span id="z:158" class="id">
  <a name="z:160" class="">z</a>
</span></span></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_x_'|'_x_']'">|</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#z:158">z</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::bool_scope:x_'\in'_x">\in</a></span> <span class="id">X</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:x_'`*`'_x">`*`</a></span> <span class="id">Y</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'/\'_x">/\</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#z:158">z</a></span>.<span class="id">2</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::bool_scope:x_'\in'_x">\in</a></span> <span class="id">J</span> <span class="id"><a href="mathcomp.analysis.esum.html#z:158">z</a></span>.<span class="id">1]</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">?</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.cardinality.html#finite_set">finite_set</a></span> <span class="id">XYJ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.classical.cardinality.html#sub_finite_set">sub_finite_set</a></span> (<span class="id"><a href="mathcomp.classical.cardinality.html#finite_setM">finite_setM</a></span> <span class="id">finX</span> <span class="id">finY</span>) <span class="id">=&gt;</span> <span class="id">z/=</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/XYJ/=</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#in_setM">in_setM</a></span> <span class="id">=&gt;</span> <span class="id">-[/andP[]</span> <span class="id">/[!inE]]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">XYJ</span> <span class="id">=&gt;</span> <span class="id">/=;</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">//=</span> <span class="id">z;</span> <span class="id">rewrite</span> <span class="id">/XYJ/=</span> <span class="id">2!inE=&gt;</span> <span class="id">-[[/XI]]</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">[in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS]fsbig_finite//=</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.bigop.html#exchange_big_dep">exchange_big_dep</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#xpredT">xpredT</a></span>)<span class="id">//</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.finmap.finmap#pair_big_dep_cond">pair_big_dep_cond</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.fsbigop.html#fsbig_finite">fsbig_finite//;</a></span> <span class="id">apply:</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.finmap.finmap#eq_fbigl">eq_fbigl</a></span> <span class="id">=&gt;</span> <span class="id">-[/=</span> <span class="id">x</span> <span class="id">y];</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.cardinality.html#in_fset_set">in_fset_set//</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply/idP/imfset2P</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">/XYJ</span> <span class="id">!inE/=</span> <span class="id">!inE/=</span> <span class="id">-andA</span> <span class="id">=&gt;</span> <span class="id">-[Xx</span> <span class="id">[Yy</span> <span class="id">Jxy]]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">x;</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">!inE</span> <span class="id"><a href="mathcomp.classical.cardinality.html#in_fset_set">in_fset_set//</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#mem_set">mem_set</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> <span class="id">y</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">rewrite</span> <span class="id">!inE</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#mem_set">mem_set//</a></span> <span class="id"><a href="mathcomp.classical.cardinality.html#in_fset_set">in_fset_set//</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#mem_set">mem_set</a></span>.<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">[t1];</span> <span class="id">rewrite</span> <span class="id">!inE</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT/=</a></span> <span class="id"><a href="mathcomp.classical.cardinality.html#in_fset_set">in_fset_set//</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> <span class="id">=&gt;</span> <span class="id">Xt1</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">[t2];</span> <span class="id">rewrite</span> <span class="id">!inE</span> <span class="id"><a href="mathcomp.classical.cardinality.html#in_fset_set">in_fset_set</a></span> <span class="id">/XYJ//=</span> <span class="id">=&gt;/andP[/[!inE]</span> <span class="id">?</span> <span class="id">?]</span> <span class="id">[-&gt;</span> <span class="id">-&gt;]</span>.<br/>
<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ub_ereal_sup">ub_ereal_sup</a></span> <span class="id">=&gt;</span> <span class="id">_</span> <span class="id">/=</span> <span class="id">[X/=</span> <span class="id">[finX</span> <span class="id">XIJ]]</span> <span class="id">&lt;-;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.esum.html#esum_ge">esum_ge</a></span>.<br/>
<span class="gallina-kwd">exists</span> <span class="id">X</span>.<span class="id">`1;</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">split=&gt;</span> <span class="id">[|x</span> <span class="id">[y</span> <span class="id">/XIJ[]//]];</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.classical.cardinality.html#finite_set_fst">finite_set_fst</a></span>.<br/>
<span class="id">apply:</span> (<span class="id">@le_trans</span> <span class="id">_</span> <span class="id">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'\sum_'_'('_x_'<-'_x_')'_x">\sum_</a></span>(<span id="i:169" class="id"><span id="i:168" class="id"><span id="i:167" class="id"><span id="i:163" class="id"><span id="i:162" class="id"><span id="i:161" class="id">
  <a name="i:169" class="">i</a>
</span></span></span></span></span></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'\sum_'_'('_x_'<-'_x_')'_x">&lt;-</a></span> <span class="id"><a href="mathcomp.classical.cardinality.html#fset_set">fset_set</a></span> <span class="id">X</span>.<span class="id">`1</span>) <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'\sum_'_'('_x_'<-'_x_'|'_x_')'_x">\sum_</a></span>(<span id="j:172" class="id"><span id="j:171" class="id"><span id="j:170" class="id"><span id="j:166" class="id"><span id="j:165" class="id"><span id="j:164" class="id">
  <a name="j:172" class="">j</a>
</span></span></span></span></span></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'\sum_'_'('_x_'<-'_x_'|'_x_')'_x">&lt;-</a></span> <span class="id"><a href="mathcomp.classical.cardinality.html#fset_set">fset_set</a></span> <span class="id">X</span>.<span class="id">`2</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'\sum_'_'('_x_'<-'_x_'|'_x_')'_x">|</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#j:164">j</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::bool_scope:x_'\in'_x">\in</a></span> <span class="id">J</span> <span class="id"><a href="mathcomp.analysis.esum.html#i:161">i</a></span>) <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.esum.html#i:161">i</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#j:164">j</a></span>)).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.finmap.finmap#pair_big_dep_cond">pair_big_dep_cond//=;</a></span> <span class="id">set</span> <span class="id">Y</span> <span class="id">:=</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.finmap.finmap#Imfset.imfset2">Imfset.imfset2</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">[leRHS]</span>(<span class="id"><a href="NOTFOUND the module url for mathcomp.finmap.finmap#big_fsetID">big_fsetID</a></span> <span class="id">_</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#mem">mem</a></span> <span class="id">X</span>))<span class="id">/=</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="NOTFOUND the module url for mathcomp.finmap.finmap#::fset_scope:'['_'fset'_x_'|'_x_'in'_x_'&'_x_']'">[fset</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#x:173">x</a></span> <span class="id"><a href="NOTFOUND the module url for mathcomp.finmap.finmap#::fset_scope:'['_'fset'_x_'|'_x_'in'_x_'&'_x_']'">|</a></span> <span id="x:184" class="id"><span id="x:183" class="id"><span id="x:182" class="id"><span id="x:181" class="id"><span id="x:180" class="id"><span id="x:179" class="id"><span id="x:178" class="id"><span id="x:177" class="id"><span id="x:176" class="id"><span id="x:175" class="id"><span id="x:174" class="id"><span id="x:173" class="id">
  <a name="x:184" class="">x</a>
</span></span></span></span></span></span></span></span></span></span></span></span> <span class="gallina-kwd">in</span> <span class="id">Y</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.finmap.finmap#::fset_scope:'['_'fset'_x_'|'_x_'in'_x_'&'_x_']'">&amp;</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#x:174">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::bool_scope:x_'\in'_x">\in</a></span> <span class="id">X]</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id">Y</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.finmap.finmap#::fset_scope:x_'`&`'_x">`&amp;`</a></span> <span class="id"><a href="mathcomp.classical.cardinality.html#fset_set">fset_set</a></span> <span class="id">X</span>)<span class="id">%fset;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply/fsetP</span> <span class="id">=&gt;</span> <span class="id">x;</span> <span class="id">rewrite</span> <span class="id">2!inE/=</span> <span class="id"><a href="mathcomp.classical.cardinality.html#in_fset_set">in_fset_set</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id"><a href="NOTFOUND the module url for mathcomp.finmap.finmap#fsetIidPr">fsetIidPr</a></span> <span class="id">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.fsbigop.html#fsbig_finite">fsbig_finite//</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_addl">lee_addl//</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.bigop.html#big_seq">big_seq</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#sume_ge0">sume_ge0//=</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">[x</span> <span class="id">y]</span> <span class="id">/imfsetP[[x1</span> <span class="id">y1]]</span> <span class="id">/[!inE]</span> <span class="id">/andP[]</span> <span class="id">/imfset2P[x2]/=</span> <span class="id">/[!inE]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span> <span class="id"><a href="mathcomp.classical.cardinality.html#in_fset_set">in_fset_set//;</a></span> <span class="id">last</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.classical.cardinality.html#finite_set_fst">finite_set_fst</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">/[!inE]</span> <span class="id">x2X</span> <span class="id">[y2]</span> <span class="id">/[!inE]</span> <span class="id">/andP[]</span> <span class="id">/[!in_fset_set];</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact:</span> <span class="id"><a href="mathcomp.classical.cardinality.html#finite_set_snd">finite_set_snd</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">/[!inE]</span> <span class="id">y2X</span> <span class="id">y2J</span> <span class="id">[-&gt;</span> <span class="id">-&gt;]</span> <span class="id">_</span> <span class="id">[-&gt;</span> <span class="id">-&gt;];</span> <span class="id">rewrite</span> <span class="id">a_ge0//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move:</span> <span class="id">x2X</span> <span class="id">=&gt;</span> <span class="id">[y3</span> <span class="id">/XIJ</span> <span class="id">[]]</span>.<br/>
&nbsp;&nbsp;<span class="id">apply/fsubsetP</span> <span class="id">=&gt;</span> <span class="id">-[i</span> <span class="id">j];</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.cardinality.html#in_fset_set">in_fset_set//</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> <span class="id">=&gt;</span> <span class="id">Xij;</span> <span class="id">apply/imfset2P</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">i</span> <span class="id">=&gt;</span> <span class="id">/=</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">!inE/=</span> <span class="id"><a href="mathcomp.classical.cardinality.html#in_fset_set">in_fset_set//;</a></span> <span class="id">last</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.classical.cardinality.html#finite_set_fst">finite_set_fst</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#mem_set">mem_set//;</a></span> <span class="id">move/fst_set_fst</span> <span class="id">:</span> <span class="id">Xij</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">j</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">rewrite</span> <span class="id">!inE/=</span> <span class="id"><a href="mathcomp.classical.cardinality.html#in_fset_set">in_fset_set;</a></span> <span class="id">last</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.classical.cardinality.html#finite_set_snd">finite_set_snd</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#mem_set">mem_set/=;</a></span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">move/snd_set_snd</span> <span class="id">:</span> <span class="id">Xij</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#mem_set">mem_set//;</a></span> <span class="id">move/XIJ</span> <span class="id">:</span> <span class="id">Xij</span> <span class="id">=&gt;</span> <span class="id">[]</span>.<br/>
<span class="id">rewrite</span> <span class="id">-fsbig_finite;</span> <span class="id">last</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.classical.cardinality.html#finite_set_fst">finite_set_fst</a></span>.<br/>
<span class="id">apply</span> <span class="id"><a href="mathcomp.analysis.ereal.html#lee_fsum">lee_fsum=&gt;</a></span> <span class="id">[|i</span> <span class="id">Xi];</span> <span class="id">first</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.classical.cardinality.html#finite_set_fst">finite_set_fst</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup_ub">ereal_sup_ub</a></span> <span class="id">=&gt;</span> <span class="id">//=;</span> <span class="id">have</span> <span class="id">?</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.cardinality.html#finite_set">finite_set</a></span> (<span class="id">X</span>.<span class="id">`2</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:x_'`&`'_x">`&amp;`</a></span> <span class="id">J</span> <span class="id">i</span>).<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.classical.cardinality.html#finite_setI">finite_setI;</a></span> <span class="id">left;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.classical.cardinality.html#finite_set_snd">finite_set_snd</a></span>.<br/>
<span class="gallina-kwd">exists</span> (<span class="id">X</span>.<span class="id">`2</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:x_'`&`'_x">`&amp;`</a></span> <span class="id">J</span> <span class="id">i</span>) <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
<span class="id">rewrite</span> <span class="id">[in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS]big_fset_condE/=</a></span> <span class="id"><a href="mathcomp.classical.fsbigop.html#fsbig_finite">fsbig_finite//;</a></span> <span class="id">apply</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.finmap.finmap#eq_fbigl">eq_fbigl</a></span> <span class="id">=&gt;</span> <span class="id">j</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.cardinality.html#in_fset_set">in_fset_set//</a></span> <span class="id">!inE/=</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#in_setI">in_setI</a></span> <span class="id"><a href="mathcomp.classical.cardinality.html#in_fset_set">in_fset_set//;</a></span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.classical.cardinality.html#finite_set_snd">finite_set_snd</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="lee_sum_fset_nat" class="id">
  <a name="lee_sum_fset_nat" class="">lee_sum_fset_nat</a>
</span> (<span id="R:185" class="id">
  <a name="R:185" class="">R</a>
</span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.RealDomain.Exports.realDomainType">realDomainType</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="f:186" class="id">
  <a name="f:186" class="">f</a>
</span> <span class="id">:</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::type_scope:'\bar'_x">\bar</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#R:185">R</a></span>)<span class="id">^nat</span>) (<span id="F:187" class="id">
  <a name="F:187" class="">F</a>
</span> <span class="id">:</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.finmap.finmap#::type_scope:'{fset'_x_'}'">{fset</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat}</a></span>) <span id="n:188" class="id">
  <a name="n:188" class="">n</a>
</span> (<span id="P:189" class="id">
  <a name="P:189" class="">P</a>
</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#pred">pred</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="i:190" class="id">
  <a name="i:190" class="">i,</a>
</span> <span class="id"><a href="mathcomp.analysis.esum.html#P:189">P</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:190">i</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id">0%E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'<='_x">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#f:186">f</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:190">i</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set`'_x_']'">[set`</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#F:187">F]</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:x_'`<=`'_x">`&lt;=`</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#:::'`I_'_x">`I_n</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'\sum_'_'('_x_'<-'_x_'|'_x_')'_x">\sum_</a></span>(<span id="i:193" class="id"><span id="i:192" class="id"><span id="i:191" class="id">
  <a name="i:193" class="">i</a>
</span></span></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'\sum_'_'('_x_'<-'_x_'|'_x_')'_x">&lt;-</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#F:187">F</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'\sum_'_'('_x_'<-'_x_'|'_x_')'_x">|</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#P:189">P</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:191">i</a></span>) <span class="id"><a href="mathcomp.analysis.esum.html#f:186">f</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:191">i</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'<='_x">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'\sum_'_'('_x_'<='_x_'<'_x_'|'_x_')'_x">\sum_</a></span>(<span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'\sum_'_'('_x_'<='_x_'<'_x_'|'_x_')'_x">&lt;=</a></span> <span id="i:196" class="id"><span id="i:195" class="id"><span id="i:194" class="id">
  <a name="i:196" class="">i</a>
</span></span></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'\sum_'_'('_x_'<='_x_'<'_x_'|'_x_')'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#n:188">n</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'\sum_'_'('_x_'<='_x_'<'_x_'|'_x_')'_x">|</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#P:189">P</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:194">i</a></span>) <span class="id"><a href="mathcomp.analysis.esum.html#f:186">f</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:194">i</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof19')">Proof.</span></div>
<div class="proofscript" id="proof19">
<span class="id">move=&gt;</span> <span class="id">f0</span> <span class="id">Fn;</span> <span class="id">rewrite</span> <span class="id">[leRHS]</span>(<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.bigop.html#bigID">bigID</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#mem">mem</a></span> <span class="id">F</span>))<span class="id">/=</span>.<br/>
<span class="id">suff</span> <span class="id">-&gt;</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'\sum_'_'('_x_'<='_x_'<'_x_'|'_x_')'_x">\sum_</a></span>(<span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'\sum_'_'('_x_'<='_x_'<'_x_'|'_x_')'_x">&lt;=</a></span> <span id="i:199" class="id"><span id="i:198" class="id"><span id="i:197" class="id">
  <a name="i:199" class="">i</a>
</span></span></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'\sum_'_'('_x_'<='_x_'<'_x_'|'_x_')'_x">&lt;</a></span> <span class="id">n</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'\sum_'_'('_x_'<='_x_'<'_x_'|'_x_')'_x">|</a></span> <span class="id">P</span> <span class="id"><a href="mathcomp.analysis.esum.html#i:197">i</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#::bool_scope:x_'&&'_x">&amp;&amp;</a></span> (<span class="id"><a href="mathcomp.analysis.esum.html#i:197">i</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::bool_scope:x_'\in'_x">\in</a></span> <span class="id">F</span>)) <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.esum.html#i:197">i</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'\sum_'_'('_x_'<-'_x_'|'_x_')'_x">\sum_</a></span>(<span id="i:202" class="id"><span id="i:201" class="id"><span id="i:200" class="id">
  <a name="i:202" class="">i</a>
</span></span></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'\sum_'_'('_x_'<-'_x_'|'_x_')'_x">&lt;-</a></span> <span class="id">F</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'\sum_'_'('_x_'<-'_x_'|'_x_')'_x">|</a></span> <span class="id">P</span> <span class="id"><a href="mathcomp.analysis.esum.html#i:200">i</a></span>) <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.esum.html#i:200">i</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_addl">lee_addl</a></span> <span class="id">?sume_ge0//</span> <span class="id">=&gt;</span> <span class="id">i</span> <span class="id">/andP[/f0]</span>.<br/>
<span class="id">rewrite</span> <span class="id">-big_filter</span> <span class="id">-[RHS]big_filter;</span> <span class="id">apply:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.bigop.html#perm_big">perm_big</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#uniq_perm">uniq_perm</a></span> <span class="id">?filter_uniq</span> <span class="id">?index_iota</span> <span class="id">?iota_uniq</span> <span class="id">?fset_uniq//</span>.<br/>
<span class="id">move=&gt;</span> <span class="id">i;</span> <span class="id">rewrite</span> <span class="id">?mem_filter</span>.<br/>
<span class="id">case:</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#boolP">boolP</a></span> (<span class="id">P</span> <span class="id">i</span>)) <span class="id">=&gt;</span> <span class="id">//=</span> <span class="id">Pi;</span> <span class="id">case:</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#boolP">boolP</a></span> (<span class="id">i</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::bool_scope:x_'\in'_x">\in</a></span> <span class="id">F</span>)) <span class="id">=&gt;</span> <span class="id">//=</span> <span class="id">Fi</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#mem_iota">mem_iota</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.ssrnat.html#leq0n">leq0n</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.ssrnat.html#add0n">add0n</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.ssrnat.html#subn0">subn0/=;</a></span> <span class="id">apply:</span> <span class="id">Fn</span>.<br/>
Qed.</div>
<span class="vernacular">Arguments</span> <span class="id"><a href="mathcomp.analysis.esum.html#lee_sum_fset_nat">lee_sum_fset_nat</a></span> <span class="id">{R</span> <span class="id">f}</span> <span class="id">F</span> <span class="id">n</span> <span class="id">P</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="lee_sum_fset_lim" class="id">
  <a name="lee_sum_fset_lim" class="">lee_sum_fset_lim</a>
</span> (<span id="R:203" class="id">
  <a name="R:203" class="">R</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) (<span id="f:204" class="id">
  <a name="f:204" class="">f</a>
</span> <span class="id">:</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::type_scope:'\bar'_x">\bar</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#R:203">R</a></span>)<span class="id">^nat</span>) (<span id="F:205" class="id">
  <a name="F:205" class="">F</a>
</span> <span class="id">:</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.finmap.finmap#::type_scope:'{fset'_x_'}'">{fset</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat}</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="P:206" class="id">
  <a name="P:206" class="">P</a>
</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#pred">pred</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="i:207" class="id">
  <a name="i:207" class="">i,</a>
</span> <span class="id"><a href="mathcomp.analysis.esum.html#P:206">P</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:207">i</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id">0%E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'<='_x">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#f:204">f</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:207">i</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'\sum_'_'('_x_'<-'_x_'|'_x_')'_x">\sum_</a></span>(<span id="i:210" class="id"><span id="i:209" class="id"><span id="i:208" class="id">
  <a name="i:210" class="">i</a>
</span></span></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'\sum_'_'('_x_'<-'_x_'|'_x_')'_x">&lt;-</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#F:205">F</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'\sum_'_'('_x_'<-'_x_'|'_x_')'_x">|</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#P:206">P</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:208">i</a></span>) <span class="id"><a href="mathcomp.analysis.esum.html#f:204">f</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:208">i</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'<='_x">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.sequences.html#::ereal_scope:'\sum_'_'('_x_'<oo'_'|'_x_')'_x">\sum_</a></span>(<span id="i:216" class="id"><span id="i:215" class="id"><span id="i:214" class="id"><span id="i:213" class="id"><span id="i:212" class="id"><span id="i:211" class="id">
  <a name="i:216" class="">i</a>
</span></span></span></span></span></span> <span class="id"><a href="mathcomp.analysis.sequences.html#::ereal_scope:'\sum_'_'('_x_'<oo'_'|'_x_')'_x">&lt;oo</a></span> <span class="id">|</span> <span class="id"><a href="mathcomp.analysis.esum.html#P:206">P</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:211">i</a></span>) <span class="id"><a href="mathcomp.analysis.esum.html#f:204">f</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:211">i</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof20')">Proof.</span></div>
<div class="proofscript" id="proof20">
<span class="id">move=&gt;</span> <span class="id">f0;</span> <span class="id">pose</span> <span class="id">n</span> <span class="id">:=</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.bigop.html#::nat_scope:'\max_'_'('_x_'<-'_x_')'_x">\max_</a></span>(<span id="k:219" class="id"><span id="k:218" class="id"><span id="k:217" class="id">
  <a name="k:219" class="">k</a>
</span></span></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.bigop.html#::nat_scope:'\max_'_'('_x_'<-'_x_')'_x">&lt;-</a></span> <span class="id">F</span>) <span class="id"><a href="mathcomp.analysis.esum.html#k:217">k</a></span>).<span class="id">+1</span>.<br/>
<span class="id">rewrite</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans</a></span> (<span class="id"><a href="mathcomp.analysis.esum.html#lee_sum_fset_nat">lee_sum_fset_nat</a></span> <span class="id">F</span> <span class="id">n</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>))<span class="id">//;</span> <span class="id">last</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.sequences.html#nneseries_lim_ge">nneseries_lim_ge</a></span>.<br/>
<span class="id">move=&gt;</span> <span class="id">k</span> <span class="id">/=</span> <span class="id">kF;</span> <span class="id">rewrite</span> <span class="id">/n</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.finmap.finmap#big_seq_fsetE">big_seq_fsetE/=</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-[k]/</span>(<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#val">val</a></span> <span class="id"><a href="NOTFOUND the module url for mathcomp.finmap.finmap#::fset_scope:'[`'_x_']'">[`kF]%fset</a></span>) <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.ssrnat.html#ltnS">ltnS</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.bigop.html#leq_bigmax">leq_bigmax</a></span>.<br/>
Qed.</div>
<span class="vernacular">Arguments</span> <span class="id"><a href="mathcomp.analysis.esum.html#lee_sum_fset_lim">lee_sum_fset_lim</a></span> <span class="id">{R</span> <span class="id">f}</span> <span class="id">F</span> <span class="id">P</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="nneseries_esum" class="id">
  <a name="nneseries_esum" class="">nneseries_esum</a>
</span> (<span id="R:220" class="id">
  <a name="R:220" class="">R</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) (<span id="a:221" class="id">
  <a name="a:221" class="">a</a>
</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::type_scope:'\bar'_x">\bar</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#R:220">R</a></span>) (<span id="P:222" class="id">
  <a name="P:222" class="">P</a>
</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#pred">pred</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="n:223" class="id">
  <a name="n:223" class="">n,</a>
</span> <span class="id"><a href="mathcomp.analysis.esum.html#P:222">P</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#n:223">n</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'<='_x">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#a:221">a</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#n:223">n</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.sequences.html#::ereal_scope:'\sum_'_'('_x_'<oo'_'|'_x_')'_x">\sum_</a></span>(<span id="i:229" class="id"><span id="i:228" class="id"><span id="i:227" class="id"><span id="i:226" class="id"><span id="i:225" class="id"><span id="i:224" class="id">
  <a name="i:229" class="">i</a>
</span></span></span></span></span></span> <span class="id"><a href="mathcomp.analysis.sequences.html#::ereal_scope:'\sum_'_'('_x_'<oo'_'|'_x_')'_x">&lt;oo</a></span> <span class="id">|</span> <span class="id"><a href="mathcomp.analysis.esum.html#P:222">P</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:224">i</a></span>) <span class="id"><a href="mathcomp.analysis.esum.html#a:221">a</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:224">i</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#::ring_scope:'\esum_'_'('_x_'in'_x_')'_x">\esum_</a></span>(<span id="i:231" class="id">
  <a name="i:231" class="">i</a>
</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_x_'|'_x_']'">[set</a></span> <span id="x:230" class="id">
  <a name="x:230" class="">x</a>
</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_x_'|'_x_']'">|</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#P:222">P</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#x:230">x]</a></span>) <span class="id"><a href="mathcomp.analysis.esum.html#a:221">a</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:231">i</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof21')">Proof.</span></div>
<div class="proofscript" id="proof21">
<span class="id">move=&gt;</span> <span class="id">a0;</span> <span class="id">apply/eqP;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.eq_le">eq_le;</a></span> <span class="id">apply/andP;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> (<span class="id"><a href="mathcomp.analysis.normedtype.html#lime_le">lime_le</a></span> (<span class="id"><a href="mathcomp.analysis.sequences.html#is_cvg_nneseries_cond">is_cvg_nneseries_cond</a></span> <span class="id">a0</span>))<span class="id">;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.topology.html#nearW">nearW</a></span> <span class="id">=&gt;</span> <span class="id">n</span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup_ub">ereal_sup_ub</a></span> <span class="id">=&gt;</span> <span class="id">/=;</span> <span class="gallina-kwd">exists</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set`'_x_']'">[set`</a></span> <span class="id"><a href="NOTFOUND the module url for mathcomp.finmap.finmap#::fset_scope:'['_'fset'_x_'|'_x_'in'_x_'&'_x_']'">[fset</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#val">val</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:232">i</a></span> <span class="id"><a href="NOTFOUND the module url for mathcomp.finmap.finmap#::fset_scope:'['_'fset'_x_'|'_x_'in'_x_'&'_x_']'">|</a></span> <span id="i:239" class="id"><span id="i:238" class="id"><span id="i:237" class="id"><span id="i:236" class="id"><span id="i:235" class="id"><span id="i:234" class="id"><span id="i:233" class="id"><span id="i:232" class="id">
  <a name="i:239" class="">i</a>
</span></span></span></span></span></span></span></span> <span class="gallina-kwd">in</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.fintype.html#:::'''I_'_x">'I_n</a></span> <span class="id"><a href="NOTFOUND the module url for mathcomp.finmap.finmap#::fset_scope:'['_'fset'_x_'|'_x_'in'_x_'&'_x_']'">&amp;</a></span> <span class="id">P</span> <span class="id"><a href="mathcomp.analysis.esum.html#i:233">i]%fset]</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">split;</span> <span class="id">first</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.classical.cardinality.html#finite_fset">finite_fset</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">/=</span> <span class="id">k</span> <span class="id">/imfsetP[/=</span> <span class="id">i];</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> <span class="id">=&gt;</span> <span class="id">+</span> <span class="id">-&gt;</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.fsbigop.html#fsbig_finite">fsbig_finite//=</a></span> <span class="id"><a href="mathcomp.classical.cardinality.html#set_fsetK">set_fsetK</a></span> <span class="id"><a href="NOTFOUND the module url for mathcomp.finmap.finmap#big_imfset">big_imfset/=;</a></span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">?</span> <span class="id">?</span> <span class="id">?</span> <span class="id">?</span> <span class="id">/val_inj</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.bigop.html#big_filter">big_filter</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.bigop.html#big_enum_cond">big_enum_cond/=</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.bigop.html#big_mkord">big_mkord</a></span>.<br/>
<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ub_ereal_sup">ub_ereal_sup</a></span> <span class="id">=&gt;</span> <span class="id">_</span> <span class="id">[/=</span> <span class="id">F</span> <span class="id">[finF</span> <span class="id">PF]</span> <span class="id">&lt;-]</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.fsbigop.html#fsbig_finite">fsbig_finite//=</a></span> <span class="id">-</span>(<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.bigop.html#big_rmcond_in">big_rmcond_in</a></span> <span class="id">P</span>)<span class="id">/=;</span> <span class="id">first</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.esum.html#lee_sum_fset_lim">lee_sum_fset_lim</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">k;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.cardinality.html#in_fset_set">in_fset_set//</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> <span class="id">=&gt;</span> <span class="id">/PF</span> <span class="id">-&gt;</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="reindex_esum" class="id">
  <a name="reindex_esum" class="">reindex_esum</a>
</span> (<span id="R:240" class="id">
  <a name="R:240" class="">R</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) (<span id="T:241" class="id">
  <a name="T:241" class="">T</a>
</span> <span id="T':242" class="id">
  <a name="T':242" class="">T'</a>
</span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.choice.html#Choice.Exports.choiceType">choiceType</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="P:243" class="id">
  <a name="P:243" class="">P</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#T:241">T</a></span>) (<span id="Q:244" class="id">
  <a name="Q:244" class="">Q</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#T':242">T'</a></span>) (<span id="e:245" class="id">
  <a name="e:245" class="">e</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.esum.html#T:241">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#T':242">T'</a></span>) (<span id="a:246" class="id">
  <a name="a:246" class="">a</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.esum.html#T':242">T'</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::type_scope:'\bar'_x">\bar</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#R:240">R</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#set_bij">set_bij</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#P:243">P</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#Q:244">Q</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#e:245">e</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.esum.html#::ring_scope:'\esum_'_'('_x_'in'_x_')'_x">\esum_</a></span>(<span id="j:247" class="id">
  <a name="j:247" class="">j</a>
</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.esum.html#Q:244">Q</a></span>) <span class="id"><a href="mathcomp.analysis.esum.html#a:246">a</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#j:247">j</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#::ring_scope:'\esum_'_'('_x_'in'_x_')'_x">\esum_</a></span>(<span id="i:248" class="id">
  <a name="i:248" class="">i</a>
</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.esum.html#P:243">P</a></span>) <span class="id"><a href="mathcomp.analysis.esum.html#a:246">a</a></span> (<span class="id"><a href="mathcomp.analysis.esum.html#e:245">e</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:248">i</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof22')">Proof.</span></div>
<div class="proofscript" id="proof22">
<span class="id">elim/choicePpointed:</span> <span class="id">T</span> <span class="id">=&gt;</span> <span class="id">T</span> <span class="gallina-kwd">in</span> <span class="id">e</span> <span class="id">P</span> <span class="id">*</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">!emptyE</span> <span class="id">=&gt;</span> <span class="id">/Pbij[{}e</span> <span class="id">-&gt;]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-[in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.LHS">LHS]</a></span>(<span class="id"><a href="mathcomp.classical.functions.html#image_eq">image_eq</a></span> <span class="id">e</span>) <span class="id"><a href="mathcomp.classical.classical_sets.html#image_set0">image_set0</a></span> <span class="id">!esum_set0</span>.<br/>
<span class="id">elim/choicePpointed:</span> <span class="id">T'</span> <span class="id">=&gt;</span> <span class="id">T'</span> <span class="gallina-kwd">in</span> <span class="id">a</span> <span class="id">e</span> <span class="id">Q</span> <span class="id">*;</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">have</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#no">no</a></span> (<span class="id">e</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#point">point</a></span>).<br/>
<span class="id">move=&gt;</span> <span class="id">/</span>(<span class="id">@pPbij</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>)<span class="id">[{}e</span> <span class="id">-&gt;]</span>.<br/>
<span class="id">gen</span> <span class="id">have</span> <span class="id">le_esum</span> <span class="id">:</span> <span class="id">T</span> <span class="id">T'</span> <span class="id">a</span> <span class="id">P</span> <span class="id">Q</span> <span class="id">e</span> <span class="id">/</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.esum.html#::ring_scope:'\esum_'_'('_x_'in'_x_')'_x">\esum_</a></span>(<span id="j:249" class="id">
  <a name="j:249" class="">j</a>
</span> <span class="gallina-kwd">in</span> <span class="id">Q</span>) <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.esum.html#j:249">j</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'<='_x">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#::ring_scope:'\esum_'_'('_x_'in'_x_')'_x">\esum_</a></span>(<span id="i:250" class="id">
  <a name="i:250" class="">i</a>
</span> <span class="gallina-kwd">in</span> <span class="id">P</span>) <span class="id">a</span> (<span class="id">e</span> <span class="id"><a href="mathcomp.analysis.esum.html#i:250">i</a></span>)<span class="id">;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">apply/eqP;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.eq_le">eq_le</a></span> <span class="id">le_esum//=</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">[leRHS]</span>(<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#::ring_scope:'\esum_'_'('_x_'in'_x_')'_x">\esum_</a></span>(<span id="j:253" class="id"><span id="j:252" class="id"><span id="j:251" class="id">
  <a name="j:253" class="">j</a>
</span></span></span> <span class="gallina-kwd">in</span> <span class="id">Q</span>) <span class="id">a</span> (<span class="id">e</span> (<span class="id">e^-1%FUN</span> <span class="id"><a href="mathcomp.analysis.esum.html#j:251">j</a></span>)))<span class="id">;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.esum.html#eq_esum">eq_esum</a></span> <span class="id">=&gt;</span> <span class="id">i</span> <span class="id">Qi;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#invK">invK</a></span> <span class="id">?inE</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">le_esum</span> <span class="id">=&gt;</span> <span class="id">//=</span> <span class="id">i</span> <span class="id">Qi;</span> <span class="id">rewrite</span> <span class="id">a_ge0//;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.classical.functions.html#funS">funS</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ub_ereal_sup">ub_ereal_sup</a></span> <span class="id">=&gt;</span> <span class="id">//=</span> <span class="id">_</span> <span class="id">[X</span> <span class="id">[finX</span> <span class="id">XQ]</span> <span class="id">&lt;-];</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup_ub">ereal_sup_ub</a></span> <span class="id">=&gt;</span> <span class="id">//=</span>.<br/>
<span class="gallina-kwd">exists</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set`'_x_']'">[set`</a></span> (<span class="id">e^-1</span> <span class="id">@`</span> (<span class="id"><a href="mathcomp.classical.cardinality.html#fset_set">fset_set</a></span> <span class="id">X</span>))<span class="id">%fset]</span>.<br/>
&nbsp;&nbsp;<span class="id">split=&gt;</span> <span class="id">[|t</span> <span class="id">/=</span> <span class="id">/imfsetP[t'/=]];</span> <span class="id">first</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.classical.cardinality.html#finite_fset">finite_fset</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.cardinality.html#in_fset_set">in_fset_set//</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> <span class="id">=&gt;</span> <span class="id">/XQ</span> <span class="id">Qt'</span> <span class="id">-&gt;;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.classical.functions.html#funS">funS</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.fsbigop.html#fsbig_finite">fsbig_finite//=</a></span> <span class="id"><a href="mathcomp.classical.cardinality.html#set_fsetK">set_fsetK</a></span> <span class="id"><a href="NOTFOUND the module url for mathcomp.finmap.finmap#big_imfset">big_imfset</a></span> <span class="id">=&gt;</span> <span class="id">//=;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">x</span> <span class="id">y;</span> <span class="id">rewrite</span> <span class="id">!in_fset_set//</span> <span class="id">!inE</span> <span class="id">=&gt;</span> <span class="id">/XQ</span> <span class="id">?</span> <span class="id">/XQ</span> <span class="id">?</span> <span class="id">/</span>(<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#congr1">congr1</a></span> <span class="id">e</span>).<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">!invK</span> <span class="id">?inE</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-fsbig_finite//;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.classical.fsbigop.html#eq_fsbigr">eq_fsbigr=&gt;</a></span> <span class="id">x</span> <span class="id">/[!inE]/XQ</span> <span class="id">?;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#invK">invK</a></span> <span class="id">?inE</span>.<br/>
Qed.</div>
<span class="vernacular">Arguments</span> <span class="id"><a href="mathcomp.analysis.esum.html#reindex_esum">reindex_esum</a></span> <span class="id">{R</span> <span class="id">T</span> <span class="id">T'}</span> <span class="id">P</span> <span class="id">Q</span> <span class="id">e</span> <span class="id">a</span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="nneseries_interchange" class="id">
  <a name="nneseries_interchange" class="">nneseries_interchange</a>
</span>.<br/>
<span class="id">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">ereal_scope</span>.<br/>
<br/>
<span class="vernacular">Let</span> <span id="nneseries_interchange.nneseries_esum_prod" class="id">
  <a name="nneseries_interchange.nneseries_esum_prod" class="">nneseries_esum_prod</a>
</span> (<span id="R:254" class="id">
  <a name="R:254" class="">R</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) (<span id="a:255" class="id">
  <a name="a:255" class="">a</a>
</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::type_scope:'\bar'_x">\bar</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#R:254">R</a></span>)<br/>
&nbsp;&nbsp;(<span id="P:256" class="id">
  <a name="P:256" class="">P</a>
</span> <span id="Q:257" class="id">
  <a name="Q:257" class="">Q</a>
</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#pred">pred</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span>) <span class="id">:</span> (<span class="gallina-kwd">forall</span> <span id="i:258" class="id">
  <a name="i:258" class="">i</a>
</span> <span id="j:259" class="id">
  <a name="j:259" class="">j,</a>
</span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'<='_x">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#a:255">a</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:258">i</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#j:259">j</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.sequences.html#::ereal_scope:'\sum_'_'('_x_'<oo'_'|'_x_')'_x">\sum_</a></span>(<span id="i:271" class="id"><span id="i:270" class="id"><span id="i:269" class="id"><span id="i:262" class="id"><span id="i:261" class="id"><span id="i:260" class="id">
  <a name="i:271" class="">i</a>
</span></span></span></span></span></span> <span class="id"><a href="mathcomp.analysis.sequences.html#::ereal_scope:'\sum_'_'('_x_'<oo'_'|'_x_')'_x">&lt;oo</a></span> <span class="id">|</span> <span class="id"><a href="mathcomp.analysis.esum.html#P:256">P</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:260">i</a></span>) <span class="id"><a href="mathcomp.analysis.sequences.html#::ereal_scope:'\sum_'_'('_x_'<oo'_'|'_x_')'_x">\sum_</a></span>(<span id="j:277" class="id"><span id="j:276" class="id"><span id="j:275" class="id"><span id="j:274" class="id"><span id="j:273" class="id"><span id="j:272" class="id"><span id="j:268" class="id"><span id="j:267" class="id"><span id="j:266" class="id"><span id="j:265" class="id"><span id="j:264" class="id"><span id="j:263" class="id">
  <a name="j:277" class="">j</a>
</span></span></span></span></span></span></span></span></span></span></span></span> <span class="id"><a href="mathcomp.analysis.sequences.html#::ereal_scope:'\sum_'_'('_x_'<oo'_'|'_x_')'_x">&lt;oo</a></span> <span class="id">|</span> <span class="id"><a href="mathcomp.analysis.esum.html#Q:257">Q</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#j:263">j</a></span>) <span class="id"><a href="mathcomp.analysis.esum.html#a:255">a</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:260">i</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#j:263">j</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.esum.html#::ring_scope:'\esum_'_'('_x_'in'_x_')'_x">\esum_</a></span>(<span id="i:278" class="id">
  <a name="i:278" class="">i</a>
</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.esum.html#P:256">P</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:x_'`*`'_x">`*`</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#Q:257">Q</a></span>) <span class="id"><a href="mathcomp.analysis.esum.html#a:255">a</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:278">i</a></span>.<span class="id">1</span> <span class="id"><a href="mathcomp.analysis.esum.html#i:278">i</a></span>.<span class="id">2</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof23')">Proof.</span></div>
<div class="proofscript" id="proof23">
<span class="id">move=&gt;</span> <span class="id">a0;</span> <span class="id">rewrite</span> <span class="id">-</span>(<span class="id">@esum_esum</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">P</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:'fun'_'=>'_x">fun=&gt;</a></span> <span class="id">Q</span>))<span class="id">//</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.esum.html#nneseries_esum">nneseries_esum//;</a></span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">n</span> <span class="id">_;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.sequences.html#nneseries_ge0">nneseries_ge0</a></span>.<br/>
<span class="id">rewrite</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_x_'|'_x_']'">[set</a></span> <span id="x:281" class="id"><span id="x:280" class="id"><span id="x:279" class="id">
  <a name="x:281" class="">x</a>
</span></span></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_x_'|'_x_']'">|</a></span> <span class="id">P</span> <span class="id"><a href="mathcomp.analysis.esum.html#x:279">x]</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id">P</span>)<span class="id">;</span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">apply/seteqP;</span> <span class="id">split</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">apply</span> <span class="id"><a href="mathcomp.analysis.esum.html#eq_esum">eq_esum</a></span> <span class="id">=&gt;</span> <span class="id">i</span> <span class="id">Pi;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.esum.html#nneseries_esum">nneseries_esum</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="nneseries_interchange" class="id">
  <a name="nneseries_interchange" class="">nneseries_interchange</a>
</span> (<span id="R:282" class="id">
  <a name="R:282" class="">R</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) (<span id="a:283" class="id">
  <a name="a:283" class="">a</a>
</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::type_scope:'\bar'_x">\bar</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#R:282">R</a></span>)<br/>
&nbsp;&nbsp;(<span id="P:284" class="id">
  <a name="P:284" class="">P</a>
</span> <span id="Q:285" class="id">
  <a name="Q:285" class="">Q</a>
</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#pred">pred</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span>) <span class="id">:</span> (<span class="gallina-kwd">forall</span> <span id="i:286" class="id">
  <a name="i:286" class="">i</a>
</span> <span id="j:287" class="id">
  <a name="j:287" class="">j,</a>
</span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'<='_x">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#a:283">a</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:286">i</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#j:287">j</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.sequences.html#::ereal_scope:'\sum_'_'('_x_'<oo'_'|'_x_')'_x">\sum_</a></span>(<span id="i:299" class="id"><span id="i:298" class="id"><span id="i:297" class="id"><span id="i:290" class="id"><span id="i:289" class="id"><span id="i:288" class="id">
  <a name="i:299" class="">i</a>
</span></span></span></span></span></span> <span class="id"><a href="mathcomp.analysis.sequences.html#::ereal_scope:'\sum_'_'('_x_'<oo'_'|'_x_')'_x">&lt;oo</a></span> <span class="id">|</span> <span class="id"><a href="mathcomp.analysis.esum.html#P:284">P</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:288">i</a></span>) <span class="id"><a href="mathcomp.analysis.sequences.html#::ereal_scope:'\sum_'_'('_x_'<oo'_'|'_x_')'_x">\sum_</a></span>(<span id="j:305" class="id"><span id="j:304" class="id"><span id="j:303" class="id"><span id="j:302" class="id"><span id="j:301" class="id"><span id="j:300" class="id"><span id="j:296" class="id"><span id="j:295" class="id"><span id="j:294" class="id"><span id="j:293" class="id"><span id="j:292" class="id"><span id="j:291" class="id">
  <a name="j:305" class="">j</a>
</span></span></span></span></span></span></span></span></span></span></span></span> <span class="id"><a href="mathcomp.analysis.sequences.html#::ereal_scope:'\sum_'_'('_x_'<oo'_'|'_x_')'_x">&lt;oo</a></span> <span class="id">|</span> <span class="id"><a href="mathcomp.analysis.esum.html#Q:285">Q</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#j:291">j</a></span>) <span class="id"><a href="mathcomp.analysis.esum.html#a:283">a</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:288">i</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#j:291">j</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.sequences.html#::ereal_scope:'\sum_'_'('_x_'<oo'_'|'_x_')'_x">\sum_</a></span>(<span id="j:317" class="id"><span id="j:316" class="id"><span id="j:315" class="id"><span id="j:308" class="id"><span id="j:307" class="id"><span id="j:306" class="id">
  <a name="j:317" class="">j</a>
</span></span></span></span></span></span> <span class="id"><a href="mathcomp.analysis.sequences.html#::ereal_scope:'\sum_'_'('_x_'<oo'_'|'_x_')'_x">&lt;oo</a></span> <span class="id">|</span> <span class="id"><a href="mathcomp.analysis.esum.html#Q:285">Q</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#j:306">j</a></span>) <span class="id"><a href="mathcomp.analysis.sequences.html#::ereal_scope:'\sum_'_'('_x_'<oo'_'|'_x_')'_x">\sum_</a></span>(<span id="i:323" class="id"><span id="i:322" class="id"><span id="i:321" class="id"><span id="i:320" class="id"><span id="i:319" class="id"><span id="i:318" class="id"><span id="i:314" class="id"><span id="i:313" class="id"><span id="i:312" class="id"><span id="i:311" class="id"><span id="i:310" class="id"><span id="i:309" class="id">
  <a name="i:323" class="">i</a>
</span></span></span></span></span></span></span></span></span></span></span></span> <span class="id"><a href="mathcomp.analysis.sequences.html#::ereal_scope:'\sum_'_'('_x_'<oo'_'|'_x_')'_x">&lt;oo</a></span> <span class="id">|</span> <span class="id"><a href="mathcomp.analysis.esum.html#P:284">P</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:309">i</a></span>) <span class="id"><a href="mathcomp.analysis.esum.html#a:283">a</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:309">i</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#j:306">j</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof24')">Proof.</span></div>
<div class="proofscript" id="proof24">
<span class="id">move=&gt;</span> <span class="id">a0;</span> <span class="id">rewrite</span> <span class="id">!nneseries_esum_prod//</span>.<br/>
<span class="id">rewrite</span> (<span class="id"><a href="mathcomp.analysis.esum.html#reindex_esum">reindex_esum</a></span> (<span class="id">Q</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:x_'`*`'_x">`*`</a></span> <span class="id">P</span>) <span class="id">_</span> (<span class="gallina-kwd">fun</span> <span id="x:326" class="id"><span id="x:325" class="id"><span id="x:324" class="id">
  <a name="x:326" class="">x</a>
</span></span></span> <span class="id">=&gt;</span> (<span class="id"><a href="mathcomp.analysis.esum.html#x:324">x</a></span>.<span class="id">2,</span> <span class="id"><a href="mathcomp.analysis.esum.html#x:324">x</a></span>.<span class="id">1</span>)))<span class="id">//;</span> <span class="id">split=&gt;</span> <span class="id">//=</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">[i</span> <span class="id">j]</span> <span class="id">[/=]</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">[i1</span> <span class="id">i2]</span> <span class="id">[j1</span> <span class="id">j2]</span> <span class="id">/=</span> <span class="id">_</span> <span class="id">_</span> <span class="id">[]</span> <span class="id">-&gt;</span> <span class="id">-&gt;</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">[i1</span> <span class="id">i2]</span> <span class="id">[Pi1</span> <span class="id">Qi2]</span> <span class="id">/=;</span> <span class="gallina-kwd">exists</span> (<span class="id">i2,</span> <span class="id">i1</span>).<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.esum.html#nneseries_interchange">nneseries_interchange</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="esum_image" class="id">
  <a name="esum_image" class="">esum_image</a>
</span> (<span id="R:327" class="id">
  <a name="R:327" class="">R</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) (<span id="T:328" class="id">
  <a name="T:328" class="">T</a>
</span> <span id="T':329" class="id">
  <a name="T':329" class="">T'</a>
</span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.choice.html#Choice.Exports.choiceType">choiceType</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="P:330" class="id">
  <a name="P:330" class="">P</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#T:328">T</a></span>) (<span id="e:331" class="id">
  <a name="e:331" class="">e</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.esum.html#T:328">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#T':329">T'</a></span>) (<span id="a:332" class="id">
  <a name="a:332" class="">a</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.esum.html#T':329">T'</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::type_scope:'\bar'_x">\bar</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#R:327">R</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#set_inj">set_inj</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#P:330">P</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#e:331">e</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.esum.html#::ring_scope:'\esum_'_'('_x_'in'_x_')'_x">\esum_</a></span>(<span id="j:333" class="id">
  <a name="j:333" class="">j</a>
</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.esum.html#e:331">e</a></span> <span class="id">@`</span> <span class="id"><a href="mathcomp.analysis.esum.html#P:330">P</a></span>) <span class="id"><a href="mathcomp.analysis.esum.html#a:332">a</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#j:333">j</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#::ring_scope:'\esum_'_'('_x_'in'_x_')'_x">\esum_</a></span>(<span id="i:334" class="id">
  <a name="i:334" class="">i</a>
</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.esum.html#P:330">P</a></span>) <span class="id"><a href="mathcomp.analysis.esum.html#a:332">a</a></span> (<span class="id"><a href="mathcomp.analysis.esum.html#e:331">e</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:334">i</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof25')">Proof.</span></div>
<div class="proofscript" id="proof25">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">/inj_bij;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.esum.html#reindex_esum">reindex_esum</a></span>. Qed.</div>
<span class="vernacular">Arguments</span> <span class="id"><a href="mathcomp.analysis.esum.html#esum_image">esum_image</a></span> <span class="id">{R</span> <span class="id">T</span> <span class="id">T'}</span> <span class="id">P</span> <span class="id">e</span> <span class="id">a</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="esum_pred_image" class="id">
  <a name="esum_pred_image" class="">esum_pred_image</a>
</span> (<span id="R:335" class="id">
  <a name="R:335" class="">R</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) (<span id="T:336" class="id">
  <a name="T:336" class="">T</a>
</span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.choice.html#Choice.Exports.choiceType">choiceType</a></span>) (<span id="a:337" class="id">
  <a name="a:337" class="">a</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.esum.html#T:336">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::type_scope:'\bar'_x">\bar</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#R:335">R</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="e:338" class="id">
  <a name="e:338" class="">e</a>
</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#T:336">T</a></span>) (<span id="P:339" class="id">
  <a name="P:339" class="">P</a>
</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#pred">pred</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="n:340" class="id">
  <a name="n:340" class="">n,</a>
</span> <span class="id"><a href="mathcomp.analysis.esum.html#P:339">P</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#n:340">n</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'<='_x">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#a:337">a</a></span> (<span class="id"><a href="mathcomp.analysis.esum.html#e:338">e</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#n:340">n</a></span>)) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#set_inj">set_inj</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#P:339">P</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#e:338">e</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.esum.html#::ring_scope:'\esum_'_'('_x_'in'_x_')'_x">\esum_</a></span>(<span id="i:341" class="id">
  <a name="i:341" class="">i</a>
</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.esum.html#e:338">e</a></span> <span class="id">@`</span> <span class="id"><a href="mathcomp.analysis.esum.html#P:339">P</a></span>) <span class="id"><a href="mathcomp.analysis.esum.html#a:337">a</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:341">i</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.analysis.sequences.html#::ereal_scope:'\sum_'_'('_x_'<oo'_'|'_x_')'_x">\sum_</a></span>(<span id="i:347" class="id"><span id="i:346" class="id"><span id="i:345" class="id"><span id="i:344" class="id"><span id="i:343" class="id"><span id="i:342" class="id">
  <a name="i:347" class="">i</a>
</span></span></span></span></span></span> <span class="id"><a href="mathcomp.analysis.sequences.html#::ereal_scope:'\sum_'_'('_x_'<oo'_'|'_x_')'_x">&lt;oo</a></span> <span class="id">|</span> <span class="id"><a href="mathcomp.analysis.esum.html#P:339">P</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:342">i</a></span>) <span class="id"><a href="mathcomp.analysis.esum.html#a:337">a</a></span> (<span class="id"><a href="mathcomp.analysis.esum.html#e:338">e</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:342">i</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof26')">Proof.</span></div>
<div class="proofscript" id="proof26">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">a0</span> <span class="id">einj;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.esum.html#esum_image">esum_image//</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#nneseries_esum">nneseries_esum</a></span>. Qed.</div>
<span class="vernacular">Arguments</span> <span class="id"><a href="mathcomp.analysis.esum.html#esum_pred_image">esum_pred_image</a></span> <span class="id">{R</span> <span class="id">T}</span> <span class="id">a</span> <span class="id">e</span> <span class="id">P</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="esum_set_image" class="id">
  <a name="esum_set_image" class="">esum_set_image</a>
</span>  <span class="id">[R</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType]</a></span> <span class="id">[T</span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.choice.html#Choice.Exports.choiceType">choiceType]</a></span> <span class="id">[a</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.esum.html#T:349">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::type_scope:'\bar'_x">\bar</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#R:348">R]</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">[e</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#T:349">T]</a></span> <span class="id">[P</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat]</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="n:353" class="id">
  <a name="n:353" class="">n</a>
</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat,</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#P:352">P</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#n:353">n</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'<='_x">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#a:350">a</a></span> (<span class="id"><a href="mathcomp.analysis.esum.html#e:351">e</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#n:353">n</a></span>)) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#set_inj">set_inj</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#P:352">P</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#e:351">e</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.esum.html#::ring_scope:'\esum_'_'('_x_'in'_x_')'_x">\esum_</a></span>(<span id="i:355" class="id">
  <a name="i:355" class="">i</a>
</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_x_'|'_x_'in'_x_']'">[set</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#e:351">e</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#x:354">x</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_x_'|'_x_'in'_x_']'">|</a></span> <span id="x:354" class="id">
  <a name="x:354" class="">x</a>
</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.esum.html#P:352">P]</a></span>) <span class="id"><a href="mathcomp.analysis.esum.html#a:350">a</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:355">i</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.analysis.sequences.html#::ereal_scope:'\sum_'_'('_x_'<oo'_'|'_x_')'_x">\sum_</a></span>(<span id="i:361" class="id"><span id="i:360" class="id"><span id="i:359" class="id"><span id="i:358" class="id"><span id="i:357" class="id"><span id="i:356" class="id">
  <a name="i:361" class="">i</a>
</span></span></span></span></span></span> <span class="id"><a href="mathcomp.analysis.sequences.html#::ereal_scope:'\sum_'_'('_x_'<oo'_'|'_x_')'_x">&lt;oo</a></span> <span class="id">|</span> <span class="id"><a href="mathcomp.analysis.esum.html#i:356">i</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::bool_scope:x_'\in'_x">\in</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#P:352">P</a></span>) <span class="id"><a href="mathcomp.analysis.esum.html#a:350">a</a></span> (<span class="id"><a href="mathcomp.analysis.esum.html#e:351">e</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:356">i</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof27')">Proof.</span></div>
<div class="proofscript" id="proof27">
<span class="id">move=&gt;</span> <span class="id">a0</span> <span class="id">einj;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.esum.html#esum_image">esum_image//</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#nneseries_esum">nneseries_esum</a></span> <span class="id">?set_mem_set//</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">n;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> <span class="id">=&gt;</span> <span class="id">/a0</span>.<br/>
Qed.</div>
<span class="vernacular">Arguments</span> <span class="id"><a href="mathcomp.analysis.esum.html#esum_set_image">esum_set_image</a></span> <span class="id">{R</span> <span class="id">T}</span> <span class="id">a</span> <span class="id">e</span> <span class="id">P</span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="esum_bigcup" class="id">
  <a name="esum_bigcup" class="">esum_bigcup</a>
</span>.<br/>
<span class="vernacular">Variables</span> (<span id="esum_bigcup.R" class="id">
  <a name="esum_bigcup.R" class="">R</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) (<span id="esum_bigcup.T" class="id">
  <a name="esum_bigcup.T" class="">T</a>
</span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.choice.html#Choice.Exports.choiceType">choiceType</a></span>) (<span id="esum_bigcup.K" class="id">
  <a name="esum_bigcup.K" class="">K</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span>).<br/>
<span class="vernacular">Implicit</span> <span class="id">Types</span> (<span class="id">J</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#esum_bigcup.T">T</a></span>) (<span class="id">a</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.esum.html#esum_bigcup.T">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::type_scope:'\bar'_x">\bar</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#esum_bigcup.R">R</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="esum_bigcupT" class="id">
  <a name="esum_bigcupT" class="">esum_bigcupT</a>
</span> <span id="J:365" class="id">
  <a name="J:365" class="">J</a>
</span> <span id="a:366" class="id">
  <a name="a:366" class="">a</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#trivIset">trivIset</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#J:365">J</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> (<span class="gallina-kwd">forall</span> <span id="x:367" class="id">
  <a name="x:367" class="">x,</a>
</span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'<='_x">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#a:366">a</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#x:367">x</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.esum.html#::ring_scope:'\esum_'_'('_x_'in'_x_')'_x">\esum_</a></span>(<span id="i:369" class="id">
  <a name="i:369" class="">i</a>
</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'\bigcup_'_'('_x_'in'_x_')'_x">\bigcup_</a></span>(<span id="k:368" class="id">
  <a name="k:368" class="">k</a>
</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.esum.html#esum_bigcup.K">K</a></span>) (<span class="id"><a href="mathcomp.analysis.esum.html#J:365">J</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#k:368">k</a></span>)) <span class="id"><a href="mathcomp.analysis.esum.html#a:366">a</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:369">i</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.esum.html#::ring_scope:'\esum_'_'('_x_'in'_x_')'_x">\esum_</a></span>(<span id="i:370" class="id">
  <a name="i:370" class="">i</a>
</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.esum.html#esum_bigcup.K">K</a></span>) <span class="id"><a href="mathcomp.analysis.esum.html#::ring_scope:'\esum_'_'('_x_'in'_x_')'_x">\esum_</a></span>(<span id="j:371" class="id">
  <a name="j:371" class="">j</a>
</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.esum.html#J:365">J</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:370">i</a></span>) <span class="id"><a href="mathcomp.analysis.esum.html#a:366">a</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#j:371">j</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof28')">Proof.</span></div>
<div class="proofscript" id="proof28">
<span class="id">move=&gt;</span> <span class="id">tJ</span> <span class="id">a0;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.esum.html#esum_esum">esum_esum//;</a></span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.esum.html#reindex_esum">reindex_esum</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">split</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">[/=</span> <span class="id">i</span> <span class="id">j]</span> <span class="id">[Ki</span> <span class="id">Jij];</span> <span class="gallina-kwd">exists</span> <span class="id">i</span>.<br/>
<span class="id">-</span> <span class="id">move=&gt;</span> <span class="id">[/=</span> <span class="id">i1</span> <span class="id">j1]</span> <span class="id">[/=</span> <span class="id">i2</span> <span class="id">j2];</span> <span class="id">rewrite</span> <span class="id">?inE/=</span>.<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">[K1</span> <span class="id">J1]</span> <span class="id">[K2</span> <span class="id">J2]</span> <span class="id">j12;</span> <span class="id">congr</span> (<span class="id">_,</span> <span class="id">_</span>) <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> (<span class="id">@tJ</span> <span class="id">i1</span> <span class="id">i2</span>) <span class="id">=&gt;</span> <span class="id">//;</span> <span class="gallina-kwd">exists</span> <span class="id">j1;</span> <span class="id">split=&gt;</span> <span class="id">//;</span> <span class="id">rewrite</span> <span class="id">j12</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">j</span> <span class="id">[i</span> <span class="id">Ki</span> <span class="id">Jij]/=;</span> <span class="gallina-kwd">exists</span> (<span class="id">i,</span> <span class="id">j</span>).<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="esum_bigcup" class="id">
  <a name="esum_bigcup" class="">esum_bigcup</a>
</span> <span id="J:372" class="id">
  <a name="J:372" class="">J</a>
</span> <span id="a:373" class="id">
  <a name="a:373" class="">a</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#trivIset">trivIset</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_x_'|'_x_']'">[set</a></span> <span id="i:374" class="id">
  <a name="i:374" class="">i</a>
</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_x_'|'_x_']'">|</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#a:373">a</a></span> <span class="id">@`</span> <span class="id"><a href="mathcomp.analysis.esum.html#J:372">J</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:374">i</a></span> <span class="id">!=</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_x_']'">[set</a></span> <span class="id">0]]</span> <span class="id"><a href="mathcomp.analysis.esum.html#J:372">J</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="x:375" class="id">
  <a name="x:375" class="">x</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.esum.html#esum_bigcup.T">T,</a></span> (<span class="id">\bigcup_</span>(<span id="k:376" class="id">
  <a name="k:376" class="">k</a>
</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.esum.html#esum_bigcup.K">K</a></span>) <span class="id"><a href="mathcomp.analysis.esum.html#J:372">J</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#k:376">k</a></span>) <span class="id"><a href="mathcomp.analysis.esum.html#x:375">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'<='_x">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#a:373">a</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#x:375">x</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.esum.html#::ring_scope:'\esum_'_'('_x_'in'_x_')'_x">\esum_</a></span>(<span id="i:378" class="id">
  <a name="i:378" class="">i</a>
</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'\bigcup_'_'('_x_'in'_x_')'_x">\bigcup_</a></span>(<span id="k:377" class="id">
  <a name="k:377" class="">k</a>
</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.esum.html#esum_bigcup.K">K</a></span>) <span class="id"><a href="mathcomp.analysis.esum.html#J:372">J</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#k:377">k</a></span>) <span class="id"><a href="mathcomp.analysis.esum.html#a:373">a</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:378">i</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#::ring_scope:'\esum_'_'('_x_'in'_x_')'_x">\esum_</a></span>(<span id="k:379" class="id">
  <a name="k:379" class="">k</a>
</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.esum.html#esum_bigcup.K">K</a></span>) <span class="id"><a href="mathcomp.analysis.esum.html#::ring_scope:'\esum_'_'('_x_'in'_x_')'_x">\esum_</a></span>(<span id="j:380" class="id">
  <a name="j:380" class="">j</a>
</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.esum.html#J:372">J</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#k:379">k</a></span>) <span class="id"><a href="mathcomp.analysis.esum.html#a:373">a</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#j:380">j</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof29')">Proof.</span></div>
<div class="proofscript" id="proof29">
<span class="id">move=&gt;</span> <span class="id">Jtriv</span> <span class="id">a_ge0</span>.<br/>
<span class="id">pose</span> <span class="id">J'</span> <span id="i:381" class="id">
  <a name="i:381" class="">i</a>
</span> <span class="id">:=</span> <span class="gallina-kwd">if</span> <span class="id">a</span> <span class="id">@`</span> <span class="id">J</span> <span class="id"><a href="mathcomp.analysis.esum.html#i:381">i</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#::bool_scope:x_'=='_x">==</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_x_']'">[set</a></span> <span class="id">0]</span> <span class="gallina-kwd">then</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span> <span class="gallina-kwd">else</span> <span class="id">J</span> <span class="id"><a href="mathcomp.analysis.esum.html#i:381">i</a></span>.<br/>
<span class="id">pose</span> <span class="id">a'</span> <span id="x:382" class="id">
  <a name="x:382" class="">x</a>
</span> <span class="id">:=</span> <span class="gallina-kwd">if</span> <span class="id"><a href="mathcomp.analysis.esum.html#x:382">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::bool_scope:x_'\in'_x">\in</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'\bigcup_'_'('_x_'in'_x_')'_x">\bigcup_</a></span>(<span id="k:383" class="id">
  <a name="k:383" class="">k</a>
</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.esum.html#esum_bigcup.K">K</a></span>) <span class="id">J</span> <span class="id"><a href="mathcomp.analysis.esum.html#k:383">k</a></span> <span class="gallina-kwd">then</span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.esum.html#x:382">x</a></span> <span class="gallina-kwd">else</span> <span class="id">0</span>.<br/>
<span class="id">have</span> <span class="id">a'E</span> <span class="id">k</span> <span class="id">x</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.esum.html#esum_bigcup.K">K</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#k:384">k</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id">J</span> <span class="id"><a href="mathcomp.analysis.esum.html#k:384">k</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#x:385">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id">a'</span> <span class="id"><a href="mathcomp.analysis.esum.html#x:385">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.esum.html#x:385">x</a></span>.<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">Kk</span> <span class="id">Jkx;</span> <span class="id">rewrite</span> <span class="id">/a';</span> <span class="id">case:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn;</a></span> <span class="id">rewrite</span> <span class="id">?</span>(<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE,</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#notin_set">notin_set</a></span>)<span class="id">//=</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">case;</span> <span class="gallina-kwd">exists</span> <span class="id">k</span>.<br/>
<span class="id">have</span> <span class="id">a'_ge0</span> <span class="id">x</span> <span class="id">:</span> <span class="id">a'</span> <span class="id"><a href="mathcomp.analysis.esum.html#x:386">x</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'>='_x">&gt;=</a></span> <span class="id">0</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/a';</span> <span class="id">case:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn;</a></span> <span class="id">rewrite</span> <span class="id">//</span> <span class="id">?inE</span> <span class="id">=&gt;</span> <span class="id">/a_ge0</span>.<br/>
<span class="id">transitivity</span> (<span class="id"><a href="mathcomp.analysis.esum.html#::ring_scope:'\esum_'_'('_x_'in'_x_')'_x">\esum_</a></span>(<span id="i:390" class="id"><span id="i:388" class="id">
  <a name="i:390" class="">i</a>
</span></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'\bigcup_'_'('_x_'in'_x_')'_x">\bigcup_</a></span>(<span id="k:389" class="id"><span id="k:387" class="id">
  <a name="k:389" class="">k</a>
</span></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.esum.html#esum_bigcup.K">K</a></span>) <span class="id">J'</span> <span class="id"><a href="mathcomp.analysis.esum.html#k:387">k</a></span>) <span class="id">a'</span> <span class="id"><a href="mathcomp.analysis.esum.html#i:388">i</a></span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.esum.html#esum_mkcond">esum_mkcond</a></span> <span class="id">[RHS]esum_mkcond</span> <span class="id">/a';</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.esum.html#eq_esum">eq_esum</a></span> <span class="id">=&gt;</span> <span class="id">x</span> <span class="id">_</span>.<br/>
&nbsp;&nbsp;<span class="id">do</span> <span class="id">2!case:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn;</a></span> <span class="id">rewrite</span> <span class="id">?</span>(<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE,</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#notin_set">notin_set</a></span>)<span class="id">//=</span> <span class="id">=&gt;</span> <span class="id">J'x</span> <span class="id">Jx</span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#contra_not_eq">contra_not_eq</a></span> <span class="id">J'x</span> <span class="id">=&gt;</span> <span class="id">Nax</span>.<br/>
&nbsp;&nbsp;<span class="id">move:</span> <span class="id">Jx</span> <span class="id">=&gt;</span> <span class="id">[k</span> <span class="id">kK</span> <span class="id">Jkx];</span> <span class="gallina-kwd">exists</span> <span class="id">k=&gt;</span> <span class="id">//;</span> <span class="id">rewrite</span> <span class="id">/J'/=;</span> <span class="id">case:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn=&gt;</a></span> <span class="id">//=</span>.<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">/eqP/</span>(<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#congr1">congr1</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:'@^~'_x">@^~</a></span> (<span class="id">a</span> <span class="id">x</span>)))<span class="id">/=;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#propeqE">propeqE</a></span> <span class="id">=&gt;</span> <span class="id">-[+</span> <span class="id">_]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#contra_neq_not">contra_neq_not</a></span> <span class="id">Nax;</span> <span class="id">apply;</span> <span class="gallina-kwd">exists</span> <span class="id">x</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.esum.html#esum_bigcupT">esum_bigcupT//;</a></span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">i</span> <span class="id">j</span> <span class="id">_</span> <span class="id">_</span> <span class="id">[x</span> <span class="id">[]];</span> <span class="id">rewrite</span> <span class="id">/J'/=</span>.<br/>
&nbsp;&nbsp;<span class="id">case:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#eqVneq">eqVneq</a></span> <span class="id">=&gt;</span> <span class="id">//=</span> <span class="id">Ai0</span> <span class="id">Jix;</span> <span class="id">case:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#eqVneq">eqVneq</a></span> <span class="id">=&gt;</span> <span class="id">//=</span> <span class="id">Aj0</span> <span class="id">Jjx</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">have</span> <span class="id">:=</span> <span class="id">Jtriv</span> <span class="id">i</span> <span class="id">j</span> <span class="id">Ai0</span> <span class="id">Aj0;</span> <span class="id">apply;</span> <span class="gallina-kwd">exists</span> <span class="id">x</span>.<br/>
<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.esum.html#eq_esum">eq_esum</a></span> <span class="id">=&gt;</span> <span class="id">i</span> <span class="id">Ki</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.esum.html#esum_mkcond">esum_mkcond</a></span> <span class="id">[RHS]esum_mkcond;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.esum.html#eq_esum">eq_esum</a></span> <span class="id">=&gt;</span> <span class="id">x</span> <span class="id">_</span>.<br/>
<span class="id">do</span> <span class="id">2!case:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn;</a></span> <span class="id">rewrite</span> <span class="id">?</span>(<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE,</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#notin_set">notin_set</a></span>)<span class="id">//=</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">/a'E-&gt;//</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/J';</span> <span class="id">case:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
<span class="id">move=&gt;</span> <span class="id">Jix;</span> <span class="id">rewrite</span> <span class="id">/J';</span> <span class="id">case:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn=&gt;</a></span> <span class="id">//=</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">/eqP/</span>(<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#congr1">congr1</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:'@^~'_x">@^~</a></span> (<span class="id">a</span> <span class="id">x</span>)))<span class="id">/=;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#propeqE">propeqE</a></span> <span class="id">=&gt;</span> <span class="id">-[-&gt;]//;</span> <span class="gallina-kwd">exists</span> <span class="id">x</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.esum.html#esum_bigcup">esum_bigcup</a></span>.<br/>
<br/>
<span class="vernacular">Arguments</span> <span class="id"><a href="mathcomp.analysis.esum.html#esum_bigcupT">esum_bigcupT</a></span> <span class="id">{R</span> <span class="id">T</span> <span class="id">K}</span> <span class="id">J</span> <span class="id">a</span>.<br/>
<span class="vernacular">Arguments</span> <span class="id"><a href="mathcomp.analysis.esum.html#esum_bigcup">esum_bigcup</a></span> <span class="id">{R</span> <span class="id">T</span> <span class="id">K}</span> <span class="id">J</span> <span class="id">a</span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="summable" class="id">
  <a name="summable" class="">summable</a>
</span> (<span id="T:391" class="id">
  <a name="T:391" class="">T</a>
</span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.choice.html#Choice.Exports.choiceType">choiceType</a></span>) (<span id="R:392" class="id">
  <a name="R:392" class="">R</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) (<span id="D:393" class="id">
  <a name="D:393" class="">D</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#T:391">T</a></span>)<br/>
&nbsp;&nbsp;(<span id="f:394" class="id">
  <a name="f:394" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.esum.html#T:391">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::type_scope:'\bar'_x">\bar</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#R:392">R</a></span>) <span class="id">:=</span> (<span class="id"><a href="mathcomp.analysis.esum.html#::ring_scope:'\esum_'_'('_x_'in'_x_')'_x">\esum_</a></span>(<span id="x:395" class="id">
  <a name="x:395" class="">x</a>
</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.esum.html#D:393">D</a></span>) <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'`|'_x_'|'">`|</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#f:394">f</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#x:395">x</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'`|'_x_'|'">|</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'<'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'+oo'">+oo</a></span>)<span class="id">%E</span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="summable_lemmas" class="id">
  <a name="summable_lemmas" class="">summable_lemmas</a>
</span>.<br/>
<span class="id">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="vernacular">Variables</span> (<span id="summable_lemmas.T" class="id">
  <a name="summable_lemmas.T" class="">T</a>
</span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.choice.html#Choice.Exports.choiceType">choiceType</a></span>) (<span id="summable_lemmas.R" class="id">
  <a name="summable_lemmas.R" class="">R</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="vernacular">Implicit</span> <span class="id">Types</span> (<span class="id">D</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#summable_lemmas.T">T</a></span>) (<span class="id">f</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.esum.html#summable_lemmas.T">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::type_scope:'\bar'_x">\bar</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#summable_lemmas.R">R</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="summable_pinfty" class="id">
  <a name="summable_pinfty" class="">summable_pinfty</a>
</span> <span id="D:398" class="id">
  <a name="D:398" class="">D</a>
</span> <span id="f:399" class="id">
  <a name="f:399" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.esum.html#summable">summable</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#D:398">D</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#f:399">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="gallina-kwd">forall</span> <span id="x:400" class="id">
  <a name="x:400" class="">x,</a>
</span> <span class="id"><a href="mathcomp.analysis.esum.html#D:398">D</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#x:400">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'`|'_x_'|'">`|</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#f:399">f</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#x:400">x</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'`|'_x_'|'">|</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'<'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'+oo'">+oo</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof30')">Proof.</span></div>
<div class="proofscript" id="proof30">
<span class="id">move=&gt;</span> <span class="id">Dfoo</span> <span class="id">x</span> <span class="id">Dx;</span> <span class="id">apply:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_lt_trans">le_lt_trans</a></span> <span class="id">Dfoo</span>.<br/>
<span class="id">rewrite</span> (<span class="id"><a href="mathcomp.analysis.esum.html#esumID">esumID</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_x_']'">[set</a></span> <span class="id">x]</span>)<span class="id">//</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setI1">setI1</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#mem_set">mem_set//</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#esum_set1">esum_set1//</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_addl">lee_addl//</a></span>.<br/>
<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.esum.html#esum_ge0">esum_ge0</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="summableE" class="id">
  <a name="summableE" class="">summableE</a>
</span> <span id="D:401" class="id">
  <a name="D:401" class="">D</a>
</span> <span id="f:402" class="id">
  <a name="f:402" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.esum.html#summable">summable</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#D:401">D</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#f:402">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> (<span class="id"><a href="mathcomp.analysis.esum.html#::ring_scope:'\esum_'_'('_x_'in'_x_')'_x">\esum_</a></span>(<span id="x:403" class="id">
  <a name="x:403" class="">x</a>
</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.esum.html#D:401">D</a></span>) <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'`|'_x_'|'">`|</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#f:402">f</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#x:403">x</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'`|'_x_'|'">|</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::bool_scope:x_'\is'_'a'_x">\is</a></span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof31')">Proof.</span></div>
<div class="proofscript" id="proof31">
<span class="id">rewrite</span> <span class="id">/summable</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_numElt">fin_numElt;</a></span> <span class="id">apply/idP/idP</span> <span class="id">=&gt;</span> <span class="id">[-&gt;|/andP[]//]</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.lt_le_trans">lt_le_trans</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ltNyr">ltNyr</a></span> <span class="id">0</span>))<span class="id">//;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.esum.html#esum_ge0">esum_ge0</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="summableD" class="id">
  <a name="summableD" class="">summableD</a>
</span> <span id="D:404" class="id">
  <a name="D:404" class="">D</a>
</span> <span id="f:405" class="id">
  <a name="f:405" class="">f</a>
</span> <span id="g:406" class="id">
  <a name="g:406" class="">g</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.esum.html#summable">summable</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#D:404">D</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#f:405">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#summable">summable</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#D:404">D</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#g:406">g</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#summable">summable</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#D:404">D</a></span> (<span class="id"><a href="mathcomp.analysis.esum.html#f:405">f</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'\+'_x">\+</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#g:406">g</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof32')">Proof.</span></div>
<div class="proofscript" id="proof32">
<span class="id">move=&gt;</span> <span class="id">Df</span> <span class="id">Dg;</span> <span class="id">apply:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_lt_trans">le_lt_trans</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_add_pinfty">lte_add_pinfty</a></span> <span class="id">Df</span> <span class="id">Dg</span>).<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-esumD//;</span> <span class="id">apply</span> <span class="id"><a href="mathcomp.analysis.esum.html#le_esum">le_esum</a></span> <span class="id">=&gt;</span> <span class="id">t</span> <span class="id">Dt;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_abs_add">lee_abs_add</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="summableN" class="id">
  <a name="summableN" class="">summableN</a>
</span> <span id="D:407" class="id">
  <a name="D:407" class="">D</a>
</span> <span id="f:408" class="id">
  <a name="f:408" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.esum.html#summable">summable</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#D:407">D</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#f:408">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#summable">summable</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#D:407">D</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'\-'_x">\-</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#f:408">f</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof33')">Proof.</span></div>
<div class="proofscript" id="proof33">
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/summable;</span> <span class="id">congr</span> (<span class="id">_</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'<'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'+oo'">+oo</a></span>)<span class="id">;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.esum.html#eq_esum">eq_esum</a></span> <span class="id">=&gt;</span> <span class="id">t</span> <span class="id">Dt;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#abseN">abseN</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="summableB" class="id">
  <a name="summableB" class="">summableB</a>
</span> <span id="D:409" class="id">
  <a name="D:409" class="">D</a>
</span> <span id="f:410" class="id">
  <a name="f:410" class="">f</a>
</span> <span id="g:411" class="id">
  <a name="g:411" class="">g</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.esum.html#summable">summable</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#D:409">D</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#f:410">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#summable">summable</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#D:409">D</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#g:411">g</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#summable">summable</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#D:409">D</a></span> (<span class="id"><a href="mathcomp.analysis.esum.html#f:410">f</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'\-'_x">\-</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#g:411">g</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof34')">Proof.</span></div>
<div class="proofscript" id="proof34">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">Df;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.esum.html#summableN">summableN;</a></span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.esum.html#summableD">summableD</a></span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="summable_funepos" class="id">
  <a name="summable_funepos" class="">summable_funepos</a>
</span> <span id="D:412" class="id">
  <a name="D:412" class="">D</a>
</span> <span id="f:413" class="id">
  <a name="f:413" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.esum.html#summable">summable</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#D:412">D</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#f:413">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#summable">summable</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#D:412">D</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#f:413">f^\+</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof35')">Proof.</span></div>
<div class="proofscript" id="proof35">
<span class="id">apply:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_lt_trans">le_lt_trans;</a></span> <span class="id">apply</span> <span class="id"><a href="mathcomp.analysis.esum.html#le_esum">le_esum</a></span> <span class="id">=&gt;</span> <span class="id">t</span> <span class="id">Dt</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-/</span>((<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#abse">abse</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:x_'\o'_x">\o</a></span> <span class="id">f</span>) <span class="id">t</span>) <span class="id"><a href="mathcomp.analysis.numfun.html#fune_abse">fune_abse</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#gee0_abs">gee0_abs//</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_addl">lee_addl</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="summable_funeneg" class="id">
  <a name="summable_funeneg" class="">summable_funeneg</a>
</span> <span id="D:414" class="id">
  <a name="D:414" class="">D</a>
</span> <span id="f:415" class="id">
  <a name="f:415" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.esum.html#summable">summable</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#D:414">D</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#f:415">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#summable">summable</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#D:414">D</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#f:415">f^\-</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof36')">Proof.</span></div>
<div class="proofscript" id="proof36">
<span class="id">apply:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_lt_trans">le_lt_trans;</a></span> <span class="id">apply</span> <span class="id"><a href="mathcomp.analysis.esum.html#le_esum">le_esum</a></span> <span class="id">=&gt;</span> <span class="id">t</span> <span class="id">Dt</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-/</span>((<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#abse">abse</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:x_'\o'_x">\o</a></span> <span class="id">f</span>) <span class="id">t</span>) <span class="id"><a href="mathcomp.analysis.numfun.html#fune_abse">fune_abse</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#gee0_abs">gee0_abs//</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_addr">lee_addr</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.esum.html#summable_lemmas">summable_lemmas</a></span>.<br/>
<br/>
<span class="vernacular">Import</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#numFieldNormedType.Exports">numFieldNormedType.Exports</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="summable_nat" class="id">
  <a name="summable_nat" class="">summable_nat</a>
</span>.<br/>
<span class="id">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="vernacular">Variable</span> <span id="summable_nat.R" class="id">
  <a name="summable_nat.R" class="">R</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="summable_fine_sum" class="id">
  <a name="summable_fine_sum" class="">summable_fine_sum</a>
</span> <span id="r:417" class="id">
  <a name="r:417" class="">r</a>
</span> (<span id="P:418" class="id">
  <a name="P:418" class="">P</a>
</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#pred">pred</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span id="f:419" class="id">
  <a name="f:419" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::type_scope:'\bar'_x">\bar</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#summable_nat.R">R</a></span>) <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.esum.html#summable">summable</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#P:418">P</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#f:419">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;(<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:'\sum_'_'('_x_'<='_x_'<'_x_'|'_x_')'_x">\sum_</a></span>(<span class="id">0</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:'\sum_'_'('_x_'<='_x_'<'_x_'|'_x_')'_x">&lt;=</a></span> <span id="k:422" class="id"><span id="k:421" class="id"><span id="k:420" class="id">
  <a name="k:422" class="">k</a>
</span></span></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:'\sum_'_'('_x_'<='_x_'<'_x_'|'_x_')'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#r:417">r</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:'\sum_'_'('_x_'<='_x_'<'_x_'|'_x_')'_x">|</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#P:418">P</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#k:420">k</a></span>) <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (<span class="id"><a href="mathcomp.analysis.esum.html#f:419">f</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#k:420">k</a></span>))<span class="id">%R</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'\sum_'_'('_x_'<='_x_'<'_x_'|'_x_')'_x">\sum_</a></span>(<span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'\sum_'_'('_x_'<='_x_'<'_x_'|'_x_')'_x">&lt;=</a></span> <span id="k:425" class="id"><span id="k:424" class="id"><span id="k:423" class="id">
  <a name="k:425" class="">k</a>
</span></span></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'\sum_'_'('_x_'<='_x_'<'_x_'|'_x_')'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#r:417">r</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'\sum_'_'('_x_'<='_x_'<'_x_'|'_x_')'_x">|</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#P:418">P</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#k:423">k</a></span>) <span class="id"><a href="mathcomp.analysis.esum.html#f:419">f</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#k:423">k</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof37')">Proof.</span></div>
<div class="proofscript" id="proof37">
<span class="id">move=&gt;</span> <span class="id">Pf;</span> <span class="id">elim:</span> <span class="id">r</span> <span class="id">=&gt;</span> <span class="id">[|r</span> <span class="id">ih];</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">!big_nil</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.bigop.html#big_mkcond">big_mkcond/=</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.bigop.html#big_nat_recr">big_nat_recr//</a></span> <span class="id">[in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS]big_mkcond/=</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.bigop.html#big_nat_recr">big_nat_recr//=</a></span>.<br/>
<span class="id">rewrite</span> <span class="id">-!big_mkcond/=</span> <span class="id">ih;</span> <span class="id">case:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span> <span class="id">=&gt;</span> <span class="id">Pr</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#adde0">adde0</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.addr0">addr0</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineD">fineD//;</a></span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num_abs">fin_num_abs</a></span> (<span class="id"><a href="mathcomp.analysis.esum.html#summable_pinfty">summable_pinfty</a></span> <span class="id">Pf</span>).<br/>
<span class="gallina-kwd">by</span> <span class="id">apply/sum_fin_numP</span> <span class="id">=&gt;</span> <span class="id">i</span> <span class="id">ir</span> <span class="id">Pi;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num_abs">fin_num_abs</a></span> (<span class="id"><a href="mathcomp.analysis.esum.html#summable_pinfty">summable_pinfty</a></span> <span class="id">Pf</span>).<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="summable_cvg" class="id">
  <a name="summable_cvg" class="">summable_cvg</a>
</span> (<span id="P:426" class="id">
  <a name="P:426" class="">P</a>
</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#pred">pred</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span id="f:427" class="id">
  <a name="f:427" class="">f</a>
</span> <span class="id">:</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::type_scope:'\bar'_x">\bar</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#summable_nat.R">R</a></span>)<span class="id">^nat</span>) <span class="id">:</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="i:428" class="id">
  <a name="i:428" class="">i,</a>
</span> <span class="id"><a href="mathcomp.analysis.esum.html#P:426">P</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:428">i</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'<='_x">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#f:427">f</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:428">i</a></span>)<span class="id">%E</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#summable">summable</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#P:426">P</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#f:427">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.topology.html#cvg">cvg</a></span> (<span class="gallina-kwd">fun</span> <span id="n:437" class="id"><span id="n:433" class="id"><span id="n:429" class="id">
  <a name="n:437" class="">n</a>
</span></span></span> <span class="id">=&gt;</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:'\sum_'_'('_x_'<='_x_'<'_x_'|'_x_')'_x">\sum_</a></span>(<span class="id">0</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:'\sum_'_'('_x_'<='_x_'<'_x_'|'_x_')'_x">&lt;=</a></span> <span id="k:440" class="id"><span id="k:439" class="id"><span id="k:438" class="id"><span id="k:436" class="id"><span id="k:435" class="id"><span id="k:434" class="id"><span id="k:432" class="id"><span id="k:431" class="id"><span id="k:430" class="id">
  <a name="k:440" class="">k</a>
</span></span></span></span></span></span></span></span></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:'\sum_'_'('_x_'<='_x_'<'_x_'|'_x_')'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#n:429">n</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:'\sum_'_'('_x_'<='_x_'<'_x_'|'_x_')'_x">|</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#P:426">P</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#k:430">k</a></span>) <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (<span class="id"><a href="mathcomp.analysis.esum.html#f:427">f</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#k:430">k</a></span>))<span class="id">%R</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof38')">Proof.</span></div>
<div class="proofscript" id="proof38">
<span class="id">move=&gt;</span> <span class="id">f0</span> <span class="id">Pf;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.sequences.html#nondecreasing_is_cvgn">nondecreasing_is_cvgn</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.sequences.html#nondecreasing_series">nondecreasing_series</a></span> <span class="id">=&gt;</span> <span class="id">n</span> <span class="id">Pn;</span> <span class="id">exact/fine_ge0/f0</span>.<br/>
<span class="gallina-kwd">exists</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (<span class="id"><a href="mathcomp.analysis.sequences.html#::ereal_scope:'\sum_'_'('_x_'<oo'_'|'_x_')'_x">\sum_</a></span>(<span id="i:452" class="id"><span id="i:451" class="id"><span id="i:450" class="id"><span id="i:449" class="id"><span id="i:448" class="id"><span id="i:447" class="id"><span id="i:446" class="id"><span id="i:445" class="id"><span id="i:444" class="id"><span id="i:443" class="id"><span id="i:442" class="id"><span id="i:441" class="id">
  <a name="i:452" class="">i</a>
</span></span></span></span></span></span></span></span></span></span></span></span> <span class="id"><a href="mathcomp.analysis.sequences.html#::ereal_scope:'\sum_'_'('_x_'<oo'_'|'_x_')'_x">&lt;oo</a></span> <span class="id">|</span> <span class="id">P</span> <span class="id"><a href="mathcomp.analysis.esum.html#i:441">i</a></span>) <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'`|'_x_'|'">`|f</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:441">i|</a></span>)) <span class="id">=&gt;</span> <span class="id">x</span> <span class="id">/=</span> <span class="id">[n</span> <span class="id">_</span> <span class="id">&lt;-]</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.esum.html#summable_fine_sum">summable_fine_sum//</a></span> <span class="id">-lee_fin</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK//;</a></span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply/sum_fin_numP</span> <span class="id">=&gt;</span> <span class="id">i</span> <span class="id">ni</span> <span class="id">Pi;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num_abs">fin_num_abs</a></span> (<span class="id"><a href="mathcomp.analysis.esum.html#summable_pinfty">summable_pinfty</a></span> <span class="id">Pf</span>).<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK//;</a></span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.esum.html#nneseries_esum">nneseries_esum//</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_numElt">fin_numElt;</a></span> <span class="id">apply/andP;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id">@lt_le_trans</span> <span class="id">_</span> <span class="id">_</span> <span class="id">0</span>)<span class="id">//</span> <span class="id">?lte_ninfty//;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.esum.html#esum_ge0">esum_ge0</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_lt_trans">le_lt_trans</a></span> <span class="id">Pf;</span> <span class="id">apply</span> <span class="id"><a href="mathcomp.analysis.esum.html#le_esum">le_esum</a></span>.<br/>
<span class="id">apply:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans</a></span> (<span class="id"><a href="mathcomp.analysis.sequences.html#nneseries_lim_ge">nneseries_lim_ge</a></span> <span class="id">n</span> <span class="id">_</span>) <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_sum">lee_sum</a></span> <span class="id">=&gt;</span> <span class="id">i</span> <span class="id">_</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_abs">lee_abs</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="summable_nneseries_lim" class="id">
  <a name="summable_nneseries_lim" class="">summable_nneseries_lim</a>
</span> (<span id="P:453" class="id">
  <a name="P:453" class="">P</a>
</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#pred">pred</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span id="f:454" class="id">
  <a name="f:454" class="">f</a>
</span> <span class="id">:</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::type_scope:'\bar'_x">\bar</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#summable_nat.R">R</a></span>)<span class="id">^nat</span>) <span class="id">:</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="i:455" class="id">
  <a name="i:455" class="">i,</a>
</span> <span class="id"><a href="mathcomp.analysis.esum.html#P:453">P</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:455">i</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'<='_x">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#f:454">f</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:455">i</a></span>)<span class="id">%E</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#summable">summable</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#P:453">P</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#f:454">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.sequences.html#::ereal_scope:'\sum_'_'('_x_'<oo'_'|'_x_')'_x">\sum_</a></span>(<span id="i:461" class="id"><span id="i:460" class="id"><span id="i:459" class="id"><span id="i:458" class="id"><span id="i:457" class="id"><span id="i:456" class="id">
  <a name="i:461" class="">i</a>
</span></span></span></span></span></span> <span class="id"><a href="mathcomp.analysis.sequences.html#::ereal_scope:'\sum_'_'('_x_'<oo'_'|'_x_')'_x">&lt;oo</a></span> <span class="id">|</span> <span class="id"><a href="mathcomp.analysis.esum.html#P:453">P</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:456">i</a></span>) <span class="id"><a href="mathcomp.analysis.esum.html#f:454">f</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:456">i</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span><br/>
&nbsp;&nbsp;(<span class="id"><a href="mathcomp.analysis.topology.html#lim">lim</a></span> (<span class="gallina-kwd">fun</span> <span id="n:466" class="id"><span id="n:462" class="id">
  <a name="n:466" class="">n</a>
</span></span> <span class="id">=&gt;</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:'\sum_'_'('_x_'<='_x_'<'_x_'|'_x_')'_x">\sum_</a></span>(<span class="id">0</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:'\sum_'_'('_x_'<='_x_'<'_x_'|'_x_')'_x">&lt;=</a></span> <span id="k:469" class="id"><span id="k:468" class="id"><span id="k:467" class="id"><span id="k:465" class="id"><span id="k:464" class="id"><span id="k:463" class="id">
  <a name="k:469" class="">k</a>
</span></span></span></span></span></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:'\sum_'_'('_x_'<='_x_'<'_x_'|'_x_')'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#n:462">n</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:'\sum_'_'('_x_'<='_x_'<'_x_'|'_x_')'_x">|</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#P:453">P</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#k:463">k</a></span>) <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (<span class="id"><a href="mathcomp.analysis.esum.html#f:454">f</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#k:463">k</a></span>))<span class="id">%R</span>))<span class="id">%:E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof39')">Proof.</span></div>
<div class="proofscript" id="proof39">
<span class="id">move=&gt;</span> <span class="id">f0</span> <span class="id">Pf;</span> <span class="id">pose</span> <span class="id">A_</span> <span id="n:470" class="id">
  <a name="n:470" class="">n</a>
</span> <span class="id">:=</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:'\sum_'_'('_x_'<='_x_'<'_x_'|'_x_')'_x">\sum_</a></span>(<span class="id">0</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:'\sum_'_'('_x_'<='_x_'<'_x_'|'_x_')'_x">&lt;=</a></span> <span id="k:473" class="id"><span id="k:472" class="id"><span id="k:471" class="id">
  <a name="k:473" class="">k</a>
</span></span></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:'\sum_'_'('_x_'<='_x_'<'_x_'|'_x_')'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#n:470">n</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:'\sum_'_'('_x_'<='_x_'<'_x_'|'_x_')'_x">|</a></span> <span class="id">P</span> <span class="id"><a href="mathcomp.analysis.esum.html#k:471">k</a></span>) <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (<span class="id">f</span> <span class="id"><a href="mathcomp.analysis.esum.html#k:471">k</a></span>))<span class="id">%R</span>.<br/>
<span class="id">transitivity</span> (<span class="id"><a href="mathcomp.analysis.topology.html#lim">lim</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:x_'\o'_x">\o</a></span> <span class="id">A_</span>)).<br/>
&nbsp;&nbsp;<span class="id">congr</span> (<span class="id"><a href="mathcomp.analysis.topology.html#lim">lim</a></span> <span class="id">_</span>)<span class="id">;</span> <span class="id">apply/funext</span> <span class="id">=&gt;</span> <span class="id">/=</span> <span class="id">n;</span> <span class="id">rewrite</span> <span class="id">/A_</span> <span class="id">/=</span> <span class="id">-sumEFin</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.bigop.html#eq_bigr">eq_bigr</a></span> <span class="id">=&gt;</span> <span class="id">i</span> <span class="id">Pi/=;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK//</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num_abs">fin_num_abs</a></span> (<span class="id">@summable_pinfty</span> <span class="id">_</span> <span class="id">_</span> <span class="id">P</span>).<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#EFin_lim">EFin_lim//;</a></span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.esum.html#summable_cvg">summable_cvg</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="summable_eseries" class="id">
  <a name="summable_eseries" class="">summable_eseries</a>
</span> (<span id="f:474" class="id">
  <a name="f:474" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::type_scope:'\bar'_x">\bar</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#summable_nat.R">R</a></span>) (<span id="P:475" class="id">
  <a name="P:475" class="">P</a>
</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#pred">pred</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span>) <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.esum.html#summable">summable</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#P:475">P</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#f:474">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.sequences.html#::ereal_scope:'\sum_'_'('_x_'<oo'_'|'_x_')'_x">\sum_</a></span>(<span id="i:481" class="id"><span id="i:480" class="id"><span id="i:479" class="id"><span id="i:478" class="id"><span id="i:477" class="id"><span id="i:476" class="id">
  <a name="i:481" class="">i</a>
</span></span></span></span></span></span> <span class="id"><a href="mathcomp.analysis.sequences.html#::ereal_scope:'\sum_'_'('_x_'<oo'_'|'_x_')'_x">&lt;oo</a></span> <span class="id">|</span> <span class="id"><a href="mathcomp.analysis.esum.html#P:475">P</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:476">i</a></span>) (<span class="id"><a href="mathcomp.analysis.esum.html#f:474">f</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:476">i</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.sequences.html#::ereal_scope:'\sum_'_'('_x_'<oo'_'|'_x_')'_x">\sum_</a></span>(<span id="i:487" class="id"><span id="i:486" class="id"><span id="i:485" class="id"><span id="i:484" class="id"><span id="i:483" class="id"><span id="i:482" class="id">
  <a name="i:487" class="">i</a>
</span></span></span></span></span></span> <span class="id"><a href="mathcomp.analysis.sequences.html#::ereal_scope:'\sum_'_'('_x_'<oo'_'|'_x_')'_x">&lt;oo</a></span> <span class="id">|</span> <span class="id"><a href="mathcomp.analysis.esum.html#P:475">P</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:482">i</a></span>) <span class="id"><a href="mathcomp.analysis.esum.html#f:474">f^\+</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:482">i</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'-'_x">-</a></span> <span class="id"><a href="mathcomp.analysis.sequences.html#::ereal_scope:'\sum_'_'('_x_'<oo'_'|'_x_')'_x">\sum_</a></span>(<span id="i:493" class="id"><span id="i:492" class="id"><span id="i:491" class="id"><span id="i:490" class="id"><span id="i:489" class="id"><span id="i:488" class="id">
  <a name="i:493" class="">i</a>
</span></span></span></span></span></span> <span class="id"><a href="mathcomp.analysis.sequences.html#::ereal_scope:'\sum_'_'('_x_'<oo'_'|'_x_')'_x">&lt;oo</a></span> <span class="id">|</span> <span class="id"><a href="mathcomp.analysis.esum.html#P:475">P</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:488">i</a></span>) <span class="id"><a href="mathcomp.analysis.esum.html#f:474">f^\-</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:488">i</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof40')">Proof.</span></div>
<div class="proofscript" id="proof40">
<span class="id">move=&gt;</span> <span class="id">Pf</span>.<br/>
<span class="id">pose</span> <span class="id">A_</span> <span id="n:494" class="id">
  <a name="n:494" class="">n</a>
</span> <span class="id">:=</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:'\sum_'_'('_x_'<='_x_'<'_x_'|'_x_')'_x">\sum_</a></span>(<span class="id">0</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:'\sum_'_'('_x_'<='_x_'<'_x_'|'_x_')'_x">&lt;=</a></span> <span id="k:497" class="id"><span id="k:496" class="id"><span id="k:495" class="id">
  <a name="k:497" class="">k</a>
</span></span></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:'\sum_'_'('_x_'<='_x_'<'_x_'|'_x_')'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#n:494">n</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:'\sum_'_'('_x_'<='_x_'<'_x_'|'_x_')'_x">|</a></span> <span class="id">P</span> <span class="id"><a href="mathcomp.analysis.esum.html#k:495">k</a></span>) <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (<span class="id">f^\+</span> <span class="id"><a href="mathcomp.analysis.esum.html#k:495">k</a></span>))<span class="id">%R</span>.<br/>
<span class="id">pose</span> <span class="id">B_</span> <span id="n:498" class="id">
  <a name="n:498" class="">n</a>
</span> <span class="id">:=</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:'\sum_'_'('_x_'<='_x_'<'_x_'|'_x_')'_x">\sum_</a></span>(<span class="id">0</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:'\sum_'_'('_x_'<='_x_'<'_x_'|'_x_')'_x">&lt;=</a></span> <span id="k:501" class="id"><span id="k:500" class="id"><span id="k:499" class="id">
  <a name="k:501" class="">k</a>
</span></span></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:'\sum_'_'('_x_'<='_x_'<'_x_'|'_x_')'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#n:498">n</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:'\sum_'_'('_x_'<='_x_'<'_x_'|'_x_')'_x">|</a></span> <span class="id">P</span> <span class="id"><a href="mathcomp.analysis.esum.html#k:499">k</a></span>) <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (<span class="id">f^\-</span> <span class="id"><a href="mathcomp.analysis.esum.html#k:499">k</a></span>))<span class="id">%R</span>.<br/>
<span class="id">pose</span> <span class="id">C_</span> <span id="n:502" class="id">
  <a name="n:502" class="">n</a>
</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'\sum_'_'('_x_'<='_x_'<'_x_'|'_x_')'_x">\sum_</a></span>(<span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'\sum_'_'('_x_'<='_x_'<'_x_'|'_x_')'_x">&lt;=</a></span> <span id="k:505" class="id"><span id="k:504" class="id"><span id="k:503" class="id">
  <a name="k:505" class="">k</a>
</span></span></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'\sum_'_'('_x_'<='_x_'<'_x_'|'_x_')'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#n:502">n</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'\sum_'_'('_x_'<='_x_'<'_x_'|'_x_')'_x">|</a></span> <span class="id">P</span> <span class="id"><a href="mathcomp.analysis.esum.html#k:503">k</a></span>) <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.esum.html#k:503">k</a></span>).<br/>
<span class="id">pose</span> <span class="id">A</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.topology.html#lim">lim</a></span> <span class="id">A_</span>.<br/>
<span class="id">pose</span> <span class="id">B</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.topology.html#lim">lim</a></span> <span class="id">B_</span>.<br/>
<span class="id">suff:</span> ((<span class="gallina-kwd">fun</span> <span id="n:506" class="id">
  <a name="n:506" class="">n</a>
</span> <span class="id">=&gt;</span> <span class="id">C_</span> <span class="id"><a href="mathcomp.analysis.esum.html#n:506">n</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'-'_x">-</a></span> (<span class="id">A</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'-'_x">-</a></span> <span class="id">B</span>)) <span class="id">--&gt;</span> (<span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#summable_nat.R">R^o</a></span>))<span class="id">%R</span>.<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">CAB</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">[X</span> <span class="gallina-kwd">in</span>  <span class="id"><a href="mathcomp.analysis.esum.html#X:507">X</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'-'_x">-</a></span> <span class="id">_]summable_nneseries_lim//;</span> <span class="id">last</span> <span class="id">exact/summable_funepos</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">[X</span> <span class="gallina-kwd">in</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'-'_x">-</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#X:508">X]summable_nneseries_lim//;</a></span> <span class="id">last</span> <span class="id">exact/summable_funeneg</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-EFinB;</span> <span class="id">apply/cvg_lim</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">apply/fine_cvgP;</span> <span class="id">split;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply:</span> (<span class="id">@cvg_sub0</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> (<span class="id">A</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'-'_x">-</a></span> <span class="id">B</span>)<span class="id">%R</span>) <span class="id">_</span> <span class="id">CAB</span>)<span class="id">;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.topology.html#cvg_cst">cvg_cst</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.topology.html#nearW">nearW</a></span> <span class="id">=&gt;</span> <span class="id">n;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num_abs">fin_num_abs;</a></span> <span class="id">apply:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_lt_trans">le_lt_trans</a></span> <span class="id">Pf</span> <span class="id">=&gt;</span> <span class="id">/=</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-nneseries_esum</span> <span class="id">?</span>(<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_abs_sum">lee_abs_sum</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>)) <span class="id">?nneseries_lim_ge</span>.<br/>
<span class="id">have</span> <span class="id">:</span> ((<span class="gallina-kwd">fun</span> <span id="x:509" class="id">
  <a name="x:509" class="">x</a>
</span> <span class="id">=&gt;</span> <span class="id">A_</span> <span class="id"><a href="mathcomp.analysis.esum.html#x:509">x</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'-'_x">-</a></span> <span class="id">B_</span> <span class="id"><a href="mathcomp.analysis.esum.html#x:509">x</a></span>) <span class="id">--&gt;</span> <span class="id">A</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'-'_x">-</a></span> <span class="id">B</span>)<span class="id">%R</span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#cvgD">cvgD</a></span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.esum.html#summable_cvg">summable_cvg</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact/summable_funepos</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#cvgN">cvgN;</a></span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.esum.html#summable_cvg">summable_cvg</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact/summable_funeneg</span>.<br/>
<span class="id">move=&gt;</span> <span class="id">/cvgrPdist_lt</span> <span class="id">cvgAB;</span> <span class="id">apply/cvgrPdist_lt</span> <span class="id">=&gt;</span> <span class="id">e</span> <span class="id">e0</span>.<br/>
<span class="id">move:</span> <span class="id">cvgAB</span> <span class="id">=&gt;</span> <span class="id">/</span>(<span class="id">_</span> <span class="id">_</span> <span class="id">e0</span>) <span class="id">[N</span> <span class="id">_/=</span> <span class="id">hN]</span> <span class="id">/=</span>.<br/>
<span class="id">near=&gt;</span> <span class="id">n</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.distrC">distrC</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.subr0">subr0</a></span>.<br/>
<span class="id">have</span> <span class="id">-&gt;</span> <span class="id">:</span> (<span class="id">C_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id">A_</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'\-'_x">\-</a></span> <span class="id">B_</span>)<span class="id">%R</span>.<br/>
&nbsp;&nbsp;<span class="id">apply/funext</span> <span class="id">=&gt;</span> <span class="id">k</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">/=</span> <span class="id">/A_</span> <span class="id">/C_</span> <span class="id">/B_</span> <span class="id">-sumrN</span> <span class="id">-big_split/=</span> <span class="id">-summable_fine_sum//</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.bigop.html#eq_bigr">eq_bigr</a></span> <span class="id">=&gt;</span> <span class="id">i</span> <span class="id">Pi;</span> <span class="id">rewrite</span> <span class="id">-fineB//</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">[in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.LHS">LHS]</a></span>(<span class="id"><a href="mathcomp.analysis.numfun.html#funeposneg">funeposneg</a></span> <span class="id">f</span>).<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num_abs">fin_num_abs</a></span> (<span class="id">@summable_pinfty</span> <span class="id">_</span> <span class="id">_</span> <span class="id">P</span>) <span class="id">//;</span> <span class="id">exact/summable_funepos</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num_abs">fin_num_abs</a></span> (<span class="id">@summable_pinfty</span> <span class="id">_</span> <span class="id">_</span> <span class="id">P</span>) <span class="id">//;</span> <span class="id">exact/summable_funeneg</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.distrC">distrC;</a></span> <span class="id">apply:</span> <span class="id">hN;</span> <span class="id">near:</span> <span class="id">n;</span> <span class="gallina-kwd">exists</span> <span class="id">N</span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all:</span> <span class="gallina-kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="summable_eseries_esum" class="id">
  <a name="summable_eseries_esum" class="">summable_eseries_esum</a>
</span>  (<span id="f:510" class="id">
  <a name="f:510" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::type_scope:'\bar'_x">\bar</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#summable_nat.R">R</a></span>) (<span id="P:511" class="id">
  <a name="P:511" class="">P</a>
</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#pred">pred</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.esum.html#summable">summable</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#P:511">P</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#f:510">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.sequences.html#::ereal_scope:'\sum_'_'('_x_'<oo'_'|'_x_')'_x">\sum_</a></span>(<span id="i:517" class="id"><span id="i:516" class="id"><span id="i:515" class="id"><span id="i:514" class="id"><span id="i:513" class="id"><span id="i:512" class="id">
  <a name="i:517" class="">i</a>
</span></span></span></span></span></span> <span class="id"><a href="mathcomp.analysis.sequences.html#::ereal_scope:'\sum_'_'('_x_'<oo'_'|'_x_')'_x">&lt;oo</a></span> <span class="id">|</span> <span class="id"><a href="mathcomp.analysis.esum.html#P:511">P</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:512">i</a></span>) <span class="id"><a href="mathcomp.analysis.esum.html#f:510">f</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:512">i</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#esum">esum</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#P:511">P</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#f:510">f^\+</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'-'_x">-</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#esum">esum</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#P:511">P</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#f:510">f^\-</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof41')">Proof.</span></div>
<div class="proofscript" id="proof41">
<span class="id">move=&gt;</span> <span class="id">Pfoo;</span> <span class="id">rewrite</span> <span class="id">-nneseries_esum;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">n</span> <span class="id">Pn;</span> <span class="id">rewrite</span> <span class="id">/maxe;</span> <span class="id">case:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">rewrite</span> <span class="id">-leNgt</span>.<br/>
<span class="id">rewrite</span> <span class="id">-nneseries_esum</span> <span class="id">?[LHS]summable_eseries//</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">n</span> <span class="id">Pn;</span> <span class="id">rewrite</span> <span class="id">/maxe;</span> <span class="id">case:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.TotalTheory.leNgt">leNgt</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.esum.html#summable_nat">summable_nat</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="esumB" class="id">
  <a name="esumB" class="">esumB</a>
</span>.<br/>
<span class="id">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="vernacular">Variables</span> (<span id="esumB.R" class="id">
  <a name="esumB.R" class="">R</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) (<span id="esumB.T" class="id">
  <a name="esumB.T" class="">T</a>
</span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.choice.html#Choice.Exports.choiceType">choiceType</a></span>).<br/>
<span class="vernacular">Implicit</span> <span class="id">Types</span> (<span class="id">D</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#esumB.T">T</a></span>) (<span class="id">f</span> <span class="id">g</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.esum.html#esumB.T">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::type_scope:'\bar'_x">\bar</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#esumB.R">R</a></span>).<br/>
<br/>
<span class="vernacular">Let</span> <span id="esumB.esum_posneg" class="id">
  <a name="esumB.esum_posneg" class="">esum_posneg</a>
</span> <span id="D:520" class="id">
  <a name="D:520" class="">D</a>
</span> <span id="f:521" class="id">
  <a name="f:521" class="">f</a>
</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.esum.html#esum">esum</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#D:520">D</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#f:521">f^\+</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'-'_x">-</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#esum">esum</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#D:520">D</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#f:521">f^\-</a></span>.<br/>
<br/>
<span class="vernacular">Let</span> <span id="esumB.ge0_esum_posneg" class="id">
  <a name="esumB.ge0_esum_posneg" class="">ge0_esum_posneg</a>
</span> <span id="D:522" class="id">
  <a name="D:522" class="">D</a>
</span> <span id="f:523" class="id">
  <a name="f:523" class="">f</a>
</span> <span class="id">:</span> (<span class="gallina-kwd">forall</span> <span id="x:524" class="id">
  <a name="x:524" class="">x,</a>
</span> <span class="id"><a href="mathcomp.analysis.esum.html#D:522">D</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#x:524">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'<='_x">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#f:523">f</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#x:524">x</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.esum.html#esumB.esum_posneg">esum_posneg</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#D:522">D</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#f:523">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#::ring_scope:'\esum_'_'('_x_'in'_x_')'_x">\esum_</a></span>(<span id="x:525" class="id">
  <a name="x:525" class="">x</a>
</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.esum.html#D:522">D</a></span>) <span class="id"><a href="mathcomp.analysis.esum.html#f:523">f</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#x:525">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof42')">Proof.</span></div>
<div class="proofscript" id="proof42">
<span class="id">move=&gt;</span> <span class="id">Sa;</span> <span class="id">rewrite</span> <span class="id">/esum_posneg</span> <span class="id">[X</span> <span class="gallina-kwd">in</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'-'_x">-</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#X:526">X]</a></span>(<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id">0</span>) <span class="id">?sube0;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.esum.html#esum1">esum1//</a></span> <span class="id">=&gt;</span> <span class="id">x</span> <span class="id">Sx;</span> <span class="id">rewrite</span> <span class="id">-[LHS]/</span>(<span class="id">f^\-</span> <span class="id">x</span>) (<span class="id"><a href="mathcomp.analysis.numfun.html#ge0_funenegE">ge0_funenegE</a></span> <span class="id">Sa</span>)<span class="id">//</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.esum.html#eq_esum">eq_esum</a></span> <span class="id">=&gt;</span> <span class="id">t</span> <span class="id">St;</span> <span class="id">apply/max_idPl;</span> <span class="id">exact:</span> <span class="id">Sa</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="esumB" class="id">
  <a name="esumB" class="">esumB</a>
</span> <span id="D:527" class="id">
  <a name="D:527" class="">D</a>
</span> <span id="f:528" class="id">
  <a name="f:528" class="">f</a>
</span> <span id="g:529" class="id">
  <a name="g:529" class="">g</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.esum.html#summable">summable</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#D:527">D</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#f:528">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#summable">summable</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#D:527">D</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#g:529">g</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="i:530" class="id">
  <a name="i:530" class="">i,</a>
</span> <span class="id"><a href="mathcomp.analysis.esum.html#D:527">D</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:530">i</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'<='_x">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#f:528">f</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:530">i</a></span>) <span class="id">-&gt;</span> (<span class="gallina-kwd">forall</span> <span id="i:531" class="id">
  <a name="i:531" class="">i,</a>
</span> <span class="id"><a href="mathcomp.analysis.esum.html#D:527">D</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:531">i</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'<='_x">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#g:529">g</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:531">i</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.esum.html#::ring_scope:'\esum_'_'('_x_'in'_x_')'_x">\esum_</a></span>(<span id="i:532" class="id">
  <a name="i:532" class="">i</a>
</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.esum.html#D:527">D</a></span>) (<span class="id"><a href="mathcomp.analysis.esum.html#f:528">f</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'\-'_x">\-</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#g:529">g</a></span>)<span class="id">^\+</span> <span class="id"><a href="mathcomp.analysis.esum.html#i:532">i</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'-'_x">-</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#::ring_scope:'\esum_'_'('_x_'in'_x_')'_x">\esum_</a></span>(<span id="i:533" class="id">
  <a name="i:533" class="">i</a>
</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.esum.html#D:527">D</a></span>) (<span class="id"><a href="mathcomp.analysis.esum.html#f:528">f</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'\-'_x">\-</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#g:529">g</a></span>)<span class="id">^\-</span> <span class="id"><a href="mathcomp.analysis.esum.html#i:533">i</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.esum.html#::ring_scope:'\esum_'_'('_x_'in'_x_')'_x">\esum_</a></span>(<span id="i:534" class="id">
  <a name="i:534" class="">i</a>
</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.esum.html#D:527">D</a></span>) <span class="id"><a href="mathcomp.analysis.esum.html#f:528">f</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:534">i</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'-'_x">-</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#::ring_scope:'\esum_'_'('_x_'in'_x_')'_x">\esum_</a></span>(<span id="i:535" class="id">
  <a name="i:535" class="">i</a>
</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.esum.html#D:527">D</a></span>) <span class="id"><a href="mathcomp.analysis.esum.html#g:529">g</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:535">i</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof43')">Proof.</span></div>
<div class="proofscript" id="proof43">
<span class="id">move=&gt;</span> <span class="id">Df</span> <span class="id">Dg</span> <span class="id">f0</span> <span class="id">g0</span>.<br/>
<span class="id">have</span> <span class="id">/eqP</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.esum.html#esum">esum</a></span> <span class="id">D</span> (<span class="id">f</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'\-'_x">\-</a></span> <span class="id">g</span>)<span class="id">^\+</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'+'_x">+</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#esumB.esum_posneg">esum_posneg</a></span> <span class="id">D</span> <span class="id">g</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#esum">esum</a></span> <span class="id">D</span> (<span class="id">f</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'\-'_x">\-</a></span> <span class="id">g</span>)<span class="id">^\-</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'+'_x">+</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#esumB.esum_posneg">esum_posneg</a></span> <span class="id">D</span> <span class="id">f</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">!ge0_esum_posneg//</span> <span class="id">-!esumD//;</span> <span class="id">last</span> <span class="id">2</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">t</span> <span class="id">Dt;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.TotalTheory.le_maxr">le_maxr</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.lexx">lexx</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#orbT">orbT</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">t</span> <span class="id">Dt;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.TotalTheory.le_maxr">le_maxr</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.lexx">lexx</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#orbT">orbT</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="mathcomp.analysis.esum.html#eq_esum">eq_esum</a></span> <span class="id">=&gt;</span> <span class="id">i</span> <span class="id">Di;</span> <span class="id">have</span> <span class="id">[fg|fg]</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.TotalTheory.leP">leP</a></span> <span class="id">0</span> (<span class="id">f</span> <span class="id">i</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'-'_x">-</a></span> <span class="id">g</span> <span class="id">i</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.max_r">max_r</a></span> <span class="id">1?lee_oppl</span> <span class="id">?oppe0//</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#add0e">add0e</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#subeK">subeK//</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num_abs">fin_num_abs</a></span> (<span class="id"><a href="mathcomp.analysis.esum.html#summable_pinfty">summable_pinfty</a></span> <span class="id">Dg</span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#add0e">add0e</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.max_l">max_l;</a></span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_oppr">lee_oppr</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#oppe0">oppe0</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.ltW">ltW</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num_oppeB">fin_num_oppeB//;</a></span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num_abs">fin_num_abs</a></span> (<span class="id"><a href="mathcomp.analysis.esum.html#summable_pinfty">summable_pinfty</a></span> <span class="id">Dg</span>).<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-addeA</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#addeCA">addeCA</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#addeA">addeA</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#subeK">subeK//</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num_abs">fin_num_abs</a></span> (<span class="id"><a href="mathcomp.analysis.esum.html#summable_pinfty">summable_pinfty</a></span> <span class="id">Df</span>).<br/>
<span class="id">rewrite</span> <span class="id">[X</span> <span class="gallina-kwd">in</span> <span class="id">_</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#::bool_scope:x_'=='_x">==</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#X:536">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id">_]addeC</span> <span class="id">-sube_eq;</span> <span class="id">last</span> <span class="id">2</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_numD">fin_numD;</a></span> <span class="id">apply/andP;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id">@eq_esum</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#abse">abse</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:x_'\o'_x">\o</a></span> (<span class="id">f</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'\-'_x">\-</a></span> <span class="id">g</span>)<span class="id">^\+</span>))<span class="id">//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-summableE;</span> <span class="id">exact/summable_funepos/summableB</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">t</span> <span class="id">Dt;</span> <span class="id">rewrite</span> <span class="id">/=</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#gee0_abs">gee0_abs</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move:</span> <span class="id">Dg;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.esum.html#summableE">summableE</a></span> (<span class="id">@eq_esum</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">g</span>)<span class="id">//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.esum.html#esumB.ge0_esum_posneg">ge0_esum_posneg//</a></span> <span class="id">=&gt;</span> <span class="id">t</span> <span class="id">Tt;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#gee0_abs">gee0_abs//</a></span> <span class="id">g0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">t</span> <span class="id">Tt;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#gee0_abs">gee0_abs//</a></span> <span class="id">g0</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num_adde_defr">fin_num_adde_defr//</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#esumB.ge0_esum_posneg">ge0_esum_posneg//</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id">@eq_esum</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#abse">abse</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:x_'\o'_x">\o</a></span> <span class="id">f</span>))<span class="id">//</span> <span class="id">-?summableE//</span> <span class="id">=&gt;</span> <span class="id">i</span> <span class="id">Di</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/=</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#gee0_abs">gee0_abs//</a></span> <span class="id">f0</span>.<br/>
<span class="id">rewrite</span> <span class="id">-addeA</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#addeCA">addeCA</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#eq_sym">eq_sym</a></span> <span class="id">[X</span> <span class="gallina-kwd">in</span> <span class="id">_</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#::bool_scope:x_'=='_x">==</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#X:537">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id">_]addeC</span> <span class="id">-sube_eq;</span> <span class="id">last</span> <span class="id">2</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.esum.html#esumB.ge0_esum_posneg">ge0_esum_posneg//</a></span> (<span class="id">@eq_esum</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#abse">abse</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:x_'\o'_x">\o</a></span> <span class="id">f</span>))<span class="id">//</span> <span class="id">-?summableE//</span> <span class="id">=&gt;</span> <span class="id">i</span> <span class="id">Di</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/=</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#gee0_abs">gee0_abs//</a></span> <span class="id">f0</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num_adde_defl">fin_num_adde_defl//</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#esumB.ge0_esum_posneg">ge0_esum_posneg//</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id">@eq_esum</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#abse">abse</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:x_'\o'_x">\o</a></span> <span class="id">g</span>))<span class="id">//</span> <span class="id">-?summableE//</span> <span class="id">=&gt;</span> <span class="id">i</span> <span class="id">Di</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/=</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#gee0_abs">gee0_abs//</a></span> <span class="id">g0</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.esum.html#esumB.ge0_esum_posneg">ge0_esum_posneg//</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#esumB.ge0_esum_posneg">ge0_esum_posneg//</a></span> <span class="id">=&gt;</span> <span class="id">/eqP</span> <span class="id">-&gt;</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.esum.html#esumB">esumB</a></span>.<br/>

</div>
<div class="footer"><hr/>Generated by <a href="https://github.com/yoshihiro503/coq2html/">a fork of coq2html</a></div>
</body>
</html>
