
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Module mathcomp.classical.functions</title>
<meta name="description" content="Documentation of Coq module mathcomp.classical.functions" />
<link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.css">
<script src="https://cdn.jsdelivr.net/npm/markdown-it/dist/markdown-it.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/markdown-it-texmath/texmath.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/darkmode-js@1.5.7/lib/darkmode-js.min.js"></script>
<link href="coq2html.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="coq2html.js"> </script>
</head>

<body onload="init('proofscript')">
<h1 class="title">Module mathcomp.classical.functions</h1>
<div class="coq">
<span class="vernacular">From</span> <span class="id">mathcomp</span> <span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.all_ssreflect.html">all_ssreflect</a></span> <span class="id"><a href="NOTFOUND the module url for mathcomp.finmap.finmap">finmap</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html">ssralg</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html">ssrnum</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrint.html">ssrint</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.rat.html">rat</a></span>.<br/>
<span class="vernacular">From</span> <span class="id">HB</span> <span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="NOTFOUND the module url for HB.structures">structures</a></span>.<br/>
<span class="vernacular">From</span> <span class="id">mathcomp</span> <span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="mathcomp.classical.mathcomp_extra.html">mathcomp_extra</a></span> <span class="id"><a href="mathcomp.classical.boolp.html">boolp</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html">classical_sets</a></span>.<br/>
<span class="id">Add</span> <span class="id">Search</span> <span class="id">Blacklist</span> <span class="id">"__canonical__"</span>.<br/>
<span class="id">Add</span> <span class="id">Search</span> <span class="id">Blacklist</span> <span class="id">"__functions_"</span>.<br/>
<span class="id">Add</span> <span class="id">Search</span> <span class="id">Blacklist</span> <span class="id">"_factory_"</span>.<br/>
<span class="id">Add</span> <span class="id">Search</span> <span class="id">Blacklist</span> <span class="id">"_mixin_"</span>.<br/>
<br/>
<div class="ssrdoc markdown">
# Theory of functions                                                      
                                                                           
This file provides a theory of functions $f : A\to B$ whose domain $A$     
and codomain $B$ are represented by sets.                                  
                                                                           
```                                                                        
         set_fun A B f == f : aT -&gt; rT is a function with domain           
                          A : set aT and codomain B : set rT               
        set_surj A B f == f is surjective                                  
         set inj A B f == f is injective                                   
         set_bij A B f == f is bijective                                   
                                                                           
         {fun A &gt;-&gt; B} == type of functions f : aT -&gt; rT from A : set aT   
                          to B : set rT.                                   
                          funS f  is a proof of  set_fun A B f             
      {oinv aT &gt;-&gt; rT} == type of functions with a partial inverse         
     {oinvfun A &gt;-&gt; B} == combination of {fun A &gt;-&gt; B} and                 
                          {oinv aT &gt;-&gt; rT}                                 
       {inv aT &gt;-&gt; rT} == type of functions with an inverse                
                 f ^-1 == inverse of f : {inv aT &gt;-&gt; rT}                   
      {invfun A &gt;-&gt; B} == combination of {fun A &gt;-&gt; B} and {inv aT &gt;-&gt; rT} 
        {surj A &gt;-&gt; B} == type of surjective functions                     
     {surjfun A &gt;-&gt; B} == combination of {fun A &gt;-&gt; B} and {surj A &gt;-&gt; B}  
   {splitsurj A &gt;-&gt; B} == type of surjective functions with an inverse     
{splitsurjfun A &gt;-&gt; B} == combination of {fun A &gt;-&gt; B} and                 
                          {splitsurj A &gt;-&gt; B}                              
        {inj A &gt;-&gt; rT} == type of injective functions                      
      {injfun A &gt;-&gt; B} == combination of {fun A &gt;-&gt; B} and {inj A &gt;-&gt; rT}  
    {splitinj A &gt;-&gt; B} == type of injective functions with an inverse      
 {splitinjfun A &gt;-&gt; B} == combination of {fun A &gt;-&gt; B} and                 
                          {splitinj A &gt;-&gt; B}                               
         {bij A &gt;-&gt; B} == combination of {injfun A &gt;-&gt; B} and              
                          {surjfun A &gt;-&gt; B}                                
    {splitbij A &gt;-&gt; B} == combination of {splitinj A &gt;-&gt; B} and            
                          {splitsurj A &gt;-&gt; B}                              
               'inj_ f == proof of {in A &amp;, injective f} where f has type  
                          {splitinj A &gt;-&gt; _}                               
```                                                                        
                                                                           
```                                                                        
             funin A f == alias for f : aT -&gt; rT, with A : set aT          
            [fun f in A] == the function f from the set A to the set f @` A
           'split_ d f == partial injection from aT : Type to rt : Type;   
                          f : aT -&gt; rT, d : rT -&gt; aT                       
                 split := 'split_point                                     
            @to_setT T == function that associates to x : T a dependent    
                          pair of x with a proof that x belongs to setT    
                          (i.e., the type set_type [set: T])               
               incl AB == identity function from T to T, where AB is a     
                          proof of A `&lt;=` B, with A, B : set T             
               inclT A := incl (@subsetT _ _)                              
             eqincl AB == identity function from T to T, where AB is a     
                          proof of A = B, with A, B : set T                
             mkfun fAB == builds a function {fun A &gt;-&gt; B} given a function 
                          f : aT -&gt; rT and a proof fAB that                
                          {homo f : x / A x &gt;-&gt; B x}                       
          @set_val T A == injection from set_type A to T, where A has      
                          type set T                                       
            @ssquash T == function of type                                 
                          {splitsurj [set: T] &gt;-&gt; [set: $| T |]}           
       @finset_val T X == function that turns an element x : X             
                          (with X : {fset T}) into a dependent pair of x   
                          with a proof that x belongs to X                 
                          (i.e., the type set_type [set` X])               
       @val_finset T X == function of type [set` X] -&gt; X with X : {fset T} 
                          that cancels finset_val                          
        glue XY AB f g == function that behaves as f over X, as g over Y   
                          XY is a proof that sets X and Y are disjoint,    
                          AB is a proof that sets A and B are disjoint,    
                          A and B are intended to be the ranges of f and g 
          'pinv_ d A f == inverse of the function [fun f in A] over        
                          f @` A, function d outside of f @` A             
                 pinv := notation for 'pinv_point                          
```                                                                        
                                                                           
## Function restriction                                                    
```                                                                        
           patch d A f == "partial function" that behaves as the function  
                          f over the set A and as the function d otherwise 
          restrict D f := patch (fun=&gt; point) D f                          
                f \_ D := restrict D f                                     
              sigL A f == "left restriction"; given a set A : set U and a  
                          function f : U -&gt; V, returns the corresponding   
                          function of type set_type A -&gt; V                 
              sigR A f == "right restriction"; given a set B : set V and a 
                          function f : {fun [set: U] &gt;-&gt; B}, returns the   
                          corresponding function of type U -&gt; set_type B   
           sigLR A B f == the function of type set_type A -&gt; set_type B    
                          corresponding to f : {fun A &gt;-&gt; B}               
               valL_ v == function cancelled by sigL A, with A : set U and 
                          v : V                                            
                valR f == the function of type U -&gt; V corresponding to     
                          f : U -&gt; set_type B, with B : set V              
              valR_fun == the function of type {fun [set: U] &gt;-&gt; B}        
                          corresponding to f : U -&gt; set_type B, with       
                          B : set V                                        
             valLR v f == the function of type U -&gt; V corresponding to     
                          f : set_type A -&gt; set_type B (where v : V),      
                          i.e., 'valL_ v \o valR_fun                       
      valLfun_ v A B f := [fun of valL_ f] with f : {fun [set: A] &gt;-&gt; B}   
                  valL := 'valL_ point                                     
            valLRfun v := 'valLfun_ v \o valR_fun                          
```                                                                        
                                                                           
```                                                                        
Section function_space == canonical ringType and lmodType                  
                          structures for functions whose range is          
                          a ringType, comRingType, or lmodType.            
                  fctE == multi-rule for fct                               
```                                                                        
                                                                           
</div>
<br/>
<span class="gallina-kwd">Set</span> <span class="vernacular">Implicit</span> <span class="vernacular">Arguments</span>.<br/>
<span class="id">Unset</span> <span class="id">Strict</span> <span class="vernacular">Implicit</span>.<br/>
<span class="id">Unset</span> <span class="id">Printing</span> <span class="vernacular">Implicit</span> <span class="id">Defensive</span>.<br/>
<br/>
<span class="vernacular">Reserved</span> <span class="vernacular">Notation</span> <span class="id">"f&nbsp;\_&nbsp;D"</span> (<span class="gallina-kwd">at</span> <span class="id">level</span> <span class="id">10</span>).<br/>
<span class="vernacular">Reserved</span> <span class="vernacular">Notation</span> <span class="id">"'{'&nbsp;'fun'&nbsp;A&nbsp;'&gt;-&gt;'&nbsp;B&nbsp;'}'"</span><br/>
&nbsp;&nbsp;(<span class="id">format</span> <span class="id">"'{'&nbsp;'fun'&nbsp;&nbsp;A&nbsp;&nbsp;'&gt;-&gt;'&nbsp;&nbsp;B&nbsp;'}'"</span>).<br/>
<span class="vernacular">Reserved</span> <span class="vernacular">Notation</span> <span class="id">"'{'&nbsp;'oinv'&nbsp;T&nbsp;'&gt;-&gt;'&nbsp;U&nbsp;'}'"</span><br/>
&nbsp;&nbsp;(<span class="id">format</span> <span class="id">"'{'&nbsp;'oinv'&nbsp;&nbsp;T&nbsp;&nbsp;'&gt;-&gt;'&nbsp;&nbsp;U&nbsp;'}'"</span>).<br/>
<span class="vernacular">Reserved</span> <span class="vernacular">Notation</span> <span class="id">"'{'&nbsp;'inv'&nbsp;T&nbsp;'&gt;-&gt;'&nbsp;U&nbsp;'}'"</span><br/>
&nbsp;&nbsp;(<span class="id">format</span> <span class="id">"'{'&nbsp;'inv'&nbsp;&nbsp;T&nbsp;&nbsp;'&gt;-&gt;'&nbsp;&nbsp;U&nbsp;'}'"</span>).<br/>
<span class="vernacular">Reserved</span> <span class="vernacular">Notation</span> <span class="id">"'{'&nbsp;'oinvfun'&nbsp;T&nbsp;'&gt;-&gt;'&nbsp;U&nbsp;'}'"</span><br/>
&nbsp;&nbsp;(<span class="id">format</span> <span class="id">"'{'&nbsp;'oinvfun'&nbsp;&nbsp;T&nbsp;&nbsp;'&gt;-&gt;'&nbsp;&nbsp;U&nbsp;'}'"</span>).<br/>
<span class="vernacular">Reserved</span> <span class="vernacular">Notation</span> <span class="id">"'{'&nbsp;'invfun'&nbsp;T&nbsp;'&gt;-&gt;'&nbsp;U&nbsp;'}'"</span><br/>
&nbsp;&nbsp;(<span class="id">format</span> <span class="id">"'{'&nbsp;'invfun'&nbsp;&nbsp;T&nbsp;&nbsp;'&gt;-&gt;'&nbsp;&nbsp;U&nbsp;'}'"</span>).<br/>
<span class="vernacular">Reserved</span> <span class="vernacular">Notation</span> <span class="id">"'{'&nbsp;'inj'&nbsp;A&nbsp;'&gt;-&gt;'&nbsp;T&nbsp;'}'"</span><br/>
&nbsp;&nbsp;(<span class="id">format</span> <span class="id">"'{'&nbsp;'inj'&nbsp;&nbsp;A&nbsp;&nbsp;'&gt;-&gt;'&nbsp;&nbsp;T&nbsp;'}'"</span>).<br/>
<span class="vernacular">Reserved</span> <span class="vernacular">Notation</span> <span class="id">"'{'&nbsp;'splitinj'&nbsp;A&nbsp;'&gt;-&gt;'&nbsp;T&nbsp;'}'"</span><br/>
&nbsp;&nbsp;(<span class="id">format</span> <span class="id">"'{'&nbsp;'splitinj'&nbsp;&nbsp;A&nbsp;&nbsp;'&gt;-&gt;'&nbsp;&nbsp;T&nbsp;'}'"</span>).<br/>
<span class="vernacular">Reserved</span> <span class="vernacular">Notation</span> <span class="id">"'{'&nbsp;'surj'&nbsp;A&nbsp;'&gt;-&gt;'&nbsp;B&nbsp;'}'"</span><br/>
&nbsp;&nbsp;(<span class="id">format</span> <span class="id">"'{'&nbsp;'surj'&nbsp;&nbsp;A&nbsp;&nbsp;'&gt;-&gt;'&nbsp;&nbsp;B&nbsp;'}'"</span>).<br/>
<span class="vernacular">Reserved</span> <span class="vernacular">Notation</span> <span class="id">"'{'&nbsp;'splitsurj'&nbsp;A&nbsp;'&gt;-&gt;'&nbsp;B&nbsp;'}'"</span><br/>
&nbsp;&nbsp;(<span class="id">format</span> <span class="id">"'{'&nbsp;'splitsurj'&nbsp;&nbsp;A&nbsp;&nbsp;'&gt;-&gt;'&nbsp;&nbsp;B&nbsp;'}'"</span>).<br/>
<span class="vernacular">Reserved</span> <span class="vernacular">Notation</span> <span class="id">"'{'&nbsp;'injfun'&nbsp;A&nbsp;'&gt;-&gt;'&nbsp;B&nbsp;'}'"</span><br/>
&nbsp;&nbsp;(<span class="id">format</span> <span class="id">"'{'&nbsp;'injfun'&nbsp;&nbsp;A&nbsp;&nbsp;'&gt;-&gt;'&nbsp;&nbsp;B&nbsp;'}'"</span>).<br/>
<span class="vernacular">Reserved</span> <span class="vernacular">Notation</span> <span class="id">"'{'&nbsp;'surjfun'&nbsp;A&nbsp;'&gt;-&gt;'&nbsp;B&nbsp;'}'"</span><br/>
&nbsp;&nbsp;(<span class="id">format</span> <span class="id">"'{'&nbsp;'surjfun'&nbsp;&nbsp;A&nbsp;&nbsp;'&gt;-&gt;'&nbsp;&nbsp;B&nbsp;'}'"</span>).<br/>
<span class="vernacular">Reserved</span> <span class="vernacular">Notation</span> <span class="id">"'{'&nbsp;'splitinjfun'&nbsp;A&nbsp;'&gt;-&gt;'&nbsp;B&nbsp;'}'"</span><br/>
&nbsp;&nbsp;(<span class="id">format</span> <span class="id">"'{'&nbsp;'splitinjfun'&nbsp;&nbsp;A&nbsp;&nbsp;'&gt;-&gt;'&nbsp;&nbsp;B&nbsp;'}'"</span>).<br/>
<span class="vernacular">Reserved</span> <span class="vernacular">Notation</span> <span class="id">"'{'&nbsp;'splitsurjfun'&nbsp;A&nbsp;'&gt;-&gt;'&nbsp;B&nbsp;'}'"</span><br/>
&nbsp;&nbsp;(<span class="id">format</span> <span class="id">"'{'&nbsp;'splitsurjfun'&nbsp;&nbsp;A&nbsp;&nbsp;'&gt;-&gt;'&nbsp;&nbsp;B&nbsp;'}'"</span>).<br/>
<span class="vernacular">Reserved</span> <span class="vernacular">Notation</span> <span class="id">"'{'&nbsp;'bij'&nbsp;A&nbsp;'&gt;-&gt;'&nbsp;B&nbsp;'}'"</span><br/>
&nbsp;&nbsp;(<span class="id">format</span> <span class="id">"'{'&nbsp;'bij'&nbsp;&nbsp;A&nbsp;&nbsp;'&gt;-&gt;'&nbsp;&nbsp;B&nbsp;'}'"</span>).<br/>
<span class="vernacular">Reserved</span> <span class="vernacular">Notation</span> <span class="id">"'{'&nbsp;'splitbij'&nbsp;A&nbsp;'&gt;-&gt;'&nbsp;B&nbsp;'}'"</span><br/>
&nbsp;&nbsp;(<span class="id">format</span> <span class="id">"'{'&nbsp;'splitbij'&nbsp;&nbsp;A&nbsp;&nbsp;'&gt;-&gt;'&nbsp;&nbsp;B&nbsp;'}'"</span>).<br/>
<br/>
<span class="vernacular">Reserved</span> <span class="vernacular">Notation</span> <span class="id">"[&nbsp;'fun'&nbsp;'of'&nbsp;f&nbsp;]"&nbsp;(format&nbsp;"[&nbsp;'fun'&nbsp;&nbsp;'of'&nbsp;&nbsp;f&nbsp;]"</span>).<br/>
<span class="vernacular">Reserved</span> <span class="vernacular">Notation</span> <span class="id">"[&nbsp;'oinv'&nbsp;'of'&nbsp;f&nbsp;]"&nbsp;(format&nbsp;"[&nbsp;'oinv'&nbsp;&nbsp;'of'&nbsp;&nbsp;f&nbsp;]"</span>).<br/>
<span class="vernacular">Reserved</span> <span class="vernacular">Notation</span> <span class="id">"[&nbsp;'inv'&nbsp;'of'&nbsp;f&nbsp;]"&nbsp;(format&nbsp;"[&nbsp;'inv'&nbsp;&nbsp;'of'&nbsp;&nbsp;f&nbsp;]"</span>).<br/>
<span class="vernacular">Reserved</span> <span class="vernacular">Notation</span> <span class="id">"[&nbsp;'oinv'&nbsp;'of'&nbsp;f&nbsp;]"&nbsp;(format&nbsp;"[&nbsp;'oinv'&nbsp;&nbsp;'of'&nbsp;&nbsp;f&nbsp;]"</span>).<br/>
<span class="vernacular">Reserved</span> <span class="vernacular">Notation</span> <span class="id">"[&nbsp;'inv'&nbsp;'of'&nbsp;f&nbsp;]"&nbsp;(format&nbsp;"[&nbsp;'inv'&nbsp;&nbsp;'of'&nbsp;&nbsp;f&nbsp;]"</span>).<br/>
<span class="vernacular">Reserved</span> <span class="vernacular">Notation</span> <span class="id">"[&nbsp;'inj'&nbsp;'of'&nbsp;f&nbsp;]"&nbsp;(format&nbsp;"[&nbsp;'inj'&nbsp;&nbsp;'of'&nbsp;&nbsp;f&nbsp;]"</span>).<br/>
<span class="vernacular">Reserved</span> <span class="vernacular">Notation</span> <span class="id">"[&nbsp;'splitinj'&nbsp;'of'&nbsp;f&nbsp;]"&nbsp;(format&nbsp;"[&nbsp;'splitinj'&nbsp;&nbsp;'of'&nbsp;&nbsp;f&nbsp;]"</span>).<br/>
<span class="vernacular">Reserved</span> <span class="vernacular">Notation</span> <span class="id">"[&nbsp;'surj'&nbsp;'of'&nbsp;f&nbsp;]"&nbsp;(format&nbsp;"[&nbsp;'surj'&nbsp;&nbsp;'of'&nbsp;&nbsp;f&nbsp;]"</span>).<br/>
<span class="vernacular">Reserved</span> <span class="vernacular">Notation</span> <span class="id">"[&nbsp;'splitsurj'&nbsp;'of'&nbsp;f&nbsp;]"&nbsp;(format&nbsp;"[&nbsp;'splitsurj'&nbsp;&nbsp;'of'&nbsp;&nbsp;f&nbsp;]"</span>).<br/>
<span class="vernacular">Reserved</span> <span class="vernacular">Notation</span> <span class="id">"[&nbsp;'injfun'&nbsp;'of'&nbsp;f&nbsp;]"&nbsp;(format&nbsp;"[&nbsp;'injfun'&nbsp;&nbsp;'of'&nbsp;&nbsp;f&nbsp;]"</span>).<br/>
<span class="vernacular">Reserved</span> <span class="vernacular">Notation</span> <span class="id">"[&nbsp;'surjfun'&nbsp;'of'&nbsp;f&nbsp;]"&nbsp;(format&nbsp;"[&nbsp;'surjfun'&nbsp;&nbsp;'of'&nbsp;&nbsp;f&nbsp;]"</span>).<br/>
<span class="vernacular">Reserved</span> <span class="vernacular">Notation</span> <span class="id">"[&nbsp;'splitinjfun'&nbsp;'of'&nbsp;f&nbsp;]"</span><br/>
&nbsp;&nbsp;(<span class="id">format</span> <span class="id">"[&nbsp;'splitinjfun'&nbsp;&nbsp;'of'&nbsp;&nbsp;f&nbsp;]"</span>).<br/>
<span class="vernacular">Reserved</span> <span class="vernacular">Notation</span> <span class="id">"[&nbsp;'splitsurjfun'&nbsp;'of'&nbsp;f&nbsp;]"</span><br/>
&nbsp;&nbsp;(<span class="id">format</span> <span class="id">"[&nbsp;'splitsurjfun'&nbsp;&nbsp;'of'&nbsp;&nbsp;f&nbsp;]"</span>).<br/>
<span class="vernacular">Reserved</span> <span class="vernacular">Notation</span> <span class="id">"[&nbsp;'bij'&nbsp;'of'&nbsp;f&nbsp;]"&nbsp;(format&nbsp;"[&nbsp;'bij'&nbsp;&nbsp;'of'&nbsp;&nbsp;f&nbsp;]"</span>).<br/>
<span class="vernacular">Reserved</span> <span class="vernacular">Notation</span> <span class="id">"[&nbsp;'splitbij'&nbsp;'of'&nbsp;f&nbsp;]"&nbsp;(format&nbsp;"[&nbsp;'splitbij'&nbsp;&nbsp;'of'&nbsp;&nbsp;f&nbsp;]"</span>).<br/>
<br/>
<span class="vernacular">Reserved</span> <span class="vernacular">Notation</span> <span class="id">"''oinv_'&nbsp;f"&nbsp;(at&nbsp;level&nbsp;8,&nbsp;f&nbsp;at&nbsp;level&nbsp;2,&nbsp;format&nbsp;"''oinv_'&nbsp;f"</span>).<br/>
<span class="vernacular">Reserved</span> <span class="vernacular">Notation</span> <span class="id">"''funS_'&nbsp;f"&nbsp;(at&nbsp;level&nbsp;8,&nbsp;f&nbsp;at&nbsp;level&nbsp;2,&nbsp;format&nbsp;"''funS_'&nbsp;f"</span>).<br/>
<span class="vernacular">Reserved</span> <span class="vernacular">Notation</span> <span class="id">"''mem_fun_'&nbsp;f"</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span> <span class="id">level</span> <span class="id">8,</span> <span class="id">f</span> <span class="gallina-kwd">at</span> <span class="id">level</span> <span class="id">2,</span> <span class="id">format</span>  <span class="id">"''mem_fun_'&nbsp;f"</span>).<br/>
<span class="vernacular">Reserved</span> <span class="vernacular">Notation</span> <span class="id">"''oinvK_'&nbsp;f"</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span> <span class="id">level</span> <span class="id">8,</span> <span class="id">f</span> <span class="gallina-kwd">at</span> <span class="id">level</span> <span class="id">2,</span> <span class="id">format</span> <span class="id">"''oinvK_'&nbsp;f"</span>).<br/>
<span class="vernacular">Reserved</span> <span class="vernacular">Notation</span> <span class="id">"''oinvS_'&nbsp;f"</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span> <span class="id">level</span> <span class="id">8,</span> <span class="id">f</span> <span class="gallina-kwd">at</span> <span class="id">level</span> <span class="id">2,</span> <span class="id">format</span> <span class="id">"''oinvS_'&nbsp;f"</span>).<br/>
<span class="vernacular">Reserved</span> <span class="vernacular">Notation</span> <span class="id">"''oinvP_'&nbsp;f"</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span> <span class="id">level</span> <span class="id">8,</span> <span class="id">f</span> <span class="gallina-kwd">at</span> <span class="id">level</span> <span class="id">2,</span> <span class="id">format</span> <span class="id">"''oinvP_'&nbsp;f"</span>).<br/>
<span class="vernacular">Reserved</span> <span class="vernacular">Notation</span> <span class="id">"''oinvT_'&nbsp;f"</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span> <span class="id">level</span> <span class="id">8,</span> <span class="id">f</span> <span class="gallina-kwd">at</span> <span class="id">level</span> <span class="id">2,</span> <span class="id">format</span> <span class="id">"''oinvT_'&nbsp;f"</span>).<br/>
<span class="vernacular">Reserved</span> <span class="vernacular">Notation</span> <span class="id">"''invK_'&nbsp;f"</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span> <span class="id">level</span> <span class="id">8,</span> <span class="id">f</span> <span class="gallina-kwd">at</span> <span class="id">level</span> <span class="id">2,</span> <span class="id">format</span> <span class="id">"''invK_'&nbsp;f"</span>).<br/>
<span class="vernacular">Reserved</span> <span class="vernacular">Notation</span> <span class="id">"''invS_'&nbsp;f"</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span> <span class="id">level</span> <span class="id">8,</span> <span class="id">f</span> <span class="gallina-kwd">at</span> <span class="id">level</span> <span class="id">2,</span> <span class="id">format</span> <span class="id">"''invS_'&nbsp;f"</span>).<br/>
<span class="vernacular">Reserved</span> <span class="vernacular">Notation</span> <span class="id">"''funoK_'&nbsp;f"</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span> <span class="id">level</span> <span class="id">8,</span> <span class="id">f</span> <span class="gallina-kwd">at</span> <span class="id">level</span> <span class="id">2,</span> <span class="id">format</span> <span class="id">"''funoK_'&nbsp;f"</span>).<br/>
<span class="vernacular">Reserved</span> <span class="vernacular">Notation</span> <span class="id">"''inj_'&nbsp;f"</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span> <span class="id">level</span> <span class="id">8,</span> <span class="id">f</span> <span class="gallina-kwd">at</span> <span class="id">level</span> <span class="id">2,</span> <span class="id">format</span> <span class="id">"''inj_'&nbsp;f"</span>).<br/>
<span class="vernacular">Reserved</span> <span class="vernacular">Notation</span> <span class="id">"''funK_'&nbsp;f"</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span> <span class="id">level</span> <span class="id">8,</span> <span class="id">f</span> <span class="gallina-kwd">at</span> <span class="id">level</span> <span class="id">2,</span> <span class="id">format</span> <span class="id">"''funK_'&nbsp;f"</span>).<br/>
<span class="vernacular">Reserved</span> <span class="vernacular">Notation</span> <span class="id">"''totalfun_'&nbsp;A"</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span> <span class="id">level</span> <span class="id">8,</span> <span class="id">A</span> <span class="gallina-kwd">at</span> <span class="id">level</span> <span class="id">2,</span> <span class="id">format</span> <span class="id">"''totalfun_'&nbsp;A"</span>).<br/>
<span class="vernacular">Reserved</span> <span class="vernacular">Notation</span> <span class="id">"''surj_'&nbsp;f"</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span> <span class="id">level</span> <span class="id">8,</span> <span class="id">f</span> <span class="gallina-kwd">at</span> <span class="id">level</span> <span class="id">2,</span> <span class="id">format</span> <span class="id">"''surj_'&nbsp;f"</span>).<br/>
<span class="vernacular">Reserved</span> <span class="vernacular">Notation</span> <span class="id">"''split_'&nbsp;a"</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span> <span class="id">level</span> <span class="id">8,</span> <span class="id">a</span> <span class="gallina-kwd">at</span> <span class="id">level</span> <span class="id">2,</span> <span class="id">format</span> <span class="id">"''split_'&nbsp;a"</span>).<br/>
<span class="vernacular">Reserved</span> <span class="vernacular">Notation</span> <span class="id">"''bijTT_'&nbsp;&nbsp;f"</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span> <span class="id">level</span> <span class="id">8,</span> <span class="id">f</span> <span class="gallina-kwd">at</span> <span class="id">level</span> <span class="id">2,</span> <span class="id">format</span> <span class="id">"''bijTT_'&nbsp;f"</span>).<br/>
<span class="vernacular">Reserved</span> <span class="vernacular">Notation</span> <span class="id">"''bij_'&nbsp;f"&nbsp;(at&nbsp;level&nbsp;8,&nbsp;f&nbsp;at&nbsp;level&nbsp;2,&nbsp;format&nbsp;"''bij_'&nbsp;f"</span>).<br/>
<span class="vernacular">Reserved</span> <span class="vernacular">Notation</span> <span class="id">"''valL_'&nbsp;v"&nbsp;(at&nbsp;level&nbsp;8,&nbsp;v&nbsp;at&nbsp;level&nbsp;2,&nbsp;format&nbsp;"''valL_'&nbsp;v"</span>).<br/>
<span class="vernacular">Reserved</span> <span class="vernacular">Notation</span> <span class="id">"''valLfun_'&nbsp;v"</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span> <span class="id">level</span> <span class="id">8,</span> <span class="id">v</span> <span class="gallina-kwd">at</span> <span class="id">level</span> <span class="id">2,</span> <span class="id">format</span> <span class="id">"''valLfun_'&nbsp;v"</span>).<br/>
<span class="vernacular">Reserved</span> <span class="vernacular">Notation</span> <span class="id">"''pinv_'&nbsp;dflt"</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span> <span class="id">level</span> <span class="id">8,</span> <span class="id">dflt</span> <span class="gallina-kwd">at</span> <span class="id">level</span> <span class="id">2,</span> <span class="id">format</span> <span class="id">"''pinv_'&nbsp;dflt"</span>).<br/>
<span class="vernacular">Reserved</span> <span class="vernacular">Notation</span> <span class="id">"''pPbij_'&nbsp;dflt"</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span> <span class="id">level</span> <span class="id">8,</span> <span class="id">dflt</span> <span class="gallina-kwd">at</span> <span class="id">level</span> <span class="id">2,</span> <span class="id">format</span> <span class="id">"''pPbij_'&nbsp;dflt"</span>).<br/>
<span class="vernacular">Reserved</span> <span class="vernacular">Notation</span> <span class="id">"''pPinj_'&nbsp;dflt"</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span> <span class="id">level</span> <span class="id">8,</span> <span class="id">dflt</span> <span class="gallina-kwd">at</span> <span class="id">level</span> <span class="id">2,</span> <span class="id">format</span> <span class="id">"''pPinj_'&nbsp;dflt"</span>).<br/>
<span class="vernacular">Reserved</span> <span class="vernacular">Notation</span> <span class="id">"''injpPfun_'&nbsp;dflt"</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span> <span class="id">level</span> <span class="id">8,</span> <span class="id">dflt</span> <span class="gallina-kwd">at</span> <span class="id">level</span> <span class="id">2,</span> <span class="id">format</span> <span class="id">"''injpPfun_'&nbsp;dflt"</span>).<br/>
<span class="vernacular">Reserved</span> <span class="vernacular">Notation</span> <span class="id">"''funpPinj_'&nbsp;dflt"</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span> <span class="id">level</span> <span class="id">8,</span> <span class="id">dflt</span> <span class="gallina-kwd">at</span> <span class="id">level</span> <span class="id">2,</span> <span class="id">format</span> <span class="id">"''funpPinj_'&nbsp;dflt"</span>).<br/>
<br/>
<span class="id">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">classical_set_scope</span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="MainProperties" class="id">
  <a name="MainProperties" class="">MainProperties</a>
</span>.<br/>
<span class="vernacular">Context</span> <span class="id">{aT</span> <span id="rT:2" class="id">
  <a name="rT:2" class="">rT}</a>
</span>  (<span id="A:3" class="id">
  <a name="A:3" class="">A</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#aT:1">aT</a></span>) (<span id="B:4" class="id">
  <a name="B:4" class="">B</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:2">rT</a></span>) (<span id="f:5" class="id">
  <a name="f:5" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#aT:1">aT</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:2">rT</a></span>).<br/>
<span class="vernacular">Definition</span> <span id="set_fun" class="id">
  <a name="set_fun" class="">set_fun</a>
</span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_'/'_x_'>->'_x_'}'">{homo</a></span> <span class="id"><a href="mathcomp.classical.functions.html#MainProperties.f">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_'/'_x_'>->'_x_'}'">:</a></span> <span id="x:7" class="id"><span id="x:6" class="id">
  <a name="x:7" class="">x</a>
</span></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_'/'_x_'>->'_x_'}'">/</a></span> <span class="id"><a href="mathcomp.classical.functions.html#MainProperties.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#x:6">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_'/'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#MainProperties.B">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#x:7">x}</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="set_surj" class="id">
  <a name="set_surj" class="">set_surj</a>
</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#MainProperties.B">B</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:x_'`<=`'_x">`&lt;=`</a></span> <span class="id"><a href="mathcomp.classical.functions.html#MainProperties.f">f</a></span> <span class="id">@`</span> <span class="id"><a href="mathcomp.classical.functions.html#MainProperties.A">A</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="set_inj" class="id">
  <a name="set_inj" class="">set_inj</a>
</span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_'&'_','_x_'}'">{in</a></span> <span class="id"><a href="mathcomp.classical.functions.html#MainProperties.A">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_'&'_','_x_'}'">&amp;,</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#injective">injective</a></span> <span class="id"><a href="mathcomp.classical.functions.html#MainProperties.f">f}</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="set_bij" class="id">
  <a name="set_bij" class="">set_bij</a>
</span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'['_'/\'_x_','_x_'&'_x_']'">[/\</a></span> <span class="id"><a href="mathcomp.classical.functions.html#set_fun">set_fun,</a></span> <span class="id"><a href="mathcomp.classical.functions.html#set_inj">set_inj</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'['_'/\'_x_','_x_'&'_x_']'">&amp;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#set_surj">set_surj]</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.classical.functions.html#MainProperties">MainProperties</a></span>.<br/>
<br/>
<span class="id">HB.mixin</span> <span class="vernacular">Record</span> <span class="id">isFun</span> <span class="id">{aT</span> <span id="rT:9" class="id">
  <a name="rT:9" class="">rT}</a>
</span> (<span id="A:10" class="id">
  <a name="A:10" class="">A</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#aT:8">aT</a></span>) (<span id="B:11" class="id">
  <a name="B:11" class="">B</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:9">rT</a></span>) (<span id="f:12" class="id">
  <a name="f:12" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#aT:8">aT</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:9">rT</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id">{</span> <span id="funS:13" class="id">
  <a name="funS:13" class="">funS</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#set_fun">set_fun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:10">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:11">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:12">f</a></span> <span class="id">}</span>.<br/>
<span class="id">HB.structure</span> <span class="vernacular">Definition</span> <span class="id">Fun</span> <span class="id">{aT</span> <span id="rT:20" class="id">
  <a name="rT:20" class="">rT}</a>
</span> (<span id="A:21" class="id">
  <a name="A:21" class="">A</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#aT:19">aT</a></span>) (<span id="B:22" class="id">
  <a name="B:22" class="">B</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:20">rT</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="NOTFOUND the module url for HB.structures#::HB_scope:'{'_x_'of'_x_'&'_'..'_'&'_x_'}'">{</a></span> <span id="f:23" class="id">
  <a name="f:23" class="">f</a>
</span> <span class="id">of</span> <span class="id"><a href="mathcomp.classical.functions.html#isFun">isFun</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#A:21">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:22">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:23">f</a></span> <span class="id"><a href="NOTFOUND the module url for HB.structures#::HB_scope:'{'_x_'of'_x_'&'_'..'_'&'_x_'}'">}</a></span>.<br/>
<span class="vernacular">Notation</span> <span id="::form_scope:'{'_'fun'_x_'>->'_x_'}'" class="id">
  <a name="::form_scope:'{'_'fun'_x_'>->'_x_'}'" class="">"{&nbsp;'fun'&nbsp;A&nbsp;&gt;-&gt;&nbsp;B&nbsp;}"</a>
</span> <span class="id">:=</span> (<span class="id">@Fun</span>.<span class="id">type</span> <span class="id">_</span> <span class="id">_</span> <span class="id">A</span> <span class="id">B</span>) <span class="id">:</span> <span class="id">form_scope</span>.<br/>
<span class="vernacular">Notation</span> <span id="::form_scope:'['_'fun'_'of'_x_']'" class="id">
  <a name="::form_scope:'['_'fun'_'of'_x_']'" class="">"[&nbsp;'fun'&nbsp;&nbsp;'of'&nbsp;&nbsp;f&nbsp;]"</a>
</span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::form_scope:'['_'the'_x_'of'_x_']'">[the</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'{'_'fun'_x_'>->'_x_'}'">{fun</a></span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'{'_'fun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id">_}</span> <span class="id">of</span> <span class="id">f</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id">_]</span> <span class="id">:</span> <span class="id">form_scope</span>.<br/>
<br/>
<span class="id">HB.mixin</span> <span class="vernacular">Record</span> <span class="id">OInv</span> <span class="id">{aT</span> <span id="rT:27" class="id">
  <a name="rT:27" class="">rT}</a>
</span> (<span id="f:28" class="id">
  <a name="f:28" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#aT:26">aT</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:27">rT</a></span>) <span class="id">:=</span> <span class="id">{</span> <span id="oinv:29" class="id">
  <a name="oinv:29" class="">oinv</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#rT:27">rT</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="mathcomp.classical.functions.html#aT:26">aT</a></span> <span class="id">}</span>.<br/>
<span class="id">HB.structure</span> <span class="vernacular">Definition</span> <span class="id">OInversible</span> <span id="aT:33" class="id">
  <a name="aT:33" class="">aT</a>
</span> <span id="rT:34" class="id">
  <a name="rT:34" class="">rT</a>
</span> <span class="id">:=</span> <span class="id"><a href="NOTFOUND the module url for HB.structures#::HB_scope:'{'_x_'of'_x_'&'_'..'_'&'_x_'}'">{f</a></span> <span class="id">of</span> <span class="id"><a href="mathcomp.classical.functions.html#OInv">OInv</a></span> <span class="id"><a href="mathcomp.classical.functions.html#aT:33">aT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:34">rT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:35">f}</a></span>.<br/>
<span class="vernacular">Notation</span> <span id="::type_scope:'{'_'oinv'_x_'>->'_x_'}'" class="id">
  <a name="::type_scope:'{'_'oinv'_x_'>->'_x_'}'" class="">"{&nbsp;'oinv'&nbsp;aT&nbsp;&gt;-&gt;&nbsp;rT&nbsp;}"</a>
</span> <span class="id">:=</span> (<span class="id">@OInversible</span>.<span class="id">type</span> <span class="id">aT</span> <span class="id">rT</span>) <span class="id">:</span> <span class="id">type_scope</span>.<br/>
<span class="vernacular">Notation</span> <span id="::form_scope:'['_'oinv'_'of'_x_']'" class="id">
  <a name="::form_scope:'['_'oinv'_'of'_x_']'" class="">"[&nbsp;'oinv'&nbsp;&nbsp;'of'&nbsp;&nbsp;f&nbsp;]"</a>
</span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::form_scope:'['_'the'_x_'of'_x_']'">[the</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'oinv'_x_'>->'_x_'}'">{oinv</a></span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'oinv'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id">_}</span> <span class="id">of</span> <span class="id">f</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id">_]</span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id">form_scope</span>.<br/>
<span class="vernacular">Definition</span> <span id="phant_oinv" class="id">
  <a name="phant_oinv" class="">phant_oinv</a>
</span> <span id="aT:38" class="id">
  <a name="aT:38" class="">aT</a>
</span> <span id="rT:39" class="id">
  <a name="rT:39" class="">rT</a>
</span> (<span id="f:40" class="id">
  <a name="f:40" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'oinv'_x_'>->'_x_'}'">{oinv</a></span> <span class="id"><a href="mathcomp.classical.functions.html#aT:38">aT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'oinv'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:39">rT}</a></span>)<br/>
&nbsp;&nbsp;<span class="id">of</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#phantom">phantom</a></span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id">_</span>) <span class="id"><a href="mathcomp.classical.functions.html#f:40">f</a></span> <span class="id">:=</span> <span class="id">@oinv</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#f:40">f</a></span>.<br/>
<span class="vernacular">Notation</span> <span id=":::'''oinv_'_x" class="id">
  <a name=":::'''oinv_'_x" class="">"''oinv_'&nbsp;f"</a>
</span> <span class="id">:=</span> (<span class="id">@phant_oinv</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#Phantom">Phantom</a></span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id">_</span>) <span class="id">f%FUN</span>)).<br/>
<br/>
<span class="id">HB.structure</span> <span class="vernacular">Definition</span> <span class="id">OInvFun</span> <span id="aT:41" class="id">
  <a name="aT:41" class="">aT</a>
</span> <span id="rT:42" class="id">
  <a name="rT:42" class="">rT</a>
</span> <span id="A:43" class="id">
  <a name="A:43" class="">A</a>
</span> <span id="B:44" class="id">
  <a name="B:44" class="">B</a>
</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="NOTFOUND the module url for HB.structures#::HB_scope:'{'_x_'of'_x_'&'_'..'_'&'_x_'}'">{f</a></span> <span class="id">of</span> <span class="id"><a href="mathcomp.classical.functions.html#OInv">OInv</a></span> <span class="id"><a href="mathcomp.classical.functions.html#aT:41">aT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:42">rT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:45">f</a></span> <span class="id"><a href="NOTFOUND the module url for HB.structures#::HB_scope:'{'_x_'of'_x_'&'_'..'_'&'_x_'}'">&amp;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#isFun">isFun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#aT:41">aT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:42">rT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:43">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:44">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:45">f}</a></span>.<br/>
<span class="vernacular">Notation</span> <span id="::type_scope:'{'_'oinvfun'_x_'>->'_x_'}'" class="id">
  <a name="::type_scope:'{'_'oinvfun'_x_'>->'_x_'}'" class="">"{&nbsp;'oinvfun'&nbsp;A&nbsp;&gt;-&gt;&nbsp;B&nbsp;}"</a>
</span> <span class="id">:=</span> (<span class="id">@OInvFun</span>.<span class="id">type</span> <span class="id">_</span> <span class="id">_</span> <span class="id">A</span> <span class="id">B</span>) <span class="id">:</span> <span class="id">type_scope</span>.<br/>
<span class="vernacular">Notation</span> <span id="::form_scope:'['_'oinvfun'_'of'_x_']'" class="id">
  <a name="::form_scope:'['_'oinvfun'_'of'_x_']'" class="">"[&nbsp;'oinvfun'&nbsp;&nbsp;'of'&nbsp;&nbsp;f&nbsp;]"</a>
</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::form_scope:'['_'the'_x_'of'_x_']'">[the</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'oinvfun'_x_'>->'_x_'}'">{oinvfun</a></span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'oinvfun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id">_}</span> <span class="id">of</span> <span class="id">f</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id">_]</span> <span class="id">:</span> <span class="id">form_scope</span>.<br/>
<br/>
<span class="id">HB.mixin</span> <span class="vernacular">Record</span> <span class="id">OInv_Inv</span> <span class="id">{aT</span> <span id="rT:49" class="id">
  <a name="rT:49" class="">rT}</a>
</span> (<span id="f:50" class="id">
  <a name="f:50" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#aT:48">aT</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:49">rT</a></span>) <span class="id">of</span> <span class="id"><a href="mathcomp.classical.functions.html#OInv">OInv</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#f:50">f</a></span> <span class="id">:=</span> <span class="id">{</span><br/>
&nbsp;&nbsp;<span id="inv:51" class="id">
  <a name="inv:51" class="">inv</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#rT:49">rT</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#aT:48">aT;</a></span><br/>
&nbsp;&nbsp;<span id="oliftV:52" class="id">
  <a name="oliftV:52" class="">oliftV</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.mathcomp_extra.html#olift">olift</a></span> <span class="id"><a href="mathcomp.classical.functions.html#inv:51">inv</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.classical.functions.html#:::'''oinv_'_x">'oinv_f</a></span><br/>
<span class="id">}</span>.<br/>
<br/>
<span class="id">HB.factory</span> <span class="vernacular">Record</span> <span class="id">Inv</span> <span class="id">{aT</span> <span id="rT:57" class="id">
  <a name="rT:57" class="">rT}</a>
</span> (<span id="f:58" class="id">
  <a name="f:58" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#aT:56">aT</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:57">rT</a></span>) <span class="id">:=</span> <span class="id">{</span> <span id="inv:59" class="id">
  <a name="inv:59" class="">inv</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#rT:57">rT</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#aT:56">aT</a></span>  <span class="id">}</span>.<br/>
<span class="id">HB.builders</span> <span class="vernacular">Context</span> <span class="id">{aT</span> <span id="rT:64" class="id">
  <a name="rT:64" class="">rT}</a>
</span> (<span id="f:65" class="id">
  <a name="f:65" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#aT:63">aT</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:64">rT</a></span>) <span class="id">of</span> <span class="id"><a href="mathcomp.classical.functions.html#Inv">Inv</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#f:65">f</a></span>.<br/>
&nbsp;&nbsp;<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#OInv.Build">OInv.Build</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_16.Builders_16.f">f</a></span> (<span class="id"><a href="mathcomp.classical.mathcomp_extra.html#olift">olift</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_16.inv">inv</a></span>).<br/>
&nbsp;&nbsp;<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#OInv_Inv.Build">OInv_Inv.Build</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_16.Builders_16.f">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#erefl">erefl</a></span>.<br/>
<span class="id">HB.end</span>.<br/>
<br/>
<span class="id">HB.structure</span> <span class="vernacular">Definition</span> <span class="id">Inversible</span> <span id="aT:69" class="id">
  <a name="aT:69" class="">aT</a>
</span> <span id="rT:70" class="id">
  <a name="rT:70" class="">rT</a>
</span> <span class="id">:=</span> <span class="id"><a href="NOTFOUND the module url for HB.structures#::HB_scope:'{'_x_'of'_x_'&'_'..'_'&'_x_'}'">{f</a></span> <span class="id">of</span> <span class="id"><a href="mathcomp.classical.functions.html#Inv">Inv</a></span> <span class="id"><a href="mathcomp.classical.functions.html#aT:69">aT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:70">rT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:71">f}</a></span>.<br/>
<span class="vernacular">Notation</span> <span id="::type_scope:'{'_'inv'_x_'>->'_x_'}'" class="id">
  <a name="::type_scope:'{'_'inv'_x_'>->'_x_'}'" class="">"{&nbsp;'inv'&nbsp;aT&nbsp;&gt;-&gt;&nbsp;&nbsp;rT&nbsp;}"</a>
</span> <span class="id">:=</span> (<span class="id">@Inversible</span>.<span class="id">type</span> <span class="id">aT</span> <span class="id">rT</span>) <span class="id">:</span> <span class="id">type_scope</span>.<br/>
<span class="vernacular">Notation</span> <span id="::form_scope:'['_'inv'_'of'_x_']'" class="id">
  <a name="::form_scope:'['_'inv'_'of'_x_']'" class="">"[&nbsp;'inv'&nbsp;&nbsp;'of'&nbsp;&nbsp;f&nbsp;]"</a>
</span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::form_scope:'['_'the'_x_'of'_x_']'">[the</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'inv'_x_'>->'_x_'}'">{inv</a></span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'inv'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id">_}</span> <span class="id">of</span> <span class="id">f</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id">_]</span> <span class="id">:</span> <span class="id">form_scope</span>.<br/>
<span class="vernacular">Definition</span> <span id="phant_inv" class="id">
  <a name="phant_inv" class="">phant_inv</a>
</span> <span id="aT:74" class="id">
  <a name="aT:74" class="">aT</a>
</span> <span id="rT:75" class="id">
  <a name="rT:75" class="">rT</a>
</span> (<span id="f:76" class="id">
  <a name="f:76" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'inv'_x_'>->'_x_'}'">{inv</a></span> <span class="id"><a href="mathcomp.classical.functions.html#aT:74">aT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'inv'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:75">rT}</a></span>) <span class="id">of</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#phantom">phantom</a></span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id">_</span>) <span class="id"><a href="mathcomp.classical.functions.html#f:76">f</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id">@inv</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#f:76">f</a></span>.<br/>
<span class="vernacular">Notation</span> <span id="::fun_scope:x_'^-1'" class="id">
  <a name="::fun_scope:x_'^-1'" class="">"f&nbsp;^-1"</a>
</span> <span class="id">:=</span> (<span class="id">@inv</span> <span class="id">_</span> <span class="id">_</span> <span class="id">f%FUN</span>) (<span class="id">only</span> <span class="id">printing</span>) <span class="id">:</span> <span class="id">fun_scope</span>.<br/>
<span class="vernacular">Notation</span> <span id="::function_scope:x_'^-1'" class="id">
  <a name="::function_scope:x_'^-1'" class="">"f&nbsp;^-1"</a>
</span> <span class="id">:=</span> (<span class="id">@inv</span> <span class="id">_</span> <span class="id">_</span> <span class="id">f%function</span>) (<span class="id">only</span> <span class="id">printing</span>) <span class="id">:</span> <span class="id">function_scope</span>.<br/>
<span class="vernacular">Notation</span> <span id="::fun_scope:x_'^-1'" class="id">
  <a name="::fun_scope:x_'^-1'" class="">"f&nbsp;^-1"</a>
</span> <span class="id">:=</span> (<span class="id">@phant_inv</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#Phantom">Phantom</a></span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id">_</span>) <span class="id">f%FUN</span>)) <span class="id">:</span> <span class="id">fun_scope</span>.<br/>
<span class="vernacular">Notation</span> <span id="::function_scope:x_'^-1'" class="id">
  <a name="::function_scope:x_'^-1'" class="">"f&nbsp;^-1"</a>
</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;(<span class="id">@phant_inv</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#Phantom">Phantom</a></span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id">_</span>) <span class="id">f%function</span>)) <span class="id">:</span> <span class="id">function_scope</span>.<br/>
<br/>
<span class="id">HB.structure</span> <span class="vernacular">Definition</span> <span class="id">InvFun</span> <span id="aT:77" class="id">
  <a name="aT:77" class="">aT</a>
</span> <span id="rT:78" class="id">
  <a name="rT:78" class="">rT</a>
</span> <span id="A:79" class="id">
  <a name="A:79" class="">A</a>
</span> <span id="B:80" class="id">
  <a name="B:80" class="">B</a>
</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="NOTFOUND the module url for HB.structures#::HB_scope:'{'_x_'of'_x_'&'_'..'_'&'_x_'}'">{f</a></span> <span class="id">of</span> <span class="id"><a href="mathcomp.classical.functions.html#Inv">Inv</a></span> <span class="id"><a href="mathcomp.classical.functions.html#aT:77">aT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:78">rT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:81">f</a></span> <span class="id"><a href="NOTFOUND the module url for HB.structures#::HB_scope:'{'_x_'of'_x_'&'_'..'_'&'_x_'}'">&amp;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#isFun">isFun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#aT:77">aT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:78">rT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:79">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:80">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:81">f}</a></span>.<br/>
<span class="vernacular">Notation</span> <span id="::type_scope:'{'_'invfun'_x_'>->'_x_'}'" class="id">
  <a name="::type_scope:'{'_'invfun'_x_'>->'_x_'}'" class="">"{&nbsp;'invfun'&nbsp;A&nbsp;&gt;-&gt;&nbsp;B&nbsp;}"</a>
</span> <span class="id">:=</span> (<span class="id">@InvFun</span>.<span class="id">type</span> <span class="id">_</span> <span class="id">_</span> <span class="id">A</span> <span class="id">B</span>) <span class="id">:</span> <span class="id">type_scope</span>.<br/>
<span class="vernacular">Notation</span> <span id="::form_scope:'['_'invfun'_'of'_x_']'" class="id">
  <a name="::form_scope:'['_'invfun'_'of'_x_']'" class="">"[&nbsp;'invfun'&nbsp;&nbsp;'of'&nbsp;&nbsp;f&nbsp;]"</a>
</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::form_scope:'['_'the'_x_'of'_x_']'">[the</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'invfun'_x_'>->'_x_'}'">{invfun</a></span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'invfun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id">_}</span> <span class="id">of</span> <span class="id">f</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id">_]</span> <span class="id">:</span> <span class="id">form_scope</span>.<br/>
<br/>
<span class="id">HB.mixin</span> <span class="vernacular">Record</span> <span class="id">OInv_CanV</span> <span class="id">{aT</span> <span id="rT:85" class="id">
  <a name="rT:85" class="">rT}</a>
</span> <span class="id">{A</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#aT:84">aT}</a></span> <span class="id">{B</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:85">rT}</a></span><br/>
&nbsp;&nbsp;(<span id="f:88" class="id">
  <a name="f:88" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#aT:84">aT</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:85">rT</a></span>) <span class="id">of</span> <span class="id"><a href="mathcomp.classical.functions.html#OInv">OInv</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#f:88">f</a></span> <span class="id">:=</span> <span class="id">{</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span id="oinvS:91" class="id">
  <a name="oinvS:91" class="">oinvS</a>
</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_'/'_x_'>->'_x_'}'">{homo</a></span> <span class="id"><a href="mathcomp.classical.functions.html#:::'''oinv_'_x">'oinv_f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_'/'_x_'>->'_x_'}'">:</a></span> <span id="x:90" class="id"><span id="x:89" class="id">
  <a name="x:90" class="">x</a>
</span></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_'/'_x_'>->'_x_'}'">/</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:87">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#x:89">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_'/'_x_'>->'_x_'}'">&gt;-&gt;</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#some">some</a></span> <span class="id">@`</span> <span class="id"><a href="mathcomp.classical.functions.html#A:86">A</a></span>) <span class="id"><a href="mathcomp.classical.functions.html#x:90">x};</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span id="oinvK:92" class="id">
  <a name="oinvK:92" class="">oinvK</a>
</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_','_x_'}'">{in</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:87">B,</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#ocancel">ocancel</a></span> <span class="id"><a href="mathcomp.classical.functions.html#:::'''oinv_'_x">'oinv_f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:88">f};</a></span><br/>
&nbsp;&nbsp;<span class="id">}</span>.<br/>
<br/>
<span class="id">HB.factory</span> <span class="vernacular">Record</span> <span class="id">OCanV</span> <span class="id">{aT</span> <span id="rT:99" class="id">
  <a name="rT:99" class="">rT}</a>
</span> <span class="id">{A</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#aT:98">aT}</a></span> <span class="id">{B</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:99">rT}</a></span> (<span id="f:102" class="id">
  <a name="f:102" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#aT:98">aT</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:99">rT</a></span>) <span class="id">:=</span> <span class="id">{</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span id="oinv:103" class="id">
  <a name="oinv:103" class="">oinv;</a>
</span> <span id="oinvS:106" class="id">
  <a name="oinvS:106" class="">oinvS</a>
</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_'/'_x_'>->'_x_'}'">{homo</a></span> <span class="id"><a href="mathcomp.classical.functions.html#oinv:103">oinv</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_'/'_x_'>->'_x_'}'">:</a></span> <span id="x:105" class="id"><span id="x:104" class="id">
  <a name="x:105" class="">x</a>
</span></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_'/'_x_'>->'_x_'}'">/</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:101">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#x:104">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_'/'_x_'>->'_x_'}'">&gt;-&gt;</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#some">some</a></span> <span class="id">@`</span> <span class="id"><a href="mathcomp.classical.functions.html#A:100">A</a></span>) <span class="id"><a href="mathcomp.classical.functions.html#x:105">x};</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span id="oinvK:107" class="id">
  <a name="oinvK:107" class="">oinvK</a>
</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_','_x_'}'">{in</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:101">B,</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#ocancel">ocancel</a></span> <span class="id"><a href="mathcomp.classical.functions.html#oinv:103">oinv</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:102">f};</a></span><br/>
&nbsp;&nbsp;<span class="id">}</span>.<br/>
<span class="id">HB.builders</span> <span class="vernacular">Context</span> <span class="id">{aT</span> <span id="rT:114" class="id">
  <a name="rT:114" class="">rT}</a>
</span> <span class="id">{A</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#aT:113">aT}</a></span> <span class="id">{B</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:114">rT}</a></span> (<span id="f:117" class="id">
  <a name="f:117" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#aT:113">aT</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:114">rT</a></span>)<br/>
&nbsp;&nbsp;&nbsp;<span class="id">of</span> <span class="id"><a href="mathcomp.classical.functions.html#OCanV">OCanV</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#A:115">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:116">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:117">f</a></span>.<br/>
&nbsp;<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#OInv.Build">OInv.Build</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_34.Builders_34.f">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_34.oinv">oinv</a></span>.<br/>
&nbsp;<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#OInv_CanV.Build">OInv_CanV.Build</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_34.Builders_34.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_34.Builders_34.B">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_34.Builders_34.f">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_34.oinvS">oinvS</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_34.oinvK">oinvK</a></span>.<br/>
<span class="id">HB.end</span>.<br/>
<br/>
<span class="id">HB.structure</span> <span class="vernacular">Definition</span> <span class="id">Surject</span> <span class="id">{aT</span> <span id="rT:124" class="id">
  <a name="rT:124" class="">rT</a>
</span> <span id="A:125" class="id">
  <a name="A:125" class="">A</a>
</span> <span id="B:126" class="id">
  <a name="B:126" class="">B}</a>
</span> <span class="id">:=</span> <span class="id"><a href="NOTFOUND the module url for HB.structures#::HB_scope:'{'_x_'of'_x_'&'_'..'_'&'_x_'}'">{f</a></span> <span class="id">of</span> <span class="id">@OCanV</span> <span class="id"><a href="mathcomp.classical.functions.html#aT:123">aT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:124">rT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:125">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:126">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:127">f}</a></span>.<br/>
<span class="vernacular">Notation</span> <span id="::type_scope:'{'_'surj'_x_'>->'_x_'}'" class="id">
  <a name="::type_scope:'{'_'surj'_x_'>->'_x_'}'" class="">"{&nbsp;'surj'&nbsp;A&nbsp;&gt;-&gt;&nbsp;B&nbsp;}"</a>
</span> <span class="id">:=</span> (<span class="id">@Surject</span>.<span class="id">type</span> <span class="id">_</span> <span class="id">_</span> <span class="id">A</span> <span class="id">B</span>) <span class="id">:</span> <span class="id">type_scope</span>.<br/>
<span class="vernacular">Notation</span> <span id="::form_scope:'['_'surj'_'of'_x_']'" class="id">
  <a name="::form_scope:'['_'surj'_'of'_x_']'" class="">"[&nbsp;'surj'&nbsp;&nbsp;'of'&nbsp;&nbsp;f&nbsp;]"</a>
</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::form_scope:'['_'the'_x_'of'_x_']'">[the</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'surj'_x_'>->'_x_'}'">{surj</a></span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'surj'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id">_}</span> <span class="id">of</span> <span class="id">f</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id">_]</span> <span class="id">:</span> <span class="id">form_scope</span>.<br/>
<br/>
<span class="id">HB.structure</span> <span class="vernacular">Definition</span> <span class="id">SurjFun</span> <span id="aT:130" class="id">
  <a name="aT:130" class="">aT</a>
</span> <span id="rT:131" class="id">
  <a name="rT:131" class="">rT</a>
</span> <span id="A:132" class="id">
  <a name="A:132" class="">A</a>
</span> <span id="B:133" class="id">
  <a name="B:133" class="">B</a>
</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="NOTFOUND the module url for HB.structures#::HB_scope:'{'_x_'of'_x_'&'_'..'_'&'_x_'}'">{f</a></span> <span class="id">of</span> <span class="id">@Surject</span> <span class="id"><a href="mathcomp.classical.functions.html#aT:130">aT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:131">rT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:132">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:133">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:134">f</a></span> <span class="id"><a href="NOTFOUND the module url for HB.structures#::HB_scope:'{'_x_'of'_x_'&'_'..'_'&'_x_'}'">&amp;</a></span> <span class="id">@Fun</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#A:132">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:133">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:134">f}</a></span>.<br/>
<span class="vernacular">Notation</span> <span id="::type_scope:'{'_'surjfun'_x_'>->'_x_'}'" class="id">
  <a name="::type_scope:'{'_'surjfun'_x_'>->'_x_'}'" class="">"{&nbsp;'surjfun'&nbsp;A&nbsp;&gt;-&gt;&nbsp;B&nbsp;}"</a>
</span> <span class="id">:=</span> (<span class="id">@SurjFun</span>.<span class="id">type</span> <span class="id">_</span> <span class="id">_</span> <span class="id">A</span> <span class="id">B</span>) <span class="id">:</span> <span class="id">type_scope</span>.<br/>
<span class="vernacular">Notation</span> <span id="::form_scope:'['_'surjfun'_'of'_x_']'" class="id">
  <a name="::form_scope:'['_'surjfun'_'of'_x_']'" class="">"[&nbsp;'surjfun'&nbsp;&nbsp;'of'&nbsp;&nbsp;f&nbsp;]"</a>
</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::form_scope:'['_'the'_x_'of'_x_']'">[the</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'surjfun'_x_'>->'_x_'}'">{surjfun</a></span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'surjfun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id">_}</span> <span class="id">of</span> <span class="id">f</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id">_]</span> <span class="id">:</span> <span class="id">form_scope</span>.<br/>
<br/>
<span class="id">HB.structure</span> <span class="vernacular">Definition</span> <span class="id">SplitSurj</span> <span id="aT:137" class="id">
  <a name="aT:137" class="">aT</a>
</span> <span id="rT:138" class="id">
  <a name="rT:138" class="">rT</a>
</span> <span id="A:139" class="id">
  <a name="A:139" class="">A</a>
</span> <span id="B:140" class="id">
  <a name="B:140" class="">B</a>
</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="NOTFOUND the module url for HB.structures#::HB_scope:'{'_x_'of'_x_'&'_'..'_'&'_x_'}'">{f</a></span> <span class="id">of</span> <span class="id">@Surject</span> <span class="id"><a href="mathcomp.classical.functions.html#aT:137">aT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:138">rT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:139">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:140">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:141">f</a></span> <span class="id"><a href="NOTFOUND the module url for HB.structures#::HB_scope:'{'_x_'of'_x_'&'_'..'_'&'_x_'}'">&amp;</a></span> <span class="id">@Inv</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#f:141">f}</a></span>.<br/>
<span class="vernacular">Notation</span> <span id="::type_scope:'{'_'splitsurj'_x_'>->'_x_'}'" class="id">
  <a name="::type_scope:'{'_'splitsurj'_x_'>->'_x_'}'" class="">"{&nbsp;'splitsurj'&nbsp;A&nbsp;&gt;-&gt;&nbsp;B&nbsp;}"</a>
</span> <span class="id">:=</span> (<span class="id">@SplitSurj</span>.<span class="id">type</span> <span class="id">_</span> <span class="id">_</span> <span class="id">A</span> <span class="id">B</span>) <span class="id">:</span> <span class="id">type_scope</span>.<br/>
<span class="vernacular">Notation</span> <span id="::form_scope:'['_'splitsurj'_'of'_x_']'" class="id">
  <a name="::form_scope:'['_'splitsurj'_'of'_x_']'" class="">"[&nbsp;'splitsurj'&nbsp;&nbsp;'of'&nbsp;&nbsp;f&nbsp;]"</a>
</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::form_scope:'['_'the'_x_'of'_x_']'">[the</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitsurj'_x_'>->'_x_'}'">{splitsurj</a></span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitsurj'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id">_}</span> <span class="id">of</span> <span class="id">f</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id">_]</span> <span class="id">:</span> <span class="id">form_scope</span>.<br/>
<br/>
<span class="id">HB.structure</span> <span class="vernacular">Definition</span> <span class="id">SplitSurjFun</span> <span id="aT:144" class="id">
  <a name="aT:144" class="">aT</a>
</span> <span id="rT:145" class="id">
  <a name="rT:145" class="">rT</a>
</span> <span id="A:146" class="id">
  <a name="A:146" class="">A</a>
</span> <span id="B:147" class="id">
  <a name="B:147" class="">B</a>
</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id"><a href="NOTFOUND the module url for HB.structures#::HB_scope:'{'_x_'of'_x_'&'_'..'_'&'_x_'}'">{f</a></span> <span class="id">of</span> <span class="id">@SplitSurj</span> <span class="id"><a href="mathcomp.classical.functions.html#aT:144">aT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:145">rT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:146">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:147">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:148">f</a></span> <span class="id"><a href="NOTFOUND the module url for HB.structures#::HB_scope:'{'_x_'of'_x_'&'_'..'_'&'_x_'}'">&amp;</a></span> <span class="id">@Fun</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#A:146">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:147">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:148">f}</a></span>.<br/>
<span class="vernacular">Notation</span> <span id="::type_scope:'{'_'splitsurjfun'_x_'>->'_x_'}'" class="id">
  <a name="::type_scope:'{'_'splitsurjfun'_x_'>->'_x_'}'" class="">"{&nbsp;'splitsurjfun'&nbsp;A&nbsp;&gt;-&gt;&nbsp;B&nbsp;}"</a>
</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;(<span class="id">@SplitSurjFun</span>.<span class="id">type</span> <span class="id">_</span> <span class="id">_</span> <span class="id">A</span> <span class="id">B</span>) <span class="id">:</span> <span class="id">type_scope</span>.<br/>
<span class="vernacular">Notation</span> <span id="::form_scope:'['_'splitsurjfun'_'of'_x_']'" class="id">
  <a name="::form_scope:'['_'splitsurjfun'_'of'_x_']'" class="">"[&nbsp;'splitsurjfun'&nbsp;&nbsp;'of'&nbsp;&nbsp;f&nbsp;]"</a>
</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::form_scope:'['_'the'_x_'of'_x_']'">[the</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitsurjfun'_x_'>->'_x_'}'">{splitsurjfun</a></span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitsurjfun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id">_}</span> <span class="id">of</span> <span class="id">f</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id">_]</span> <span class="id">:</span> <span class="id">form_scope</span>.<br/>
<br/>
<span class="id">HB.mixin</span> <span class="vernacular">Record</span> <span class="id">OInv_Can</span> <span id="aT:151" class="id">
  <a name="aT:151" class="">aT</a>
</span> <span id="rT:152" class="id">
  <a name="rT:152" class="">rT</a>
</span> (<span id="A:153" class="id">
  <a name="A:153" class="">A</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#aT:151">aT</a></span>) (<span id="f:154" class="id">
  <a name="f:154" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#aT:151">aT</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:152">rT</a></span>) <span class="id">of</span> <span class="id"><a href="mathcomp.classical.functions.html#OInv">OInv</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#f:154">f</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id">{</span> <span id="funoK:155" class="id">
  <a name="funoK:155" class="">funoK</a>
</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_','_x_'}'">{in</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:153">A,</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#pcancel">pcancel</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:154">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#:::'''oinv_'_x">'oinv_f}</a></span> <span class="id">}</span>.<br/>
<br/>
<span class="id">HB.structure</span> <span class="vernacular">Definition</span> <span class="id">Inject</span> <span id="aT:160" class="id">
  <a name="aT:160" class="">aT</a>
</span> <span id="rT:161" class="id">
  <a name="rT:161" class="">rT</a>
</span> <span id="A:162" class="id">
  <a name="A:162" class="">A</a>
</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="NOTFOUND the module url for HB.structures#::HB_scope:'{'_x_'of'_x_'&'_'..'_'&'_x_'}'">{f</a></span> <span class="id">of</span> <span class="id"><a href="mathcomp.classical.functions.html#OInv">OInv</a></span> <span class="id"><a href="mathcomp.classical.functions.html#aT:160">aT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:161">rT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:163">f</a></span> <span class="id"><a href="NOTFOUND the module url for HB.structures#::HB_scope:'{'_x_'of'_x_'&'_'..'_'&'_x_'}'">&amp;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#OInv_Can">OInv_Can</a></span> <span class="id"><a href="mathcomp.classical.functions.html#aT:160">aT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:161">rT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:162">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:163">f}</a></span>.<br/>
<span class="vernacular">Notation</span> <span id="::type_scope:'{'_'inj'_x_'>->'_x_'}'" class="id">
  <a name="::type_scope:'{'_'inj'_x_'>->'_x_'}'" class="">"{&nbsp;'inj'&nbsp;A&nbsp;&gt;-&gt;&nbsp;rT&nbsp;}"</a>
</span> <span class="id">:=</span> (<span class="id">@Inject</span>.<span class="id">type</span> <span class="id">_</span> <span class="id">rT</span> <span class="id">A</span>) <span class="id">:</span> <span class="id">type_scope</span>.<br/>
<span class="vernacular">Notation</span> <span id="::form_scope:'['_'inj'_'of'_x_']'" class="id">
  <a name="::form_scope:'['_'inj'_'of'_x_']'" class="">"[&nbsp;'inj'&nbsp;&nbsp;'of'&nbsp;&nbsp;f&nbsp;]"</a>
</span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::form_scope:'['_'the'_x_'of'_x_']'">[the</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'inj'_x_'>->'_x_'}'">{inj</a></span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'inj'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id">_}</span> <span class="id">of</span> <span class="id">f</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id">_]</span> <span class="id">:</span> <span class="id">form_scope</span>.<br/>
<br/>
<span class="id">HB.structure</span> <span class="vernacular">Definition</span> <span class="id">InjFun</span> <span class="id">{aT</span> <span id="rT:167" class="id">
  <a name="rT:167" class="">rT}</a>
</span> (<span id="A:168" class="id">
  <a name="A:168" class="">A</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#aT:166">aT</a></span>) (<span id="B:169" class="id">
  <a name="B:169" class="">B</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:167">rT</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id"><a href="NOTFOUND the module url for HB.structures#::HB_scope:'{'_x_'of'_x_'&'_'..'_'&'_x_'}'">{</a></span> <span id="f:170" class="id">
  <a name="f:170" class="">f</a>
</span> <span class="id">of</span> <span class="id">@Fun</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#A:168">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:169">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:170">f</a></span> <span class="id"><a href="NOTFOUND the module url for HB.structures#::HB_scope:'{'_x_'of'_x_'&'_'..'_'&'_x_'}'">&amp;</a></span> <span class="id">@Inject</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#A:168">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:170">f</a></span> <span class="id"><a href="NOTFOUND the module url for HB.structures#::HB_scope:'{'_x_'of'_x_'&'_'..'_'&'_x_'}'">}</a></span>.<br/>
<span class="vernacular">Notation</span> <span id="::type_scope:'{'_'injfun'_x_'>->'_x_'}'" class="id">
  <a name="::type_scope:'{'_'injfun'_x_'>->'_x_'}'" class="">"{&nbsp;'injfun'&nbsp;A&nbsp;&gt;-&gt;&nbsp;B&nbsp;}"</a>
</span> <span class="id">:=</span> (<span class="id">@InjFun</span>.<span class="id">type</span> <span class="id">_</span> <span class="id">_</span> <span class="id">A</span> <span class="id">B</span>) <span class="id">:</span> <span class="id">type_scope</span>.<br/>
<span class="vernacular">Notation</span> <span id="::form_scope:'['_'injfun'_'of'_x_']'" class="id">
  <a name="::form_scope:'['_'injfun'_'of'_x_']'" class="">"[&nbsp;'injfun'&nbsp;&nbsp;'of'&nbsp;&nbsp;f&nbsp;]"</a>
</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::form_scope:'['_'the'_x_'of'_x_']'">[the</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'injfun'_x_'>->'_x_'}'">{injfun</a></span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'injfun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id">_}</span> <span class="id">of</span> <span class="id">f</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id">_]</span> <span class="id">:</span> <span class="id">form_scope</span>.<br/>
<br/>
<span class="id">HB.structure</span> <span class="vernacular">Definition</span> <span class="id">SplitInj</span> <span id="aT:173" class="id">
  <a name="aT:173" class="">aT</a>
</span> <span id="rT:174" class="id">
  <a name="rT:174" class="">rT</a>
</span> (<span id="A:175" class="id">
  <a name="A:175" class="">A</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#aT:173">aT</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="NOTFOUND the module url for HB.structures#::HB_scope:'{'_x_'of'_x_'&'_'..'_'&'_x_'}'">{f</a></span> <span class="id">of</span> <span class="id">@Inv</span> <span class="id"><a href="mathcomp.classical.functions.html#aT:173">aT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:174">rT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:176">f</a></span> <span class="id"><a href="NOTFOUND the module url for HB.structures#::HB_scope:'{'_x_'of'_x_'&'_'..'_'&'_x_'}'">&amp;</a></span> <span class="id">@Inject</span> <span class="id"><a href="mathcomp.classical.functions.html#aT:173">aT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:174">rT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:175">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:176">f}</a></span>.<br/>
<span class="vernacular">Notation</span> <span id="::type_scope:'{'_'splitinj'_x_'>->'_x_'}'" class="id">
  <a name="::type_scope:'{'_'splitinj'_x_'>->'_x_'}'" class="">"{&nbsp;'splitinj'&nbsp;A&nbsp;&gt;-&gt;&nbsp;rT&nbsp;}"</a>
</span> <span class="id">:=</span> (<span class="id">@SplitInj</span>.<span class="id">type</span> <span class="id">_</span> <span class="id">rT</span> <span class="id">A</span>) <span class="id">:</span> <span class="id">type_scope</span>.<br/>
<span class="vernacular">Notation</span> <span id="::form_scope:'['_'splitinj'_'of'_x_']'" class="id">
  <a name="::form_scope:'['_'splitinj'_'of'_x_']'" class="">"[&nbsp;'splitinj'&nbsp;&nbsp;'of'&nbsp;&nbsp;f&nbsp;]"</a>
</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::form_scope:'['_'the'_x_'of'_x_']'">[the</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitinj'_x_'>->'_x_'}'">{splitinj</a></span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitinj'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id">_}</span> <span class="id">of</span> <span class="id">f</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id">_]</span> <span class="id">:</span> <span class="id">form_scope</span>.<br/>
<br/>
<span class="id">HB.structure</span> <span class="vernacular">Definition</span> <span class="id">SplitInjFun</span> <span id="aT:179" class="id">
  <a name="aT:179" class="">aT</a>
</span> <span id="rT:180" class="id">
  <a name="rT:180" class="">rT</a>
</span> (<span id="A:181" class="id">
  <a name="A:181" class="">A</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#aT:179">aT</a></span>) (<span id="B:182" class="id">
  <a name="B:182" class="">B</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:180">rT</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="NOTFOUND the module url for HB.structures#::HB_scope:'{'_x_'of'_x_'&'_'..'_'&'_x_'}'">{f</a></span> <span class="id">of</span> <span class="id">@SplitInj</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#rT:180">rT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:181">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:183">f</a></span> <span class="id"><a href="NOTFOUND the module url for HB.structures#::HB_scope:'{'_x_'of'_x_'&'_'..'_'&'_x_'}'">&amp;</a></span> <span class="id">@isFun</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#A:181">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:182">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:183">f}</a></span>.<br/>
<span class="vernacular">Notation</span> <span id="::type_scope:'{'_'splitinjfun'_x_'>->'_x_'}'" class="id">
  <a name="::type_scope:'{'_'splitinjfun'_x_'>->'_x_'}'" class="">"{&nbsp;'splitinjfun'&nbsp;A&nbsp;&gt;-&gt;&nbsp;B&nbsp;}"</a>
</span> <span class="id">:=</span> (<span class="id">@SplitInjFun</span>.<span class="id">type</span> <span class="id">_</span> <span class="id">_</span> <span class="id">A</span> <span class="id">B</span>) <span class="id">:</span> <span class="id">type_scope</span>.<br/>
<span class="vernacular">Notation</span> <span id="::form_scope:'['_'splitinjfun'_'of'_x_']'" class="id">
  <a name="::form_scope:'['_'splitinjfun'_'of'_x_']'" class="">"[&nbsp;'splitinjfun'&nbsp;&nbsp;'of'&nbsp;&nbsp;f&nbsp;]"</a>
</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::form_scope:'['_'the'_x_'of'_x_']'">[the</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitinjfun'_x_'>->'_x_'}'">{splitinjfun</a></span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitinjfun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id">_}</span> <span class="id">of</span> <span class="id">f</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id">_]</span> <span class="id">:</span> <span class="id">form_scope</span>.<br/>
<br/>
<span class="id">HB.structure</span> <span class="vernacular">Definition</span> <span class="id">Bij</span> <span class="id">{aT</span> <span id="rT:187" class="id">
  <a name="rT:187" class="">rT}</a>
</span> <span class="id">{A</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#aT:186">aT}</a></span> <span class="id">{B</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:187">rT}</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id"><a href="NOTFOUND the module url for HB.structures#::HB_scope:'{'_x_'of'_x_'&'_'..'_'&'_x_'}'">{f</a></span> <span class="id">of</span> <span class="id">@InjFun</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#A:188">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:189">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:190">f</a></span> <span class="id"><a href="NOTFOUND the module url for HB.structures#::HB_scope:'{'_x_'of'_x_'&'_'..'_'&'_x_'}'">&amp;</a></span> <span class="id">@SurjFun</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#A:188">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:189">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:190">f}</a></span>.<br/>
<span class="vernacular">Notation</span> <span id="::type_scope:'{'_'bij'_x_'>->'_x_'}'" class="id">
  <a name="::type_scope:'{'_'bij'_x_'>->'_x_'}'" class="">"{&nbsp;'bij'&nbsp;A&nbsp;&gt;-&gt;&nbsp;B&nbsp;}"</a>
</span> <span class="id">:=</span> (<span class="id">@Bij</span>.<span class="id">type</span> <span class="id">_</span> <span class="id">_</span> <span class="id">A</span> <span class="id">B</span>) <span class="id">:</span> <span class="id">type_scope</span>.<br/>
<span class="vernacular">Notation</span> <span id="::form_scope:'['_'bij'_'of'_x_']'" class="id">
  <a name="::form_scope:'['_'bij'_'of'_x_']'" class="">"[&nbsp;'bij'&nbsp;&nbsp;'of'&nbsp;&nbsp;f&nbsp;]"</a>
</span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::form_scope:'['_'the'_x_'of'_x_']'">[the</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'bij'_x_'>->'_x_'}'">{bij</a></span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'bij'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id">_}</span> <span class="id">of</span> <span class="id">f]</span> <span class="id">:</span> <span class="id">form_scope</span>.<br/>
<br/>
<span class="id">HB.structure</span> <span class="vernacular">Definition</span> <span class="id">SplitBij</span> <span class="id">{aT</span> <span id="rT:194" class="id">
  <a name="rT:194" class="">rT}</a>
</span> <span class="id">{A</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#aT:193">aT}</a></span> <span class="id">{B</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:194">rT}</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id"><a href="NOTFOUND the module url for HB.structures#::HB_scope:'{'_x_'of'_x_'&'_'..'_'&'_x_'}'">{f</a></span> <span class="id">of</span> <span class="id">@SplitInjFun</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#A:195">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:196">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:197">f</a></span> <span class="id"><a href="NOTFOUND the module url for HB.structures#::HB_scope:'{'_x_'of'_x_'&'_'..'_'&'_x_'}'">&amp;</a></span> <span class="id">@SplitSurjFun</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#A:195">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:196">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:197">f}</a></span>.<br/>
<span class="vernacular">Notation</span> <span id="::type_scope:'{'_'splitbij'_x_'>->'_x_'}'" class="id">
  <a name="::type_scope:'{'_'splitbij'_x_'>->'_x_'}'" class="">"{&nbsp;'splitbij'&nbsp;A&nbsp;&gt;-&gt;&nbsp;B&nbsp;}"</a>
</span> <span class="id">:=</span> (<span class="id">@SplitBij</span>.<span class="id">type</span> <span class="id">_</span> <span class="id">_</span> <span class="id">A</span> <span class="id">B</span>) <span class="id">:</span> <span class="id">type_scope</span>.<br/>
<span class="vernacular">Notation</span> <span id="::form_scope:'['_'splitbij'_'of'_x_']'" class="id">
  <a name="::form_scope:'['_'splitbij'_'of'_x_']'" class="">"[&nbsp;'splitbij'&nbsp;&nbsp;'of'&nbsp;&nbsp;f&nbsp;]"</a>
</span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::form_scope:'['_'the'_x_'of'_x_']'">[the</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitbij'_x_'>->'_x_'}'">{splitbij</a></span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitbij'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id">_}</span> <span class="id">of</span> <span class="id">f]</span> <span class="id">:</span> <span class="id">form_scope</span>.<br/>
<br/>
<br/>
<span class="vernacular">Module</span> <span id="ShortFunSyntax" class="id">
  <a name="ShortFunSyntax" class="">ShortFunSyntax</a>
</span>.<br/>
<span class="vernacular">Notation</span> <span id="ShortFunSyntax.::type_scope:x_'~>'_x" class="id">
  <a name="ShortFunSyntax.::type_scope:x_'~>'_x" class="">"A&nbsp;~&gt;&nbsp;B"</a>
</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'{'_'fun'_x_'>->'_x_'}'">{fun</a></span> <span class="id">A</span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'{'_'fun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id">B}</span> (<span class="gallina-kwd">at</span> <span class="id">level</span> <span class="id">70</span>) <span class="id">:</span> <span class="id">type_scope</span>.<br/>
<span class="vernacular">Notation</span> <span id="ShortFunSyntax.::type_scope:x_'<=>'_x" class="id">
  <a name="ShortFunSyntax.::type_scope:x_'<=>'_x" class="">"aT&nbsp;&lt;=&gt;&nbsp;rT"</a>
</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'oinv'_x_'>->'_x_'}'">{oinv</a></span> <span class="id">aT</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'oinv'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id">rT}</span> (<span class="gallina-kwd">at</span> <span class="id">level</span> <span class="id">70</span>) <span class="id">:</span> <span class="id">type_scope</span>.<br/>
<span class="vernacular">Notation</span> <span id="ShortFunSyntax.::type_scope:x_'<~'_x" class="id">
  <a name="ShortFunSyntax.::type_scope:x_'<~'_x" class="">"A&nbsp;&lt;~&nbsp;B"</a>
</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'oinvfun'_x_'>->'_x_'}'">{oinvfun</a></span> <span class="id">A</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'oinvfun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id">B}</span> (<span class="gallina-kwd">at</span> <span class="id">level</span> <span class="id">70</span>) <span class="id">:</span> <span class="id">type_scope</span>.<br/>
<span class="vernacular">Notation</span> <span id="ShortFunSyntax.::type_scope:x_'<<=>'_x" class="id">
  <a name="ShortFunSyntax.::type_scope:x_'<<=>'_x" class="">"aT&nbsp;&lt;&lt;=&gt;&nbsp;rT"</a>
</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'inv'_x_'>->'_x_'}'">{inv</a></span> <span class="id">aT</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'inv'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id">rT}</span> (<span class="gallina-kwd">at</span> <span class="id">level</span> <span class="id">70</span>) <span class="id">:</span> <span class="id">type_scope</span>.<br/>
<span class="vernacular">Notation</span> <span id="ShortFunSyntax.::type_scope:x_'<<~'_x" class="id">
  <a name="ShortFunSyntax.::type_scope:x_'<<~'_x" class="">"A&nbsp;&lt;&lt;~&nbsp;B"</a>
</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'invfun'_x_'>->'_x_'}'">{invfun</a></span> <span class="id">A</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'invfun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id">B}</span> (<span class="gallina-kwd">at</span> <span class="id">level</span> <span class="id">70</span>) <span class="id">:</span> <span class="id">type_scope</span>.<br/>
<span class="vernacular">Notation</span> <span id="ShortFunSyntax.::type_scope:x_'=>>'_x" class="id">
  <a name="ShortFunSyntax.::type_scope:x_'=>>'_x" class="">"A&nbsp;=&gt;&gt;&nbsp;B"</a>
</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'surj'_x_'>->'_x_'}'">{surj</a></span> <span class="id">A</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'surj'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id">B}</span> (<span class="gallina-kwd">at</span> <span class="id">level</span> <span class="id">70</span>) <span class="id">:</span> <span class="id">type_scope</span>.<br/>
<span class="vernacular">Notation</span> <span id="ShortFunSyntax.::type_scope:x_'~>>'_x" class="id">
  <a name="ShortFunSyntax.::type_scope:x_'~>>'_x" class="">"A&nbsp;~&gt;&gt;&nbsp;B"</a>
</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'surjfun'_x_'>->'_x_'}'">{surjfun</a></span> <span class="id">A</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'surjfun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id">B}</span> (<span class="gallina-kwd">at</span> <span class="id">level</span> <span class="id">70</span>) <span class="id">:</span> <span class="id">type_scope</span>.<br/>
<span class="vernacular">Notation</span> <span id="ShortFunSyntax.::type_scope:x_'==>>'_x" class="id">
  <a name="ShortFunSyntax.::type_scope:x_'==>>'_x" class="">"A&nbsp;==&gt;&gt;&nbsp;B"</a>
</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitsurj'_x_'>->'_x_'}'">{splitsurj</a></span> <span class="id">A</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitsurj'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id">B}</span> (<span class="gallina-kwd">at</span> <span class="id">level</span> <span class="id">70</span>) <span class="id">:</span> <span class="id">type_scope</span>.<br/>
<span class="vernacular">Notation</span> <span id="ShortFunSyntax.::type_scope:x_'~~>>'_x" class="id">
  <a name="ShortFunSyntax.::type_scope:x_'~~>>'_x" class="">"A&nbsp;~~&gt;&gt;&nbsp;B"</a>
</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitsurjfun'_x_'>->'_x_'}'">{splitsurjfun</a></span> <span class="id">A</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitsurjfun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id">B}</span> (<span class="gallina-kwd">at</span> <span class="id">level</span> <span class="id">70</span>) <span class="id">:</span> <span class="id">type_scope</span>.<br/>
<span class="vernacular">Notation</span> <span id="ShortFunSyntax.::type_scope:x_'>=>'_x" class="id">
  <a name="ShortFunSyntax.::type_scope:x_'>=>'_x" class="">"A&nbsp;&gt;=&gt;&nbsp;rT"</a>
</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'inj'_x_'>->'_x_'}'">{inj</a></span> <span class="id">A</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'inj'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id">rT}</span> (<span class="gallina-kwd">at</span> <span class="id">level</span> <span class="id">70</span>) <span class="id">:</span> <span class="id">type_scope</span>.<br/>
<span class="vernacular">Notation</span> <span id="ShortFunSyntax.::type_scope:x_'>~>'_x" class="id">
  <a name="ShortFunSyntax.::type_scope:x_'>~>'_x" class="">"A&nbsp;&gt;~&gt;&nbsp;B"</a>
</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'injfun'_x_'>->'_x_'}'">{injfun</a></span> <span class="id">A</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'injfun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id">B}</span> (<span class="gallina-kwd">at</span> <span class="id">level</span> <span class="id">70</span>) <span class="id">:</span> <span class="id">type_scope</span>.<br/>
<span class="vernacular">Notation</span> <span id="ShortFunSyntax.::type_scope:x_'>>=>'_x" class="id">
  <a name="ShortFunSyntax.::type_scope:x_'>>=>'_x" class="">"A&nbsp;&gt;&gt;=&gt;&nbsp;rT"</a>
</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitinj'_x_'>->'_x_'}'">{splitinj</a></span> <span class="id">A</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitinj'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id">rT}</span> (<span class="gallina-kwd">at</span> <span class="id">level</span> <span class="id">70</span>) <span class="id">:</span> <span class="id">type_scope</span>.<br/>
<span class="vernacular">Notation</span> <span id="ShortFunSyntax.::type_scope:x_'>>~>'_x" class="id">
  <a name="ShortFunSyntax.::type_scope:x_'>>~>'_x" class="">"A&nbsp;&gt;&gt;~&gt;&nbsp;B"</a>
</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitinjfun'_x_'>->'_x_'}'">{splitinjfun</a></span> <span class="id">A</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitinjfun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id">B}</span> (<span class="gallina-kwd">at</span> <span class="id">level</span> <span class="id">70</span>) <span class="id">:</span> <span class="id">type_scope</span>.<br/>
<span class="vernacular">Notation</span> <span id="ShortFunSyntax.::type_scope:x_'<~>'_x" class="id">
  <a name="ShortFunSyntax.::type_scope:x_'<~>'_x" class="">"A&nbsp;&lt;~&gt;&nbsp;B"</a>
</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'bij'_x_'>->'_x_'}'">{bij</a></span> <span class="id">A</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'bij'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id">B}</span> (<span class="gallina-kwd">at</span> <span class="id">level</span> <span class="id">70</span>) <span class="id">:</span> <span class="id">type_scope</span>.<br/>
<span class="vernacular">Notation</span> <span id="ShortFunSyntax.::type_scope:x_'<<~>'_x" class="id">
  <a name="ShortFunSyntax.::type_scope:x_'<<~>'_x" class="">"A&nbsp;&lt;&lt;~&gt;&nbsp;B"</a>
</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitbij'_x_'>->'_x_'}'">{splitbij</a></span> <span class="id">A</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitbij'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id">B}</span> (<span class="gallina-kwd">at</span> <span class="id">level</span> <span class="id">70</span>) <span class="id">:</span> <span class="id">type_scope</span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.classical.functions.html#ShortFunSyntax">ShortFunSyntax</a></span>.<br/>
<br/>
<div class="ssrdoc markdown">
## Theory                                                                  
</div>
<br/>
<span class="vernacular">Definition</span> <span id="phant_funS" class="id">
  <a name="phant_funS" class="">phant_funS</a>
</span> <span id="aT:200" class="id">
  <a name="aT:200" class="">aT</a>
</span> <span id="rT:201" class="id">
  <a name="rT:201" class="">rT</a>
</span> (<span id="A:202" class="id">
  <a name="A:202" class="">A</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#aT:200">aT</a></span>) (<span id="B:203" class="id">
  <a name="B:203" class="">B</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:201">rT</a></span>)<br/>
&nbsp;&nbsp;(<span id="f:204" class="id">
  <a name="f:204" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'{'_'fun'_x_'>->'_x_'}'">{fun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:202">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'{'_'fun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:203">B}</a></span>) <span class="id">of</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#phantom">phantom</a></span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id">_</span>) <span class="id"><a href="mathcomp.classical.functions.html#f:204">f</a></span> <span class="id">:=</span> <span class="id">@funS</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#f:204">f</a></span>.<br/>
<span class="vernacular">Notation</span> <span id="::form_scope:'''funS_'_x" class="id">
  <a name="::form_scope:'''funS_'_x" class="">"'funS_&nbsp;&nbsp;f"</a>
</span> <span class="id">:=</span> (<span class="id"><a href="mathcomp.classical.functions.html#phant_funS">phant_funS</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#Phantom">Phantom</a></span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id">_</span>) <span class="id">f</span>))<br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span> <span class="id">level</span> <span class="id">8,</span> <span class="id">f</span> <span class="gallina-kwd">at</span> <span class="id">level</span> <span class="id">2</span>) <span class="id">:</span> <span class="id">form_scope</span>.<br/>
<span class="id">#[global]</span> <span class="vernacular">Hint</span> <span class="id">Extern</span> <span class="id">0</span> (<span class="id"><a href="mathcomp.classical.functions.html#set_fun">set_fun</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>) <span class="id">=&gt;</span> <span class="id">solve</span> <span class="id">[apply:</span> <span class="id"><a href="mathcomp.classical.functions.html#funS">funS]</a></span> <span class="id">:</span> <span class="id">core</span>.<br/>
<span class="id">#[global]</span> <span class="vernacular">Hint</span> <span class="id">Extern</span> <span class="id">0</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#prop_in1">prop_in1</a></span> <span class="id">_</span> <span class="id">_</span>) <span class="id">=&gt;</span> <span class="id">solve</span> <span class="id">[apply:</span> <span class="id"><a href="mathcomp.classical.functions.html#funS">funS]</a></span> <span class="id">:</span> <span class="id">core</span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="fun_image_sub" class="id">
  <a name="fun_image_sub" class="">fun_image_sub</a>
</span> <span id="aT:205" class="id">
  <a name="aT:205" class="">aT</a>
</span> <span id="rT:206" class="id">
  <a name="rT:206" class="">rT</a>
</span> (<span id="A:207" class="id">
  <a name="A:207" class="">A</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#aT:205">aT</a></span>) (<span id="B:208" class="id">
  <a name="B:208" class="">B</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:206">rT</a></span>) (<span id="f:209" class="id">
  <a name="f:209" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'{'_'fun'_x_'>->'_x_'}'">{fun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:207">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'{'_'fun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:208">B}</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.classical_sets.html#image_subP">image_subP</a></span>.<span class="id">2</span> (<span class="id">@funS</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#f:209">f</a></span>).<br/>
<span class="vernacular">Arguments</span> <span class="id"><a href="mathcomp.classical.functions.html#fun_image_sub">fun_image_sub</a></span> <span class="id">{aT</span> <span class="id">rT</span> <span class="id">A</span> <span class="id">B}</span>.<br/>
<span class="id">#[global]</span> <span class="vernacular">Hint</span> <span class="id">Extern</span> <span class="id">0</span> (<span class="id">_</span> <span class="id">@`</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:x_'`<=`'_x">`&lt;=`</a></span> <span class="id">_</span>) <span class="id">=&gt;</span> <span class="id">solve</span> <span class="id">[apply:</span> <span class="id"><a href="mathcomp.classical.functions.html#fun_image_sub">fun_image_sub]</a></span> <span class="id">:</span> <span class="id">core</span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="mem_fun" class="id">
  <a name="mem_fun" class="">mem_fun</a>
</span> <span id="aT:210" class="id">
  <a name="aT:210" class="">aT</a>
</span> <span id="rT:211" class="id">
  <a name="rT:211" class="">rT</a>
</span> (<span id="A:212" class="id">
  <a name="A:212" class="">A</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#aT:210">aT</a></span>) (<span id="B:213" class="id">
  <a name="B:213" class="">B</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:211">rT</a></span>) (<span id="f:214" class="id">
  <a name="f:214" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'{'_'fun'_x_'>->'_x_'}'">{fun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:212">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'{'_'fun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:213">B}</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.classical_sets.html#homo_setP">homo_setP</a></span>.<span class="id">2</span> (<span class="id">@funS</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#f:214">f</a></span>).<br/>
<span class="id">#[global]</span> <span class="vernacular">Hint</span> <span class="id">Extern</span> <span class="id">0</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#prop_in1">prop_in1</a></span> <span class="id">_</span> <span class="id">_</span>) <span class="id">=&gt;</span> <span class="id">solve</span> <span class="id">[apply:</span> <span class="id"><a href="mathcomp.classical.functions.html#mem_fun">mem_fun]</a></span> <span class="id">:</span> <span class="id">core</span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="phant_mem_fun" class="id">
  <a name="phant_mem_fun" class="">phant_mem_fun</a>
</span> <span id="aT:215" class="id">
  <a name="aT:215" class="">aT</a>
</span> <span id="rT:216" class="id">
  <a name="rT:216" class="">rT</a>
</span> (<span id="A:217" class="id">
  <a name="A:217" class="">A</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#aT:215">aT</a></span>) (<span id="B:218" class="id">
  <a name="B:218" class="">B</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:216">rT</a></span>)<br/>
&nbsp;&nbsp;(<span id="f:219" class="id">
  <a name="f:219" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'{'_'fun'_x_'>->'_x_'}'">{fun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:217">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'{'_'fun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:218">B}</a></span>) <span class="id">of</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#phantom">phantom</a></span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id">_</span>) <span class="id"><a href="mathcomp.classical.functions.html#f:219">f</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#homo_setP">homo_setP</a></span>.<span class="id">2</span> (<span class="id">@funS</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#f:219">f</a></span>).<br/>
<span class="vernacular">Notation</span> <span id="::form_scope:'''mem_fun_'_x" class="id">
  <a name="::form_scope:'''mem_fun_'_x" class="">"'mem_fun_&nbsp;&nbsp;f"</a>
</span> <span class="id">:=</span> (<span class="id"><a href="mathcomp.classical.functions.html#phant_mem_fun">phant_mem_fun</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#Phantom">Phantom</a></span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id">_</span>) <span class="id">f</span>))<br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span> <span class="id">level</span> <span class="id">8,</span> <span class="id">f</span> <span class="gallina-kwd">at</span> <span class="id">level</span> <span class="id">2</span>) <span class="id">:</span> <span class="id">form_scope</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="some_inv" class="id">
  <a name="some_inv" class="">some_inv</a>
</span> <span class="id">{aT</span> <span id="rT:221" class="id">
  <a name="rT:221" class="">rT}</a>
</span> (<span id="f:222" class="id">
  <a name="f:222" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'inv'_x_'>->'_x_'}'">{inv</a></span> <span class="id"><a href="mathcomp.classical.functions.html#aT:220">aT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'inv'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:221">rT}</a></span>) <span id="x:223" class="id">
  <a name="x:223" class="">x</a>
</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#f:222">f^-1</a></span> <span class="id"><a href="mathcomp.classical.functions.html#x:223">x</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.classical.functions.html#:::'''oinv_'_x">'oinv_f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#x:223">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof1')">Proof.</span></div>
<div class="proofscript" id="proof1">
 <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-oliftV</span>. Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span id="phant_oinvK" class="id">
  <a name="phant_oinvK" class="">phant_oinvK</a>
</span> <span id="aT:224" class="id">
  <a name="aT:224" class="">aT</a>
</span> <span id="rT:225" class="id">
  <a name="rT:225" class="">rT</a>
</span> (<span id="A:226" class="id">
  <a name="A:226" class="">A</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#aT:224">aT</a></span>) (<span id="B:227" class="id">
  <a name="B:227" class="">B</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:225">rT</a></span>)<br/>
&nbsp;&nbsp;&nbsp;(<span id="f:228" class="id">
  <a name="f:228" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'surj'_x_'>->'_x_'}'">{surj</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:226">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'surj'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:227">B}</a></span>) <span class="id">of</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#phantom">phantom</a></span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id">_</span>) <span class="id"><a href="mathcomp.classical.functions.html#f:228">f</a></span> <span class="id">:=</span> <span class="id">@oinvK</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#f:228">f</a></span>.<br/>
<span class="vernacular">Notation</span> <span id="::form_scope:'''oinvK_'_x" class="id">
  <a name="::form_scope:'''oinvK_'_x" class="">"'oinvK_&nbsp;f"</a>
</span> <span class="id">:=</span> (<span class="id"><a href="mathcomp.classical.functions.html#phant_oinvK">phant_oinvK</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#Phantom">Phantom</a></span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id">_</span>) <span class="id">f</span>)) <span class="id">:</span> <span class="id">form_scope</span>.<br/>
<span class="id">#[global]</span> <span class="vernacular">Hint</span> <span class="id">Resolve</span> <span class="id">oinvK</span> <span class="id">:</span> <span class="id">core</span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="phant_oinvS" class="id">
  <a name="phant_oinvS" class="">phant_oinvS</a>
</span> <span id="aT:229" class="id">
  <a name="aT:229" class="">aT</a>
</span> <span id="rT:230" class="id">
  <a name="rT:230" class="">rT</a>
</span> (<span id="A:231" class="id">
  <a name="A:231" class="">A</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#aT:229">aT</a></span>) (<span id="B:232" class="id">
  <a name="B:232" class="">B</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:230">rT</a></span>)<br/>
&nbsp;&nbsp;&nbsp;(<span id="f:233" class="id">
  <a name="f:233" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'surj'_x_'>->'_x_'}'">{surj</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:231">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'surj'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:232">B}</a></span>) <span class="id">of</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#phantom">phantom</a></span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id">_</span>) <span class="id"><a href="mathcomp.classical.functions.html#f:233">f</a></span> <span class="id">:=</span> <span class="id">@oinvS</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#f:233">f</a></span>.<br/>
<span class="vernacular">Notation</span> <span id="::form_scope:'''oinvS_'_x" class="id">
  <a name="::form_scope:'''oinvS_'_x" class="">"'oinvS_&nbsp;f"</a>
</span> <span class="id">:=</span> (<span class="id"><a href="mathcomp.classical.functions.html#phant_oinvS">phant_oinvS</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#Phantom">Phantom</a></span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id">_</span>) <span class="id">f</span>)) <span class="id">:</span> <span class="id">form_scope</span>.<br/>
<span class="id">#[global]</span> <span class="vernacular">Hint</span> <span class="id">Resolve</span> <span class="id">oinvS</span> <span class="id">:</span> <span class="id">core</span>.<br/>
<br/>
<span class="vernacular">Variant</span> <span id="oinv_spec" class="id">
  <a name="oinv_spec" class="">oinv_spec</a>
</span> <span class="id">{aT}</span> <span class="id">{rT}</span> <span class="id">{A</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#aT:234">aT}</a></span> <span class="id">{B</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:235">rT}</a></span> (<span id="f:238" class="id">
  <a name="f:238" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'surj'_x_'>->'_x_'}'">{surj</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:236">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'surj'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:237">B}</a></span>) <span id="y:239" class="id">
  <a name="y:239" class="">y</a>
</span> <span class="id">:</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id">rT</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#option">option</a></span> <span class="id">aT</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="gallina-kwd">Type</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span id="OInvSpec" class="id">
  <a name="OInvSpec" class="">OInvSpec</a>
</span> (<span id="x:242" class="id">
  <a name="x:242" class="">x</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#aT:234">aT</a></span>) <span class="id">of</span> <span class="id"><a href="mathcomp.classical.functions.html#A:236">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#x:242">x</a></span> <span class="id">&amp;</span> <span class="id"><a href="mathcomp.classical.functions.html#f:238">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#x:242">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.classical.functions.html#y:239">y</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#oinv_spec:240">oinv_spec</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:238">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#y:239">y</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#f:238">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#x:242">x</a></span>) (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="mathcomp.classical.functions.html#x:242">x</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="oinvP" class="id">
  <a name="oinvP" class="">oinvP</a>
</span> <span id="aT:243" class="id">
  <a name="aT:243" class="">aT</a>
</span> <span id="rT:244" class="id">
  <a name="rT:244" class="">rT</a>
</span> (<span id="A:245" class="id">
  <a name="A:245" class="">A</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#aT:243">aT</a></span>) (<span id="B:246" class="id">
  <a name="B:246" class="">B</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:244">rT</a></span>) (<span id="f:247" class="id">
  <a name="f:247" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'surj'_x_'>->'_x_'}'">{surj</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:245">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'surj'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:246">B}</a></span>) <span id="y:248" class="id">
  <a name="y:248" class="">y</a>
</span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#B:246">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#y:248">y</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#oinv_spec">oinv_spec</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:247">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#y:248">y</a></span> <span class="id"><a href="mathcomp.classical.functions.html#y:248">y</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#:::'''oinv_'_x">'oinv_f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#y:248">y</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof2')">Proof.</span></div>
<div class="proofscript" id="proof2">
<span class="id">move=&gt;</span> <span class="id">By;</span> <span class="id">have</span> <span class="id">:='oinvK_f</span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#mem_set">mem_set</a></span> <span class="id">By</span>).<br/>
<span class="gallina-kwd">by</span> <span class="id">have</span> <span class="id">/cid2</span> <span class="id">[x</span> <span class="id">Ax</span> <span class="id">&lt;-]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'''oinvS_'_x">'oinvS_f</a></span> <span class="id">By</span> <span class="id">=&gt;</span> <span class="id">&lt;-;</span> <span class="id">constructor</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span id="phant_oinvP" class="id">
  <a name="phant_oinvP" class="">phant_oinvP</a>
</span> <span id="aT:249" class="id">
  <a name="aT:249" class="">aT</a>
</span> <span id="rT:250" class="id">
  <a name="rT:250" class="">rT</a>
</span> (<span id="A:251" class="id">
  <a name="A:251" class="">A</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#aT:249">aT</a></span>) (<span id="B:252" class="id">
  <a name="B:252" class="">B</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:250">rT</a></span>)<br/>
&nbsp;&nbsp;&nbsp;(<span id="f:253" class="id">
  <a name="f:253" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'surj'_x_'>->'_x_'}'">{surj</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:251">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'surj'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:252">B}</a></span>) <span class="id">of</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#phantom">phantom</a></span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id">_</span>) <span class="id"><a href="mathcomp.classical.functions.html#f:253">f</a></span> <span class="id">:=</span> <span class="id">@oinvP</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#f:253">f</a></span>.<br/>
<span class="vernacular">Notation</span> <span id="::form_scope:'''oinvP_'_x" class="id">
  <a name="::form_scope:'''oinvP_'_x" class="">"'oinvP_&nbsp;f"</a>
</span> <span class="id">:=</span> (<span class="id"><a href="mathcomp.classical.functions.html#phant_oinvP">phant_oinvP</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#Phantom">Phantom</a></span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id">_</span>) <span class="id">f</span>)) <span class="id">:</span> <span class="id">form_scope</span>.<br/>
<span class="id">#[global]</span> <span class="vernacular">Hint</span> <span class="id">Resolve</span> <span class="id">oinvP</span> <span class="id">:</span> <span class="id">core</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="oinvT" class="id">
  <a name="oinvT" class="">oinvT</a>
</span> <span class="id">{aT</span> <span id="rT:255" class="id">
  <a name="rT:255" class="">rT}</a>
</span> <span class="id">{A</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#aT:254">aT}</a></span> <span class="id">{B</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:255">rT}</a></span> <span class="id">{f</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'surj'_x_'>->'_x_'}'">{surj</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:256">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'surj'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:257">B}}</a></span> <span id="x:259" class="id">
  <a name="x:259" class="">x</a>
</span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#B:257">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#x:259">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#:::'''oinv_'_x">'oinv_f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#x:259">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof3')">Proof.</span></div>
<div class="proofscript" id="proof3">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">/'oinvS_f</span> <span class="id">[a</span> <span class="id">Aa</span> <span class="id">&lt;-]</span>. Qed.</div>
<span class="vernacular">Definition</span> <span id="phant_oinvT" class="id">
  <a name="phant_oinvT" class="">phant_oinvT</a>
</span> <span id="aT:260" class="id">
  <a name="aT:260" class="">aT</a>
</span> <span id="rT:261" class="id">
  <a name="rT:261" class="">rT</a>
</span> (<span id="A:262" class="id">
  <a name="A:262" class="">A</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#aT:260">aT</a></span>) (<span id="B:263" class="id">
  <a name="B:263" class="">B</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:261">rT</a></span>)<br/>
&nbsp;&nbsp;&nbsp;(<span id="f:264" class="id">
  <a name="f:264" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'surj'_x_'>->'_x_'}'">{surj</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:262">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'surj'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:263">B}</a></span>) <span class="id">of</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#phantom">phantom</a></span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id">_</span>) <span class="id"><a href="mathcomp.classical.functions.html#f:264">f</a></span> <span class="id">:=</span> <span class="id">@oinvT</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#f:264">f</a></span>.<br/>
<span class="vernacular">Notation</span> <span id="::form_scope:'''oinvT_'_x" class="id">
  <a name="::form_scope:'''oinvT_'_x" class="">"'oinvT_&nbsp;f"</a>
</span> <span class="id">:=</span> (<span class="id"><a href="mathcomp.classical.functions.html#phant_oinvT">phant_oinvT</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#Phantom">Phantom</a></span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id">_</span>) <span class="id">f</span>)) <span class="id">:</span> <span class="id">form_scope</span>.<br/>
<span class="id">#[global]</span> <span class="vernacular">Hint</span> <span class="id">Resolve</span> <span class="id">oinvT</span> <span class="id">:</span> <span class="id">core</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="invK" class="id">
  <a name="invK" class="">invK</a>
</span> <span class="id">{aT</span> <span id="rT:266" class="id">
  <a name="rT:266" class="">rT}</a>
</span> <span class="id">{A</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#aT:265">aT}</a></span> <span class="id">{B</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:266">rT}</a></span> <span class="id">{f</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitsurj'_x_'>->'_x_'}'">{splitsurj</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:267">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitsurj'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:268">B}}</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_','_x_'}'">{in</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:268">B,</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:269">f^-1</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:269">f}</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof4')">Proof.</span></div>
<div class="proofscript" id="proof4">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">x</span> <span class="id">Bx;</span> <span class="id">rewrite</span> <span class="id">-[x</span> <span class="gallina-kwd">in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS]'oinvK_f//</a></span> <span class="id">-some_inv/=</span>. Qed.</div>
<span class="vernacular">Definition</span> <span id="phant_invK" class="id">
  <a name="phant_invK" class="">phant_invK</a>
</span> <span id="aT:270" class="id">
  <a name="aT:270" class="">aT</a>
</span> <span id="rT:271" class="id">
  <a name="rT:271" class="">rT</a>
</span> (<span id="A:272" class="id">
  <a name="A:272" class="">A</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#aT:270">aT</a></span>) (<span id="B:273" class="id">
  <a name="B:273" class="">B</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:271">rT</a></span>)<br/>
&nbsp;&nbsp;&nbsp;(<span id="f:274" class="id">
  <a name="f:274" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitsurj'_x_'>->'_x_'}'">{splitsurj</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:272">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitsurj'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:273">B}</a></span>) <span class="id">of</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#phantom">phantom</a></span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id">_</span>) <span class="id"><a href="mathcomp.classical.functions.html#f:274">f</a></span> <span class="id">:=</span> <span class="id">@invK</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#f:274">f</a></span>.<br/>
<span class="vernacular">Notation</span> <span id="::form_scope:'''invK_'_x" class="id">
  <a name="::form_scope:'''invK_'_x" class="">"'invK_&nbsp;f"</a>
</span> <span class="id">:=</span> (<span class="id"><a href="mathcomp.classical.functions.html#phant_invK">phant_invK</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#Phantom">Phantom</a></span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id">_</span>) <span class="id">f</span>)) <span class="id">:</span> <span class="id">form_scope</span>.<br/>
<span class="id">#[global]</span> <span class="vernacular">Hint</span> <span class="id">Resolve</span> <span class="id">invK</span> <span class="id">:</span> <span class="id">core</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="invS" class="id">
  <a name="invS" class="">invS</a>
</span> <span class="id">{aT</span> <span id="rT:276" class="id">
  <a name="rT:276" class="">rT}</a>
</span> <span class="id">{A</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#aT:275">aT}</a></span> <span class="id">{B</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:276">rT}</a></span> <span class="id">{f</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitsurj'_x_'>->'_x_'}'">{splitsurj</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:277">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitsurj'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:278">B}}</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_'/'_x_'>->'_x_'}'">{homo</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:279">f^-1</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_'/'_x_'>->'_x_'}'">:</a></span> <span id="x:281" class="id"><span id="x:280" class="id">
  <a name="x:281" class="">x</a>
</span></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_'/'_x_'>->'_x_'}'">/</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:278">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#x:280">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_'/'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:277">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#x:281">x}</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof5')">Proof.</span></div>
<div class="proofscript" id="proof5">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">x</span> <span class="id">/'oinvS_f/=</span> <span class="id">[a</span> <span class="id">Aa];</span> <span class="id">rewrite</span> <span class="id">-some_inv</span> <span class="id">=&gt;</span> <span class="id">-[&lt;-]</span>. Qed.</div>
<span class="vernacular">Definition</span> <span id="phant_invS" class="id">
  <a name="phant_invS" class="">phant_invS</a>
</span> <span id="aT:282" class="id">
  <a name="aT:282" class="">aT</a>
</span> <span id="rT:283" class="id">
  <a name="rT:283" class="">rT</a>
</span> (<span id="A:284" class="id">
  <a name="A:284" class="">A</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#aT:282">aT</a></span>) (<span id="B:285" class="id">
  <a name="B:285" class="">B</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:283">rT</a></span>)<br/>
&nbsp;&nbsp;&nbsp;<span class="id">{f</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitsurjfun'_x_'>->'_x_'}'">{splitsurjfun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:284">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitsurjfun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:285">B}}</a></span> <span class="id">of</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#phantom">phantom</a></span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id">_</span>) <span class="id"><a href="mathcomp.classical.functions.html#f:286">f</a></span> <span class="id">:=</span> <span class="id">@invS</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#f:286">f</a></span>.<br/>
<span class="vernacular">Notation</span> <span id="::form_scope:'''invS_'_x" class="id">
  <a name="::form_scope:'''invS_'_x" class="">"'invS_&nbsp;f"</a>
</span> <span class="id">:=</span> (<span class="id"><a href="mathcomp.classical.functions.html#phant_invS">phant_invS</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#Phantom">Phantom</a></span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id">_</span>) <span class="id">f</span>)) <span class="id">:</span> <span class="id">form_scope</span>.<br/>
<span class="id">#[global]</span> <span class="vernacular">Hint</span> <span class="id">Resolve</span> <span class="id">invS</span> <span class="id">:</span> <span class="id">core</span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="phant_funoK" class="id">
  <a name="phant_funoK" class="">phant_funoK</a>
</span> <span id="aT:287" class="id">
  <a name="aT:287" class="">aT</a>
</span> <span id="rT:288" class="id">
  <a name="rT:288" class="">rT</a>
</span> (<span id="A:289" class="id">
  <a name="A:289" class="">A</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#aT:287">aT</a></span>) (<span id="f:290" class="id">
  <a name="f:290" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'inj'_x_'>->'_x_'}'">{inj</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:289">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'inj'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:288">rT}</a></span>)<br/>
&nbsp;&nbsp;<span class="id">of</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#phantom">phantom</a></span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id">_</span>) <span class="id"><a href="mathcomp.classical.functions.html#f:290">f</a></span> <span class="id">:=</span> <span class="id">@funoK</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#f:290">f</a></span>.<br/>
<span class="vernacular">Notation</span> <span id="::form_scope:'''funoK_'_x" class="id">
  <a name="::form_scope:'''funoK_'_x" class="">"'funoK_&nbsp;f"</a>
</span> <span class="id">:=</span> (<span class="id"><a href="mathcomp.classical.functions.html#phant_funoK">phant_funoK</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#Phantom">Phantom</a></span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id">_</span>) <span class="id">f</span>)) <span class="id">:</span> <span class="id">form_scope</span>.<br/>
<span class="id">#[global]</span> <span class="vernacular">Hint</span> <span class="id">Resolve</span> <span class="id">funoK</span> <span class="id">:</span> <span class="id">core</span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="inj" class="id">
  <a name="inj" class="">inj</a>
</span> <span class="id">{aT</span> <span id="rT:292" class="id">
  <a name="rT:292" class="">rT</a>
</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#NonPropType.Exports.nonPropType">nonPropType}</a></span> <span class="id">{A</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#aT:291">aT}</a></span> <span class="id">{f</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'inj'_x_'>->'_x_'}'">{inj</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:293">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'inj'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:292">rT}}</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_'&'_','_x_'}'">{in</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:293">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_'&'_','_x_'}'">&amp;,</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#injective">injective</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:294">f}</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.mathcomp_extra.html#pcan_in_inj">pcan_in_inj</a></span> <span class="id"><a href="mathcomp.classical.functions.html#funoK">funoK</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="phant_inj" class="id">
  <a name="phant_inj" class="">phant_inj</a>
</span> <span id="aT:295" class="id">
  <a name="aT:295" class="">aT</a>
</span> <span id="rT:296" class="id">
  <a name="rT:296" class="">rT</a>
</span> (<span id="A:297" class="id">
  <a name="A:297" class="">A</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#aT:295">aT</a></span>) (<span id="f:298" class="id">
  <a name="f:298" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'inj'_x_'>->'_x_'}'">{inj</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:297">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'inj'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:296">rT}</a></span>) <span class="id">of</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#phantom">phantom</a></span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id">_</span>) <span class="id"><a href="mathcomp.classical.functions.html#f:298">f</a></span> <span class="id">:=</span> <span class="id">@inj</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#f:298">f</a></span>.<br/>
<span class="vernacular">Notation</span> <span id="::form_scope:'''inj_'_x" class="id">
  <a name="::form_scope:'''inj_'_x" class="">"'inj_&nbsp;f"</a>
</span> <span class="id">:=</span> (<span class="id"><a href="mathcomp.classical.functions.html#phant_inj">phant_inj</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#Phantom">Phantom</a></span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id">_</span>) <span class="id">f</span>)) <span class="id">:</span> <span class="id">form_scope</span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="inj_hint" class="id">
  <a name="inj_hint" class="">inj_hint</a>
</span> <span class="id">{aT</span> <span id="rT:300" class="id">
  <a name="rT:300" class="">rT}</a>
</span> <span class="id">{A</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#aT:299">aT}</a></span> <span class="id">{f</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'inj'_x_'>->'_x_'}'">{inj</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:301">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'inj'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:300">rT}}</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_'&'_','_x_'}'">{in</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:301">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_'&'_','_x_'}'">&amp;,</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#injective">injective</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:302">f}</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#inj">inj</a></span>.<br/>
<span class="id">#[global]</span> <span class="vernacular">Hint</span> <span class="id">Extern</span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_'&'_','_x_'}'">{in</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_'&'_','_x_'}'">&amp;,</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#injective">injective</a></span> <span class="id">_}</span> <span class="id">=&gt;</span> <span class="id">solve</span> <span class="id">[apply:</span> <span class="id"><a href="mathcomp.classical.functions.html#inj_hint">inj_hint]</a></span> <span class="id">:</span> <span class="id">core</span>.<br/>
<span class="id">#[global]</span> <span class="vernacular">Hint</span> <span class="id">Extern</span> <span class="id">0</span> (<span class="id"><a href="mathcomp.classical.functions.html#set_inj">set_inj</a></span> <span class="id">_</span> <span class="id">_</span>) <span class="id">=&gt;</span> <span class="id">solve</span> <span class="id">[apply:</span> <span class="id"><a href="mathcomp.classical.functions.html#inj_hint">inj_hint]</a></span> <span class="id">:</span> <span class="id">core</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="injT" class="id">
  <a name="injT" class="">injT</a>
</span> <span class="id">{aT</span> <span id="rT:304" class="id">
  <a name="rT:304" class="">rT}</a>
</span> <span class="id">{f</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'inj'_x_'>->'_x_'}'">{inj</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_':'_x_']'">[set:</a></span> <span class="id"><a href="mathcomp.classical.functions.html#aT:303">aT]</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'inj'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:304">rT}}</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#injective">injective</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:305">f</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof6')">Proof.</span></div>
<div class="proofscript" id="proof6">
 <span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#in2TT">in2TT;</a></span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.classical.functions.html#inj">inj</a></span>. Qed.</div>
<span class="id">#[global]</span> <span class="vernacular">Hint</span> <span class="id">Extern</span> <span class="id">0</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#injective">injective</a></span> <span class="id">_</span>) <span class="id">=&gt;</span> <span class="id">solve</span> <span class="id">[apply:</span> <span class="id"><a href="mathcomp.classical.functions.html#injT">injT]</a></span> <span class="id">:</span> <span class="id">core</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="funK" class="id">
  <a name="funK" class="">funK</a>
</span> <span class="id">{aT</span> <span id="rT:307" class="id">
  <a name="rT:307" class="">rT</a>
</span> <span class="id">:</span> <span class="id">Type}</span> <span class="id">{A</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#aT:306">aT}</a></span> <span class="id">{s</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitinj'_x_'>->'_x_'}'">{splitinj</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:308">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitinj'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:307">rT}}</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_','_x_'}'">{in</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:308">A,</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id"><a href="mathcomp.classical.functions.html#s:309">s</a></span> <span class="id"><a href="mathcomp.classical.functions.html#s:309">s^-1}</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof7')">Proof.</span></div>
<div class="proofscript" id="proof7">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">x</span> <span class="id">Ax;</span> <span class="id">apply:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#Some_inj">Some_inj;</a></span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#some_inv">some_inv</a></span> <span class="id"><a href="mathcomp.classical.functions.html#funoK">funoK</a></span>. Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span id="phant_funK" class="id">
  <a name="phant_funK" class="">phant_funK</a>
</span> <span id="aT:310" class="id">
  <a name="aT:310" class="">aT</a>
</span> <span id="rT:311" class="id">
  <a name="rT:311" class="">rT</a>
</span> (<span id="A:312" class="id">
  <a name="A:312" class="">A</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#aT:310">aT</a></span>) (<span id="f:313" class="id">
  <a name="f:313" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitinj'_x_'>->'_x_'}'">{splitinj</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:312">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitinj'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:311">rT}</a></span>)<br/>
&nbsp;&nbsp;<span class="id">of</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#phantom">phantom</a></span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id">_</span>) <span class="id"><a href="mathcomp.classical.functions.html#f:313">f</a></span> <span class="id">:=</span> <span class="id">@funK</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#f:313">f</a></span>.<br/>
<span class="vernacular">Notation</span> <span id="::form_scope:'''funK_'_x" class="id">
  <a name="::form_scope:'''funK_'_x" class="">"'funK_&nbsp;&nbsp;f"</a>
</span> <span class="id">:=</span> (<span class="id"><a href="mathcomp.classical.functions.html#phant_funK">phant_funK</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#Phantom">Phantom</a></span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id">_</span>) <span class="id">f</span>)) <span class="id">:</span> <span class="id">form_scope</span>.<br/>
<span class="id">#[global]</span> <span class="vernacular">Hint</span> <span class="id">Resolve</span> <span class="id">funK</span> <span class="id">:</span> <span class="id">core</span>.<br/>
<br/>
<div class="doc">Structure Equality </div>
<br/>
<span class="vernacular">Lemma</span> <span id="funP" class="id">
  <a name="funP" class="">funP</a>
</span> <span class="id">{aT</span> <span id="rT:315" class="id">
  <a name="rT:315" class="">rT}</a>
</span> <span class="id">{A</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#aT:314">aT}</a></span> <span class="id">{B</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:315">rT}</a></span> (<span id="f:318" class="id">
  <a name="f:318" class="">f</a>
</span> <span id="g:319" class="id">
  <a name="g:319" class="">g</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'{'_'fun'_x_'>->'_x_'}'">{fun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:316">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'{'_'fun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:317">B}</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#f:318">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.classical.functions.html#g:319">g</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'<->'_x">&lt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:318">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:x_'=1'_x">=1</a></span> <span class="id"><a href="mathcomp.classical.functions.html#g:319">g</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof8')">Proof.</span></div>
<div class="proofscript" id="proof8">
<span class="id">case:</span> <span class="id">f</span> <span class="id">g</span> <span class="id">=&gt;</span> <span class="id">[f</span> <span class="id">[[ffun]]]</span> <span class="id">[g</span> <span class="id">[[gfun]]]/=;</span> <span class="id">split=&gt;</span> <span class="id">[[-&gt;//]|/funext</span> <span class="id">eqfg]</span>.<br/>
<span class="id">rewrite</span> <span class="id">eqfg</span> <span class="gallina-kwd">in</span> <span class="id">ffun</span> <span class="id">*;</span> <span class="id">congr</span> <span class="id">{|</span> <span class="id"><a href="mathcomp.classical.functions.html#sort">Fun.sort</a></span> <span class="id">:=</span> <span class="id">_;</span> <span class="id"><a href="mathcomp.classical.functions.html#class">Fun.class</a></span> <span class="id">:=</span> <span class="id">{|</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#functions_isFun_mixin">Fun.functions_isFun_mixin</a></span> <span class="id">:=</span> <span class="id">{|isFun</span>.<span class="id">funS</span> <span class="id">:=</span> <span class="id">_|}|}|}</span>.<br/>
<span class="id">exact:</span> <span class="id"><a href="mathcomp.classical.boolp.html#Prop_irrelevance">Prop_irrelevance</a></span>.<br/>
Qed.</div>
<br/>
<div class="doc">Preliminary Builders </div>
<br/>
<span class="id">HB.factory</span> <span class="vernacular">Record</span> <span class="id">Inv_Can</span> <span class="id">{aT</span> <span id="rT:321" class="id">
  <a name="rT:321" class="">rT}</a>
</span> <span class="id">{A</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#aT:320">aT}</a></span> (<span id="f:323" class="id">
  <a name="f:323" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#aT:320">aT</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:321">rT</a></span>) <span class="id">of</span> <span class="id"><a href="mathcomp.classical.functions.html#Inv">Inv</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#f:323">f</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id">{</span> <span id="funK:324" class="id">
  <a name="funK:324" class="">funK</a>
</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_','_x_'}'">{in</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:322">A,</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:323">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:323">f^-1}</a></span> <span class="id">}</span>.<br/>
<span class="id">HB.builders</span> <span class="vernacular">Context</span> <span class="id">{aT</span> <span id="rT:330" class="id">
  <a name="rT:330" class="">rT}</a>
</span> <span id="A:331" class="id">
  <a name="A:331" class="">A</a>
</span> (<span id="f:332" class="id">
  <a name="f:332" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#aT:329">aT</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:330">rT</a></span>) <span class="id">of</span> <span class="id">@Inv_Can</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#A:331">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:332">f</a></span>.<br/>
&nbsp;&nbsp;<span class="id">Local</span> <span class="vernacular">Lemma</span> <span id="Builders_105.funoK" class="id">
  <a name="Builders_105.funoK" class="">funoK:</a>
</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_','_x_'}'">{in</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_105.Builders_105.A">A,</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#pcancel">pcancel</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_105.Builders_105.f">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#:::'''oinv_'_x">'oinv_f}</a></span>.<br/>
<div>&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof9')">Proof.</span></div>
<div class="proofscript" id="proof9">
 <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-oliftV/=;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.classical.mathcomp_extra.html#can_in_pcan">can_in_pcan;</a></span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_105.funK">funK</a></span>. Qed.</div>
&nbsp;&nbsp;<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#OInv_Can.Build">OInv_Can.Build</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_105.Builders_105.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_105.Builders_105.f">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_105.funoK">funoK</a></span>.<br/>
<span class="id">HB.end</span>.<br/>
<br/>
<span class="id">HB.factory</span> <span class="vernacular">Record</span> <span class="id">Inv_CanV</span> <span class="id">{aT</span> <span id="rT:338" class="id">
  <a name="rT:338" class="">rT}</a>
</span> <span class="id">{A</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#aT:337">aT}</a></span> <span class="id">{B</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:338">rT}</a></span> (<span id="f:341" class="id">
  <a name="f:341" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#aT:337">aT</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:338">rT</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">of</span> <span class="id"><a href="mathcomp.classical.functions.html#Inv">Inv</a></span> <span class="id"><a href="mathcomp.classical.functions.html#aT:337">aT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:338">rT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:341">f</a></span> <span class="id">:=</span> <span class="id">{</span><br/>
&nbsp;&nbsp;<span id="invS:344" class="id">
  <a name="invS:344" class="">invS</a>
</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_'/'_x_'>->'_x_'}'">{homo</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:341">f^-1</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_'/'_x_'>->'_x_'}'">:</a></span> <span id="x:343" class="id"><span id="x:342" class="id">
  <a name="x:343" class="">x</a>
</span></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_'/'_x_'>->'_x_'}'">/</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:340">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#x:342">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_'/'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:339">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#x:343">x};</a></span><br/>
&nbsp;&nbsp;<span id="invK:345" class="id">
  <a name="invK:345" class="">invK</a>
</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_','_x_'}'">{in</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:340">B,</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:341">f^-1</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:341">f};</a></span><br/>
<span class="id">}</span>.<br/>
<span class="id">HB.builders</span> <span class="vernacular">Context</span> <span class="id">{aT</span> <span id="rT:352" class="id">
  <a name="rT:352" class="">rT}</a>
</span> <span class="id">{A</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#aT:351">aT}</a></span> <span class="id">{B</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:352">rT}</a></span> (<span id="f:355" class="id">
  <a name="f:355" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#aT:351">aT</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:352">rT</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">of</span> <span class="id"><a href="mathcomp.classical.functions.html#Inv_CanV">Inv_CanV</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#A:353">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:354">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:355">f</a></span>.<br/>
&nbsp;&nbsp;<span class="id">#[local]</span> <span class="vernacular">Lemma</span> <span id="Builders_109.oinvK" class="id">
  <a name="Builders_109.oinvK" class="">oinvK</a>
</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_','_x_'}'">{in</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_109.Builders_109.B">B,</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#ocancel">ocancel</a></span> <span class="id"><a href="mathcomp.classical.functions.html#:::'''oinv_'_x">'oinv_f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_109.Builders_109.f">f}</a></span>.<br/>
<div>&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof10')">Proof.</span></div>
<div class="proofscript" id="proof10">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">x</span> <span class="id">Bx;</span> <span class="id">rewrite</span> <span class="id">-some_inv/=</span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_109.invK">invK</a></span>. Qed.</div>
&nbsp;&nbsp;<span class="id">#[local]</span> <span class="vernacular">Lemma</span> <span id="Builders_109.oinvS" class="id">
  <a name="Builders_109.oinvS" class="">oinvS</a>
</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_'/'_x_'>->'_x_'}'">{homo</a></span> <span class="id"><a href="mathcomp.classical.functions.html#:::'''oinv_'_x">'oinv_f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_'/'_x_'>->'_x_'}'">:</a></span> <span id="x:362" class="id"><span id="x:361" class="id">
  <a name="x:362" class="">x</a>
</span></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_'/'_x_'>->'_x_'}'">/</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_109.Builders_109.B">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#x:361">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_'/'_x_'>->'_x_'}'">&gt;-&gt;</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#some">some</a></span> <span class="id">@`</span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_109.Builders_109.A">A</a></span>) <span class="id"><a href="mathcomp.classical.functions.html#x:362">x}</a></span>.<br/>
<div>&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof11')">Proof.</span></div>
<div class="proofscript" id="proof11">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">x</span> <span class="id">/invS</span> <span class="id">Af'x;</span> <span class="gallina-kwd">exists</span> (<span class="id"><a href="mathcomp.classical.functions.html#Builders_109.Builders_109.f">f^-1</a></span> <span class="id">x</span>)<span class="id">;</span> <span class="id">rewrite</span> <span class="id">//</span> <span class="id">-some_inv</span>. Qed.</div>
&nbsp;&nbsp;<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#OInv_CanV.Build">OInv_CanV.Build</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_109.Builders_109.f">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_109.oinvS">oinvS</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_109.oinvK">oinvK</a></span>.<br/>
<span class="id">HB.end</span>.<br/>
<br/>
<div class="doc">Trivial instances </div>
<br/>
<span class="vernacular">Section</span> <span id="OInverse" class="id">
  <a name="OInverse" class="">OInverse</a>
</span>.<br/>
<span class="vernacular">Context</span> <span class="id">{aT</span> <span id="rT:364" class="id">
  <a name="rT:364" class="">rT</a>
</span> <span class="id">:</span> <span class="id">Type}</span> <span class="id">{A</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#aT:363">aT}</a></span> <span class="id">{B</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:364">rT}</a></span>.<br/>
<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">{f</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'oinv'_x_'>->'_x_'}'">{oinv</a></span> <span class="id"><a href="mathcomp.classical.functions.html#OInverse.aT">aT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'oinv'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#OInverse.rT">rT}}</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#Build">OInv.Build</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#:::'''oinv_'_x">'oinv_f</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#omap">omap</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:367">f</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="oinvV" class="id">
  <a name="oinvV" class="">oinvV</a>
</span> <span class="id">{f</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'oinv'_x_'>->'_x_'}'">{oinv</a></span> <span class="id"><a href="mathcomp.classical.functions.html#OInverse.aT">aT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'oinv'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#OInverse.rT">rT}}</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#:::'''oinv_'_x">'oinv_</a></span>(<span class="id"><a href="mathcomp.classical.functions.html#:::'''oinv_'_x">'oinv_f</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#omap">omap</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:368">f</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof12')">Proof.</span></div>
<div class="proofscript" id="proof12">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> (<span id="f:369" class="id">
  <a name="f:369" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'surj'_x_'>->'_x_'}'">{surj</a></span> <span class="id"><a href="mathcomp.classical.functions.html#OInverse.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'surj'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#OInverse.B">B}</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#Build">isFun.Build</a></span> <span class="id"><a href="mathcomp.classical.functions.html#OInverse.rT">rT</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="mathcomp.classical.functions.html#OInverse.aT">aT</a></span>) <span class="id"><a href="mathcomp.classical.functions.html#OInverse.B">B</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#some">some</a></span> <span class="id">@`</span> <span class="id"><a href="mathcomp.classical.functions.html#OInverse.A">A</a></span>) <span class="id"><a href="mathcomp.classical.functions.html#:::'''oinv_'_x">'oinv_f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#oinvS">oinvS</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="surjoinv_inj_subproof" class="id">
  <a name="surjoinv_inj_subproof" class="">surjoinv_inj_subproof</a>
</span> (<span id="f:370" class="id">
  <a name="f:370" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'surj'_x_'>->'_x_'}'">{surj</a></span> <span class="id"><a href="mathcomp.classical.functions.html#OInverse.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'surj'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#OInverse.B">B}</a></span>) <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#OInv_Can">OInv_Can</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#OInverse.B">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#:::'''oinv_'_x">'oinv_f</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof13')">Proof.</span></div>
<div class="proofscript" id="proof13">
<span class="id">split=&gt;</span> <span class="id">x</span> <span class="id">Bx/=;</span> <span class="id">rewrite</span> <span class="id">-[x</span> <span class="gallina-kwd">in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS]</a></span>(<span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'''oinvK_'_x">'oinvK_f</a></span> <span class="id">Bx</span>).<br/>
<span class="gallina-kwd">by</span> <span class="id">have</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'''oinvT_'_x">'oinvT_f</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#set_mem">set_mem</a></span> <span class="id">Bx</span>)<span class="id">;</span> <span class="id">case:</span> <span class="id"><a href="mathcomp.classical.functions.html#:::'''oinv_'_x">'oinv_f</a></span>.<br/>
Qed.</div>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span id="f:371" class="id">
  <a name="f:371" class="">f</a>
</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#surjoinv_inj_subproof">surjoinv_inj_subproof</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:371">f</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="injoinv_surj_subproof" class="id">
  <a name="injoinv_surj_subproof" class="">injoinv_surj_subproof</a>
</span> (<span id="f:372" class="id">
  <a name="f:372" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'injfun'_x_'>->'_x_'}'">{injfun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#OInverse.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'injfun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#OInverse.B">B}</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#OInv_CanV">OInv_CanV</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#OInverse.B">B</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#some">some</a></span> <span class="id">@`</span> <span class="id"><a href="mathcomp.classical.functions.html#OInverse.A">A</a></span>) <span class="id"><a href="mathcomp.classical.functions.html#:::'''oinv_'_x">'oinv_f</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof14')">Proof.</span></div>
<div class="proofscript" id="proof14">
<span class="id">split=&gt;</span> <span class="id">[_|_</span> <span class="id">/set_mem]</span> <span class="id">[a</span> <span class="id">Aa</span> <span class="id">&lt;-]/=;</span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#funoK">funoK</a></span> <span class="id">?inE</span>.<br/>
<span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> (<span class="id">f</span> <span class="id">a</span>) <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.classical.functions.html#funS">funS</a></span>.<br/>
Qed.</div>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> (<span id="f:373" class="id">
  <a name="f:373" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'injfun'_x_'>->'_x_'}'">{injfun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#OInverse.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'injfun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#OInverse.B">B}</a></span>) <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#injoinv_surj_subproof">injoinv_surj_subproof</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:373">f</a></span>.<br/>
<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">{f</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'bij'_x_'>->'_x_'}'">{bij</a></span> <span class="id"><a href="mathcomp.classical.functions.html#OInverse.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'bij'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#OInverse.B">B}}</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#on">InjFun.on</a></span> <span class="id"><a href="mathcomp.classical.functions.html#:::'''oinv_'_x">'oinv_f</a></span>.<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.classical.functions.html#OInverse">OInverse</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="Inverse" class="id">
  <a name="Inverse" class="">Inverse</a>
</span>.<br/>
<span class="vernacular">Context</span> <span class="id">{aT</span> <span id="rT:376" class="id">
  <a name="rT:376" class="">rT</a>
</span> <span class="id">:</span> <span class="id">Type}</span> <span class="id">{A</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#aT:375">aT}</a></span> <span class="id">{B</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:376">rT}</a></span>.<br/>
<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> (<span id="f:379" class="id">
  <a name="f:379" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'inv'_x_'>->'_x_'}'">{inv</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Inverse.aT">aT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'inv'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Inverse.rT">rT}</a></span>) <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#Build">Inv.Build</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Inverse.rT">rT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Inverse.aT">aT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:379">f^-1</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:379">f</a></span>.<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> (<span id="f:380" class="id">
  <a name="f:380" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'inv'_x_'>->'_x_'}'">{inv</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Inverse.aT">aT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'inv'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Inverse.rT">rT}</a></span>) <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#copy">Inversible.copy</a></span> <span class="id"><a href="mathcomp.classical.functions.html#inv">inv</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:380">f^-1</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="invV" class="id">
  <a name="invV" class="">invV</a>
</span> (<span id="f:381" class="id">
  <a name="f:381" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'inv'_x_'>->'_x_'}'">{inv</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Inverse.aT">aT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'inv'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Inverse.rT">rT}</a></span>) <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#f:381">f^-1^-1</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:381">f</a></span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof15')">Proof.</span></div>
<div class="proofscript" id="proof15">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> (<span id="f:382" class="id">
  <a name="f:382" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitsurj'_x_'>->'_x_'}'">{splitsurj</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Inverse.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitsurj'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Inverse.B">B}</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#Build">isFun.Build</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Inverse.rT">rT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Inverse.aT">aT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Inverse.B">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Inverse.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:382">f^-1</a></span> <span class="id"><a href="mathcomp.classical.functions.html#invS">invS</a></span>.<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> (<span id="f:383" class="id">
  <a name="f:383" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitsurj'_x_'>->'_x_'}'">{splitsurj</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Inverse.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitsurj'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Inverse.B">B}</a></span>) <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#copy">Fun.copy</a></span> <span class="id"><a href="mathcomp.classical.functions.html#inv">inv</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:383">f^-1</a></span>.<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">{f</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitsurj'_x_'>->'_x_'}'">{splitsurj</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Inverse.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitsurj'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Inverse.B">B}}</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#Build">Inv_Can.Build</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#f:384">f^-1</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'''invK_'_x">'invK_f</a></span>.<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> (<span id="f:385" class="id">
  <a name="f:385" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitinjfun'_x_'>->'_x_'}'">{splitinjfun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Inverse.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitinjfun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Inverse.B">B}</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#Build">Inv_CanV.Build</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#f:385">f^-1</a></span> <span class="id"><a href="mathcomp.classical.functions.html#funS">funS</a></span> <span class="id"><a href="mathcomp.classical.functions.html#funK">funK</a></span>.<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">{f</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitbij'_x_'>->'_x_'}'">{splitbij</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Inverse.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitbij'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Inverse.B">B}}</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#on">InjFun.on</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:386">f^-1</a></span>.<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.classical.functions.html#Inverse">Inverse</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="Some" class="id">
  <a name="Some" class="">Some</a>
</span>.<br/>
<span class="vernacular">Context</span> <span class="id">{T}</span> <span class="id">{A</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#T:387">T}</a></span>.<br/>
<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#Build">OInv.Build</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="id">@Some</span> <span class="id"><a href="mathcomp.classical.functions.html#Some.T">T</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#id">id</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="oinv_some" class="id">
  <a name="oinv_some" class="">oinv_some</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#:::'''oinv_'_x">'oinv_</a></span>(<span class="id">@Some</span> <span class="id"><a href="mathcomp.classical.functions.html#Some.T">T</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#id">id</a></span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof16')">Proof.</span></div>
<div class="proofscript" id="proof16">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="some_can_subproof" class="id">
  <a name="some_can_subproof" class="">some_can_subproof</a>
</span> <span class="id">:</span> <span class="id">@OInv_Can</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#Some.A">A</a></span> (<span class="id">@Some</span> <span class="id"><a href="mathcomp.classical.functions.html#Some.T">T</a></span>)<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof17')">Proof.</span></div>
<div class="proofscript" id="proof17">
 <span class="gallina-kwd">by</span> <span class="id">split</span>. Qed.</div>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#some_can_subproof">some_can_subproof</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="some_canV_subproof" class="id">
  <a name="some_canV_subproof" class="">some_canV_subproof</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#OInv_CanV">OInv_CanV</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#Some.A">A</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#some">some</a></span> <span class="id">@`</span> <span class="id"><a href="mathcomp.classical.functions.html#Some.A">A</a></span>) (<span class="id">@Some</span> <span class="id"><a href="mathcomp.classical.functions.html#Some.T">T</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof18')">Proof.</span></div>
<div class="proofscript" id="proof18">
 <span class="gallina-kwd">by</span> <span class="id">split=&gt;</span> <span class="id">[x|x</span> <span class="id">/set_mem]</span> <span class="id">[a</span> <span class="id">Aa</span> <span class="id">&lt;-]//=;</span> <span class="gallina-kwd">exists</span> <span class="id">a</span>. Qed.</div>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span>  <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#some_canV_subproof">some_canV_subproof</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="some_fun_subproof" class="id">
  <a name="some_fun_subproof" class="">some_fun_subproof</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#isFun">isFun</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#Some.A">A</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#some">some</a></span> <span class="id">@`</span> <span class="id"><a href="mathcomp.classical.functions.html#Some.A">A</a></span>) (<span class="id">@Some</span> <span class="id"><a href="mathcomp.classical.functions.html#Some.T">T</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof19')">Proof.</span></div>
<div class="proofscript" id="proof19">
 <span class="gallina-kwd">by</span> <span class="id">split=&gt;</span> <span class="id">x;</span> <span class="gallina-kwd">exists</span> <span class="id">x</span>. Qed.</div>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#some_fun_subproof">some_fun_subproof</a></span>.<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.classical.functions.html#Some">Some</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="OApply" class="id">
  <a name="OApply" class="">OApply</a>
</span>.<br/>
<span class="vernacular">Context</span> <span class="id">{aT</span> <span id="rT:390" class="id">
  <a name="rT:390" class="">rT}</a>
</span> <span class="id">{A</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#aT:389">aT}</a></span> <span class="id">{B</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:390">rT}</a></span> <span class="id">{b0</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#rT:390">rT}</a></span>.<br/>
<span class="id">Local</span> <span class="vernacular">Notation</span> <span id="oapp" class="id">
  <a name="oapp" class="">oapp</a>
</span> <span class="id">f</span> <span class="id">:=</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#oapp">oapp</a></span> <span class="id">f</span> <span class="id"><a href="mathcomp.classical.functions.html#OApply.b0">b0</a></span>).<br/>
<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">{f</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'oinv'_x_'>->'_x_'}'">{oinv</a></span> <span class="id"><a href="mathcomp.classical.functions.html#OApply.aT">aT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'oinv'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#OApply.rT">rT}}</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#Build">Inv.Build</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.classical.functions.html#oapp">oapp</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:394">f</a></span>) <span class="id"><a href="mathcomp.classical.functions.html#:::'''oinv_'_x">'oinv_f</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="inv_oapp" class="id">
  <a name="inv_oapp" class="">inv_oapp</a>
</span> <span class="id">{f</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'oinv'_x_'>->'_x_'}'">{oinv</a></span> <span class="id"><a href="mathcomp.classical.functions.html#OApply.aT">aT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'oinv'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#OApply.rT">rT}}</a></span> <span class="id">:</span> (<span class="id"><a href="mathcomp.classical.functions.html#oapp">oapp</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:395">f</a></span>)<span class="id">^-1</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.classical.functions.html#:::'''oinv_'_x">'oinv_f</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof20')">Proof.</span></div>
<div class="proofscript" id="proof20">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span class="vernacular">Lemma</span> <span id="oinv_oapp" class="id">
  <a name="oinv_oapp" class="">oinv_oapp</a>
</span>  <span class="id">{f</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'oinv'_x_'>->'_x_'}'">{oinv</a></span> <span class="id"><a href="mathcomp.classical.functions.html#OApply.aT">aT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'oinv'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#OApply.rT">rT}}</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#:::'''oinv_'_x">'oinv_</a></span>(<span class="id"><a href="mathcomp.classical.functions.html#oapp">oapp</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:396">f</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.classical.mathcomp_extra.html#olift">olift</a></span> <span class="id"><a href="mathcomp.classical.functions.html#:::'''oinv_'_x">'oinv_f</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof21')">Proof.</span></div>
<div class="proofscript" id="proof21">
 <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-inv_oapp</span>. Qed.</div>
<span class="vernacular">Lemma</span> <span id="inv_oappV" class="id">
  <a name="inv_oappV" class="">inv_oappV</a>
</span> <span class="id">{f</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'inv'_x_'>->'_x_'}'">{inv</a></span> <span class="id"><a href="mathcomp.classical.functions.html#OApply.aT">aT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'inv'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#OApply.rT">rT}}</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.mathcomp_extra.html#olift">olift</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:397">f^-1</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#oapp">oapp</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:397">f</a></span>)<span class="id">^-1</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof22')">Proof.</span></div>
<div class="proofscript" id="proof22">
 <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#inv_oapp">inv_oapp</a></span> <span class="id">-oliftV</span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="oapp_can_subproof" class="id">
  <a name="oapp_can_subproof" class="">oapp_can_subproof</a>
</span> (<span id="f:398" class="id">
  <a name="f:398" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'inj'_x_'>->'_x_'}'">{inj</a></span> <span class="id"><a href="mathcomp.classical.functions.html#OApply.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'inj'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#OApply.rT">rT}</a></span>) <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#Inv_Can">Inv_Can</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#some">some</a></span> <span class="id">@`</span> <span class="id"><a href="mathcomp.classical.functions.html#OApply.A">A</a></span>) (<span class="id"><a href="mathcomp.classical.functions.html#oapp">oapp</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:398">f</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof23')">Proof.</span></div>
<div class="proofscript" id="proof23">
 <span class="gallina-kwd">by</span> <span class="id">split=&gt;</span> <span class="id">x</span> <span class="id">/set_mem[a</span> <span class="id">Aa</span> <span class="id">&lt;-]/=;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#inv_oapp">inv_oapp</a></span> <span class="id"><a href="mathcomp.classical.functions.html#funoK">funoK</a></span> <span class="id">?inE</span>. Qed.</div>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span id="f:399" class="id">
  <a name="f:399" class="">f</a>
</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#oapp_can_subproof">oapp_can_subproof</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:399">f</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="oapp_surj_subproof" class="id">
  <a name="oapp_surj_subproof" class="">oapp_surj_subproof</a>
</span> (<span id="f:400" class="id">
  <a name="f:400" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'surj'_x_'>->'_x_'}'">{surj</a></span> <span class="id"><a href="mathcomp.classical.functions.html#OApply.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'surj'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#OApply.B">B}</a></span>) <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#Inv_CanV">Inv_CanV</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#some">some</a></span> <span class="id">@`</span> <span class="id"><a href="mathcomp.classical.functions.html#OApply.A">A</a></span>) <span class="id"><a href="mathcomp.classical.functions.html#OApply.B">B</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#oapp">oapp</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:400">f</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof24')">Proof.</span></div>
<div class="proofscript" id="proof24">
<span class="gallina-kwd">by</span> <span class="id">split=&gt;</span> <span class="id">[b|b</span> <span class="id">/set_mem]</span> <span class="id">Bb/=;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#inv_oapp">inv_oapp;</a></span> <span class="id">case:</span> <span class="id"><a href="mathcomp.classical.functions.html#oinvP">oinvP</a></span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">x;</span> <span class="gallina-kwd">exists</span> <span class="id">x</span>.<br/>
Qed.</div>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span>  <span id="f:401" class="id">
  <a name="f:401" class="">f</a>
</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#oapp_surj_subproof">oapp_surj_subproof</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:401">f</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="oapp_fun_subproof" class="id">
  <a name="oapp_fun_subproof" class="">oapp_fun_subproof</a>
</span> (<span id="f:402" class="id">
  <a name="f:402" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'{'_'fun'_x_'>->'_x_'}'">{fun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#OApply.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'{'_'fun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#OApply.B">B}</a></span>) <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#isFun">isFun</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#some">some</a></span> <span class="id">@`</span> <span class="id"><a href="mathcomp.classical.functions.html#OApply.A">A</a></span>) <span class="id"><a href="mathcomp.classical.functions.html#OApply.B">B</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#oapp">oapp</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:402">f</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof25')">Proof.</span></div>
<div class="proofscript" id="proof25">
 <span class="gallina-kwd">by</span> <span class="id">split=&gt;</span> <span class="id">x</span> <span class="id">[a</span> <span class="id">Aa</span> <span class="id">&lt;-]</span> <span class="id">/=;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.classical.functions.html#funS">funS</a></span>. Qed.</div>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span id="f:403" class="id">
  <a name="f:403" class="">f</a>
</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#oapp_fun_subproof">oapp_fun_subproof</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:403">f</a></span>.<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> (<span id="f:404" class="id">
  <a name="f:404" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'oinvfun'_x_'>->'_x_'}'">{oinvfun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#OApply.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'oinvfun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#OApply.B">B}</a></span>) <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#on">Fun.on</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#oapp">oapp</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:404">f</a></span>).<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> (<span id="f:405" class="id">
  <a name="f:405" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'injfun'_x_'>->'_x_'}'">{injfun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#OApply.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'injfun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#OApply.B">B}</a></span>) <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#on">Fun.on</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#oapp">oapp</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:405">f</a></span>).<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> (<span id="f:406" class="id">
  <a name="f:406" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'surjfun'_x_'>->'_x_'}'">{surjfun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#OApply.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'surjfun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#OApply.B">B}</a></span>) <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#on">Fun.on</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#oapp">oapp</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:406">f</a></span>).<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> (<span id="f:407" class="id">
  <a name="f:407" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'bij'_x_'>->'_x_'}'">{bij</a></span> <span class="id"><a href="mathcomp.classical.functions.html#OApply.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'bij'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#OApply.B">B}</a></span>) <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#on">Fun.on</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#oapp">oapp</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:407">f</a></span>).<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> (<span id="f:408" class="id">
  <a name="f:408" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitbij'_x_'>->'_x_'}'">{splitbij</a></span> <span class="id"><a href="mathcomp.classical.functions.html#OApply.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitbij'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#OApply.B">B}</a></span>) <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#on">Fun.on</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#oapp">oapp</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:408">f</a></span>).<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.classical.functions.html#OApply">OApply</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="OBind" class="id">
  <a name="OBind" class="">OBind</a>
</span>.<br/>
<span class="vernacular">Context</span> <span class="id">{aT</span> <span id="rT:410" class="id">
  <a name="rT:410" class="">rT}</a>
</span> <span class="id">{A</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#aT:409">aT}</a></span> <span class="id">{B</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:410">rT</a></span>)<span class="id">}</span>.<br/>
<span class="id">Local</span> <span class="vernacular">Notation</span> <span id="b" class="id">
  <a name="b" class="">b</a>
</span> <span class="id">f</span> <span class="id">:=</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#oapp">oapp</a></span> <span class="id">f</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#None">None</a></span>).<br/>
<span class="id">Local</span> <span class="vernacular">Notation</span> <span id="orT" class="id">
  <a name="orT" class="">orT</a>
</span> <span class="id">:=</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="mathcomp.classical.functions.html#OBind.rT">rT</a></span>).<br/>
<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">{f</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'oinv'_x_'>->'_x_'}'">{oinv</a></span> <span class="id"><a href="mathcomp.classical.functions.html#OBind.aT">aT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'oinv'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#orT">orT}}</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#Build">Inv.Build</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#obind">obind</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:413">f</a></span>) <span class="id"><a href="mathcomp.classical.functions.html#:::'''oinv_'_x">'oinv_f</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="inv_obind" class="id">
  <a name="inv_obind" class="">inv_obind</a>
</span> <span class="id">{f</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'oinv'_x_'>->'_x_'}'">{oinv</a></span> <span class="id"><a href="mathcomp.classical.functions.html#OBind.aT">aT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'oinv'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#orT">orT}}</a></span> <span class="id">:</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#obind">obind</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:414">f</a></span>)<span class="id">^-1</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.classical.functions.html#:::'''oinv_'_x">'oinv_f</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof26')">Proof.</span></div>
<div class="proofscript" id="proof26">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span class="vernacular">Lemma</span> <span id="oinv_obind" class="id">
  <a name="oinv_obind" class="">oinv_obind</a>
</span> <span class="id">{f</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'oinv'_x_'>->'_x_'}'">{oinv</a></span> <span class="id"><a href="mathcomp.classical.functions.html#OBind.aT">aT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'oinv'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#orT">orT}}</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#:::'''oinv_'_x">'oinv_</a></span>(<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#obind">obind</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:415">f</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.classical.mathcomp_extra.html#olift">olift</a></span> <span class="id"><a href="mathcomp.classical.functions.html#:::'''oinv_'_x">'oinv_f</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof27')">Proof.</span></div>
<div class="proofscript" id="proof27">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span class="vernacular">Lemma</span> <span id="inv_obindV" class="id">
  <a name="inv_obindV" class="">inv_obindV</a>
</span> <span class="id">{f</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'inv'_x_'>->'_x_'}'">{inv</a></span> <span class="id"><a href="mathcomp.classical.functions.html#OBind.aT">aT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'inv'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#orT">orT}}</a></span> <span class="id">:</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#obind">obind</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:416">f</a></span>)<span class="id">^-1</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.classical.mathcomp_extra.html#olift">olift</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:416">f^-1</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof28')">Proof.</span></div>
<div class="proofscript" id="proof28">
 <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#inv_obind">inv_obind</a></span> <span class="id">-oliftV</span>. Qed.</div>
<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> (<span id="f:417" class="id">
  <a name="f:417" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'{'_'fun'_x_'>->'_x_'}'">{fun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#OBind.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'{'_'fun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#OBind.B">B}</a></span>) <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#copy">Fun.copy</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#obind">obind</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:417">f</a></span>) (<span class="id"><a href="mathcomp.classical.functions.html#b">b</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:417">f</a></span>).<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> (<span id="f:418" class="id">
  <a name="f:418" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'inj'_x_'>->'_x_'}'">{inj</a></span> <span class="id"><a href="mathcomp.classical.functions.html#OBind.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'inj'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#orT">orT}</a></span>) <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#copy">Inject.copy</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#obind">obind</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:418">f</a></span>) (<span class="id"><a href="mathcomp.classical.functions.html#b">b</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:418">f</a></span>).<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> (<span id="f:419" class="id">
  <a name="f:419" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'injfun'_x_'>->'_x_'}'">{injfun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#OBind.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'injfun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#OBind.B">B}</a></span>) <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#on">Fun.on</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#obind">obind</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:419">f</a></span>).<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> (<span id="f:420" class="id">
  <a name="f:420" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'surj'_x_'>->'_x_'}'">{surj</a></span> <span class="id"><a href="mathcomp.classical.functions.html#OBind.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'surj'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#OBind.B">B}</a></span>) <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#copy">Surject.copy</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#obind">obind</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:420">f</a></span>) (<span class="id"><a href="mathcomp.classical.functions.html#b">b</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:420">f</a></span>).<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> (<span id="f:421" class="id">
  <a name="f:421" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'surjfun'_x_'>->'_x_'}'">{surjfun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#OBind.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'surjfun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#OBind.B">B}</a></span>) <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#on">Fun.on</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#obind">obind</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:421">f</a></span>).<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> (<span id="f:422" class="id">
  <a name="f:422" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'bij'_x_'>->'_x_'}'">{bij</a></span> <span class="id"><a href="mathcomp.classical.functions.html#OBind.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'bij'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#OBind.B">B}</a></span>) <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#on">Fun.on</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#obind">obind</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:422">f</a></span>).<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.classical.functions.html#OBind">OBind</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="Composition" class="id">
  <a name="Composition" class="">Composition</a>
</span>.<br/>
<span class="vernacular">Context</span> <span class="id">{aT</span> <span id="rT:424" class="id">
  <a name="rT:424" class="">rT</a>
</span> <span id="sT:425" class="id">
  <a name="sT:425" class="">sT}</a>
</span> <span class="id">{A</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#aT:423">aT}</a></span> <span class="id">{B</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:424">rT}</a></span> <span class="id">{C</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#sT:425">sT}</a></span>.<br/>
<br/>
<span class="id">Local</span> <span class="vernacular">Lemma</span> <span id="comp_fun_subproof" class="id">
  <a name="comp_fun_subproof" class="">comp_fun_subproof</a>
</span> (<span id="f:429" class="id">
  <a name="f:429" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'{'_'fun'_x_'>->'_x_'}'">{fun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Composition.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'{'_'fun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Composition.B">B}</a></span>) (<span id="g:430" class="id">
  <a name="g:430" class="">g</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'{'_'fun'_x_'>->'_x_'}'">{fun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Composition.B">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'{'_'fun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Composition.C">C}</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#isFun">isFun</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#Composition.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Composition.C">C</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#g:430">g</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:x_'\o'_x">\o</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:429">f</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof29')">Proof.</span></div>
<div class="proofscript" id="proof29">
 <span class="gallina-kwd">by</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">x</span> <span class="id">/'funS_f;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.classical.functions.html#funS">funS</a></span>. Qed.</div>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span id="f:431" class="id">
  <a name="f:431" class="">f</a>
</span> <span id="g:432" class="id">
  <a name="g:432" class="">g</a>
</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#comp_fun_subproof">comp_fun_subproof</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:431">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#g:432">g</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="Composition.OInv" class="id">
  <a name="Composition.OInv" class="">OInv</a>
</span>.<br/>
<span class="vernacular">Context</span> <span class="id">{f</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'oinv'_x_'>->'_x_'}'">{oinv</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Composition.aT">aT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'oinv'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Composition.rT">rT}}</a></span> <span class="id">{g</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'oinv'_x_'>->'_x_'}'">{oinv</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Composition.rT">rT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'oinv'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Composition.sT">sT}}</a></span>.<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#Build">OInv.Build</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.classical.functions.html#Composition.OInv.g">g</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:x_'\o'_x">\o</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Composition.OInv.f">f</a></span>) (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#obind">obind</a></span> <span class="id"><a href="mathcomp.classical.functions.html#:::'''oinv_'_x">'oinv_f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:x_'\o'_x">\o</a></span> <span class="id"><a href="mathcomp.classical.functions.html#:::'''oinv_'_x">'oinv_g</a></span>).<br/>
<span class="vernacular">Lemma</span> <span id="oinv_comp" class="id">
  <a name="oinv_comp" class="">oinv_comp</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#:::'''oinv_'_x">'oinv_</a></span>(<span class="id"><a href="mathcomp.classical.functions.html#Composition.OInv.g">g</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:x_'\o'_x">\o</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Composition.OInv.f">f</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#obind">obind</a></span> <span class="id"><a href="mathcomp.classical.functions.html#:::'''oinv_'_x">'oinv_f</a></span>) <span class="id">\o</span> <span class="id"><a href="mathcomp.classical.functions.html#:::'''oinv_'_x">'oinv_g</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof30')">Proof.</span></div>
<div class="proofscript" id="proof30">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.classical.functions.html#Composition.OInv">OInv</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="Composition.OInv" class="id">
  <a name="Composition.OInv" class="">OInv</a>
</span>.<br/>
<span class="vernacular">Context</span> <span class="id">{f</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'inv'_x_'>->'_x_'}'">{inv</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Composition.aT">aT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'inv'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Composition.rT">rT}}</a></span> <span class="id">{g</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'inv'_x_'>->'_x_'}'">{inv</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Composition.rT">rT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'inv'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Composition.sT">sT}}</a></span>.<br/>
<span class="vernacular">Lemma</span> <span id="some_comp_inv" class="id">
  <a name="some_comp_inv" class="">some_comp_inv</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.mathcomp_extra.html#olift">olift</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#Composition.OInv.f">f^-1</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:x_'\o'_x">\o</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Composition.OInv.g">g^-1</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.classical.functions.html#:::'''oinv_'_x">'oinv_</a></span>(<span class="id"><a href="mathcomp.classical.functions.html#Composition.OInv.g">g</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:x_'\o'_x">\o</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Composition.OInv.f">f</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof31')">Proof.</span></div>
<div class="proofscript" id="proof31">
 <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE</a></span> <span class="id">=&gt;</span> <span class="id">x;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#oinv_comp">oinv_comp</a></span> <span class="id">-!oliftV</span>. Qed.</div>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#Build">OInv_Inv.Build</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Composition.aT">aT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Composition.sT">sT</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#Composition.OInv.g">g</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:x_'\o'_x">\o</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Composition.OInv.f">f</a></span>) <span class="id"><a href="mathcomp.classical.functions.html#some_comp_inv">some_comp_inv</a></span>.<br/>
<span class="vernacular">Lemma</span> <span id="inv_comp" class="id">
  <a name="inv_comp" class="">inv_comp</a>
</span> <span class="id">:</span> (<span class="id"><a href="mathcomp.classical.functions.html#Composition.OInv.g">g</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:x_'\o'_x">\o</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Composition.OInv.f">f</a></span>)<span class="id">^-1</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Composition.OInv.f">f^-1</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:x_'\o'_x">\o</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Composition.OInv.g">g^-1</a></span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof32')">Proof.</span></div>
<div class="proofscript" id="proof32">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.classical.functions.html#Composition.OInv">OInv</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="comp_can_subproof" class="id">
  <a name="comp_can_subproof" class="">comp_can_subproof</a>
</span> (<span id="f:437" class="id">
  <a name="f:437" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'injfun'_x_'>->'_x_'}'">{injfun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Composition.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'injfun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Composition.B">B}</a></span>) (<span id="g:438" class="id">
  <a name="g:438" class="">g</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'inj'_x_'>->'_x_'}'">{inj</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Composition.B">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'inj'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Composition.sT">sT}</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#OInv_Can">OInv_Can</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Composition.aT">aT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Composition.sT">sT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Composition.A">A</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#g:438">g</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:x_'\o'_x">\o</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:437">f</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof33')">Proof.</span></div>
<div class="proofscript" id="proof33">
 <span class="gallina-kwd">by</span> <span class="id">split=&gt;</span> <span class="id">x</span> <span class="id">Ax;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#oinv_comp">oinv_comp/=</a></span> <span class="id"><a href="mathcomp.classical.functions.html#funoK">funoK</a></span> <span class="id">?mem_fun//=</span> <span class="id"><a href="mathcomp.classical.functions.html#funoK">funoK</a></span>. Qed.</div>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span id="f:439" class="id">
  <a name="f:439" class="">f</a>
</span> <span id="g:440" class="id">
  <a name="g:440" class="">g</a>
</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#comp_can_subproof">comp_can_subproof</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:439">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#g:440">g</a></span>.<br/>
<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> (<span id="f:441" class="id">
  <a name="f:441" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'injfun'_x_'>->'_x_'}'">{injfun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Composition.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'injfun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Composition.B">B}</a></span>) (<span id="g:442" class="id">
  <a name="g:442" class="">g</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'injfun'_x_'>->'_x_'}'">{injfun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Composition.B">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'injfun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Composition.C">C}</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#on">Inject.on</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#g:442">g</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:x_'\o'_x">\o</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:441">f</a></span>).<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> (<span id="f:443" class="id">
  <a name="f:443" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitinjfun'_x_'>->'_x_'}'">{splitinjfun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Composition.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitinjfun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Composition.B">B}</a></span>)<br/>
&nbsp;&nbsp;(<span id="g:444" class="id">
  <a name="g:444" class="">g</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitinj'_x_'>->'_x_'}'">{splitinj</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Composition.B">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitinj'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Composition.sT">sT}</a></span>) <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#on">Inject.on</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#g:444">g</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:x_'\o'_x">\o</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:443">f</a></span>).<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> (<span id="f:445" class="id">
  <a name="f:445" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitinjfun'_x_'>->'_x_'}'">{splitinjfun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Composition.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitinjfun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Composition.B">B}</a></span>)<br/>
&nbsp;&nbsp;(<span id="g:446" class="id">
  <a name="g:446" class="">g</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitinjfun'_x_'>->'_x_'}'">{splitinjfun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Composition.B">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitinjfun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Composition.C">C}</a></span>) <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#on">Inject.on</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#g:446">g</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:x_'\o'_x">\o</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:445">f</a></span>).<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.classical.functions.html#Composition">Composition</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="Composition" class="id">
  <a name="Composition" class="">Composition</a>
</span>.<br/>
<span class="vernacular">Context</span> <span class="id">{aT</span> <span id="rT:448" class="id">
  <a name="rT:448" class="">rT</a>
</span> <span id="sT:449" class="id">
  <a name="sT:449" class="">sT}</a>
</span> <span class="id">{A</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#aT:447">aT}</a></span> <span class="id">{B</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:448">rT}</a></span> <span class="id">{C</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#sT:449">sT}</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="comp_surj_subproof" class="id">
  <a name="comp_surj_subproof" class="">comp_surj_subproof</a>
</span> (<span id="f:453" class="id">
  <a name="f:453" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'surj'_x_'>->'_x_'}'">{surj</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Composition.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'surj'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Composition.B">B}</a></span>) (<span id="g:454" class="id">
  <a name="g:454" class="">g</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'surj'_x_'>->'_x_'}'">{surj</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Composition.B">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'surj'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Composition.C">C}</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#OInv_CanV">OInv_CanV</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#Composition.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Composition.C">C</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#g:454">g</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:x_'\o'_x">\o</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:453">f</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof34')">Proof.</span></div>
<div class="proofscript" id="proof34">
<span class="id">split;</span> <span class="id">first</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.classical.functions.html#funS">funS</a></span>.<br/>
<span class="id">apply:</span> (<span class="id">@ocan_in_comp</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#mem">mem</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Composition.B">B</a></span>)) <span class="id"><a href="mathcomp.classical.functions.html#oinvK">oinvK</a></span> <span class="id"><a href="mathcomp.classical.functions.html#oinvK">oinvK</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">?</span> <span class="id">/set_mem;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#pred_oapp_set">pred_oapp_set</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE;</a></span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.classical.functions.html#funS">funS</a></span>.<br/>
Qed.</div>
<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span id="f:455" class="id">
  <a name="f:455" class="">f</a>
</span> <span id="g:456" class="id">
  <a name="g:456" class="">g</a>
</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#comp_surj_subproof">comp_surj_subproof</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:455">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#g:456">g</a></span>.<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> (<span id="f:457" class="id">
  <a name="f:457" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitsurj'_x_'>->'_x_'}'">{splitsurj</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Composition.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitsurj'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Composition.B">B}</a></span>) (<span id="g:458" class="id">
  <a name="g:458" class="">g</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitsurj'_x_'>->'_x_'}'">{splitsurj</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Composition.B">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitsurj'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Composition.C">C}</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#on">Surject.on</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#g:458">g</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:x_'\o'_x">\o</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:457">f</a></span>).<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> (<span id="f:459" class="id">
  <a name="f:459" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'surjfun'_x_'>->'_x_'}'">{surjfun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Composition.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'surjfun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Composition.B">B}</a></span>) (<span id="g:460" class="id">
  <a name="g:460" class="">g</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'surjfun'_x_'>->'_x_'}'">{surjfun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Composition.B">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'surjfun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Composition.C">C}</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#on">Surject.on</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#g:460">g</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:x_'\o'_x">\o</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:459">f</a></span>).<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> (<span id="f:461" class="id">
  <a name="f:461" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitsurjfun'_x_'>->'_x_'}'">{splitsurjfun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Composition.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitsurjfun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Composition.B">B}</a></span>)<br/>
&nbsp;&nbsp;(<span id="g:462" class="id">
  <a name="g:462" class="">g</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitsurjfun'_x_'>->'_x_'}'">{splitsurjfun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Composition.B">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitsurjfun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Composition.C">C}</a></span>) <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#on">Surject.on</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#g:462">g</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:x_'\o'_x">\o</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:461">f</a></span>).<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> (<span id="f:463" class="id">
  <a name="f:463" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'bij'_x_'>->'_x_'}'">{bij</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Composition.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'bij'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Composition.B">B}</a></span>) (<span id="g:464" class="id">
  <a name="g:464" class="">g</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'bij'_x_'>->'_x_'}'">{bij</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Composition.B">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'bij'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Composition.C">C}</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#on">Surject.on</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#g:464">g</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:x_'\o'_x">\o</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:463">f</a></span>).<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> (<span id="f:465" class="id">
  <a name="f:465" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitbij'_x_'>->'_x_'}'">{splitbij</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Composition.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitbij'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Composition.B">B}</a></span>) (<span id="g:466" class="id">
  <a name="g:466" class="">g</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitbij'_x_'>->'_x_'}'">{splitbij</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Composition.B">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitbij'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Composition.C">C}</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#on">Surject.on</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#g:466">g</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:x_'\o'_x">\o</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:465">f</a></span>).<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.classical.functions.html#Composition">Composition</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="totalfun" class="id">
  <a name="totalfun" class="">totalfun</a>
</span>.<br/>
<span class="vernacular">Context</span> <span class="id">{aT</span> <span id="rT:468" class="id">
  <a name="rT:468" class="">rT</a>
</span> <span class="id">:</span> <span class="id">Type}</span>.<br/>
<span class="vernacular">Definition</span> <span id="totalfun_" class="id">
  <a name="totalfun_" class="">totalfun_</a>
</span> (<span id="A:469" class="id">
  <a name="A:469" class="">A</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#totalfun.aT">aT</a></span>) (<span id="f:470" class="id">
  <a name="f:470" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#totalfun.aT">aT</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#totalfun.rT">rT</a></span>) <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#f:470">f</a></span>.<br/>
<span class="vernacular">Context</span> <span class="id">{A</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#totalfun.aT">aT}</a></span>.<br/>
<span class="id">Local</span> <span class="vernacular">Notation</span> <span id="totalfun" class="id">
  <a name="totalfun" class="">totalfun</a>
</span> <span class="id">:=</span> (<span class="id"><a href="mathcomp.classical.functions.html#totalfun_">totalfun_</a></span> <span class="id"><a href="mathcomp.classical.functions.html#totalfun.A">A</a></span>).<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> (<span id="f:472" class="id">
  <a name="f:472" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#totalfun.aT">aT</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#totalfun.rT">rT</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#Build">isFun.Build</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#totalfun.A">A</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#totalfun">totalfun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:472">f</a></span>) (<span class="gallina-kwd">fun</span> <span class="id">_</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#I">I</a></span>).<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> (<span id="f:473" class="id">
  <a name="f:473" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'inj'_x_'>->'_x_'}'">{inj</a></span> <span class="id"><a href="mathcomp.classical.functions.html#totalfun.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'inj'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#totalfun.rT">rT}</a></span>) <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#on">Inject.on</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#totalfun">totalfun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:473">f</a></span>).<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> (<span id="f:474" class="id">
  <a name="f:474" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitinj'_x_'>->'_x_'}'">{splitinj</a></span> <span class="id"><a href="mathcomp.classical.functions.html#totalfun.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitinj'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#totalfun.rT">rT}</a></span>) <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#on">SplitInj.on</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#totalfun">totalfun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:474">f</a></span>).<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> (<span id="f:475" class="id">
  <a name="f:475" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'surj'_x_'>->'_x_'}'">{surj</a></span> <span class="id"><a href="mathcomp.classical.functions.html#totalfun.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'surj'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_':'_x_']'">[set:</a></span> <span class="id"><a href="mathcomp.classical.functions.html#totalfun.rT">rT]}</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#on">Surject.on</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#totalfun">totalfun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:475">f</a></span>).<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> (<span id="f:476" class="id">
  <a name="f:476" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitsurj'_x_'>->'_x_'}'">{splitsurj</a></span> <span class="id"><a href="mathcomp.classical.functions.html#totalfun.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitsurj'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_':'_x_']'">[set:</a></span> <span class="id"><a href="mathcomp.classical.functions.html#totalfun.rT">rT]}</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#on">SplitSurj.on</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#totalfun">totalfun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:476">f</a></span>).<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.classical.functions.html#totalfun">totalfun</a></span>.<br/>
<span class="vernacular">Notation</span> <span id="::form_scope:'''totalfun_'_x" class="id">
  <a name="::form_scope:'''totalfun_'_x" class="">"''totalfun_'&nbsp;A"</a>
</span> <span class="id">:=</span> (<span class="id"><a href="mathcomp.classical.functions.html#totalfun_">totalfun_</a></span> <span class="id">A</span>) <span class="id">:</span> <span class="id">form_scope</span>.<br/>
<span class="vernacular">Notation</span> <span id="totalfun" class="id">
  <a name="totalfun" class="">totalfun</a>
</span> <span class="id">:=</span> (<span class="id"><a href="mathcomp.classical.functions.html#totalfun_">totalfun_</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span>).<br/>
<br/>
<span class="vernacular">Section</span> <span id="Olift" class="id">
  <a name="Olift" class="">Olift</a>
</span>.<br/>
<span class="vernacular">Context</span> <span class="id">{aT</span> <span id="rT:478" class="id">
  <a name="rT:478" class="">rT}</a>
</span> <span class="id">{A</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#aT:477">aT}</a></span> <span class="id">{B</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:478">rT}</a></span>.<br/>
<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">{f</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'oinv'_x_'>->'_x_'}'">{oinv</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Olift.aT">aT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'oinv'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Olift.rT">rT}}</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#on">OInversible.on</a></span> (<span class="id"><a href="mathcomp.classical.mathcomp_extra.html#olift">olift</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:481">f</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="oinv_olift" class="id">
  <a name="oinv_olift" class="">oinv_olift</a>
</span>  <span class="id">{f</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'oinv'_x_'>->'_x_'}'">{oinv</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Olift.aT">aT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'oinv'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Olift.rT">rT}}</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#:::'''oinv_'_x">'oinv_</a></span>(<span class="id"><a href="mathcomp.classical.mathcomp_extra.html#olift">olift</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:482">f</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#obind">obind</a></span> <span class="id"><a href="mathcomp.classical.functions.html#:::'''oinv_'_x">'oinv_f</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof35')">Proof.</span></div>
<div class="proofscript" id="proof35">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> (<span id="f:483" class="id">
  <a name="f:483" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'inj'_x_'>->'_x_'}'">{inj</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Olift.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'inj'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Olift.rT">rT}</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#copy">Inject.copy</a></span> (<span class="id"><a href="mathcomp.classical.mathcomp_extra.html#olift">olift</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:483">f</a></span>) (<span class="id"><a href="mathcomp.classical.mathcomp_extra.html#olift">olift</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'''totalfun_'_x">'totalfun_A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:483">f</a></span>)).<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> (<span id="f:484" class="id">
  <a name="f:484" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'surj'_x_'>->'_x_'}'">{surj</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Olift.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'surj'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Olift.B">B}</a></span>) <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#on">Surject.on</a></span> (<span class="id"><a href="mathcomp.classical.mathcomp_extra.html#olift">olift</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:484">f</a></span>).<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> (<span id="f:485" class="id">
  <a name="f:485" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'{'_'fun'_x_'>->'_x_'}'">{fun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Olift.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'{'_'fun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Olift.B">B}</a></span>) <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#on">Fun.on</a></span> (<span class="id"><a href="mathcomp.classical.mathcomp_extra.html#olift">olift</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:485">f</a></span>).<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> (<span id="f:486" class="id">
  <a name="f:486" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'oinvfun'_x_'>->'_x_'}'">{oinvfun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Olift.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'oinvfun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Olift.B">B}</a></span>) <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#on">Fun.on</a></span> (<span class="id"><a href="mathcomp.classical.mathcomp_extra.html#olift">olift</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:486">f</a></span>).<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> (<span id="f:487" class="id">
  <a name="f:487" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'injfun'_x_'>->'_x_'}'">{injfun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Olift.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'injfun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Olift.B">B}</a></span>) <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#on">Fun.on</a></span> (<span class="id"><a href="mathcomp.classical.mathcomp_extra.html#olift">olift</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:487">f</a></span>).<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> (<span id="f:488" class="id">
  <a name="f:488" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'surjfun'_x_'>->'_x_'}'">{surjfun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Olift.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'surjfun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Olift.B">B}</a></span>) <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#on">Fun.on</a></span> (<span class="id"><a href="mathcomp.classical.mathcomp_extra.html#olift">olift</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:488">f</a></span>).<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> (<span id="f:489" class="id">
  <a name="f:489" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'bij'_x_'>->'_x_'}'">{bij</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Olift.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'bij'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Olift.B">B}</a></span>) <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#on">Fun.on</a></span> (<span class="id"><a href="mathcomp.classical.mathcomp_extra.html#olift">olift</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:489">f</a></span>).<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.classical.functions.html#Olift">Olift</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="Map" class="id">
  <a name="Map" class="">Map</a>
</span>.<br/>
<span class="vernacular">Context</span> <span class="id">{aT</span> <span id="rT:491" class="id">
  <a name="rT:491" class="">rT}</a>
</span> <span class="id">{A</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#aT:490">aT}</a></span> <span class="id">{B</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:491">rT}</a></span>.<br/>
<span class="id">Local</span> <span class="vernacular">Notation</span> <span id="m" class="id">
  <a name="m" class="">m</a>
</span> <span class="id">f</span> <span class="id">:=</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#obind">obind</a></span> (<span class="id"><a href="mathcomp.classical.mathcomp_extra.html#olift">olift</a></span> <span class="id">f</span>)).<br/>
<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> (<span id="f:494" class="id">
  <a name="f:494" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'{'_'fun'_x_'>->'_x_'}'">{fun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Map.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'{'_'fun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Map.B">B}</a></span>) <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#copy">Fun.copy</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#omap">omap</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:494">f</a></span>) (<span class="id"><a href="mathcomp.classical.functions.html#m">m</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:494">f</a></span>).<br/>
<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">{f</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'oinv'_x_'>->'_x_'}'">{oinv</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Map.aT">aT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'oinv'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Map.rT">rT}}</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#Build">Inv.Build</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#omap">omap</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:495">f</a></span>) (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#obind">obind</a></span> <span class="id"><a href="mathcomp.classical.functions.html#:::'''oinv_'_x">'oinv_f</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="inv_omap" class="id">
  <a name="inv_omap" class="">inv_omap</a>
</span> <span class="id">{f</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'oinv'_x_'>->'_x_'}'">{oinv</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Map.aT">aT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'oinv'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Map.rT">rT}}</a></span> <span class="id">:</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#omap">omap</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:496">f</a></span>)<span class="id">^-1</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#obind">obind</a></span> <span class="id"><a href="mathcomp.classical.functions.html#:::'''oinv_'_x">'oinv_f</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof36')">Proof.</span></div>
<div class="proofscript" id="proof36">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span class="vernacular">Lemma</span> <span id="oinv_omap" class="id">
  <a name="oinv_omap" class="">oinv_omap</a>
</span> <span class="id">{f</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'oinv'_x_'>->'_x_'}'">{oinv</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Map.aT">aT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'oinv'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Map.rT">rT}}</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#:::'''oinv_'_x">'oinv_</a></span>(<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#omap">omap</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:497">f</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.classical.mathcomp_extra.html#olift">olift</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#obind">obind</a></span> <span class="id"><a href="mathcomp.classical.functions.html#:::'''oinv_'_x">'oinv_f</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof37')">Proof.</span></div>
<div class="proofscript" id="proof37">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span class="vernacular">Lemma</span> <span id="omapV" class="id">
  <a name="omapV" class="">omapV</a>
</span> <span class="id">{f</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'inv'_x_'>->'_x_'}'">{inv</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Map.aT">aT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'inv'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Map.rT">rT}}</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#omap">omap</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:498">f^-1</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#omap">omap</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:498">f</a></span>)<span class="id">^-1</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof38')">Proof.</span></div>
<div class="proofscript" id="proof38">
 <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#inv_omap">inv_omap</a></span> <span class="id">-oliftV</span>. Qed.</div>
<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> (<span id="f:499" class="id">
  <a name="f:499" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'oinvfun'_x_'>->'_x_'}'">{oinvfun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Map.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'oinvfun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Map.B">B}</a></span>) <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#on">Fun.on</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#omap">omap</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:499">f</a></span>).<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> (<span id="f:500" class="id">
  <a name="f:500" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'inj'_x_'>->'_x_'}'">{inj</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Map.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'inj'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Map.rT">rT}</a></span>) <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#copy">Inject.copy</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#omap">omap</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:500">f</a></span>) (<span class="id"><a href="mathcomp.classical.functions.html#m">m</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:500">f</a></span>).<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> (<span id="f:501" class="id">
  <a name="f:501" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'injfun'_x_'>->'_x_'}'">{injfun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Map.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'injfun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Map.B">B}</a></span>) <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#on">Fun.on</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#omap">omap</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:501">f</a></span>).<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> (<span id="f:502" class="id">
  <a name="f:502" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'surj'_x_'>->'_x_'}'">{surj</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Map.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'surj'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Map.B">B}</a></span>) <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#copy">Surject.copy</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#omap">omap</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:502">f</a></span>) (<span class="id"><a href="mathcomp.classical.functions.html#m">m</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:502">f</a></span>).<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> (<span id="f:503" class="id">
  <a name="f:503" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'surjfun'_x_'>->'_x_'}'">{surjfun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Map.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'surjfun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Map.B">B}</a></span>) <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#on">Fun.on</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#omap">omap</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:503">f</a></span>).<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> (<span id="f:504" class="id">
  <a name="f:504" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'bij'_x_'>->'_x_'}'">{bij</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Map.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'bij'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Map.B">B}</a></span>) <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#on">Fun.on</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#omap">omap</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:504">f</a></span>).<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.classical.functions.html#Map">Map</a></span>.<br/>
<br/>
<div class="doc">Builders </div>
<br/>
<span class="id">HB.factory</span> <span class="vernacular">Record</span> <span class="id">CanV</span> <span class="id">{aT</span> <span id="rT:506" class="id">
  <a name="rT:506" class="">rT}</a>
</span> <span class="id">{A</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#aT:505">aT}</a></span> <span class="id">{B</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:506">rT}</a></span> (<span id="f:509" class="id">
  <a name="f:509" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#aT:505">aT</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:506">rT</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id">{</span> <span id="inv:510" class="id">
  <a name="inv:510" class="">inv;</a>
</span> <span id="invS:513" class="id">
  <a name="invS:513" class="">invS</a>
</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_'/'_x_'>->'_x_'}'">{homo</a></span> <span class="id"><a href="mathcomp.classical.functions.html#inv:510">inv</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_'/'_x_'>->'_x_'}'">:</a></span> <span id="x:512" class="id"><span id="x:511" class="id">
  <a name="x:512" class="">x</a>
</span></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_'/'_x_'>->'_x_'}'">/</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:508">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#x:511">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_'/'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:507">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#x:512">x};</a></span> <span id="invK:514" class="id">
  <a name="invK:514" class="">invK</a>
</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_','_x_'}'">{in</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:508">B,</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id"><a href="mathcomp.classical.functions.html#inv:510">inv</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:509">f};</a></span> <span class="id">}</span>.<br/>
<span class="id">HB.builders</span> <span class="vernacular">Context</span> <span class="id">{aT</span> <span id="rT:521" class="id">
  <a name="rT:521" class="">rT}</a>
</span> <span class="id">{A</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#aT:520">aT}</a></span> <span class="id">{B</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:521">rT}</a></span> (<span id="f:524" class="id">
  <a name="f:524" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#aT:520">aT</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:521">rT</a></span>) <span class="id">of</span> <span class="id"><a href="mathcomp.classical.functions.html#CanV">CanV</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#A:522">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:523">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:524">f</a></span>.<br/>
&nbsp;<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#Inv.Build">Inv.Build</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_424.Builders_424.f">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_424.inv">inv</a></span>.<br/>
&nbsp;<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#Inv_CanV.Build">Inv_CanV.Build</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_424.Builders_424.f">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_424.invS">invS</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_424.invK">invK</a></span>.<br/>
<span class="id">HB.end</span>.<br/>
<br/>
<span class="id">HB.factory</span> <span class="vernacular">Record</span> <span class="id">OInv_Can2</span> <span class="id">{aT</span> <span id="rT:531" class="id">
  <a name="rT:531" class="">rT}</a>
</span> <span class="id">{A</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#aT:530">aT}</a></span> <span class="id">{B</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:531">rT}</a></span> (<span id="f:534" class="id">
  <a name="f:534" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#aT:530">aT</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:531">rT</a></span>) <span class="id">of</span><br/>
&nbsp;&nbsp;<span class="id">@OInv</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#f:534">f</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id">{</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span id="funS:537" class="id">
  <a name="funS:537" class="">funS</a>
</span> <span class="id">:</span>  <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_'/'_x_'>->'_x_'}'">{homo</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:534">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_'/'_x_'>->'_x_'}'">:</a></span> <span id="x:536" class="id"><span id="x:535" class="id">
  <a name="x:536" class="">x</a>
</span></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_'/'_x_'>->'_x_'}'">/</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:532">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#x:535">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_'/'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:533">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#x:536">x};</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span id="oinvS:540" class="id">
  <a name="oinvS:540" class="">oinvS</a>
</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_'/'_x_'>->'_x_'}'">{homo</a></span> <span class="id"><a href="mathcomp.classical.functions.html#:::'''oinv_'_x">'oinv_f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_'/'_x_'>->'_x_'}'">:</a></span> <span id="x:539" class="id"><span id="x:538" class="id">
  <a name="x:539" class="">x</a>
</span></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_'/'_x_'>->'_x_'}'">/</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:533">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#x:538">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_'/'_x_'>->'_x_'}'">&gt;-&gt;</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#some">some</a></span> <span class="id">@`</span> <span class="id"><a href="mathcomp.classical.functions.html#A:532">A</a></span>) <span class="id"><a href="mathcomp.classical.functions.html#x:539">x};</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span id="funoK:541" class="id">
  <a name="funoK:541" class="">funoK</a>
</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_','_x_'}'">{in</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:532">A,</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#pcancel">pcancel</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:534">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#:::'''oinv_'_x">'oinv_f};</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span id="oinvK:542" class="id">
  <a name="oinvK:542" class="">oinvK</a>
</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_','_x_'}'">{in</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:533">B,</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#ocancel">ocancel</a></span> <span class="id"><a href="mathcomp.classical.functions.html#:::'''oinv_'_x">'oinv_f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:534">f};</a></span><br/>
&nbsp;&nbsp;<span class="id">}</span>.<br/>
<span class="id">HB.builders</span> <span class="vernacular">Context</span> <span class="id">{aT</span> <span id="rT:549" class="id">
  <a name="rT:549" class="">rT}</a>
</span> <span id="A:550" class="id">
  <a name="A:550" class="">A</a>
</span> <span id="B:551" class="id">
  <a name="B:551" class="">B</a>
</span> (<span id="f:552" class="id">
  <a name="f:552" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#aT:548">aT</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:549">rT</a></span>) <span class="id">of</span> <span class="id"><a href="mathcomp.classical.functions.html#OInv_Can2">OInv_Can2</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#A:550">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:551">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:552">f</a></span>.<br/>
&nbsp;&nbsp;<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#isFun.Build">isFun.Build</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_431.Builders_431.aT">aT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_431.Builders_431.rT">rT</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_431.Builders_431.f">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_431.funS">funS</a></span>.<br/>
&nbsp;&nbsp;<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#OInv_Can.Build">OInv_Can.Build</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_431.Builders_431.aT">aT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_431.Builders_431.rT">rT</a></span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_431.Builders_431.f">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_431.funoK">funoK</a></span>.<br/>
&nbsp;&nbsp;<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#OInv_CanV.Build">OInv_CanV.Build</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_431.Builders_431.aT">aT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_431.Builders_431.rT">rT</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_431.Builders_431.f">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_431.oinvS">oinvS</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_431.oinvK">oinvK</a></span>.<br/>
<span class="id">HB.end</span>.<br/>
<br/>
<span class="id">HB.factory</span> <span class="vernacular">Record</span> <span class="id">OCan2</span> <span class="id">{aT</span> <span id="rT:559" class="id">
  <a name="rT:559" class="">rT}</a>
</span> <span class="id">{A</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#aT:558">aT}</a></span> <span class="id">{B</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:559">rT}</a></span> (<span id="f:562" class="id">
  <a name="f:562" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#aT:558">aT</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:559">rT</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id">{</span> <span id="oinv:563" class="id">
  <a name="oinv:563" class="">oinv;</a>
</span> <span id="funS:566" class="id">
  <a name="funS:566" class="">funS</a>
</span> <span class="id">:</span>  <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_'/'_x_'>->'_x_'}'">{homo</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:562">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_'/'_x_'>->'_x_'}'">:</a></span> <span id="x:565" class="id"><span id="x:564" class="id">
  <a name="x:565" class="">x</a>
</span></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_'/'_x_'>->'_x_'}'">/</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:560">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#x:564">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_'/'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:561">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#x:565">x};</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span id="oinvS:569" class="id">
  <a name="oinvS:569" class="">oinvS</a>
</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_'/'_x_'>->'_x_'}'">{homo</a></span> <span class="id"><a href="mathcomp.classical.functions.html#oinv:563">oinv</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_'/'_x_'>->'_x_'}'">:</a></span> <span id="x:568" class="id"><span id="x:567" class="id">
  <a name="x:568" class="">x</a>
</span></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_'/'_x_'>->'_x_'}'">/</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:561">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#x:567">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_'/'_x_'>->'_x_'}'">&gt;-&gt;</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#some">some</a></span> <span class="id">@`</span> <span class="id"><a href="mathcomp.classical.functions.html#A:560">A</a></span>) <span class="id"><a href="mathcomp.classical.functions.html#x:568">x};</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span id="funoK:570" class="id">
  <a name="funoK:570" class="">funoK</a>
</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_','_x_'}'">{in</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:560">A,</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#pcancel">pcancel</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:562">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#oinv:563">oinv};</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span id="oinvK:571" class="id">
  <a name="oinvK:571" class="">oinvK</a>
</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_','_x_'}'">{in</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:561">B,</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#ocancel">ocancel</a></span> <span class="id"><a href="mathcomp.classical.functions.html#oinv:563">oinv</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:562">f};</a></span><br/>
&nbsp;&nbsp;&nbsp;<span class="id">}</span>.<br/>
<span class="id">HB.builders</span> <span class="vernacular">Context</span> <span class="id">{aT</span> <span id="rT:578" class="id">
  <a name="rT:578" class="">rT}</a>
</span> <span id="A:579" class="id">
  <a name="A:579" class="">A</a>
</span> <span id="B:580" class="id">
  <a name="B:580" class="">B</a>
</span> (<span id="f:581" class="id">
  <a name="f:581" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#aT:577">aT</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:578">rT</a></span>) <span class="id">of</span> <span class="id"><a href="mathcomp.classical.functions.html#OCan2">OCan2</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#A:579">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:580">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:581">f</a></span>.<br/>
&nbsp;&nbsp;<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#OInv.Build">OInv.Build</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_439.Builders_439.aT">aT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_439.Builders_439.rT">rT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_439.Builders_439.f">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_439.oinv">oinv</a></span>.<br/>
&nbsp;&nbsp;<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#OInv_Can2.Build">OInv_Can2.Build</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_439.Builders_439.aT">aT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_439.Builders_439.rT">rT</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_439.Builders_439.f">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_439.funS">funS</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_439.oinvS">oinvS</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_439.funoK">funoK</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_439.oinvK">oinvK</a></span>.<br/>
<span class="id">HB.end</span>.<br/>
<br/>
<br/>
<span class="id">HB.factory</span> <span class="vernacular">Record</span> <span class="id">Can</span> <span class="id">{aT</span> <span id="rT:588" class="id">
  <a name="rT:588" class="">rT}</a>
</span> <span class="id">{A</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#aT:587">aT}</a></span> (<span id="f:590" class="id">
  <a name="f:590" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#aT:587">aT</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:588">rT</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id">{</span> <span id="inv:591" class="id">
  <a name="inv:591" class="">inv;</a>
</span> <span id="funK:592" class="id">
  <a name="funK:592" class="">funK</a>
</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_','_x_'}'">{in</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:589">A,</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:590">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#inv:591">inv}</a></span> <span class="id">}</span>.<br/>
<span class="id">HB.builders</span> <span class="vernacular">Context</span> <span class="id">{aT</span> <span id="rT:598" class="id">
  <a name="rT:598" class="">rT}</a>
</span> <span id="A:599" class="id">
  <a name="A:599" class="">A</a>
</span> (<span id="f:600" class="id">
  <a name="f:600" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#aT:597">aT</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:598">rT</a></span>) <span class="id">of</span> <span class="id">@Can</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#A:599">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:600">f</a></span>. <br/>
&nbsp;<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#Inv.Build">Inv.Build</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_447.Builders_447.f">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_447.inv">inv</a></span>.<br/>
&nbsp;<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#Inv_Can.Build">Inv_Can.Build</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_447.Builders_447.f">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_447.funK">funK</a></span>.<br/>
<span class="id">HB.end</span>.<br/>
<br/>
<span class="id">HB.factory</span> <span class="vernacular">Record</span> <span class="id">Inv_Can2</span> <span class="id">{aT</span> <span id="rT:606" class="id">
  <a name="rT:606" class="">rT}</a>
</span> <span class="id">{A</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#aT:605">aT}</a></span> <span class="id">{B</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:606">rT}</a></span> (<span id="f:609" class="id">
  <a name="f:609" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#aT:605">aT</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:606">rT</a></span>) <span class="id">of</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#Inv">Inv</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#f:609">f</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id">{</span> <span id="funS:612" class="id">
  <a name="funS:612" class="">funS</a>
</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_'/'_x_'>->'_x_'}'">{homo</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:609">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_'/'_x_'>->'_x_'}'">:</a></span> <span id="x:611" class="id"><span id="x:610" class="id">
  <a name="x:611" class="">x</a>
</span></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_'/'_x_'>->'_x_'}'">/</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:607">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#x:610">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_'/'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:608">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#x:611">x};</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span id="invS:615" class="id">
  <a name="invS:615" class="">invS</a>
</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_'/'_x_'>->'_x_'}'">{homo</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:609">f^-1</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_'/'_x_'>->'_x_'}'">:</a></span> <span id="x:614" class="id"><span id="x:613" class="id">
  <a name="x:614" class="">x</a>
</span></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_'/'_x_'>->'_x_'}'">/</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:608">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#x:613">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_'/'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:607">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#x:614">x};</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span id="funK:616" class="id">
  <a name="funK:616" class="">funK</a>
</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_','_x_'}'">{in</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:607">A,</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:609">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:609">f^-1};</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span id="invK:617" class="id">
  <a name="invK:617" class="">invK</a>
</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_','_x_'}'">{in</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:608">B,</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:609">f^-1</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:609">f};</a></span><br/>
&nbsp;&nbsp;&nbsp;<span class="id">}</span>.<br/>
<span class="id">HB.builders</span> <span class="vernacular">Context</span> <span class="id">{aT</span> <span id="rT:624" class="id">
  <a name="rT:624" class="">rT}</a>
</span> <span id="A:625" class="id">
  <a name="A:625" class="">A</a>
</span> <span id="B:626" class="id">
  <a name="B:626" class="">B</a>
</span> (<span id="f:627" class="id">
  <a name="f:627" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#aT:623">aT</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:624">rT</a></span>) <span class="id">of</span> <span class="id"><a href="mathcomp.classical.functions.html#Inv_Can2">Inv_Can2</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#A:625">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:626">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:627">f</a></span>.<br/>
&nbsp;&nbsp;<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#isFun.Build">isFun.Build</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_454.Builders_454.aT">aT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_454.Builders_454.rT">rT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_454.Builders_454.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_454.Builders_454.B">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_454.Builders_454.f">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_454.funS">funS</a></span>.<br/>
&nbsp;&nbsp;<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#Inv_Can.Build">Inv_Can.Build</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_454.Builders_454.aT">aT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_454.Builders_454.rT">rT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_454.Builders_454.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_454.Builders_454.f">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_454.funK">funK</a></span>.<br/>
&nbsp;&nbsp;<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id">@Inv_CanV</span>.<span class="id">Build</span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_454.Builders_454.aT">aT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_454.Builders_454.rT">rT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_454.Builders_454.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_454.Builders_454.B">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_454.Builders_454.f">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_454.invS">invS</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_454.invK">invK</a></span>.<br/>
<span class="id">HB.end</span>.<br/>
<br/>
<span class="id">HB.factory</span> <span class="vernacular">Record</span> <span class="id">Can2</span> <span class="id">{aT</span> <span id="rT:634" class="id">
  <a name="rT:634" class="">rT}</a>
</span> <span class="id">{A</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#aT:633">aT}</a></span> <span class="id">{B</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:634">rT}</a></span> (<span id="f:637" class="id">
  <a name="f:637" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#aT:633">aT</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:634">rT</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id">{</span> <span id="inv:638" class="id">
  <a name="inv:638" class="">inv;</a>
</span> <span id="funS:641" class="id">
  <a name="funS:641" class="">funS</a>
</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_'/'_x_'>->'_x_'}'">{homo</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:637">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_'/'_x_'>->'_x_'}'">:</a></span> <span id="x:640" class="id"><span id="x:639" class="id">
  <a name="x:640" class="">x</a>
</span></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_'/'_x_'>->'_x_'}'">/</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:635">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#x:639">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_'/'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:636">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#x:640">x};</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span id="invS:644" class="id">
  <a name="invS:644" class="">invS</a>
</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_'/'_x_'>->'_x_'}'">{homo</a></span> <span class="id"><a href="mathcomp.classical.functions.html#inv:638">inv</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_'/'_x_'>->'_x_'}'">:</a></span> <span id="x:643" class="id"><span id="x:642" class="id">
  <a name="x:643" class="">x</a>
</span></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_'/'_x_'>->'_x_'}'">/</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:636">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#x:642">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_'/'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:635">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#x:643">x};</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span id="funK:645" class="id">
  <a name="funK:645" class="">funK</a>
</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_','_x_'}'">{in</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:635">A,</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:637">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#inv:638">inv};</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span id="invK:646" class="id">
  <a name="invK:646" class="">invK</a>
</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_','_x_'}'">{in</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:636">B,</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id"><a href="mathcomp.classical.functions.html#inv:638">inv</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:637">f};</a></span><br/>
&nbsp;&nbsp;&nbsp;<span class="id">}</span>.<br/>
<span class="id">HB.builders</span> <span class="vernacular">Context</span> <span class="id">{aT</span> <span id="rT:653" class="id">
  <a name="rT:653" class="">rT}</a>
</span> <span id="A:654" class="id">
  <a name="A:654" class="">A</a>
</span> <span id="B:655" class="id">
  <a name="B:655" class="">B</a>
</span> (<span id="f:656" class="id">
  <a name="f:656" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#aT:652">aT</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:653">rT</a></span>) <span class="id">of</span> <span class="id"><a href="mathcomp.classical.functions.html#Can2">Can2</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#A:654">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:655">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:656">f</a></span>.<br/>
&nbsp;&nbsp;<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#Inv.Build">Inv.Build</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_462.Builders_462.aT">aT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_462.Builders_462.rT">rT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_462.Builders_462.f">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_462.inv">inv</a></span>.<br/>
&nbsp;&nbsp;<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#Inv_Can2.Build">Inv_Can2.Build</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_462.Builders_462.aT">aT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_462.Builders_462.rT">rT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_462.Builders_462.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_462.Builders_462.B">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_462.Builders_462.f">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_462.funS">funS</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_462.invS">invS</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_462.funK">funK</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_462.invK">invK</a></span>.<br/>
<span class="id">HB.end</span>.<br/>
<br/>
<span class="id">HB.factory</span> <span class="vernacular">Record</span> <span class="id">SplitInjFun_CanV</span> <span class="id">{aT</span> <span id="rT:663" class="id">
  <a name="rT:663" class="">rT}</a>
</span> <span class="id">{A</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#aT:662">aT}</a></span> <span class="id">{B</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:663">rT}</a></span> (<span id="f:666" class="id">
  <a name="f:666" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#aT:662">aT</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:663">rT</a></span>) <span class="id">of</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">@SplitInjFun</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#A:664">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:665">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:666">f</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id">{</span> <span id="invS:669" class="id">
  <a name="invS:669" class="">invS</a>
</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_'/'_x_'>->'_x_'}'">{homo</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:666">f^-1</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_'/'_x_'>->'_x_'}'">:</a></span> <span id="x:668" class="id"><span id="x:667" class="id">
  <a name="x:668" class="">x</a>
</span></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_'/'_x_'>->'_x_'}'">/</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:665">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#x:667">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_'/'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:664">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#x:668">x};</a></span> <span id="injV:670" class="id">
  <a name="injV:670" class="">injV</a>
</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_'&'_','_x_'}'">{in</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:665">B</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_'&'_','_x_'}'">&amp;,</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#injective">injective</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:666">f^-1}</a></span> <span class="id">}</span>.<br/>
<span class="id">HB.builders</span> <span class="vernacular">Context</span> <span class="id">{aT</span> <span id="rT:677" class="id">
  <a name="rT:677" class="">rT}</a>
</span> <span class="id">{A</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#aT:676">aT}</a></span> <span class="id">{B</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:677">rT}</a></span> (<span id="f:680" class="id">
  <a name="f:680" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#aT:676">aT</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:677">rT</a></span>) <span class="id">of</span> <span class="id"><a href="mathcomp.classical.functions.html#SplitInjFun_CanV">SplitInjFun_CanV</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#A:678">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:679">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:680">f</a></span>.<br/>
&nbsp;&nbsp;<span class="vernacular">Let</span> <span id="Builders_471.Builders_471.mem_inv" class="id">
  <a name="Builders_471.Builders_471.mem_inv" class="">mem_inv</a>
</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#homo_setP">homo_setP</a></span>.<span class="id">2</span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_471.invS">invS</a></span>.<br/>
&nbsp;&nbsp;<span class="id">Local</span> <span class="vernacular">Lemma</span> <span id="Builders_471.invK" class="id">
  <a name="Builders_471.invK" class="">invK</a>
</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_','_x_'}'">{in</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_471.Builders_471.B">B,</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_471.Builders_471.f">f^-1</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_471.Builders_471.f">f}</a></span>.<br/>
<div>&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof39')">Proof.</span></div>
<div class="proofscript" id="proof39">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">x</span> <span class="id">Bx;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_471.injV">injV;</a></span> <span class="id">rewrite</span> <span class="id">?funK</span> <span class="id">?</span>(<span class="id"><a href="mathcomp.classical.functions.html#mem_fun">mem_fun,</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_471.Builders_471.mem_inv">mem_inv</a></span>). Qed.</div>
&nbsp;&nbsp;<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#Inv_CanV.Build">Inv_CanV.Build</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_471.Builders_471.aT">aT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_471.Builders_471.rT">rT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_471.Builders_471.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_471.Builders_471.B">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_471.Builders_471.f">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_471.invS">invS</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_471.invK">invK</a></span>.<br/>
<span class="id">HB.end</span>.<br/>
<br/>
<span class="id">HB.factory</span> <span class="vernacular">Record</span> <span class="id">BijTT</span> <span class="id">{aT</span> <span id="rT:687" class="id">
  <a name="rT:687" class="">rT}</a>
</span> (<span id="f:688" class="id">
  <a name="f:688" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#aT:686">aT</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:687">rT</a></span>) <span class="id">:=</span> <span class="id">{</span> <span id="bij:689" class="id">
  <a name="bij:689" class="">bij</a>
</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#bijective">bijective</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:688">f</a></span> <span class="id">}</span>.<br/>
<span class="id">HB.builders</span> <span class="vernacular">Context</span> <span class="id">{aT</span> <span id="rT:694" class="id">
  <a name="rT:694" class="">rT}</a>
</span> <span id="f:695" class="id">
  <a name="f:695" class="">f</a>
</span> <span class="id">of</span> <span class="id"><a href="mathcomp.classical.functions.html#BijTT">BijTT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#aT:693">aT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:694">rT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:695">f</a></span>.<br/>
&nbsp;&nbsp;<span class="id">Local</span> <span class="vernacular">Lemma</span> <span id="Builders_475.exg" class="id">
  <a name="Builders_475.exg" class="">exg</a>
</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#::type_scope:'{'_x_'|'_x_'}'">{g</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#::type_scope:'{'_x_'|'_x_'}'">|</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_475.Builders_475.f">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#g:699">g</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'/\'_x">/\</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id"><a href="mathcomp.classical.functions.html#g:699">g</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_475.Builders_475.f">f}</a></span>.<br/>
<div>&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof40')">Proof.</span></div>
<div class="proofscript" id="proof40">
 <span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.classical.boolp.html#cid">cid;</a></span> <span class="id">case:</span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_475.bij">bij</a></span> <span class="id">=&gt;</span> <span class="id">g;</span> <span class="gallina-kwd">exists</span> <span class="id">g</span>. Qed.</div>
&nbsp;&nbsp;<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#Can2.Build">Can2.Build</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_475.Builders_475.aT">aT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_475.Builders_475.rT">rT</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_475.Builders_475.f">f</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="gallina-kwd">fun</span> <span id="x:702" class="id">
  <a name="x:702" class="">x</a>
</span> <span id="y:703" class="id">
  <a name="y:703" class="">y</a>
</span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.classical.functions.html#y:703">y</a></span>) (<span class="gallina-kwd">fun</span> <span id="x:700" class="id">
  <a name="x:700" class="">x</a>
</span> <span id="y:701" class="id">
  <a name="y:701" class="">y</a>
</span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.classical.functions.html#y:701">y</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#in1W">in1W</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#projT2">projT2</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_475.exg">exg</a></span>).<span class="id">1</span>) (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#in1W">in1W</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#projT2">projT2</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_475.exg">exg</a></span>).<span class="id">2</span>).<br/>
<span class="id">HB.end</span>.<br/>
<br/>
<div class="doc">Fun in </div>
<br/>
<span class="vernacular">Section</span> <span id="surj_oinv" class="id">
  <a name="surj_oinv" class="">surj_oinv</a>
</span>.<br/>
<span class="vernacular">Context</span> <span class="id">{aT</span> <span id="rT:705" class="id">
  <a name="rT:705" class="">rT}</a>
</span> <span class="id">{A</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#aT:704">aT}</a></span> <span class="id">{B</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:705">rT}</a></span> <span class="id">{f</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#aT:704">aT</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:705">rT}</a></span> (<span id="fsurj:709" class="id">
  <a name="fsurj:709" class="">fsurj</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#set_surj">set_surj</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:706">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:707">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:708">f</a></span>).<br/>
<br/>
<span class="vernacular">Let</span> <span id="surj_oinv.surjective_oinv" class="id">
  <a name="surj_oinv.surjective_oinv" class="">surjective_oinv</a>
</span> (<span id="y:710" class="id">
  <a name="y:710" class="">y</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#surj_oinv.rT">rT</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">if</span> <span class="id"><a href="mathcomp.classical.boolp.html#pselect">pselect</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#surj_oinv.B">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#y:710">y</a></span>) <span class="id">is</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#left">left</a></span> <span class="id">By</span> <span class="gallina-kwd">then</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#some">some</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#projT1">projT1</a></span> (<span class="id"><a href="mathcomp.classical.boolp.html#cid2">cid2</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#surj_oinv.fsurj">fsurj</a></span> <span class="id">By</span>))) <span class="gallina-kwd">else</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#None">None</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="surjective_oinvK" class="id">
  <a name="surjective_oinvK" class="">surjective_oinvK</a>
</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_','_x_'}'">{in</a></span> <span class="id"><a href="mathcomp.classical.functions.html#surj_oinv.B">B,</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#ocancel">ocancel</a></span> <span class="id"><a href="mathcomp.classical.functions.html#surj_oinv.surjective_oinv">surjective_oinv</a></span> <span class="id"><a href="mathcomp.classical.functions.html#surj_oinv.f">f}</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof41')">Proof.</span></div>
<div class="proofscript" id="proof41">
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/surjective_oinv</span> <span class="id">=&gt;</span> <span class="id">x</span> <span class="id">/set_mem</span> <span class="id">?;</span> <span class="id">case:</span> <span class="id"><a href="mathcomp.classical.boolp.html#pselect">pselect</a></span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">?;</span> <span class="id">case:</span> <span class="id"><a href="mathcomp.classical.boolp.html#cid2">cid2</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="surjective_oinvS" class="id">
  <a name="surjective_oinvS" class="">surjective_oinvS</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#set_fun">set_fun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#surj_oinv.B">B</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#some">some</a></span> <span class="id">@`</span> <span class="id"><a href="mathcomp.classical.functions.html#surj_oinv.A">A</a></span>) <span class="id"><a href="mathcomp.classical.functions.html#surj_oinv.surjective_oinv">surjective_oinv</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof42')">Proof.</span></div>
<div class="proofscript" id="proof42">
<span class="id">move=&gt;</span> <span class="id">y</span> <span class="id">By</span> <span class="id">/=;</span> <span class="id">rewrite</span> <span class="id">/surjective_oinv;</span> <span class="id">case:</span> <span class="id"><a href="mathcomp.classical.boolp.html#pselect">pselect</a></span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">By'</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">case:</span> <span class="id"><a href="mathcomp.classical.boolp.html#cid2">cid2</a></span> <span class="id">=&gt;</span> <span class="id">//=</span> <span class="id">x</span> <span class="id">Ax</span> <span class="id">fxy;</span> <span class="gallina-kwd">exists</span> <span class="id">x</span>.<br/>
Qed.</div>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.classical.functions.html#surj_oinv">surj_oinv</a></span>.<br/>
<span class="vernacular">Coercion</span> <span id="surjective_ocanV" class="id">
  <a name="surjective_ocanV" class="">surjective_ocanV</a>
</span> <span class="id">{aT</span> <span id="rT:712" class="id">
  <a name="rT:712" class="">rT}</a>
</span> <span class="id">{A</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#aT:711">aT}</a></span> <span class="id">{B</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:712">rT}</a></span> <span class="id">{f</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#aT:711">aT</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:712">rT}</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="fS:716" class="id">
  <a name="fS:716" class="">fS</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#set_surj">set_surj</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:713">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:714">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:715">f</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#Build">OCanV.Build</a></span> <span class="id"><a href="mathcomp.classical.functions.html#aT:711">aT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:712">rT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:713">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:714">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:715">f</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#surjective_oinvS">surjective_oinvS</a></span> <span class="id"><a href="mathcomp.classical.functions.html#fS:716">fS</a></span>) (<span class="id"><a href="mathcomp.classical.functions.html#surjective_oinvK">surjective_oinvK</a></span> <span class="id"><a href="mathcomp.classical.functions.html#fS:716">fS</a></span>).<br/>
<br/>
<span class="vernacular">Section</span> <span id="Psurj" class="id">
  <a name="Psurj" class="">Psurj</a>
</span>.<br/>
<span class="vernacular">Context</span> <span class="id">{aT</span> <span id="rT:718" class="id">
  <a name="rT:718" class="">rT}</a>
</span> <span class="id">{A</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#aT:717">aT}</a></span> <span class="id">{B</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:718">rT}</a></span> <span class="id">{f</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#aT:717">aT</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:718">rT}</a></span> (<span id="fsurj:722" class="id">
  <a name="fsurj:722" class="">fsurj</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#set_surj">set_surj</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:719">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:720">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:721">f</a></span>).<br/>
<br/>
<span class="id">#[local]</span> <span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#OCanV">OCanV</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#Psurj.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Psurj.B">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Psurj.f">f</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#Psurj.fsurj">fsurj</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="surjection_of_surj" class="id">
  <a name="surjection_of_surj" class="">surjection_of_surj</a>
</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'['_'surj'_'of'_x_']'">[surj</a></span> <span class="id">of</span> <span class="id"><a href="mathcomp.classical.functions.html#Psurj.f">f]</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="Psurj" class="id">
  <a name="Psurj" class="">Psurj</a>
</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#::type_scope:'{'_x_':'_x_'|'_x_'}'">{s</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#::type_scope:'{'_x_':'_x_'|'_x_'}'">:</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'surj'_x_'>->'_x_'}'">{surj</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Psurj.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'surj'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Psurj.B">B}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#::type_scope:'{'_x_':'_x_'|'_x_'}'">|</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Psurj.f">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.classical.functions.html#s:723">s}</a></span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof43')">Proof.</span></div>
<div class="proofscript" id="proof43">
 <span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'['_'surj'_'of'_x_']'">[surj</a></span> <span class="id">of</span> <span class="id"><a href="mathcomp.classical.functions.html#Psurj.f">f]</a></span>. Qed.</div>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.classical.functions.html#Psurj">Psurj</a></span>.<br/>
<span class="vernacular">Coercion</span> <span class="id">surjection_of_surj</span> <span class="id">:</span> <span class="id">set_surj</span> <span class="id">&gt;-&gt;</span> <span class="id">Surject.type</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="oinv_surj" class="id">
  <a name="oinv_surj" class="">oinv_surj</a>
</span> <span class="id">{aT</span> <span id="rT:725" class="id">
  <a name="rT:725" class="">rT}</a>
</span> <span class="id">{A</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#aT:724">aT}</a></span> <span class="id">{B</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:725">rT}</a></span> <span class="id">{f</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#aT:724">aT</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:725">rT}</a></span><br/>
&nbsp;&nbsp;&nbsp;(<span id="fS:729" class="id">
  <a name="fS:729" class="">fS</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#set_surj">set_surj</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:726">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:727">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:728">f</a></span>) <span id="y:730" class="id">
  <a name="y:730" class="">y</a>
</span> <span class="id">:</span><br/>
&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#:::'''oinv_'_x">'oinv_fS</a></span> <span class="id"><a href="mathcomp.classical.functions.html#y:730">y</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="gallina-kwd">if</span> <span class="id"><a href="mathcomp.classical.boolp.html#pselect">pselect</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#B:727">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#y:730">y</a></span>) <span class="id">is</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#left">left</a></span> <span class="id">By</span> <span class="gallina-kwd">then</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#some">some</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#projT1">projT1</a></span> (<span class="id"><a href="mathcomp.classical.boolp.html#cid2">cid2</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#fS:729">fS</a></span> <span class="id"><a href="mathcomp.classical.functions.html#y:730">y</a></span> <span class="id">By</span>))) <span class="gallina-kwd">else</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#None">None</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof44')">Proof.</span></div>
<div class="proofscript" id="proof44">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="surj" class="id">
  <a name="surj" class="">surj</a>
</span> <span class="id">{aT</span> <span id="rT:732" class="id">
  <a name="rT:732" class="">rT}</a>
</span> <span class="id">{A</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#aT:731">aT}</a></span> <span class="id">{B</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:732">rT}</a></span> <span class="id">{f</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'surj'_x_'>->'_x_'}'">{surj</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:733">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'surj'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:734">B}}</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#set_surj">set_surj</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:733">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:734">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:735">f</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof45')">Proof.</span></div>
<div class="proofscript" id="proof45">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">b</span> <span class="id">/'oinvP_f[x</span> <span class="id">Ax</span> <span class="id">_];</span> <span class="gallina-kwd">exists</span> <span class="id">x</span>. Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span id="phant_surj" class="id">
  <a name="phant_surj" class="">phant_surj</a>
</span> <span id="aT:736" class="id">
  <a name="aT:736" class="">aT</a>
</span> <span id="rT:737" class="id">
  <a name="rT:737" class="">rT</a>
</span> (<span id="A:738" class="id">
  <a name="A:738" class="">A</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#aT:736">aT</a></span>) (<span id="B:739" class="id">
  <a name="B:739" class="">B</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:737">rT</a></span>) (<span id="f:740" class="id">
  <a name="f:740" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'surj'_x_'>->'_x_'}'">{surj</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:738">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'surj'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:739">B}</a></span>)<br/>
&nbsp;&nbsp;<span class="id">of</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#phantom">phantom</a></span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id">_</span>) <span class="id"><a href="mathcomp.classical.functions.html#f:740">f</a></span> <span class="id">:=</span> <span class="id">@surj</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#f:740">f</a></span>.<br/>
<span class="vernacular">Notation</span> <span id="::form_scope:'''surj_'_x" class="id">
  <a name="::form_scope:'''surj_'_x" class="">"'surj_&nbsp;&nbsp;f"</a>
</span> <span class="id">:=</span> (<span class="id"><a href="mathcomp.classical.functions.html#phant_surj">phant_surj</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#Phantom">Phantom</a></span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id">_</span>) <span class="id">f</span>)) <span class="id">:</span> <span class="id">form_scope</span>.<br/>
<span class="id">#[global]</span> <span class="vernacular">Hint</span> <span class="id">Extern</span> <span class="id">0</span> (<span class="id"><a href="mathcomp.classical.functions.html#set_surj">set_surj</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>) <span class="id">=&gt;</span> <span class="id">solve</span> <span class="id">[apply:</span> <span class="id"><a href="mathcomp.classical.functions.html#surj">surj]</a></span> <span class="id">:</span> <span class="id">core</span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="funin_surj" class="id">
  <a name="funin_surj" class="">funin_surj</a>
</span>.<br/>
<span class="vernacular">Context</span> <span class="id">{aT</span> <span id="rT:742" class="id">
  <a name="rT:742" class="">rT</a>
</span> <span class="id">:</span> <span class="id">Type}</span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="funin" class="id">
  <a name="funin" class="">funin</a>
</span> (<span id="A:743" class="id">
  <a name="A:743" class="">A</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#funin_surj.aT">aT</a></span>) (<span id="f:744" class="id">
  <a name="f:744" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#funin_surj.aT">aT</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#funin_surj.rT">rT</a></span>) <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#f:744">f</a></span>.<br/>
<br/>
<span class="vernacular">Context</span> <span class="id">{A</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#funin_surj.aT">aT}</a></span> <span class="id">{B</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#funin_surj.rT">rT}</a></span> (<span id="f:747" class="id">
  <a name="f:747" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#funin_surj.aT">aT</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#funin_surj.rT">rT</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="set_fun_image" class="id">
  <a name="set_fun_image" class="">set_fun_image</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#set_fun">set_fun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#funin_surj.A">A</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#funin_surj.f">f</a></span> <span class="id">@`</span> <span class="id"><a href="mathcomp.classical.functions.html#funin_surj.A">A</a></span>) <span class="id"><a href="mathcomp.classical.functions.html#funin_surj.f">f</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof46')">Proof.</span></div>
<div class="proofscript" id="proof46">
 <span class="id">exact/image_subP</span>. Qed.</div>
<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id">@isFun</span>.<span class="id">Build</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.classical.functions.html#funin">funin</a></span> <span class="id"><a href="mathcomp.classical.functions.html#funin_surj.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#funin_surj.f">f</a></span>) <span class="id"><a href="mathcomp.classical.functions.html#set_fun_image">set_fun_image</a></span>.<br/>
<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#OCanV">OCanV</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#funin_surj.A">A</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#funin_surj.f">f</a></span> <span class="id">@`</span> <span class="id"><a href="mathcomp.classical.functions.html#funin_surj.A">A</a></span>) (<span class="id"><a href="mathcomp.classical.functions.html#funin">funin</a></span> <span class="id"><a href="mathcomp.classical.functions.html#funin_surj.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#funin_surj.f">f</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;&nbsp;((<span class="gallina-kwd">fun</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#id">id</a></span>) <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#set_surj">set_surj</a></span> <span class="id"><a href="mathcomp.classical.functions.html#funin_surj.A">A</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#funin_surj.f">f</a></span> <span class="id">@`</span> <span class="id"><a href="mathcomp.classical.functions.html#funin_surj.A">A</a></span>) <span class="id"><a href="mathcomp.classical.functions.html#funin_surj.f">f</a></span>).<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.classical.functions.html#funin_surj">funin_surj</a></span>.<br/>
<span class="vernacular">Notation</span> <span id="::function_scope:'['_'fun'_x_'in'_x_']'" class="id">
  <a name="::function_scope:'['_'fun'_x_'in'_x_']'" class="">"[&nbsp;'fun'&nbsp;f&nbsp;'in'&nbsp;A&nbsp;]"</a>
</span> <span class="id">:=</span> (<span class="id"><a href="mathcomp.classical.functions.html#funin">funin</a></span> <span class="id">A</span> <span class="id">f</span>)<br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span> <span class="id">level</span> <span class="id">0,</span> <span class="id">f</span> <span class="gallina-kwd">at</span> <span class="id">next</span> <span class="id">level,</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">"[&nbsp;'fun'&nbsp;&nbsp;f&nbsp;&nbsp;'in'&nbsp;&nbsp;A&nbsp;]"</span>) <span class="id">:</span> <span class="id">function_scope</span>.<br/>
<span class="id">#[global]</span> <span class="vernacular">Hint</span> <span class="id">Resolve</span> <span class="id">set_fun_image</span> <span class="id">:</span> <span class="id">core</span>.<br/>
<br/>
<div class="doc">Partial injection </div>
<br/>
<span class="vernacular">Section</span> <span id="split" class="id">
  <a name="split" class="">split</a>
</span>.<br/>
<span class="vernacular">Context</span> <span class="id">{aT</span> <span id="rT:749" class="id">
  <a name="rT:749" class="">rT}</a>
</span> (<span id="A:750" class="id">
  <a name="A:750" class="">A</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#aT:748">aT</a></span>) (<span id="B:751" class="id">
  <a name="B:751" class="">B</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:749">rT</a></span>).<br/>
<span class="vernacular">Definition</span> <span id="split_" class="id">
  <a name="split_" class="">split_</a>
</span> (<span id="dflt:752" class="id">
  <a name="dflt:752" class="">dflt</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#split.rT">rT</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#split.aT">aT</a></span>) (<span id="f:753" class="id">
  <a name="f:753" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#split.aT">aT</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#split.rT">rT</a></span>) <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#f:753">f</a></span>.<br/>
<br/>
<span class="vernacular">Context</span> (<span id="dflt:754" class="id">
  <a name="dflt:754" class="">dflt</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#split.rT">rT</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#split.aT">aT</a></span>).<br/>
<span class="id">Local</span> <span class="vernacular">Notation</span> <span id="split" class="id">
  <a name="split" class="">split</a>
</span> <span class="id">:=</span> (<span class="id"><a href="mathcomp.classical.functions.html#split_">split_</a></span> <span class="id"><a href="mathcomp.classical.functions.html#split.dflt">dflt</a></span>).<br/>
<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> (<span id="f:755" class="id">
  <a name="f:755" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'{'_'fun'_x_'>->'_x_'}'">{fun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#split.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'{'_'fun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#split.B">B}</a></span>) <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#on">Fun.on</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#split">split</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:755">f</a></span>).<br/>
<br/>
<span class="vernacular">Section</span> <span id="split.oinv" class="id">
  <a name="split.oinv" class="">oinv</a>
</span>.<br/>
<span class="vernacular">Context</span> (<span id="f:756" class="id">
  <a name="f:756" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'oinv'_x_'>->'_x_'}'">{oinv</a></span> <span class="id"><a href="mathcomp.classical.functions.html#split.aT">aT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'oinv'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#split.rT">rT}</a></span>).<br/>
<span class="vernacular">Let</span> <span id="split.oinv.g" class="id">
  <a name="split.oinv.g" class="">g</a>
</span> <span id="y:757" class="id">
  <a name="y:757" class="">y</a>
</span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#odflt">odflt</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#split.dflt">dflt</a></span> <span class="id"><a href="mathcomp.classical.functions.html#y:757">y</a></span>) (<span class="id"><a href="mathcomp.classical.functions.html#:::'''oinv_'_x">'oinv_f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#y:757">y</a></span>).<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span>  <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#Build">Inv.Build</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.classical.functions.html#split">split</a></span> <span class="id"><a href="mathcomp.classical.functions.html#split.oinv.f">f</a></span>) <span class="id"><a href="mathcomp.classical.functions.html#split.oinv.g">g</a></span>.<br/>
<span class="vernacular">Lemma</span> <span id="splitV" class="id">
  <a name="splitV" class="">splitV</a>
</span> <span class="id">:</span> (<span class="id"><a href="mathcomp.classical.functions.html#split">split</a></span> <span class="id"><a href="mathcomp.classical.functions.html#split.oinv.f">f</a></span>)<span class="id">^-1</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.classical.functions.html#split.oinv.g">g</a></span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof47')">Proof.</span></div>
<div class="proofscript" id="proof47">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.classical.functions.html#split.oinv">oinv</a></span>.<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> (<span id="f:758" class="id">
  <a name="f:758" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'oinvfun'_x_'>->'_x_'}'">{oinvfun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#split.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'oinvfun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#split.B">B}</a></span>) <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#on">Fun.on</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#split">split</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:758">f</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="splitis_inj_subproof" class="id">
  <a name="splitis_inj_subproof" class="">splitis_inj_subproof</a>
</span> (<span id="f:759" class="id">
  <a name="f:759" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'inj'_x_'>->'_x_'}'">{inj</a></span> <span class="id"><a href="mathcomp.classical.functions.html#split.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'inj'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#split.rT">rT}</a></span>) <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#Inv_Can">Inv_Can</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#split.A">A</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#split">split</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:759">f</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof48')">Proof.</span></div>
<div class="proofscript" id="proof48">
 <span class="gallina-kwd">by</span> <span class="id">split=&gt;</span> <span class="id">x</span> <span class="id">Ax;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#splitV">splitV</a></span> <span class="id"><a href="mathcomp.classical.functions.html#funoK">funoK</a></span>. Qed.</div>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span id="f:760" class="id">
  <a name="f:760" class="">f</a>
</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#splitis_inj_subproof">splitis_inj_subproof</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:760">f</a></span>.<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> (<span id="f:761" class="id">
  <a name="f:761" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'injfun'_x_'>->'_x_'}'">{injfun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#split.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'injfun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#split.B">B}</a></span>) <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#on">Inject.on</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#split">split</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:761">f</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="splitid" class="id">
  <a name="splitid" class="">splitid</a>
</span> (<span id="f:762" class="id">
  <a name="f:762" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitinjfun'_x_'>->'_x_'}'">{splitinjfun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#split.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitinjfun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#split.B">B}</a></span>) <span class="id">:</span> (<span class="id"><a href="mathcomp.classical.functions.html#split">split</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:762">f</a></span>)<span class="id">^-1</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:762">f^-1</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof49')">Proof.</span></div>
<div class="proofscript" id="proof49">
 <span class="gallina-kwd">by</span> <span class="id">apply/funext</span> <span class="id">=&gt;</span> <span class="id">x;</span> <span class="id">apply:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#Some_inj">Some_inj;</a></span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#splitV">splitV</a></span> <span class="id">-oliftV</span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="splitsurj_subproof" class="id">
  <a name="splitsurj_subproof" class="">splitsurj_subproof</a>
</span> (<span id="f:763" class="id">
  <a name="f:763" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'surj'_x_'>->'_x_'}'">{surj</a></span> <span class="id"><a href="mathcomp.classical.functions.html#split.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'surj'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#split.B">B}</a></span>) <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#Inv_CanV">Inv_CanV</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#split.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#split.B">B</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#split">split</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:763">f</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof50')">Proof.</span></div>
<div class="proofscript" id="proof50">
 <span class="gallina-kwd">by</span> <span class="id">split=&gt;</span> <span class="id">[+|+</span> <span class="id">/set_mem]</span> <span class="id">=&gt;</span> <span class="id">b</span> <span class="id">Bb;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#splitV">splitV;</a></span> <span class="id">case:</span> <span class="id"><a href="mathcomp.classical.functions.html#oinvP">oinvP</a></span>. Qed.</div>
<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span id="f:764" class="id">
  <a name="f:764" class="">f</a>
</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#splitsurj_subproof">splitsurj_subproof</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:764">f</a></span>.<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> (<span id="f:765" class="id">
  <a name="f:765" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'surjfun'_x_'>->'_x_'}'">{surjfun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#split.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'surjfun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#split.B">B}</a></span>) <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#on">Surject.on</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#split">split</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:765">f</a></span>).<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> (<span id="f:766" class="id">
  <a name="f:766" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'bij'_x_'>->'_x_'}'">{bij</a></span> <span class="id"><a href="mathcomp.classical.functions.html#split.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'bij'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#split.B">B}</a></span>) <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#on">Surject.on</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#split">split</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:766">f</a></span>).<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.classical.functions.html#split">split</a></span>.<br/>
<span class="vernacular">Notation</span> <span id="::form_scope:'''split_'_x" class="id">
  <a name="::form_scope:'''split_'_x" class="">"''split_'&nbsp;a"</a>
</span> <span class="id">:=</span> (<span class="id"><a href="mathcomp.classical.functions.html#split_">split_</a></span> <span class="id">a</span>) <span class="id">:</span> <span class="id">form_scope</span>.<br/>
<span class="vernacular">Notation</span> <span id="split" class="id">
  <a name="split" class="">split</a>
</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'''split_'_x">'split_point</a></span>.<br/>
<br/>
<div class="doc">More Builders </div>
<br/>
<span class="id">HB.factory</span> <span class="vernacular">Record</span> <span class="id">Inj</span> <span class="id">{aT</span> <span id="rT:768" class="id">
  <a name="rT:768" class="">rT}</a>
</span> (<span id="A:769" class="id">
  <a name="A:769" class="">A</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#aT:767">aT</a></span>) (<span id="f:770" class="id">
  <a name="f:770" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#aT:767">aT</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:768">rT</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id">{</span> <span id="inj:771" class="id">
  <a name="inj:771" class="">inj</a>
</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_'&'_','_x_'}'">{in</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:769">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_'&'_','_x_'}'">&amp;,</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#injective">injective</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:770">f}</a></span> <span class="id">}</span>.<br/>
<span class="id">HB.builders</span> <span class="vernacular">Context</span> <span class="id">{aT</span> <span id="rT:777" class="id">
  <a name="rT:777" class="">rT}</a>
</span> <span id="A:778" class="id">
  <a name="A:778" class="">A</a>
</span> (<span id="f:779" class="id">
  <a name="f:779" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#aT:776">aT</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:777">rT</a></span>) <span class="id">of</span> <span class="id"><a href="mathcomp.classical.functions.html#Inj">Inj</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#A:778">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:779">f</a></span>.<br/>
&nbsp;&nbsp;<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#OInversible.copy">OInversible.copy</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_541.Builders_541.f">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::function_scope:'['_'fun'_x_'in'_x_']'">[fun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_541.Builders_541.f">f</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_541.Builders_541.A">A]</a></span>.<br/>
&nbsp;&nbsp;<span class="vernacular">Lemma</span> <span id="Builders_541.funoK" class="id">
  <a name="Builders_541.funoK" class="">funoK</a>
</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_','_x_'}'">{in</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_541.Builders_541.A">A,</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#pcancel">pcancel</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_541.Builders_541.f">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#:::'''oinv_'_x">'oinv_f}</a></span>.<br/>
<div>&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof51')">Proof.</span></div>
<div class="proofscript" id="proof51">
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">x</span> <span class="id">/set_mem</span> <span class="id">Ax;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#oinv_surj">oinv_surj</a></span>.<br/>
&nbsp;&nbsp;<span class="id">case:</span> <span class="id"><a href="mathcomp.classical.boolp.html#pselect">pselect</a></span> <span class="id">=&gt;</span> <span class="id">//=;</span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">case;</span> <span class="gallina-kwd">exists</span> <span class="id">x</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">?;</span> <span class="id">case:</span> <span class="id"><a href="mathcomp.classical.boolp.html#cid2">cid2</a></span> <span class="id">=&gt;</span> <span class="id">//=</span> <span class="id">y</span> <span class="id">Ay</span> <span class="id">/inj;</span> <span class="id">rewrite</span> <span class="id">!inE</span> <span class="id">=&gt;</span> <span class="id">-&gt;</span>.<br/>
&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#OInv_Can.Build">OInv_Can.Build</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_541.Builders_541.f">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_541.funoK">funoK</a></span>.<br/>
<span class="id">HB.end</span>.<br/>
<br/>
<span class="id">HB.factory</span> <span class="vernacular">Record</span> <span class="id">SurjFun_Inj</span> <span class="id">{aT</span> <span id="rT:785" class="id">
  <a name="rT:785" class="">rT}</a>
</span> <span class="id">{A</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#aT:784">aT}</a></span> <span class="id">{B</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:785">rT}</a></span> (<span id="f:788" class="id">
  <a name="f:788" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#aT:784">aT</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:785">rT</a></span>) <span class="id">of</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id">@SurjFun</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#A:786">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:787">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:788">f</a></span> <span class="id">:=</span> <span class="id">{</span> <span id="inj:789" class="id">
  <a name="inj:789" class="">inj</a>
</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_'&'_','_x_'}'">{in</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:786">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_'&'_','_x_'}'">&amp;,</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#injective">injective</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:788">f}</a></span> <span class="id">}</span>.<br/>
<span class="id">HB.builders</span> <span class="vernacular">Context</span> <span class="id">{aT</span> <span id="rT:796" class="id">
  <a name="rT:796" class="">rT}</a>
</span> <span class="id">{A</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#aT:795">aT}</a></span> <span class="id">{B</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:796">rT}</a></span> (<span id="f:799" class="id">
  <a name="f:799" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#aT:795">aT</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:796">rT</a></span>) <span class="id">of</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">@SurjFun_Inj</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#A:797">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:798">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:799">f</a></span>.<br/>
&nbsp;&nbsp;<span class="vernacular">Let</span> <span id="Builders_547.Builders_547.g" class="id">
  <a name="Builders_547.Builders_547.g" class="">g</a>
</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_547.Builders_547.f">f</a></span>.<br/>
&nbsp;&nbsp;<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#Inj.Build">Inj.Build</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_547.Builders_547.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_547.Builders_547.g">g</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_547.inj">inj</a></span>.<br/>
&nbsp;&nbsp;<span class="vernacular">Let</span> <span id="Builders_547.Builders_547.fcan" class="id">
  <a name="Builders_547.Builders_547.fcan" class="">fcan</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#OInv_Can">OInv_Can</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_547.Builders_547.aT">aT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_547.Builders_547.rT">rT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_547.Builders_547.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_547.Builders_547.f">f</a></span>.<br/>
<div>&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof52')">Proof.</span></div>
<div class="proofscript" id="proof52">
&nbsp;&nbsp;<span class="id">split=&gt;</span> <span class="id">x</span> <span class="id">/set_mem</span> <span class="id">Ax;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'''inj_'_x">'inj_</a></span>(<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#omap">omap</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_547.Builders_547.g">g</a></span>)<span class="id">;</span> <span class="id">rewrite</span> <span class="id">?mem_fun</span> <span class="id">?inE//=</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/g</span> <span class="id">-oinvV/=</span> <span class="id"><a href="mathcomp.classical.functions.html#funoK">funoK//</a></span> <span class="id">?mem_fun</span> <span class="id">?inE</span>.<br/>
&nbsp;&nbsp;Qed.</div>
&nbsp;<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_547.Builders_547.fcan">fcan</a></span>.<br/>
<span class="id">HB.end</span>.<br/>
<br/>
<span class="id">HB.factory</span> <span class="vernacular">Record</span> <span class="id">SplitSurjFun_Inj</span> <span class="id">{aT</span> <span id="rT:806" class="id">
  <a name="rT:806" class="">rT}</a>
</span> <span class="id">{A</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#aT:805">aT}</a></span> <span class="id">{B</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:806">rT}</a></span> (<span id="f:809" class="id">
  <a name="f:809" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#aT:805">aT</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:806">rT</a></span>) <span class="id">of</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">@SplitSurjFun</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#A:807">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:808">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:809">f</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id">{</span> <span id="inj:810" class="id">
  <a name="inj:810" class="">inj</a>
</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_'&'_','_x_'}'">{in</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:807">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_'&'_','_x_'}'">&amp;,</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#injective">injective</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:809">f}</a></span> <span class="id">}</span>.<br/>
<span class="id">HB.builders</span> <span class="vernacular">Context</span> <span class="id">{aT</span> <span id="rT:817" class="id">
  <a name="rT:817" class="">rT}</a>
</span> <span class="id">{A</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#aT:816">aT}</a></span> <span class="id">{B</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:817">rT}</a></span> (<span id="f:820" class="id">
  <a name="f:820" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#aT:816">aT</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:817">rT</a></span>) <span class="id">of</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">@SplitSurjFun_Inj</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#A:818">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:819">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:820">f</a></span>.<br/>
&nbsp;&nbsp;<span class="id">Local</span> <span class="vernacular">Lemma</span> <span id="Builders_556.funK" class="id">
  <a name="Builders_556.funK" class="">funK</a>
</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_','_x_'}'">{in</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_556.Builders_556.A">A,</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_556.Builders_556.f">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_556.Builders_556.f">f^-1%FUN}</a></span>.<br/>
<div>&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof53')">Proof.</span></div>
<div class="proofscript" id="proof53">
  <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">x</span> <span class="id">Ax;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_556.inj">inj;</a></span> <span class="id">rewrite</span> <span class="id">?invK</span> <span class="id">?mem_fun</span>. Qed.</div>
&nbsp;&nbsp;<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#Inv_Can.Build">Inv_Can.Build</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_556.Builders_556.aT">aT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_556.Builders_556.rT">rT</a></span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_556.Builders_556.f">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_556.funK">funK</a></span>.<br/>
<span class="id">HB.end</span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="Inverses" class="id">
  <a name="Inverses" class="">Inverses</a>
</span>.<br/>
<span class="vernacular">Context</span> <span id="aT:826" class="id">
  <a name="aT:826" class="">aT</a>
</span> <span id="rT:827" class="id">
  <a name="rT:827" class="">rT</a>
</span> <span class="id">{A</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#aT:826">aT}</a></span> <span class="id">{B</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:827">rT}</a></span>.<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> (<span id="f:830" class="id">
  <a name="f:830" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'inj'_x_'>->'_x_'}'">{inj</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Inverses.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'inj'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Inverses.rT">rT}</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#Build">SurjFun_Inj.Build</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#::function_scope:'['_'fun'_x_'in'_x_']'">[fun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:830">f</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.classical.functions.html#Inverses.A">A]</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'''inj_'_x">'inj_f</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.classical.functions.html#Inverses">Inverses</a></span>.<br/>
<br/>
<div class="ssrdoc markdown">
## Simple Factories                                                        
</div>
<br/>
<span class="vernacular">Section</span> <span id="Pinj" class="id">
  <a name="Pinj" class="">Pinj</a>
</span>.<br/>
<span class="vernacular">Context</span> <span class="id">{aT</span> <span id="rT:832" class="id">
  <a name="rT:832" class="">rT}</a>
</span> <span class="id">{A</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#aT:831">aT}</a></span> <span class="id">{f</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#aT:831">aT</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:832">rT}</a></span> (<span id="finj:835" class="id">
  <a name="finj:835" class="">finj</a>
</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_'&'_','_x_'}'">{in</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:833">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_'&'_','_x_'}'">&amp;,</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#injective">injective</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:834">f}</a></span>).<br/>
<span class="id">#[local]</span> <span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#Build">Inj.Build</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#Pinj.f">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Pinj.finj">finj</a></span>.<br/>
<span class="vernacular">Lemma</span> <span id="Pinj" class="id">
  <a name="Pinj" class="">Pinj</a>
</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#::type_scope:'{'_x_':'_x_'|'_x_'}'">{i</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#::type_scope:'{'_x_':'_x_'|'_x_'}'">:</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'inj'_x_'>->'_x_'}'">{inj</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Pinj.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'inj'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Pinj.rT">rT}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#::type_scope:'{'_x_':'_x_'|'_x_'}'">|</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Pinj.f">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.classical.functions.html#i:836">i}</a></span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof54')">Proof.</span></div>
<div class="proofscript" id="proof54">
 <span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'['_'inj'_'of'_x_']'">[inj</a></span> <span class="id">of</span> <span class="id"><a href="mathcomp.classical.functions.html#Pinj.f">f]</a></span>. Qed.</div>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.classical.functions.html#Pinj">Pinj</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="Pfun" class="id">
  <a name="Pfun" class="">Pfun</a>
</span>.<br/>
<span class="vernacular">Context</span> <span class="id">{aT</span> <span id="rT:838" class="id">
  <a name="rT:838" class="">rT}</a>
</span> <span class="id">{A</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#aT:837">aT}</a></span> <span class="id">{B</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:838">rT}</a></span> <span class="id">{f</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#aT:837">aT</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:838">rT}</a></span><br/>
&nbsp;&nbsp;(<span id="ffun:844" class="id">
  <a name="ffun:844" class="">ffun</a>
</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_'/'_x_'>->'_x_'}'">{homo</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:841">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_'/'_x_'>->'_x_'}'">:</a></span> <span id="x:843" class="id"><span id="x:842" class="id">
  <a name="x:843" class="">x</a>
</span></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_'/'_x_'>->'_x_'}'">/</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:839">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#x:842">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_'/'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:840">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#x:843">x}</a></span>).<br/>
<span class="vernacular">Let</span> <span id="Pfun.g" class="id">
  <a name="Pfun.g" class="">g</a>
</span> <span class="id">:</span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#Pfun.f">f</a></span>.<br/>
<span class="id">#[local]</span> <span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#Build">isFun.Build</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#Pfun.g">g</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Pfun.ffun">ffun</a></span>.<br/>
<span class="vernacular">Lemma</span> <span id="Pfun" class="id">
  <a name="Pfun" class="">Pfun</a>
</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#::type_scope:'{'_x_':'_x_'|'_x_'}'">{i</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#::type_scope:'{'_x_':'_x_'|'_x_'}'">:</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'{'_'fun'_x_'>->'_x_'}'">{fun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Pfun.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'{'_'fun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Pfun.B">B}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#::type_scope:'{'_x_':'_x_'|'_x_'}'">|</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Pfun.f">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.classical.functions.html#i:845">i}</a></span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof55')">Proof.</span></div>
<div class="proofscript" id="proof55">
 <span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'['_'fun'_'of'_x_']'">[fun</a></span> <span class="id">of</span> <span class="id"><a href="mathcomp.classical.functions.html#Pfun.g">g]</a></span>. Qed.</div>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.classical.functions.html#Pfun">Pfun</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="injPfun" class="id">
  <a name="injPfun" class="">injPfun</a>
</span>.<br/>
<span class="vernacular">Context</span> <span class="id">{aT</span> <span id="rT:847" class="id">
  <a name="rT:847" class="">rT}</a>
</span> <span class="id">{A</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#aT:846">aT}</a></span> <span class="id">{B</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:847">rT}</a></span> <span class="id">{f</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'inj'_x_'>->'_x_'}'">{inj</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:848">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'inj'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:847">rT}}</a></span><br/>
&nbsp;&nbsp;&nbsp;(<span id="ffun:853" class="id">
  <a name="ffun:853" class="">ffun</a>
</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_'/'_x_'>->'_x_'}'">{homo</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:850">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_'/'_x_'>->'_x_'}'">:</a></span> <span id="x:852" class="id"><span id="x:851" class="id">
  <a name="x:852" class="">x</a>
</span></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_'/'_x_'>->'_x_'}'">/</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:848">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#x:851">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_'/'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:849">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#x:852">x}</a></span>).<br/>
<span class="vernacular">Let</span> <span id="injPfun.g" class="id">
  <a name="injPfun.g" class="">g</a>
</span> <span class="id">:</span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#injPfun.f">f</a></span>.<br/>
<span class="id">#[local]</span> <span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#on">Inject.on</a></span> <span class="id"><a href="mathcomp.classical.functions.html#injPfun.g">g</a></span>.<br/>
<span class="id">#[local]</span> <span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#Build">isFun.Build</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#injPfun.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#injPfun.B">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#injPfun.g">g</a></span> <span class="id"><a href="mathcomp.classical.functions.html#injPfun.ffun">ffun</a></span>.<br/>
<span class="vernacular">Lemma</span> <span id="injPfun" class="id">
  <a name="injPfun" class="">injPfun</a>
</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#::type_scope:'{'_x_':'_x_'|'_x_'}'">{i</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#::type_scope:'{'_x_':'_x_'|'_x_'}'">:</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'injfun'_x_'>->'_x_'}'">{injfun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#injPfun.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'injfun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#injPfun.B">B}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#::type_scope:'{'_x_':'_x_'|'_x_'}'">|</a></span> <span class="id"><a href="mathcomp.classical.functions.html#injPfun.f">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x_':>'_x">=</a></span> <span class="id"><a href="mathcomp.classical.functions.html#i:854">i</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x_':>'_x">:&gt;</a></span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id">_</span>)<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#::type_scope:'{'_x_':'_x_'|'_x_'}'">}</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof56')">Proof.</span></div>
<div class="proofscript" id="proof56">
 <span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'['_'injfun'_'of'_x_']'">[injfun</a></span> <span class="id">of</span> <span class="id"><a href="mathcomp.classical.functions.html#injPfun.g">g]</a></span>. Qed.</div>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.classical.functions.html#injPfun">injPfun</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="funPinj" class="id">
  <a name="funPinj" class="">funPinj</a>
</span>.<br/>
<span class="vernacular">Context</span> <span class="id">{aT</span> <span id="rT:856" class="id">
  <a name="rT:856" class="">rT}</a>
</span> <span class="id">{A</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#aT:855">aT}</a></span> <span class="id">{B</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:856">rT}</a></span> <span class="id">{f</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'{'_'fun'_x_'>->'_x_'}'">{fun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:857">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'{'_'fun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:858">B}}</a></span><br/>
&nbsp;&nbsp;(<span id="finj:860" class="id">
  <a name="finj:860" class="">finj</a>
</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_'&'_','_x_'}'">{in</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:857">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_'&'_','_x_'}'">&amp;,</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#injective">injective</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:859">f}</a></span>).<br/>
<span class="vernacular">Let</span> <span id="funPinj.g" class="id">
  <a name="funPinj.g" class="">g</a>
</span> <span class="id">:</span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#funPinj.f">f</a></span>.<br/>
<span class="id">#[local]</span> <span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#on">Fun.on</a></span> <span class="id"><a href="mathcomp.classical.functions.html#funPinj.g">g</a></span>.<br/>
<span class="id">#[local]</span> <span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#Build">Inj.Build</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#funPinj.g">g</a></span> <span class="id"><a href="mathcomp.classical.functions.html#funPinj.finj">finj</a></span>.<br/>
<span class="vernacular">Lemma</span> <span id="funPinj" class="id">
  <a name="funPinj" class="">funPinj</a>
</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#::type_scope:'{'_x_':'_x_'|'_x_'}'">{i</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#::type_scope:'{'_x_':'_x_'|'_x_'}'">:</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'injfun'_x_'>->'_x_'}'">{injfun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#funPinj.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'injfun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#funPinj.B">B}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#::type_scope:'{'_x_':'_x_'|'_x_'}'">|</a></span> <span class="id"><a href="mathcomp.classical.functions.html#funPinj.f">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.classical.functions.html#i:861">i}</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof57')">Proof.</span></div>
<div class="proofscript" id="proof57">
 <span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'['_'injfun'_'of'_x_']'">[injfun</a></span> <span class="id">of</span> <span class="id"><a href="mathcomp.classical.functions.html#funPinj.g">g];</a></span> <span class="id">apply/funP</span>. Qed.</div>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.classical.functions.html#funPinj">funPinj</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="funPsurj" class="id">
  <a name="funPsurj" class="">funPsurj</a>
</span>.<br/>
<span class="vernacular">Context</span> <span class="id">{aT</span> <span id="rT:863" class="id">
  <a name="rT:863" class="">rT}</a>
</span> <span class="id">{A</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#aT:862">aT}</a></span> <span class="id">{B</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:863">rT}</a></span> <span class="id">{f</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'{'_'fun'_x_'>->'_x_'}'">{fun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:864">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'{'_'fun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:865">B}}</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="fsurj:867" class="id">
  <a name="fsurj:867" class="">fsurj</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#set_surj">set_surj</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:864">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:865">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:866">f</a></span>).<br/>
<span class="vernacular">Let</span> <span id="funPsurj.g" class="id">
  <a name="funPsurj.g" class="">g</a>
</span> <span class="id">:</span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#funPsurj.f">f</a></span>.<br/>
<span class="id">#[local]</span> <span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#on">Fun.on</a></span> <span class="id"><a href="mathcomp.classical.functions.html#funPsurj.g">g</a></span>.<br/>
<span class="id">#[local]</span> <span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#OCanV">OCanV</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#funPsurj.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#funPsurj.B">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#funPsurj.g">g</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#funPsurj.fsurj">fsurj</a></span>.<br/>
<span class="vernacular">Lemma</span> <span id="funPsurj" class="id">
  <a name="funPsurj" class="">funPsurj</a>
</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#::type_scope:'{'_x_':'_x_'|'_x_'}'">{s</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#::type_scope:'{'_x_':'_x_'|'_x_'}'">:</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'surjfun'_x_'>->'_x_'}'">{surjfun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#funPsurj.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'surjfun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#funPsurj.B">B}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#::type_scope:'{'_x_':'_x_'|'_x_'}'">|</a></span> <span class="id"><a href="mathcomp.classical.functions.html#funPsurj.f">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.classical.functions.html#s:868">s}</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof58')">Proof.</span></div>
<div class="proofscript" id="proof58">
 <span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'['_'surjfun'_'of'_x_']'">[surjfun</a></span> <span class="id">of</span> <span class="id"><a href="mathcomp.classical.functions.html#funPsurj.g">g];</a></span> <span class="id">apply/funP</span>. Qed.</div>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.classical.functions.html#funPsurj">funPsurj</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="surjPfun" class="id">
  <a name="surjPfun" class="">surjPfun</a>
</span>.<br/>
<span class="vernacular">Context</span> <span class="id">{aT</span> <span id="rT:870" class="id">
  <a name="rT:870" class="">rT}</a>
</span> <span class="id">{A</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#aT:869">aT}</a></span> <span class="id">{B</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:870">rT}</a></span> <span class="id">{f</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'surj'_x_'>->'_x_'}'">{surj</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:871">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'surj'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:872">B}}</a></span><br/>
&nbsp;&nbsp;&nbsp;(<span id="ffun:876" class="id">
  <a name="ffun:876" class="">ffun</a>
</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_'/'_x_'>->'_x_'}'">{homo</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:873">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_'/'_x_'>->'_x_'}'">:</a></span> <span id="x:875" class="id"><span id="x:874" class="id">
  <a name="x:875" class="">x</a>
</span></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_'/'_x_'>->'_x_'}'">/</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:871">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#x:874">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_'/'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:872">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#x:875">x}</a></span>).<br/>
<span class="vernacular">Let</span> <span id="surjPfun.g" class="id">
  <a name="surjPfun.g" class="">g</a>
</span> <span class="id">:</span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#surjPfun.f">f</a></span>.<br/>
<span class="id">#[local]</span> <span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#on">Surject.on</a></span> <span class="id"><a href="mathcomp.classical.functions.html#surjPfun.g">g</a></span>.<br/>
<span class="id">#[local]</span> <span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#Build">isFun.Build</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#surjPfun.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#surjPfun.B">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#surjPfun.g">g</a></span> <span class="id"><a href="mathcomp.classical.functions.html#surjPfun.ffun">ffun</a></span>.<br/>
<span class="vernacular">Lemma</span> <span id="surjPfun" class="id">
  <a name="surjPfun" class="">surjPfun</a>
</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#::type_scope:'{'_x_':'_x_'|'_x_'}'">{s</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#::type_scope:'{'_x_':'_x_'|'_x_'}'">:</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'surjfun'_x_'>->'_x_'}'">{surjfun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#surjPfun.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'surjfun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#surjPfun.B">B}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#::type_scope:'{'_x_':'_x_'|'_x_'}'">|</a></span> <span class="id"><a href="mathcomp.classical.functions.html#surjPfun.f">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x_':>'_x">=</a></span> <span class="id"><a href="mathcomp.classical.functions.html#s:877">s</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x_':>'_x">:&gt;</a></span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id">_</span>)<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#::type_scope:'{'_x_':'_x_'|'_x_'}'">}</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof59')">Proof.</span></div>
<div class="proofscript" id="proof59">
 <span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'['_'surjfun'_'of'_x_']'">[surjfun</a></span> <span class="id">of</span> <span class="id"><a href="mathcomp.classical.functions.html#surjPfun.g">g]</a></span>. Qed.</div>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.classical.functions.html#surjPfun">surjPfun</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="Psplitinj" class="id">
  <a name="Psplitinj" class="">Psplitinj</a>
</span>.<br/>
<span class="vernacular">Context</span> <span class="id">{aT</span> <span id="rT:879" class="id">
  <a name="rT:879" class="">rT}</a>
</span> <span class="id">{A</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#aT:878">aT}</a></span> <span class="id">{f</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#aT:878">aT</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:879">rT}</a></span> <span class="id">{g}</span> (<span id="funK:883" class="id">
  <a name="funK:883" class="">funK</a>
</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_','_x_'}'">{in</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:880">A,</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:881">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#g:882">g}</a></span>).<br/>
<span class="id">#[local]</span> <span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#Build">Can.Build</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#Psplitinj.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Psplitinj.f">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Psplitinj.funK">funK</a></span>.<br/>
<span class="vernacular">Lemma</span> <span id="Psplitinj" class="id">
  <a name="Psplitinj" class="">Psplitinj</a>
</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#::type_scope:'{'_x_':'_x_'|'_x_'}'">{i</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#::type_scope:'{'_x_':'_x_'|'_x_'}'">:</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitinj'_x_'>->'_x_'}'">{splitinj</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Psplitinj.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitinj'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Psplitinj.rT">rT}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#::type_scope:'{'_x_':'_x_'|'_x_'}'">|</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Psplitinj.f">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.classical.functions.html#i:884">i}</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof60')">Proof.</span></div>
<div class="proofscript" id="proof60">
 <span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'['_'splitinj'_'of'_x_']'">[splitinj</a></span> <span class="id">of</span> <span class="id"><a href="mathcomp.classical.functions.html#Psplitinj.f">f]</a></span>. Qed.</div>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.classical.functions.html#Psplitinj">Psplitinj</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="funPsplitinj" class="id">
  <a name="funPsplitinj" class="">funPsplitinj</a>
</span>.<br/>
<span class="vernacular">Context</span> <span class="id">{aT</span> <span id="rT:886" class="id">
  <a name="rT:886" class="">rT}</a>
</span> <span class="id">{A</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#aT:885">aT}</a></span> <span class="id">{B</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:886">rT}</a></span> <span class="id">{f</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'{'_'fun'_x_'>->'_x_'}'">{fun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:887">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'{'_'fun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:888">B}}</a></span>.<br/>
<span class="vernacular">Context</span> <span class="id">{g}</span> (<span id="funK:891" class="id">
  <a name="funK:891" class="">funK</a>
</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_','_x_'}'">{in</a></span> <span class="id"><a href="mathcomp.classical.functions.html#funPsplitinj.A">A,</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id"><a href="mathcomp.classical.functions.html#funPsplitinj.f">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#g:890">g}</a></span>).<br/>
<span class="vernacular">Let</span> <span id="funPsplitinj.f'" class="id">
  <a name="funPsplitinj.f'" class="">f'</a>
</span> <span class="id">:</span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#funPsplitinj.f">f</a></span>.<br/>
<span class="id">#[local]</span> <span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#on">Fun.on</a></span> <span class="id"><a href="mathcomp.classical.functions.html#funPsplitinj.f'">f'</a></span>.<br/>
<span class="id">#[local]</span> <span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#Build">Can.Build</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#funPsplitinj.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#funPsplitinj.f'">f'</a></span> <span class="id"><a href="mathcomp.classical.functions.html#funPsplitinj.funK">funK</a></span>.<br/>
<span class="vernacular">Lemma</span> <span id="funPsplitinj" class="id">
  <a name="funPsplitinj" class="">funPsplitinj</a>
</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#::type_scope:'{'_x_':'_x_'|'_x_'}'">{i</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#::type_scope:'{'_x_':'_x_'|'_x_'}'">:</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitinjfun'_x_'>->'_x_'}'">{splitinjfun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#funPsplitinj.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitinjfun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#funPsplitinj.B">B}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#::type_scope:'{'_x_':'_x_'|'_x_'}'">|</a></span> <span class="id"><a href="mathcomp.classical.functions.html#funPsplitinj.f">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.classical.functions.html#i:892">i}</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof61')">Proof.</span></div>
<div class="proofscript" id="proof61">
 <span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'['_'splitinjfun'_'of'_x_']'">[splitinjfun</a></span> <span class="id">of</span> <span class="id"><a href="mathcomp.classical.functions.html#funPsplitinj.f'">f'];</a></span> <span class="id">apply/funP</span>. Qed.</div>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.classical.functions.html#funPsplitinj">funPsplitinj</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="PsplitinjT" class="id">
  <a name="PsplitinjT" class="">PsplitinjT</a>
</span> <span class="id">{aT</span> <span id="rT:894" class="id">
  <a name="rT:894" class="">rT}</a>
</span> <span class="id">{f</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#aT:893">aT</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:894">rT}</a></span> <span class="id">{g}</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:895">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#g:896">g</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#::type_scope:'{'_x_':'_x_'|'_x_'}'">{i</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#::type_scope:'{'_x_':'_x_'|'_x_'}'">:</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitinj'_x_'>->'_x_'}'">{splitinj</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_':'_x_']'">[set:</a></span> <span class="id"><a href="mathcomp.classical.functions.html#aT:893">aT]</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitinj'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:894">rT}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#::type_scope:'{'_x_':'_x_'|'_x_'}'">|</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:895">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.classical.functions.html#i:897">i}</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof62')">Proof.</span></div>
<div class="proofscript" id="proof62">
 <span class="gallina-kwd">by</span> <span class="id">move/in1W/Psplitinj</span>. Qed.</div>
<br/>
<span class="vernacular">Section</span> <span id="funPsplitsurj" class="id">
  <a name="funPsplitsurj" class="">funPsplitsurj</a>
</span>.<br/>
<span class="vernacular">Context</span> <span class="id">{aT</span> <span id="rT:899" class="id">
  <a name="rT:899" class="">rT}</a>
</span> <span class="id">{A</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#aT:898">aT}</a></span> <span class="id">{B</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:899">rT}</a></span> <span class="id">{f</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'{'_'fun'_x_'>->'_x_'}'">{fun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:900">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'{'_'fun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:901">B}}</a></span>.<br/>
<span class="vernacular">Context</span> <span class="id">{g</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'{'_'fun'_x_'>->'_x_'}'">{fun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#funPsplitsurj.B">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'{'_'fun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#funPsplitsurj.A">A}}</a></span> (<span id="funK:904" class="id">
  <a name="funK:904" class="">funK</a>
</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_','_x_'}'">{in</a></span> <span class="id"><a href="mathcomp.classical.functions.html#funPsplitsurj.B">B,</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id"><a href="mathcomp.classical.functions.html#g:903">g</a></span> <span class="id"><a href="mathcomp.classical.functions.html#funPsplitsurj.f">f}</a></span>).<br/>
<span class="vernacular">Let</span> <span id="funPsplitsurj.f'" class="id">
  <a name="funPsplitsurj.f'" class="">f'</a>
</span> <span class="id">:</span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#funPsplitsurj.f">f</a></span>.<br/>
<span class="id">#[local]</span> <span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#on">Fun.on</a></span> <span class="id"><a href="mathcomp.classical.functions.html#funPsplitsurj.f'">f'</a></span>.<br/>
<span class="id">#[local]</span> <span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#Build">CanV.Build</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#funPsplitsurj.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#funPsplitsurj.B">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#funPsplitsurj.f'">f'</a></span> <span class="id"><a href="mathcomp.classical.functions.html#funS">funS</a></span> <span class="id"><a href="mathcomp.classical.functions.html#funPsplitsurj.funK">funK</a></span>.<br/>
<span class="vernacular">Lemma</span> <span id="funPsplitsurj" class="id">
  <a name="funPsplitsurj" class="">funPsplitsurj</a>
</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#::type_scope:'{'_x_':'_x_'|'_x_'}'">{s</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#::type_scope:'{'_x_':'_x_'|'_x_'}'">:</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitsurjfun'_x_'>->'_x_'}'">{splitsurjfun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#funPsplitsurj.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitsurjfun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#funPsplitsurj.B">B}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#::type_scope:'{'_x_':'_x_'|'_x_'}'">|</a></span> <span class="id"><a href="mathcomp.classical.functions.html#funPsplitsurj.f">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x_':>'_x">=</a></span> <span class="id"><a href="mathcomp.classical.functions.html#s:905">s</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x_':>'_x">:&gt;</a></span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id">_</span>)<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#::type_scope:'{'_x_':'_x_'|'_x_'}'">}</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof63')">Proof.</span></div>
<div class="proofscript" id="proof63">
 <span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'['_'splitsurjfun'_'of'_x_']'">[splitsurjfun</a></span> <span class="id">of</span> <span class="id"><a href="mathcomp.classical.functions.html#funPsplitsurj.f'">f']</a></span>. Qed.</div>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.classical.functions.html#funPsplitsurj">funPsplitsurj</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="PsplitsurjT" class="id">
  <a name="PsplitsurjT" class="">PsplitsurjT</a>
</span> <span class="id">{aT</span> <span id="rT:907" class="id">
  <a name="rT:907" class="">rT}</a>
</span> <span class="id">{f</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#aT:906">aT</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:907">rT}</a></span> <span class="id">{g}</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id"><a href="mathcomp.classical.functions.html#g:909">g</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:908">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#::type_scope:'{'_x_':'_x_'|'_x_'}'">{s</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#::type_scope:'{'_x_':'_x_'|'_x_'}'">:</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitsurjfun'_x_'>->'_x_'}'">{splitsurjfun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_':'_x_']'">[set:</a></span> <span class="id"><a href="mathcomp.classical.functions.html#aT:906">aT]</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitsurjfun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_':'_x_']'">[set:</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:907">rT]}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#::type_scope:'{'_x_':'_x_'|'_x_'}'">|</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:908">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.classical.functions.html#s:910">s}</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof64')">Proof.</span></div>
<div class="proofscript" id="proof64">
<span class="gallina-kwd">by</span> <span class="id">move/in1W/</span>(<span class="id">@funPsplitsurj</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'['_'fun'_'of'_x_']'">[fun</a></span> <span class="id">of</span> <span class="id"><a href="mathcomp.classical.functions.html#totalfun">totalfun</a></span> <span class="id">f]</span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'['_'fun'_'of'_x_']'">[fun</a></span> <span class="id">of</span> <span class="id"><a href="mathcomp.classical.functions.html#totalfun">totalfun</a></span> <span class="id">g]</span>).<br/>
Qed.</div>
<br/>
<div class="ssrdoc markdown">
## Instances                                                               
</div>
<br/>
<div class="doc">The identity is a split bijection </div>
<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span id="T:911" class="id">
  <a name="T:911" class="">T</a>
</span> <span id="A:912" class="id">
  <a name="A:912" class="">A</a>
</span> <span class="id">:=</span> <span class="id">@Can2</span>.<span class="id">Build</span> <span class="id"><a href="mathcomp.classical.functions.html#T:911">T</a></span> <span class="id"><a href="mathcomp.classical.functions.html#T:911">T</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:912">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:912">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#idfun">idfun</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#idfun">idfun</a></span><br/>
&nbsp;&nbsp;&nbsp;(<span class="gallina-kwd">fun</span> <span id="x:913" class="id">
  <a name="x:913" class="">x</a>
</span> <span id="y:914" class="id">
  <a name="y:914" class="">y</a>
</span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.classical.functions.html#y:914">y</a></span>) (<span class="gallina-kwd">fun</span> <span id="x:915" class="id">
  <a name="x:915" class="">x</a>
</span> <span id="y:916" class="id">
  <a name="y:916" class="">y</a>
</span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.classical.functions.html#y:916">y</a></span>) (<span class="gallina-kwd">fun</span> <span class="id">_</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#erefl">erefl</a></span>) (<span class="gallina-kwd">fun</span> <span class="id">_</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#erefl">erefl</a></span>).<br/>
<br/>
<div class="doc">Iteration preserves Fun, Injectivity, and Surjectivity </div>
<span class="vernacular">Section</span> <span id="iter_inv" class="id">
  <a name="iter_inv" class="">iter_inv</a>
</span>.<br/>
<br/>
<span class="vernacular">Context</span> <span class="id">{aT}</span> <span class="id">{A</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#aT:917">aT}</a></span>.<br/>
<br/>
<span class="id">Local</span> <span class="vernacular">Lemma</span> <span id="iter_fun_subproof" class="id">
  <a name="iter_fun_subproof" class="">iter_fun_subproof</a>
</span> <span id="n:919" class="id">
  <a name="n:919" class="">n</a>
</span> (<span id="f:920" class="id">
  <a name="f:920" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'{'_'fun'_x_'>->'_x_'}'">{fun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#iter_inv.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'{'_'fun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#iter_inv.A">A}</a></span>) <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#isFun">isFun</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#iter_inv.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#iter_inv.A">A</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.ssrnat.html#iter">iter</a></span> <span class="id"><a href="mathcomp.classical.functions.html#n:919">n</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:920">f</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof65')">Proof.</span></div>
<div class="proofscript" id="proof65">
<span class="id">split</span> <span class="id">=&gt;</span> <span class="id">x;</span> <span class="id">elim:</span> <span class="id">n</span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">n</span> <span class="id">/[apply]</span> <span class="id">?;</span> <span class="id">apply/</span>(<span class="id"><a href="mathcomp.classical.functions.html#fun_image_sub">fun_image_sub</a></span> <span class="id">f</span>).<br/>
<span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.ssrnat.html#iter">iter</a></span> <span class="id">n</span> <span class="id">f</span> <span class="id">x</span>).<br/>
Qed.</div>
<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span id="n:921" class="id">
  <a name="n:921" class="">n</a>
</span> <span id="f:922" class="id">
  <a name="f:922" class="">f</a>
</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#iter_fun_subproof">iter_fun_subproof</a></span> <span class="id"><a href="mathcomp.classical.functions.html#n:921">n</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:922">f</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="iter_inv.OInv" class="id">
  <a name="iter_inv.OInv" class="">OInv</a>
</span>.<br/>
<span class="vernacular">Context</span> <span class="id">{f</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'oinv'_x_'>->'_x_'}'">{oinv</a></span> <span class="id"><a href="mathcomp.classical.functions.html#iter_inv.aT">aT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'oinv'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#iter_inv.aT">aT}}</a></span>.<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span id="n:924" class="id">
  <a name="n:924" class="">n</a>
</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#Build">OInv.Build</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.ssrnat.html#iter">iter</a></span> <span class="id"><a href="mathcomp.classical.functions.html#n:924">n</a></span> <span class="id"><a href="mathcomp.classical.functions.html#iter_inv.OInv.f">f</a></span>)<br/>
&nbsp;&nbsp;(<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.ssrnat.html#iter">iter</a></span> <span class="id"><a href="mathcomp.classical.functions.html#n:924">n</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#obind">obind</a></span> <span class="id"><a href="mathcomp.classical.functions.html#:::'''oinv_'_x">'oinv_f</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:x_'\o'_x">\o</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#some">some</a></span>).<br/>
<span class="vernacular">Lemma</span> <span id="oinv_iter" class="id">
  <a name="oinv_iter" class="">oinv_iter</a>
</span> <span id="n:925" class="id">
  <a name="n:925" class="">n</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#:::'''oinv_'_x">'oinv_</a></span>(<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.ssrnat.html#iter">iter</a></span> <span class="id"><a href="mathcomp.classical.functions.html#n:925">n</a></span> <span class="id"><a href="mathcomp.classical.functions.html#iter_inv.OInv.f">f</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.ssrnat.html#iter">iter</a></span> <span class="id"><a href="mathcomp.classical.functions.html#n:925">n</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#obind">obind</a></span> <span class="id"><a href="mathcomp.classical.functions.html#:::'''oinv_'_x">'oinv_f</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:x_'\o'_x">\o</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#some">some</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof66')">Proof.</span></div>
<div class="proofscript" id="proof66">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.classical.functions.html#iter_inv.OInv">OInv</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="iter_inv.OInv" class="id">
  <a name="iter_inv.OInv" class="">OInv</a>
</span>.<br/>
<span class="vernacular">Context</span> <span class="id">{f</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'inv'_x_'>->'_x_'}'">{inv</a></span> <span class="id"><a href="mathcomp.classical.functions.html#iter_inv.aT">aT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'inv'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#iter_inv.aT">aT}}</a></span>.<br/>
<span class="vernacular">Lemma</span> <span id="some_iter_inv" class="id">
  <a name="some_iter_inv" class="">some_iter_inv</a>
</span> <span id="n:927" class="id">
  <a name="n:927" class="">n</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.mathcomp_extra.html#olift">olift</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.ssrnat.html#iter">iter</a></span> <span class="id"><a href="mathcomp.classical.functions.html#n:927">n</a></span> <span class="id"><a href="mathcomp.classical.functions.html#iter_inv.OInv.f">f^-1</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.classical.functions.html#:::'''oinv_'_x">'oinv_</a></span>(<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.ssrnat.html#iter">iter</a></span> <span class="id"><a href="mathcomp.classical.functions.html#n:927">n</a></span> <span class="id"><a href="mathcomp.classical.functions.html#iter_inv.OInv.f">f</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof67')">Proof.</span></div>
<div class="proofscript" id="proof67">
<span class="id">elim:</span> <span class="id">n</span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">n</span> <span class="id">IH;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#iterfSr">iterfSr</a></span> <span class="id"><a href="mathcomp.classical.mathcomp_extra.html#olift_comp">olift_comp</a></span> <span class="id">IH</span> <span class="id">?oinv_iter</span> <span class="id">-compA</span>.<br/>
<span class="id">rewrite</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:x_'\o'_x">\o</a></span> <span class="id"><a href="mathcomp.classical.functions.html#iter_inv.OInv.f">f^-1</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.classical.functions.html#:::'''oinv_'_x">'oinv_f</a></span>)<span class="id">;</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#iterfSr">iterfSr;</a></span> <span class="id">congr</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:x_'\o'_x">\o</a></span> <span class="id">_</span>).<br/>
<span class="gallina-kwd">by</span> <span class="id">apply/funeqP</span> <span class="id">=&gt;</span> <span class="id">?</span> <span class="id">/=;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#some_inv">some_inv</a></span>.<br/>
Qed.</div>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span id="n:928" class="id">
  <a name="n:928" class="">n</a>
</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#Build">OInv_Inv.Build</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.ssrnat.html#iter">iter</a></span> <span class="id"><a href="mathcomp.classical.functions.html#n:928">n</a></span> <span class="id"><a href="mathcomp.classical.functions.html#iter_inv.OInv.f">f</a></span>) (<span class="id"><a href="mathcomp.classical.functions.html#some_iter_inv">some_iter_inv</a></span> <span class="id"><a href="mathcomp.classical.functions.html#n:928">n</a></span>).<br/>
<span class="vernacular">Lemma</span> <span id="inv_iter" class="id">
  <a name="inv_iter" class="">inv_iter</a>
</span> <span id="n:929" class="id">
  <a name="n:929" class="">n</a>
</span> <span class="id">:</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.ssrnat.html#iter">iter</a></span> <span class="id"><a href="mathcomp.classical.functions.html#n:929">n</a></span> <span class="id"><a href="mathcomp.classical.functions.html#iter_inv.OInv.f">f</a></span>)<span class="id">^-1</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.ssrnat.html#iter">iter</a></span> <span class="id"><a href="mathcomp.classical.functions.html#n:929">n</a></span> <span class="id"><a href="mathcomp.classical.functions.html#iter_inv.OInv.f">f^-1</a></span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof68')">Proof.</span></div>
<div class="proofscript" id="proof68">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.classical.functions.html#iter_inv.OInv">OInv</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="iter_can_subproof" class="id">
  <a name="iter_can_subproof" class="">iter_can_subproof</a>
</span> <span id="n:930" class="id">
  <a name="n:930" class="">n</a>
</span> (<span id="f:931" class="id">
  <a name="f:931" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'injfun'_x_'>->'_x_'}'">{injfun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#iter_inv.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'injfun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#iter_inv.A">A}</a></span>) <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#OInv_Can">OInv_Can</a></span> <span class="id"><a href="mathcomp.classical.functions.html#iter_inv.aT">aT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#iter_inv.aT">aT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#iter_inv.A">A</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.ssrnat.html#iter">iter</a></span> <span class="id"><a href="mathcomp.classical.functions.html#n:930">n</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:931">f</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof69')">Proof.</span></div>
<div class="proofscript" id="proof69">
<span class="id">split=&gt;</span> <span class="id">x</span> <span class="id">Ax;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#oinv_iter">oinv_iter</a></span> <span class="id">/=;</span> <span class="id">elim:</span> <span class="id">n=&gt;</span> <span class="id">//</span> <span class="id">n</span> <span class="id">IH</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#iterfSr">iterfSr</a></span> <span class="id">/=</span> <span class="id"><a href="mathcomp.classical.functions.html#funoK">funoK</a></span> <span class="id">//;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.classical.functions.html#mem_fun">mem_fun</a></span>.<br/>
Qed.</div>
<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span id="f:932" class="id">
  <a name="f:932" class="">f</a>
</span> <span id="g:933" class="id">
  <a name="g:933" class="">g</a>
</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#iter_can_subproof">iter_can_subproof</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:932">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#g:933">g</a></span>.<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span id="n:934" class="id">
  <a name="n:934" class="">n</a>
</span> (<span id="f:935" class="id">
  <a name="f:935" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'injfun'_x_'>->'_x_'}'">{injfun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#iter_inv.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'injfun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#iter_inv.A">A}</a></span>) <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#on">Inject.on</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.ssrnat.html#iter">iter</a></span> <span class="id"><a href="mathcomp.classical.functions.html#n:934">n</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:935">f</a></span>).<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span id="n:936" class="id">
  <a name="n:936" class="">n</a>
</span> (<span id="f:937" class="id">
  <a name="f:937" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitinjfun'_x_'>->'_x_'}'">{splitinjfun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#iter_inv.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitinjfun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#iter_inv.A">A}</a></span>) <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#on">Inject.on</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.ssrnat.html#iter">iter</a></span> <span class="id"><a href="mathcomp.classical.functions.html#n:936">n</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:937">f</a></span>).<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.classical.functions.html#iter_inv">iter_inv</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="iter_surj" class="id">
  <a name="iter_surj" class="">iter_surj</a>
</span>.<br/>
<span class="vernacular">Context</span> <span class="id">{aT}</span> <span class="id">{A</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#aT:938">aT}</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="iter_surj_subproof" class="id">
  <a name="iter_surj_subproof" class="">iter_surj_subproof</a>
</span> <span id="n:940" class="id">
  <a name="n:940" class="">n</a>
</span> (<span id="f:941" class="id">
  <a name="f:941" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'surj'_x_'>->'_x_'}'">{surj</a></span> <span class="id"><a href="mathcomp.classical.functions.html#iter_surj.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'surj'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#iter_surj.A">A}</a></span>) <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#OInv_CanV">OInv_CanV</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#iter_surj.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#iter_surj.A">A</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.ssrnat.html#iter">iter</a></span> <span class="id"><a href="mathcomp.classical.functions.html#n:940">n</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:941">f</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof70')">Proof.</span></div>
<div class="proofscript" id="proof70">
<span class="id">split;</span> <span class="id">first</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.classical.functions.html#funS">funS</a></span>.<br/>
<span class="id">elim:</span> <span class="id">n=&gt;</span> <span class="id">//</span> <span class="id">n</span> <span class="id">IH;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#oinv_iter">oinv_iter</a></span> <span class="id"><a href="mathcomp.classical.boolp.html#iterfSr">iterfSr</a></span> <span class="id"><a href="mathcomp.classical.boolp.html#iterfS">iterfS</a></span>.<br/>
<span class="id">apply:</span> (<span class="id">@ocan_in_comp</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#mem">mem</a></span> <span class="id"><a href="mathcomp.classical.functions.html#iter_surj.A">A</a></span>)) <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">last</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.classical.functions.html#oinvK">oinvK</a></span>.<br/>
<span class="id">elim:</span> <span class="id">n</span> <span class="id">{IH}</span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">n</span> <span class="id">IH</span> <span class="id">x</span> <span class="id">Ax;</span> <span class="id">move:</span> (<span class="id">IH</span> <span class="id">_</span> <span class="id">Ax</span>)<span class="id">;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#pred_oapp_set">pred_oapp_set</a></span> <span class="id">?inE</span>.<br/>
<span class="id">case=&gt;</span> <span class="id">y</span> <span class="id">Ay</span> <span class="id">/=</span> <span class="id">ynf;</span> <span class="id">case:</span> (<span class="id">@oinvS</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">f</span> <span class="id">_</span> <span class="id">Ay</span>) <span class="id">=&gt;</span> <span class="id">z</span> <span class="id">?</span> <span class="id">zfinv;</span> <span class="gallina-kwd">exists</span> <span class="id">z</span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">zfinv</span> <span class="id">/=</span> <span class="id">-ynf</span>.<br/>
Qed.</div>
<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span id="n:942" class="id">
  <a name="n:942" class="">n</a>
</span> <span id="f:943" class="id">
  <a name="f:943" class="">f</a>
</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#iter_surj_subproof">iter_surj_subproof</a></span> <span class="id"><a href="mathcomp.classical.functions.html#n:942">n</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:943">f</a></span>.<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span id="n:944" class="id">
  <a name="n:944" class="">n</a>
</span> (<span id="f:945" class="id">
  <a name="f:945" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitsurj'_x_'>->'_x_'}'">{splitsurj</a></span> <span class="id"><a href="mathcomp.classical.functions.html#iter_surj.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitsurj'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#iter_surj.A">A}</a></span>) <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#on">Surject.on</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.ssrnat.html#iter">iter</a></span> <span class="id"><a href="mathcomp.classical.functions.html#n:944">n</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:945">f</a></span>).<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span id="n:946" class="id">
  <a name="n:946" class="">n</a>
</span> (<span id="f:947" class="id">
  <a name="f:947" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'surjfun'_x_'>->'_x_'}'">{surjfun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#iter_surj.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'surjfun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#iter_surj.A">A}</a></span>) <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#on">Surject.on</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.ssrnat.html#iter">iter</a></span> <span class="id"><a href="mathcomp.classical.functions.html#n:946">n</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:947">f</a></span>).<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span id="n:948" class="id">
  <a name="n:948" class="">n</a>
</span> (<span id="f:949" class="id">
  <a name="f:949" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitsurjfun'_x_'>->'_x_'}'">{splitsurjfun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#iter_surj.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitsurjfun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#iter_surj.A">A}</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#on">Surject.on</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.ssrnat.html#iter">iter</a></span> <span class="id"><a href="mathcomp.classical.functions.html#n:948">n</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:949">f</a></span>).<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span id="n:950" class="id">
  <a name="n:950" class="">n</a>
</span> (<span id="f:951" class="id">
  <a name="f:951" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'bij'_x_'>->'_x_'}'">{bij</a></span> <span class="id"><a href="mathcomp.classical.functions.html#iter_surj.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'bij'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#iter_surj.A">A}</a></span>) <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#on">Surject.on</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.ssrnat.html#iter">iter</a></span> <span class="id"><a href="mathcomp.classical.functions.html#n:950">n</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:951">f</a></span>).<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span id="n:952" class="id">
  <a name="n:952" class="">n</a>
</span> (<span id="f:953" class="id">
  <a name="f:953" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitbij'_x_'>->'_x_'}'">{splitbij</a></span> <span class="id"><a href="mathcomp.classical.functions.html#iter_surj.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitbij'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#iter_surj.A">A}</a></span>) <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#on">Surject.on</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.ssrnat.html#iter">iter</a></span> <span class="id"><a href="mathcomp.classical.functions.html#n:952">n</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:953">f</a></span>).<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.classical.functions.html#iter_surj">iter_surj</a></span>.<br/>
<br/>
<div class="doc">Unbind </div>
<br/>
<span class="vernacular">Section</span> <span id="Unbind" class="id">
  <a name="Unbind" class="">Unbind</a>
</span>.<br/>
<span class="vernacular">Context</span> <span class="id">{aT</span> <span id="rT:955" class="id">
  <a name="rT:955" class="">rT}</a>
</span> <span class="id">{A</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#aT:954">aT}</a></span> <span class="id">{B</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:955">rT}</a></span> (<span id="dflt:958" class="id">
  <a name="dflt:958" class="">dflt</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#aT:954">aT</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:955">rT</a></span>).<br/>
<span class="vernacular">Definition</span> <span id="unbind" class="id">
  <a name="unbind" class="">unbind</a>
</span> (<span id="f:959" class="id">
  <a name="f:959" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#Unbind.aT">aT</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Unbind.rT">rT</a></span>) <span id="x:960" class="id">
  <a name="x:960" class="">x</a>
</span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#odflt">odflt</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#Unbind.dflt">dflt</a></span> <span class="id"><a href="mathcomp.classical.functions.html#x:960">x</a></span>) (<span class="id"><a href="mathcomp.classical.functions.html#f:959">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#x:960">x</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="unbind_fun_subproof" class="id">
  <a name="unbind_fun_subproof" class="">unbind_fun_subproof</a>
</span> (<span id="f:961" class="id">
  <a name="f:961" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'{'_'fun'_x_'>->'_x_'}'">{fun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Unbind.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'{'_'fun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#some">some</a></span> <span class="id">@`</span> <span class="id"><a href="mathcomp.classical.functions.html#Unbind.B">B}</a></span>) <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#isFun">isFun</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#Unbind.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Unbind.B">B</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#unbind">unbind</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:961">f</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof71')">Proof.</span></div>
<div class="proofscript" id="proof71">
 <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/unbind;</span> <span class="id">split=&gt;</span> <span class="id">x</span> <span class="id">/'funS_f</span> <span class="id">[y</span> <span class="id">Bu</span> <span class="id">&lt;-]</span>. Qed.</div>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span id="f:962" class="id">
  <a name="f:962" class="">f</a>
</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#unbind_fun_subproof">unbind_fun_subproof</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:962">f</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="Unbind.Oinv" class="id">
  <a name="Unbind.Oinv" class="">Oinv</a>
</span>.<br/>
<span class="vernacular">Context</span> (<span id="f:963" class="id">
  <a name="f:963" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'oinv'_x_'>->'_x_'}'">{oinv</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Unbind.aT">aT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'oinv'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Unbind.rT">rT}</a></span>).<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#Build">OInv.Build</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.classical.functions.html#unbind">unbind</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Unbind.Oinv.f">f</a></span>) (<span class="id"><a href="mathcomp.classical.functions.html#:::'''oinv_'_x">'oinv_f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:x_'\o'_x">\o</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#some">some</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="oinv_unbind" class="id">
  <a name="oinv_unbind" class="">oinv_unbind</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#:::'''oinv_'_x">'oinv_</a></span>(<span class="id"><a href="mathcomp.classical.functions.html#unbind">unbind</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Unbind.Oinv.f">f</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.classical.functions.html#:::'''oinv_'_x">'oinv_f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:x_'\o'_x">\o</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#some">some</a></span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof72')">Proof.</span></div>
<div class="proofscript" id="proof72">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.classical.functions.html#Unbind.Oinv">Oinv</a></span>.<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> (<span id="f:964" class="id">
  <a name="f:964" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'oinvfun'_x_'>->'_x_'}'">{oinvfun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Unbind.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'oinvfun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#some">some</a></span> <span class="id">@`</span> <span class="id"><a href="mathcomp.classical.functions.html#Unbind.B">B}</a></span>) <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#on">Fun.on</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#unbind">unbind</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:964">f</a></span>).<br/>
<br/>
<span class="vernacular">Section</span> <span id="Unbind.Inv" class="id">
  <a name="Unbind.Inv" class="">Inv</a>
</span>.<br/>
<span class="vernacular">Context</span> (<span id="f:965" class="id">
  <a name="f:965" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'inv'_x_'>->'_x_'}'">{inv</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Unbind.aT">aT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'inv'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Unbind.rT">rT}</a></span>).<br/>
<span class="vernacular">Lemma</span> <span id="inv_unbind_subproof" class="id">
  <a name="inv_unbind_subproof" class="">inv_unbind_subproof</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.mathcomp_extra.html#olift">olift</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#Unbind.Inv.f">f^-1</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:x_'\o'_x">\o</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#some">some</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.classical.functions.html#:::'''oinv_'_x">'oinv_</a></span>(<span class="id"><a href="mathcomp.classical.functions.html#unbind">unbind</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Unbind.Inv.f">f</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof73')">Proof.</span></div>
<div class="proofscript" id="proof73">
 <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.mathcomp_extra.html#olift_comp">olift_comp</a></span> <span class="id"><a href="mathcomp.classical.functions.html#oliftV">oliftV</a></span>. Qed.</div>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#Build">OInv_Inv.Build</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.classical.functions.html#unbind">unbind</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Unbind.Inv.f">f</a></span>) <span class="id"><a href="mathcomp.classical.functions.html#inv_unbind_subproof">inv_unbind_subproof</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="inv_unbind" class="id">
  <a name="inv_unbind" class="">inv_unbind</a>
</span> <span class="id">:</span> (<span class="id"><a href="mathcomp.classical.functions.html#unbind">unbind</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Unbind.Inv.f">f</a></span>)<span class="id">^-1</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Unbind.Inv.f">f^-1</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:x_'\o'_x">\o</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#some">some</a></span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof74')">Proof.</span></div>
<div class="proofscript" id="proof74">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.classical.functions.html#Unbind.Inv">Inv</a></span>.<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> (<span id="f:966" class="id">
  <a name="f:966" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'invfun'_x_'>->'_x_'}'">{invfun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Unbind.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'invfun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#some">some</a></span> <span class="id">@`</span> <span class="id"><a href="mathcomp.classical.functions.html#Unbind.B">B}</a></span>) <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#on">Fun.on</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#unbind">unbind</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:966">f</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="unbind_inj_subproof" class="id">
  <a name="unbind_inj_subproof" class="">unbind_inj_subproof</a>
</span> (<span id="f:967" class="id">
  <a name="f:967" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'injfun'_x_'>->'_x_'}'">{injfun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Unbind.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'injfun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#some">some</a></span> <span class="id">@`</span> <span class="id"><a href="mathcomp.classical.functions.html#Unbind.B">B}</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id">@OInv_Can</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#Unbind.A">A</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#unbind">unbind</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:967">f</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof75')">Proof.</span></div>
<div class="proofscript" id="proof75">
<span class="id">split=&gt;</span> <span class="id">x</span> <span class="id">Ax;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#oinv_unbind">oinv_unbind</a></span> <span class="id">/unbind/=;</span> <span class="id">have</span> <span class="id">&lt;-</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'''funoK_'_x">'funoK_f</a></span> <span class="id">Ax</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">have</span> <span class="id">[y</span> <span class="id">By</span> <span class="id">/=</span> <span class="id">&lt;-]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'''funS_'_x">'funS_f</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#set_mem">set_mem</a></span> <span class="id">Ax</span>).<br/>
Qed.</div>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span id="f:968" class="id">
  <a name="f:968" class="">f</a>
</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#unbind_inj_subproof">unbind_inj_subproof</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:968">f</a></span>.<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> (<span id="f:969" class="id">
  <a name="f:969" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitinjfun'_x_'>->'_x_'}'">{splitinjfun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Unbind.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitinjfun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#some">some</a></span> <span class="id">@`</span> <span class="id"><a href="mathcomp.classical.functions.html#Unbind.B">B}</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#on">Inject.on</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#unbind">unbind</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:969">f</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="unbind_surj_subproof" class="id">
  <a name="unbind_surj_subproof" class="">unbind_surj_subproof</a>
</span> (<span id="f:970" class="id">
  <a name="f:970" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'surj'_x_'>->'_x_'}'">{surj</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Unbind.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'surj'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#some">some</a></span> <span class="id">@`</span> <span class="id"><a href="mathcomp.classical.functions.html#Unbind.B">B}</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id">@OInv_CanV</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#Unbind.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Unbind.B">B</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#unbind">unbind</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:970">f</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof76')">Proof.</span></div>
<div class="proofscript" id="proof76">
<span class="id">split=&gt;</span> <span class="id">[b|b</span> <span class="id">/set_mem]</span> <span class="id">Bb;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#oinv_unbind">oinv_unbind</a></span> <span class="id">/unbind/=</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">case:</span> <span class="id"><a href="mathcomp.classical.functions.html#oinvP">oinvP</a></span> <span class="id">=&gt;</span> <span class="id">[|a];</span> <span class="id">[exists</span> <span class="id">b</span> <span class="id">|</span> <span class="gallina-kwd">exists</span> <span class="id">a]</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">case:</span> <span class="id"><a href="mathcomp.classical.functions.html#oinvP">oinvP</a></span> <span class="id">=&gt;</span> <span class="id">[|a</span> <span class="id">Aa</span> <span class="id">/=</span> <span class="id">-&gt;];</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> <span class="id">b</span>.<br/>
Qed.</div>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span id="f:971" class="id">
  <a name="f:971" class="">f</a>
</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#unbind_surj_subproof">unbind_surj_subproof</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:971">f</a></span>.<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> (<span id="f:972" class="id">
  <a name="f:972" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'surjfun'_x_'>->'_x_'}'">{surjfun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Unbind.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'surjfun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#some">some</a></span> <span class="id">@`</span> <span class="id"><a href="mathcomp.classical.functions.html#Unbind.B">B}</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#on">Surject.on</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#unbind">unbind</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:972">f</a></span>).<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> (<span id="f:973" class="id">
  <a name="f:973" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitsurj'_x_'>->'_x_'}'">{splitsurj</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Unbind.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitsurj'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#some">some</a></span> <span class="id">@`</span> <span class="id"><a href="mathcomp.classical.functions.html#Unbind.B">B}</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#on">Surject.on</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#unbind">unbind</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:973">f</a></span>).<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> (<span id="f:974" class="id">
  <a name="f:974" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitsurjfun'_x_'>->'_x_'}'">{splitsurjfun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Unbind.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitsurjfun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#some">some</a></span> <span class="id">@`</span> <span class="id"><a href="mathcomp.classical.functions.html#Unbind.B">B}</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#on">Surject.on</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#unbind">unbind</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:974">f</a></span>).<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> (<span id="f:975" class="id">
  <a name="f:975" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'bij'_x_'>->'_x_'}'">{bij</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Unbind.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'bij'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#some">some</a></span> <span class="id">@`</span> <span class="id"><a href="mathcomp.classical.functions.html#Unbind.B">B}</a></span>) <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#on">Surject.on</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#unbind">unbind</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:975">f</a></span>).<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> (<span id="f:976" class="id">
  <a name="f:976" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitbij'_x_'>->'_x_'}'">{splitbij</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Unbind.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitbij'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#some">some</a></span> <span class="id">@`</span> <span class="id"><a href="mathcomp.classical.functions.html#Unbind.B">B}</a></span>) <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#on">Bij.on</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#unbind">unbind</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:976">f</a></span>).<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.classical.functions.html#Unbind">Unbind</a></span>.<br/>
<br/>
<div class="doc">Odflt </div>
<br/>
<span class="vernacular">Section</span> <span id="Odflt" class="id">
  <a name="Odflt" class="">Odflt</a>
</span>.<br/>
<span class="vernacular">Context</span> <span class="id">{T}</span> <span class="id">{A</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#T:977">T}</a></span> (<span id="x:979" class="id">
  <a name="x:979" class="">x</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#T:977">T</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="odflt_unbind" class="id">
  <a name="odflt_unbind" class="">odflt_unbind</a>
</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#odflt">odflt</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Odflt.x">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.classical.functions.html#unbind">unbind</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:'fun'_'=>'_x">fun=&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Odflt.x">x</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#idfun">idfun</a></span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof77')">Proof.</span></div>
<div class="proofscript" id="proof77">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#Build">Inv.Build</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#odflt">odflt</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Odflt.x">x</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#some">some</a></span>.<br/>
<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#copy">SplitBij.copy</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#odflt">odflt</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Odflt.x">x</a></span>)<br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::form_scope:'['_'the'_x_'of'_x_']'">[the</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'bij'_x_'>->'_x_'}'">{bij</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#some">some</a></span> <span class="id">@`</span> <span class="id"><a href="mathcomp.classical.functions.html#Odflt.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'bij'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Odflt.A">A}</a></span> <span class="id">of</span> <span class="id"><a href="mathcomp.classical.functions.html#unbind">unbind</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:'fun'_'=>'_x">fun=&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Odflt.x">x</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#idfun">idfun]</a></span>.<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.classical.functions.html#Odflt">Odflt</a></span>.<br/>
<br/>
<div class="doc">Subtypes </div>
<br/>
<span class="vernacular">Section</span> <span id="SubType" class="id">
  <a name="SubType" class="">SubType</a>
</span>.<br/>
<span class="vernacular">Context</span> <span class="id">{T</span> <span class="id">:</span> <span class="id">Type}</span> <span class="id">{P</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#pred">pred</a></span> <span class="id"><a href="mathcomp.classical.functions.html#T:980">T}</a></span> (<span id="sT:982" class="id">
  <a name="sT:982" class="">sT</a>
</span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#subType">subType</a></span> <span class="id"><a href="mathcomp.classical.functions.html#P:981">P</a></span>) (<span id="x0:983" class="id">
  <a name="x0:983" class="">x0</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#sT:982">sT</a></span>).<br/>
<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#Build">OInv.Build</a></span> <span class="id"><a href="mathcomp.classical.functions.html#SubType.sT">sT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#SubType.T">T</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#val">val</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#insub">insub</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="oinv_val" class="id">
  <a name="oinv_val" class="">oinv_val</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#:::'''oinv_'_x">'oinv_val</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#insub">insub</a></span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof78')">Proof.</span></div>
<div class="proofscript" id="proof78">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="val_bij_subproof" class="id">
  <a name="val_bij_subproof" class="">val_bij_subproof</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#OInv_Can2">OInv_Can2</a></span> <span class="id"><a href="mathcomp.classical.functions.html#SubType.sT">sT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#SubType.T">T</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set`'_x_']'">[set`</a></span> <span class="id"><a href="mathcomp.classical.functions.html#SubType.P">P]</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#val">val</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof79')">Proof.</span></div>
<div class="proofscript" id="proof79">
<span class="id">apply:</span> (<span class="id"><a href="mathcomp.classical.functions.html#Build">OInv_Can2.Build</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#val">val</a></span> (<span class="gallina-kwd">fun</span> <span id="x:985" class="id"><span id="x:984" class="id">
  <a name="x:985" class="">x</a>
</span></span>  <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#valP">valP</a></span> <span class="id"><a href="mathcomp.classical.functions.html#x:984">x</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">_</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#in1W">in1W</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#valK">valK</a></span>) (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#in1W">in1W</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#insubK">insubK</a></span> <span class="id">_</span>))).<br/>
<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">x</span> <span class="id">Px</span> <span class="id">/=;</span> <span class="gallina-kwd">exists</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#Sub">Sub</a></span> <span class="id">x</span> <span class="id">Px</span>) <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#oinv_val">oinv_val</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#insubT">insubT</a></span>.<br/>
Qed.</div>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#val_bij_subproof">val_bij_subproof</a></span>.<br/>
<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#copy">Bij.copy</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#insub">insub</a></span> <span class="id"><a href="mathcomp.classical.functions.html#:::'''oinv_'_x">'oinv_val</a></span>.<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#copy">SplitBij.copy</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#insubd">insubd</a></span> <span class="id"><a href="mathcomp.classical.functions.html#SubType.x0">x0</a></span>)<br/>
&nbsp;&nbsp;&nbsp;(<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#odflt">odflt</a></span> <span class="id"><a href="mathcomp.classical.functions.html#SubType.x0">x0</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:x_'\o'_x">\o</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'''split_'_x">'split_</a></span>(<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:'fun'_'=>'_x">fun=&gt;</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#val">val</a></span> <span class="id"><a href="mathcomp.classical.functions.html#SubType.x0">x0</a></span>) <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#insub">insub</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="inv_insubd" class="id">
  <a name="inv_insubd" class="">inv_insubd</a>
</span> <span class="id">:</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#insubd">insubd</a></span> <span class="id"><a href="mathcomp.classical.functions.html#SubType.x0">x0</a></span>)<span class="id">^-1</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#val">val</a></span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof80')">Proof.</span></div>
<div class="proofscript" id="proof80">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.classical.functions.html#SubType">SubType</a></span>.<br/>
<br/>
<div class="doc">To setT </div>
<br/>
<span class="vernacular">Definition</span> <span id="to_setT" class="id">
  <a name="to_setT" class="">to_setT</a>
</span> <span class="id">{T}</span> (<span id="x:987" class="id">
  <a name="x:987" class="">x</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#T:986">T</a></span>) <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_':'_x_']'">[set:</a></span> <span class="id"><a href="mathcomp.classical.functions.html#T:986">T]</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id">@SigSub</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#x:987">x</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#mem_set">mem_set</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#I">I</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="mathcomp.classical.functions.html#x:987">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::bool_scope:x_'\in'_x">\in</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span>).<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span id="T:988" class="id">
  <a name="T:988" class="">T</a>
</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#Build">Can.Build</a></span> <span class="id"><a href="mathcomp.classical.functions.html#T:988">T</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_':'_x_']'">[set:</a></span> <span class="id"><a href="mathcomp.classical.functions.html#T:988">T]</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#to_setT">to_setT</a></span><br/>
&nbsp;&nbsp;((<span class="gallina-kwd">fun</span> <span class="id">_</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#erefl">erefl</a></span>) <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_','_x_'}'">{in</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT,</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id"><a href="mathcomp.classical.functions.html#to_setT">to_setT</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#val">val}</a></span>).<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span id="T:989" class="id">
  <a name="T:989" class="">T</a>
</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#Build">isFun.Build</a></span> <span class="id"><a href="mathcomp.classical.functions.html#T:989">T</a></span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#to_setT">to_setT</a></span> (<span class="gallina-kwd">fun</span> <span class="id">_</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#I">I</a></span>).<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span id="T:990" class="id">
  <a name="T:990" class="">T</a>
</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#Build">SplitInjFun_CanV.Build</a></span> <span class="id"><a href="mathcomp.classical.functions.html#T:990">T</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#to_setT">to_setT</a></span> (<span class="gallina-kwd">fun</span> <span id="x:991" class="id">
  <a name="x:991" class="">x</a>
</span> <span id="y:992" class="id">
  <a name="y:992" class="">y</a>
</span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#I">I</a></span>) <span class="id"><a href="mathcomp.classical.functions.html#inj">inj</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="setTbij" class="id">
  <a name="setTbij" class="">setTbij</a>
</span> <span class="id">{T}</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'['_'splitbij'_'of'_x_']'">[splitbij</a></span> <span class="id">of</span> <span class="id">@to_setT</span> <span class="id"><a href="mathcomp.classical.functions.html#T:993">T]</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="inv_to_setT" class="id">
  <a name="inv_to_setT" class="">inv_to_setT</a>
</span> <span id="T:994" class="id">
  <a name="T:994" class="">T</a>
</span> <span class="id">:</span> (<span class="id">@to_setT</span> <span class="id"><a href="mathcomp.classical.functions.html#T:994">T</a></span>)<span class="id">^-1</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#val">val</a></span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof81')">Proof.</span></div>
<div class="proofscript" id="proof81">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<br/>
<div class="doc">Subfun </div>
<br/>
<span class="vernacular">Section</span> <span id="subfun" class="id">
  <a name="subfun" class="">subfun</a>
</span>.<br/>
<span class="vernacular">Context</span> <span class="id">{T}</span> <span class="id">{A</span> <span id="B:997" class="id">
  <a name="B:997" class="">B</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#T:995">T}</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="subfun" class="id">
  <a name="subfun" class="">subfun</a>
</span> (<span id="AB:998" class="id">
  <a name="AB:998" class="">AB</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#subfun.A">A</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:x_'`<=`'_x">`&lt;=`</a></span> <span class="id"><a href="mathcomp.classical.functions.html#subfun.B">B</a></span>) (<span id="a:999" class="id">
  <a name="a:999" class="">a</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#subfun.A">A</a></span>) <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#subfun.B">B</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.classical_sets.html#SigSub">SigSub</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#mem_set">mem_set</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#AB:998">AB</a></span> <span class="id">_</span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#set_valP">set_valP</a></span> <span class="id"><a href="mathcomp.classical.functions.html#a:999">a</a></span>))).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="subfun_inj" class="id">
  <a name="subfun_inj" class="">subfun_inj</a>
</span> <span class="id">{AB</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#subfun.A">A</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:x_'`<=`'_x">`&lt;=`</a></span> <span class="id"><a href="mathcomp.classical.functions.html#subfun.B">B}</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#injective">injective</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#subfun">subfun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#AB:1000">AB</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof82')">Proof.</span></div>
<div class="proofscript" id="proof82">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">x</span> <span class="id">y</span> <span class="id">/</span>(<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#congr1">congr1</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#val">val</a></span>)<span class="id">/=</span> <span class="id">/val_inj</span>. Qed.</div>
<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> (<span id="AB:1001" class="id">
  <a name="AB:1001" class="">AB</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#subfun.A">A</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:x_'`<=`'_x">`&lt;=`</a></span> <span class="id"><a href="mathcomp.classical.functions.html#subfun.B">B</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#copy">SurjFun.copy</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#subfun">subfun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#AB:1001">AB</a></span>) <span class="id"><a href="mathcomp.classical.functions.html#::function_scope:'['_'fun'_x_'in'_x_']'">[fun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#subfun">subfun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#AB:1001">AB</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT]</a></span>.<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span>  (<span id="AB:1002" class="id">
  <a name="AB:1002" class="">AB</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#subfun.A">A</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:x_'`<=`'_x">`&lt;=`</a></span> <span class="id"><a href="mathcomp.classical.functions.html#subfun.B">B</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#Build">SurjFun_Inj.Build</a></span> <span class="id"><a href="mathcomp.classical.functions.html#subfun.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#subfun.B">B</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#subfun">subfun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#AB:1002">AB</a></span> <span class="id">@`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span>) (<span class="id"><a href="mathcomp.classical.functions.html#subfun">subfun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#AB:1002">AB</a></span>) (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#in2W">in2W</a></span> <span class="id"><a href="mathcomp.classical.functions.html#subfun_inj">subfun_inj</a></span>).<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.classical.functions.html#subfun">subfun</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="subfun_eq" class="id">
  <a name="subfun_eq" class="">subfun_eq</a>
</span>.<br/>
<span class="vernacular">Context</span> <span class="id">{T}</span> <span class="id">{A</span> <span id="B:1005" class="id">
  <a name="B:1005" class="">B</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#T:1003">T}</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="subfun_imageT" class="id">
  <a name="subfun_imageT" class="">subfun_imageT</a>
</span> (<span id="AB:1006" class="id">
  <a name="AB:1006" class="">AB</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#subfun_eq.A">A</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:x_'`<=`'_x">`&lt;=`</a></span> <span class="id"><a href="mathcomp.classical.functions.html#subfun_eq.B">B</a></span>) (<span id="BA:1007" class="id">
  <a name="BA:1007" class="">BA</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#subfun_eq.B">B</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:x_'`<=`'_x">`&lt;=`</a></span> <span class="id"><a href="mathcomp.classical.functions.html#subfun_eq.A">A</a></span>) <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#subfun">subfun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#AB:1006">AB</a></span> <span class="id">@`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof83')">Proof.</span></div>
<div class="proofscript" id="proof83">
<span class="gallina-kwd">by</span> <span class="id">apply/seteqP;</span> <span class="id">split=&gt;</span> <span class="id">x</span> <span class="id">//=</span> <span class="id">_;</span> <span class="gallina-kwd">exists</span> (<span class="id"><a href="mathcomp.classical.functions.html#subfun">subfun</a></span> <span class="id">BA</span> <span class="id">x</span>) <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact/val_inj</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="subfun_inv_subproof" class="id">
  <a name="subfun_inv_subproof" class="">subfun_inv_subproof</a>
</span> (<span id="AB:1008" class="id">
  <a name="AB:1008" class="">AB</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#subfun_eq.A">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.classical.functions.html#subfun_eq.B">B</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.mathcomp_extra.html#olift">olift</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#subfun">subfun</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#subsetCW">subsetCW</a></span> <span class="id"><a href="mathcomp.classical.functions.html#AB:1008">AB</a></span>)) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.classical.functions.html#:::'''oinv_'_x">'oinv_</a></span>(<span class="id"><a href="mathcomp.classical.functions.html#subfun">subfun</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#subsetW">subsetW</a></span> <span class="id"><a href="mathcomp.classical.functions.html#AB:1008">AB</a></span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof84')">Proof.</span></div>
<div class="proofscript" id="proof84">
<span class="id">set</span> <span class="id">g</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#subfun">subfun</a></span> <span class="id">_;</span> <span class="id">set</span> <span class="id">f</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#subfun">subfun</a></span> <span class="id">_;</span> <span class="id">apply/funext</span> <span class="id">=&gt;</span> <span class="id">x</span> <span class="id">/=</span>.<br/>
<span class="id">apply:</span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'''inj_'_x">'inj_</a></span>(<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#oapp">oapp</a></span> <span class="id">f</span> <span class="id">x</span>) <span class="id">=&gt;</span> <span class="id">//=</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE/=;</a></span> <span class="id">eexists</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE/=;</a></span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'''oinvS_'_x">'oinvS_f;</a></span> <span class="gallina-kwd">exists</span> (<span class="id">g</span> <span class="id">x</span>) <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">apply/val_inj</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#oinvK">oinvK</a></span> <span class="id">?inE//=;</span> <span class="id">first</span> <span class="id">exact/val_inj</span>.<br/>
<span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> (<span class="id">g</span> <span class="id">x</span>) <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">apply/val_inj</span>.<br/>
Qed.</div>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> (<span id="AB:1009" class="id">
  <a name="AB:1009" class="">AB</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#subfun_eq.A">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.classical.functions.html#subfun_eq.B">B</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#Build">OInv_Inv.Build</a></span> <span class="id"><a href="mathcomp.classical.functions.html#subfun_eq.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#subfun_eq.B">B</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#subfun">subfun</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#subsetW">subsetW</a></span> <span class="id"><a href="mathcomp.classical.functions.html#AB:1009">AB</a></span>)) (<span class="id"><a href="mathcomp.classical.functions.html#subfun_inv_subproof">subfun_inv_subproof</a></span> <span class="id"><a href="mathcomp.classical.functions.html#AB:1009">AB</a></span>).<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.classical.functions.html#subfun_eq">subfun_eq</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="seteqfun" class="id">
  <a name="seteqfun" class="">seteqfun</a>
</span>.<br/>
<span class="vernacular">Context</span> <span class="id">{T</span> <span class="id">:</span> <span class="id">Type}</span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="seteqfun" class="id">
  <a name="seteqfun" class="">seteqfun</a>
</span> <span class="id">{A</span> <span id="B:1012" class="id">
  <a name="B:1012" class="">B</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#seteqfun.T">T}</a></span> (<span id="AB:1013" class="id">
  <a name="AB:1013" class="">AB</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#A:1011">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:1012">B</a></span>) <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#subfun">subfun</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#subsetW">subsetW</a></span> <span class="id"><a href="mathcomp.classical.functions.html#AB:1013">AB</a></span>).<br/>
<br/>
<span class="vernacular">Context</span> <span class="id">{A</span> <span id="B:1015" class="id">
  <a name="B:1015" class="">B</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#seteqfun.T">T}</a></span> (<span id="AB:1016" class="id">
  <a name="AB:1016" class="">AB</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#A:1014">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:1015">B</a></span>).<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#Build">Inv.Build</a></span> <span class="id"><a href="mathcomp.classical.functions.html#seteqfun.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#seteqfun.B">B</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#seteqfun">seteqfun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#seteqfun.AB">AB</a></span>) (<span class="id"><a href="mathcomp.classical.functions.html#seteqfun">seteqfun</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#esym">esym</a></span> <span class="id"><a href="mathcomp.classical.functions.html#seteqfun.AB">AB</a></span>)).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="seteqfun_can2_subproof" class="id">
  <a name="seteqfun_can2_subproof" class="">seteqfun_can2_subproof</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#Inv_Can2">Inv_Can2</a></span> <span class="id"><a href="mathcomp.classical.functions.html#seteqfun.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#seteqfun.B">B</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#seteqfun">seteqfun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#seteqfun.AB">AB</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof85')">Proof.</span></div>
<div class="proofscript" id="proof85">
 <span class="gallina-kwd">by</span> <span class="id">split;</span> <span class="id">rewrite</span> <span class="id">/seteqfun//;</span> <span class="id">move=&gt;</span> <span class="id">x</span> <span class="id">_;</span> <span class="id">apply/val_inj</span>. Qed.</div>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#seteqfun_can2_subproof">seteqfun_can2_subproof</a></span>.<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.classical.functions.html#seteqfun">seteqfun</a></span>.<br/>
<br/>
<div class="doc">Inclusion </div>
<br/>
<span class="vernacular">Section</span> <span id="incl" class="id">
  <a name="incl" class="">incl</a>
</span>.<br/>
<span class="vernacular">Context</span>  <span class="id">{T}</span> <span class="id">{A</span> <span id="B:1019" class="id">
  <a name="B:1019" class="">B</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#T:1017">T}</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="incl" class="id">
  <a name="incl" class="">incl</a>
</span> (<span id="AB:1020" class="id">
  <a name="AB:1020" class="">AB</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#incl.A">A</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:x_'`<=`'_x">`&lt;=`</a></span> <span class="id"><a href="mathcomp.classical.functions.html#incl.B">B</a></span>) <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:'@'_'id'_x">@id</a></span> <span class="id"><a href="mathcomp.classical.functions.html#incl.T">T</a></span>.<br/>
<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> (<span id="AB:1021" class="id">
  <a name="AB:1021" class="">AB</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#incl.A">A</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:x_'`<=`'_x">`&lt;=`</a></span> <span class="id"><a href="mathcomp.classical.functions.html#incl.B">B</a></span>) <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#Build">Inv.Build</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.classical.functions.html#incl">incl</a></span> <span class="id"><a href="mathcomp.classical.functions.html#AB:1021">AB</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#id">id</a></span>.<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> (<span id="AB:1022" class="id">
  <a name="AB:1022" class="">AB</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#incl.A">A</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:x_'`<=`'_x">`&lt;=`</a></span> <span class="id"><a href="mathcomp.classical.functions.html#incl.B">B</a></span>) <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#Build">isFun.Build</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#incl.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#incl.B">B</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#incl">incl</a></span> <span class="id"><a href="mathcomp.classical.functions.html#AB:1022">AB</a></span>) <span class="id"><a href="mathcomp.classical.functions.html#AB:1022">AB</a></span>.<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> (<span id="AB:1023" class="id">
  <a name="AB:1023" class="">AB</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#incl.A">A</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:x_'`<=`'_x">`&lt;=`</a></span> <span class="id"><a href="mathcomp.classical.functions.html#incl.B">B</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#Build">Inv_Can.Build</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#incl.A">A</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#incl">incl</a></span> <span class="id"><a href="mathcomp.classical.functions.html#AB:1023">AB</a></span>) (<span class="gallina-kwd">fun</span> <span class="id">_</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#erefl">erefl</a></span>).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="eqincl" class="id">
  <a name="eqincl" class="">eqincl</a>
</span> (<span id="AB:1024" class="id">
  <a name="AB:1024" class="">AB</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#incl.A">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.classical.functions.html#incl.B">B</a></span>) <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#incl">incl</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#subsetW">subsetW</a></span> <span class="id"><a href="mathcomp.classical.functions.html#AB:1024">AB</a></span>).<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span id="AB:1025" class="id">
  <a name="AB:1025" class="">AB</a>
</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#on">Inversible.on</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#eqincl">eqincl</a></span> <span class="id"><a href="mathcomp.classical.functions.html#AB:1025">AB</a></span>).<br/>
<span class="vernacular">Lemma</span> <span id="eqincl_surj" class="id">
  <a name="eqincl_surj" class="">eqincl_surj</a>
</span> <span id="AB:1026" class="id">
  <a name="AB:1026" class="">AB</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#Inv_Can2">Inv_Can2</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#incl.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#incl.B">B</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#eqincl">eqincl</a></span> <span class="id"><a href="mathcomp.classical.functions.html#AB:1026">AB</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof86')">Proof.</span></div>
<div class="proofscript" id="proof86">
 <span class="gallina-kwd">by</span> <span class="id">split=&gt;</span> <span class="id">//</span> <span class="id">x;</span> <span class="id">rewrite</span> <span class="id">/eqincl</span> <span class="id">/incl/=</span> <span class="id">/</span>(<span class="id">_^-1</span>)<span class="id">/inv/=</span> <span class="id">AB</span>. Qed.</div>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span id="AB:1027" class="id">
  <a name="AB:1027" class="">AB</a>
</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#eqincl_surj">eqincl_surj</a></span> <span class="id"><a href="mathcomp.classical.functions.html#AB:1027">AB</a></span>.<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.classical.functions.html#incl">incl</a></span>.<br/>
<span class="vernacular">Notation</span> <span id="inclT" class="id">
  <a name="inclT" class="">inclT</a>
</span> <span class="id">A</span> <span class="id">:=</span> (<span class="id"><a href="mathcomp.classical.functions.html#incl">incl</a></span> (<span class="id">@subsetT</span> <span class="id">_</span> <span class="id">_</span>)).<br/>
<br/>
<div class="doc">Ad hoc function </div>
<br/>
<span class="vernacular">Section</span> <span id="mkfun" class="id">
  <a name="mkfun" class="">mkfun</a>
</span>.<br/>
<span class="vernacular">Context</span> <span class="id">{aT}</span> <span class="id">{rT}</span> <span class="id">{A</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#aT:1028">aT}</a></span> <span class="id">{B</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:1029">rT}</a></span>.<br/>
<span class="vernacular">Notation</span> <span id="isfun" class="id">
  <a name="isfun" class="">isfun</a>
</span> <span class="id">f</span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_'/'_x_'>->'_x_'}'">{homo</a></span> <span class="id">f</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_'/'_x_'>->'_x_'}'">:</a></span> <span id="x:1033" class="id"><span id="x:1032" class="id">
  <a name="x:1033" class="">x</a>
</span></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_'/'_x_'>->'_x_'}'">/</a></span> <span class="id"><a href="mathcomp.classical.functions.html#mkfun.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#x:1032">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_'/'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#mkfun.B">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#x:1033">x}</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="mkfun" class="id">
  <a name="mkfun" class="">mkfun</a>
</span> <span id="f:1034" class="id">
  <a name="f:1034" class="">f</a>
</span> (<span id="fAB:1035" class="id">
  <a name="fAB:1035" class="">fAB</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#isfun">isfun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1034">f</a></span>) <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#f:1034">f</a></span>.<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span id="f:1036" class="id">
  <a name="f:1036" class="">f</a>
</span> <span id="fAB:1037" class="id">
  <a name="fAB:1037" class="">fAB</a>
</span> <span class="id">:=</span> <span class="id">@isFun</span>.<span class="id">Build</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#mkfun.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#mkfun.B">B</a></span> (<span class="id">@mkfun</span> <span class="id"><a href="mathcomp.classical.functions.html#f:1036">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#fAB:1037">fAB</a></span>) <span class="id"><a href="mathcomp.classical.functions.html#fAB:1037">fAB</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="mkfun_fun" class="id">
  <a name="mkfun_fun" class="">mkfun_fun</a>
</span> <span id="f:1038" class="id">
  <a name="f:1038" class="">f</a>
</span> <span id="fAB:1039" class="id">
  <a name="fAB:1039" class="">fAB</a>
</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'['_'fun'_'of'_x_']'">[fun</a></span> <span class="id">of</span> <span class="id">@mkfun</span> <span class="id"><a href="mathcomp.classical.functions.html#f:1038">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#fAB:1039">fAB]</a></span>.<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> (<span id="f:1040" class="id">
  <a name="f:1040" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'inj'_x_'>->'_x_'}'">{inj</a></span> <span class="id"><a href="mathcomp.classical.functions.html#mkfun.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'inj'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#mkfun.rT">rT}</a></span>) <span id="fAB:1041" class="id">
  <a name="fAB:1041" class="">fAB</a>
</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#on">Inject.on</a></span> (<span class="id">@mkfun</span> <span class="id"><a href="mathcomp.classical.functions.html#f:1040">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#fAB:1041">fAB</a></span>).<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> (<span id="f:1042" class="id">
  <a name="f:1042" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitinj'_x_'>->'_x_'}'">{splitinj</a></span> <span class="id"><a href="mathcomp.classical.functions.html#mkfun.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitinj'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#mkfun.rT">rT}</a></span>) <span id="fAB:1043" class="id">
  <a name="fAB:1043" class="">fAB</a>
</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#on">SplitInj.on</a></span> (<span class="id">@mkfun</span> <span class="id"><a href="mathcomp.classical.functions.html#f:1042">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#fAB:1043">fAB</a></span>).<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> (<span id="f:1044" class="id">
  <a name="f:1044" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'surj'_x_'>->'_x_'}'">{surj</a></span> <span class="id"><a href="mathcomp.classical.functions.html#mkfun.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'surj'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#mkfun.B">B}</a></span>) <span id="fAB:1045" class="id">
  <a name="fAB:1045" class="">fAB</a>
</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#on">Surject.on</a></span> (<span class="id">@mkfun</span> <span class="id"><a href="mathcomp.classical.functions.html#f:1044">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#fAB:1045">fAB</a></span>).<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> (<span id="f:1046" class="id">
  <a name="f:1046" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitsurj'_x_'>->'_x_'}'">{splitsurj</a></span> <span class="id"><a href="mathcomp.classical.functions.html#mkfun.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitsurj'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#mkfun.B">B}</a></span>) <span id="fAB:1047" class="id">
  <a name="fAB:1047" class="">fAB</a>
</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#on">SplitSurj.on</a></span> (<span class="id">@mkfun</span> <span class="id"><a href="mathcomp.classical.functions.html#f:1046">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#fAB:1047">fAB</a></span>).<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.classical.functions.html#mkfun">mkfun</a></span>.<br/>
<br/>
<div class="doc">set_val </div>
<br/>
<span class="vernacular">Section</span> <span id="set_val" class="id">
  <a name="set_val" class="">set_val</a>
</span>.<br/>
<span class="vernacular">Context</span> <span class="id">{T}</span> <span class="id">{A</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#T:1048">T}</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="set_val" class="id">
  <a name="set_val" class="">set_val</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#set_val.A">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#set_val.T">T</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#eqincl">eqincl</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#set_mem_set">set_mem_set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#set_val.A">A</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:x_'\o'_x">\o</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#val">val</a></span>.<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#on">Bij.on</a></span> <span class="id"><a href="mathcomp.classical.functions.html#set_val">set_val</a></span>.<br/>
<span class="vernacular">Lemma</span> <span id="oinv_set_val" class="id">
  <a name="oinv_set_val" class="">oinv_set_val</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#:::'''oinv_'_x">'oinv_set_val</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#insub">insub</a></span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof87')">Proof.</span></div>
<div class="proofscript" id="proof87">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span class="vernacular">Lemma</span> <span id="set_valE" class="id">
  <a name="set_valE" class="">set_valE</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#set_val">set_val</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#val">val</a></span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof88')">Proof.</span></div>
<div class="proofscript" id="proof88">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.classical.functions.html#set_val">set_val</a></span>.<br/>
<br/>
<span class="id">#[global]</span><br/>
<span class="vernacular">Hint</span> <span class="id">Extern</span> <span class="id">0</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#is_true">is_true</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#set_val">set_val</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::bool_scope:x_'\in'_x">\in</a></span> <span class="id">_</span>)) <span class="id">=&gt;</span> <span class="id">solve</span> <span class="id">[apply:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#valP">valP]</a></span> <span class="id">:</span> <span class="id">core</span>.<br/>
<br/>
<div class="doc">Squash </div>
<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span id="T:1050" class="id">
  <a name="T:1050" class="">T</a>
</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#Build">CanV.Build</a></span> <span class="id"><a href="mathcomp.classical.functions.html#T:1050">T</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::form_scope:'$|'_x_'|'">$|T|</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#squash">squash</a></span> (<span class="gallina-kwd">fun</span> <span class="id">_</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#I">I</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#in1W">in1W</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#unsquashK">unsquashK</a></span>).<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span id="T:1051" class="id">
  <a name="T:1051" class="">T</a>
</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#copy">SplitInj.copy</a></span> (<span class="id">@unsquash</span> <span class="id"><a href="mathcomp.classical.functions.html#T:1051">T</a></span>) <span class="id"><a href="mathcomp.classical.classical_sets.html#squash">squash^-1%FUN</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="ssquash" class="id">
  <a name="ssquash" class="">ssquash</a>
</span> <span class="id">{T}</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'['_'splitsurj'_'of'_x_']'">[splitsurj</a></span> <span class="id">of</span> <span class="id">@squash</span> <span class="id"><a href="mathcomp.classical.functions.html#T:1052">T]</a></span>.<br/>
<br/>
<div class="doc">pickle and unpickle </div>
<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> (<span id="T:1053" class="id">
  <a name="T:1053" class="">T</a>
</span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.choice.html#Countable.Exports.countType">countType</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#Build">Inj.Build</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> (<span class="id">@choice</span>.<span class="id">pickle</span> <span class="id"><a href="mathcomp.classical.functions.html#T:1053">T</a></span>) (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#in2W">in2W</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#pcan_inj">pcan_inj</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.choice.html#pickleK">choice.pickleK</a></span>)).<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> (<span id="T:1054" class="id">
  <a name="T:1054" class="">T</a>
</span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.choice.html#Countable.Exports.countType">countType</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#Build">isFun.Build</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> (<span class="id">@choice</span>.<span class="id">pickle</span> <span class="id"><a href="mathcomp.classical.functions.html#T:1054">T</a></span>) (<span class="gallina-kwd">fun</span> <span class="id">_</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#I">I</a></span>).<br/>
<br/>
<div class="doc">set0fun </div>
<br/>
<span class="vernacular">Lemma</span> <span id="set0fun_inj" class="id">
  <a name="set0fun_inj" class="">set0fun_inj</a>
</span> <span class="id">{P</span> <span id="T:1056" class="id">
  <a name="T:1056" class="">T}</a>
</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#injective">injective</a></span> (<span class="id">@set0fun</span> <span class="id"><a href="mathcomp.classical.functions.html#P:1055">P</a></span> <span class="id"><a href="mathcomp.classical.functions.html#T:1056">T</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof89')">Proof.</span></div>
<div class="proofscript" id="proof89">
 <span class="gallina-kwd">by</span> <span class="id">case=&gt;</span> <span class="id">x</span> <span class="id">x0;</span> <span class="id">have</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set_mem">set_mem</a></span> <span class="id">x0</span>. Qed.</div>
<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span id="P:1057" class="id">
  <a name="P:1057" class="">P</a>
</span> <span id="T:1058" class="id">
  <a name="T:1058" class="">T</a>
</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#Build">Inj.Build</a></span> (<span class="id">@set0</span> <span class="id"><a href="mathcomp.classical.functions.html#T:1058">T</a></span>) <span class="id"><a href="mathcomp.classical.functions.html#P:1057">P</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set0fun">set0fun</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#in2W">in2W</a></span> <span class="id"><a href="mathcomp.classical.functions.html#set0fun_inj">set0fun_inj</a></span>).<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span id="P:1059" class="id">
  <a name="P:1059" class="">P</a>
</span> <span id="T:1060" class="id">
  <a name="T:1060" class="">T</a>
</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#Build">isFun.Build</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> (<span class="id">@set0fun</span> <span class="id"><a href="mathcomp.classical.functions.html#P:1059">P</a></span> <span class="id"><a href="mathcomp.classical.functions.html#T:1060">T</a></span>) (<span class="gallina-kwd">fun</span> <span class="id">_</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#I">I</a></span>).<br/>
<br/>
<div class="doc">cast_ord </div>
<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">{m</span> <span id="n:1062" class="id">
  <a name="n:1062" class="">n}</a>
</span> <span class="id">{eq_mn</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#m:1061">m</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.classical.functions.html#n:1062">n}</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#Build">Can2.Build</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.fintype.html#:::'''I_'_x">'I_m</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.fintype.html#:::'''I_'_x">'I_n</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.fintype.html#cast_ord">cast_ord</a></span> <span class="id"><a href="mathcomp.classical.functions.html#eq_mn:1063">eq_mn</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="gallina-kwd">fun</span> <span class="id">_</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#I">I</a></span>) (<span class="gallina-kwd">fun</span> <span class="id">_</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#I">I</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#in1W">in1W</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.fintype.html#cast_ordK">cast_ordK</a></span> <span class="id">_</span>)) (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#in1W">in1W</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.fintype.html#cast_ordKV">cast_ordKV</a></span> <span class="id">_</span>)).<br/>
<br/>
<div class="doc">enum_val &amp; enum_rank </div>
<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> (<span id="T:1064" class="id">
  <a name="T:1064" class="">T</a>
</span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.fintype.html#Finite.Exports.finType">finType</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#Build">Can2.Build</a></span> <span class="id"><a href="mathcomp.classical.functions.html#T:1064">T</a></span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.fintype.html#enum_rank">enum_rank</a></span> (<span class="gallina-kwd">fun</span> <span class="id">_</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#I">I</a></span>) (<span class="gallina-kwd">fun</span> <span class="id">_</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#I">I</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#in1W">in1W</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.fintype.html#enum_rankK">enum_rankK</a></span>) (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#in1W">in1W</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.fintype.html#enum_valK">enum_valK</a></span>).<br/>
<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> (<span id="T:1065" class="id">
  <a name="T:1065" class="">T</a>
</span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.fintype.html#Finite.Exports.finType">finType</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#Build">Can2.Build</a></span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#T:1065">T</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.fintype.html#enum_val">enum_val</a></span> (<span class="gallina-kwd">fun</span> <span class="id">_</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#I">I</a></span>) (<span class="gallina-kwd">fun</span> <span class="id">_</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#I">I</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#in1W">in1W</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.fintype.html#enum_valK">enum_valK</a></span>) (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#in1W">in1W</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.fintype.html#enum_rankK">enum_rankK</a></span>).<br/>
<br/>
<div class="doc">Finset val </div>
<br/>
<span class="vernacular">Definition</span> <span id="finset_val" class="id">
  <a name="finset_val" class="">finset_val</a>
</span> <span class="id">{T</span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.choice.html#Choice.Exports.choiceType">choiceType}</a></span> <span class="id">{X</span> <span class="id">:</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.finmap.finmap#::type_scope:'{fset'_x_'}'">{fset</a></span> <span class="id"><a href="mathcomp.classical.functions.html#T:1066">T}}</a></span> (<span id="x:1068" class="id">
  <a name="x:1068" class="">x</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#X:1067">X</a></span>) <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set`'_x_']'">[set`</a></span> <span class="id"><a href="mathcomp.classical.functions.html#X:1067">X]</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#exist">exist</a></span> (<span class="gallina-kwd">fun</span> <span id="x:1069" class="id">
  <a name="x:1069" class="">x</a>
</span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.classical.functions.html#x:1069">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::bool_scope:x_'\in'_x">\in</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set`'_x_']'">[set`</a></span> <span class="id"><a href="mathcomp.classical.functions.html#X:1067">X]</a></span>) (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#val">val</a></span> <span class="id"><a href="mathcomp.classical.functions.html#x:1068">x</a></span>) (<span class="id"><a href="mathcomp.classical.classical_sets.html#mem_set">mem_set</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#valP">valP</a></span> <span class="id"><a href="mathcomp.classical.functions.html#x:1068">x</a></span>)).<br/>
<span class="vernacular">Definition</span> <span id="val_finset" class="id">
  <a name="val_finset" class="">val_finset</a>
</span> <span class="id">{T</span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.choice.html#Choice.Exports.choiceType">choiceType}</a></span> <span class="id">{X</span> <span class="id">:</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.finmap.finmap#::type_scope:'{fset'_x_'}'">{fset</a></span> <span class="id"><a href="mathcomp.classical.functions.html#T:1070">T}}</a></span> (<span id="x:1072" class="id">
  <a name="x:1072" class="">x</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set`'_x_']'">[set`</a></span> <span class="id"><a href="mathcomp.classical.functions.html#X:1071">X]</a></span>) <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#X:1071">X</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="NOTFOUND the module url for mathcomp.finmap.finmap#::fset_scope:'[`'_x_']'">[`</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set_mem">set_mem</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#valP">valP</a></span> <span class="id"><a href="mathcomp.classical.functions.html#x:1072">x</a></span>)<span class="id"><a href="NOTFOUND the module url for mathcomp.finmap.finmap#::fset_scope:'[`'_x_']'">]%fset</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="finset_valK" class="id">
  <a name="finset_valK" class="">finset_valK</a>
</span> <span class="id">{T</span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.choice.html#Choice.Exports.choiceType">choiceType}</a></span> <span class="id">{X</span> <span class="id">:</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.finmap.finmap#::type_scope:'{fset'_x_'}'">{fset</a></span> <span class="id"><a href="mathcomp.classical.functions.html#T:1073">T}}</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> (<span class="id">@finset_val</span> <span class="id"><a href="mathcomp.classical.functions.html#T:1073">T</a></span> <span class="id"><a href="mathcomp.classical.functions.html#X:1074">X</a></span>) <span class="id"><a href="mathcomp.classical.functions.html#val_finset">val_finset</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof90')">Proof.</span></div>
<div class="proofscript" id="proof90">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">x;</span> <span class="id">apply/val_inj</span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="val_finsetK" class="id">
  <a name="val_finsetK" class="">val_finsetK</a>
</span> <span class="id">{T</span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.choice.html#Choice.Exports.choiceType">choiceType}</a></span> <span class="id">{X</span> <span class="id">:</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.finmap.finmap#::type_scope:'{fset'_x_'}'">{fset</a></span> <span class="id"><a href="mathcomp.classical.functions.html#T:1075">T}}</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> (<span class="id">@val_finset</span> <span class="id"><a href="mathcomp.classical.functions.html#T:1075">T</a></span> <span class="id"><a href="mathcomp.classical.functions.html#X:1076">X</a></span>) <span class="id"><a href="mathcomp.classical.functions.html#finset_val">finset_val</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof91')">Proof.</span></div>
<div class="proofscript" id="proof91">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">x;</span> <span class="id">apply/val_inj</span>. Qed.</div>
<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span>  <span class="id">{T</span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.choice.html#Choice.Exports.choiceType">choiceType}</a></span> <span class="id">{X</span> <span class="id">:</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.finmap.finmap#::type_scope:'{fset'_x_'}'">{fset</a></span> <span class="id"><a href="mathcomp.classical.functions.html#T:1077">T}}</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#Build">Can2.Build</a></span> <span class="id"><a href="mathcomp.classical.functions.html#X:1078">X</a></span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#finset_val">finset_val</a></span> (<span class="gallina-kwd">fun</span> <span class="id">_</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#I">I</a></span>) (<span class="gallina-kwd">fun</span> <span class="id">_</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#I">I</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#in1W">in1W</a></span> <span class="id"><a href="mathcomp.classical.functions.html#finset_valK">finset_valK</a></span>) (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#in1W">in1W</a></span> <span class="id"><a href="mathcomp.classical.functions.html#val_finsetK">val_finsetK</a></span>).<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span>  <span class="id">{T</span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.choice.html#Choice.Exports.choiceType">choiceType}</a></span> <span class="id">{X</span> <span class="id">:</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.finmap.finmap#::type_scope:'{fset'_x_'}'">{fset</a></span> <span class="id"><a href="mathcomp.classical.functions.html#T:1079">T}}</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#Build">Can2.Build</a></span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#X:1080">X</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#val_finset">val_finset</a></span> (<span class="gallina-kwd">fun</span> <span class="id">_</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#I">I</a></span>) (<span class="gallina-kwd">fun</span> <span class="id">_</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#I">I</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#in1W">in1W</a></span> <span class="id"><a href="mathcomp.classical.functions.html#val_finsetK">val_finsetK</a></span>) (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#in1W">in1W</a></span> <span class="id"><a href="mathcomp.classical.functions.html#finset_valK">finset_valK</a></span>).<br/>
<br/>
<div class="doc">'I_n and `I_n </div>
<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span id="n:1081" class="id">
  <a name="n:1081" class="">n</a>
</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#Build">Can2.Build</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> (<span class="id">@ordII</span> <span class="id"><a href="mathcomp.classical.functions.html#n:1081">n</a></span>)<br/>
&nbsp;&nbsp;&nbsp;(<span class="gallina-kwd">fun</span> <span class="id">_</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#I">I</a></span>) (<span class="gallina-kwd">fun</span> <span class="id">_</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#I">I</a></span>) (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#in1W">in1W</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#ordIIK">ordIIK</a></span>) (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#in1W">in1W</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#IIordK">IIordK</a></span>).<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span id="n:1082" class="id">
  <a name="n:1082" class="">n</a>
</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#copy">SplitBij.copy</a></span> (<span class="id">@IIord</span> <span class="id"><a href="mathcomp.classical.functions.html#n:1082">n</a></span>) (<span class="id"><a href="mathcomp.classical.classical_sets.html#ordII">ordII^-1</a></span>).<br/>
<br/>
<div class="ssrdoc markdown">
## Glueing                                                                 
</div>
<br/>
<span class="vernacular">Definition</span> <span id="glue" class="id">
  <a name="glue" class="">glue</a>
</span> <span class="id">{T</span> <span id="T':1084" class="id">
  <a name="T':1084" class="">T'}</a>
</span> <span class="id">{X</span> <span id="Y:1086" class="id">
  <a name="Y:1086" class="">Y</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#T:1083">T}</a></span> <span class="id">{A</span> <span id="B:1088" class="id">
  <a name="B:1088" class="">B</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#T':1084">T'}</a></span><br/>
&nbsp;&nbsp;<span class="id">of</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'disjoint'_x_'&'_x_']'">[disjoint</a></span> <span class="id"><a href="mathcomp.classical.functions.html#X:1085">X</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'disjoint'_x_'&'_x_']'">&amp;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Y:1086">Y]</a></span> <span class="id">&amp;</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'disjoint'_x_'&'_x_']'">[disjoint</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:1087">A</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'disjoint'_x_'&'_x_']'">&amp;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:1088">B]</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">fun</span> (<span id="f:1089" class="id">
  <a name="f:1089" class="">f</a>
</span> <span id="g:1090" class="id">
  <a name="g:1090" class="">g</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#T:1083">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#T':1084">T'</a></span>) (<span id="u:1091" class="id">
  <a name="u:1091" class="">u</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#T:1083">T</a></span>) <span class="id">=&gt;</span> <span class="gallina-kwd">if</span> <span class="id"><a href="mathcomp.classical.functions.html#u:1091">u</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::bool_scope:x_'\in'_x">\in</a></span> <span class="id"><a href="mathcomp.classical.functions.html#X:1085">X</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="mathcomp.classical.functions.html#f:1089">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#u:1091">u</a></span> <span class="gallina-kwd">else</span> <span class="id"><a href="mathcomp.classical.functions.html#g:1090">g</a></span> <span class="id"><a href="mathcomp.classical.functions.html#u:1091">u</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="Glue12" class="id">
  <a name="Glue12" class="">Glue12</a>
</span>.<br/>
<span class="vernacular">Context</span> <span class="id">{T</span> <span id="T':1093" class="id">
  <a name="T':1093" class="">T'}</a>
</span> <span class="id">{X</span> <span id="Y:1095" class="id">
  <a name="Y:1095" class="">Y</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#T:1092">T}</a></span> <span class="id">{A</span> <span id="B:1097" class="id">
  <a name="B:1097" class="">B</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#T':1093">T'}</a></span>.<br/>
<span class="vernacular">Context</span> <span class="id">{XY</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'disjoint'_x_'&'_x_']'">[disjoint</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Glue12.X">X</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'disjoint'_x_'&'_x_']'">&amp;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Glue12.Y">Y]}</a></span> <span class="id">{AB</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'disjoint'_x_'&'_x_']'">[disjoint</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Glue12.A">A</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'disjoint'_x_'&'_x_']'">&amp;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Glue12.B">B]}</a></span>.<br/>
<span class="id">Local</span> <span class="vernacular">Notation</span> <span id="gl" class="id">
  <a name="gl" class="">gl</a>
</span> <span class="id">:=</span> (<span class="id"><a href="mathcomp.classical.functions.html#glue">glue</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Glue12.XY">XY</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Glue12.AB">AB</a></span>).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="glue1" class="id">
  <a name="glue1" class="">glue1</a>
</span> (<span id="f:1100" class="id">
  <a name="f:1100" class="">f</a>
</span> <span id="g:1101" class="id">
  <a name="g:1101" class="">g</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#Glue12.T">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Glue12.T'">T'</a></span>) <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_','_x_'}'">{in</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Glue12.X">X,</a></span> <span class="id"><a href="mathcomp.classical.functions.html#gl">gl</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1100">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#g:1101">g</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:x_'=1'_x">=1</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1100">f}</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof92')">Proof.</span></div>
<div class="proofscript" id="proof92">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">x;</span> <span class="id">rewrite</span> <span class="id">/glue</span> <span class="id">=&gt;</span> <span class="id">-&gt;</span>. Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span id="glue2" class="id">
  <a name="glue2" class="">glue2</a>
</span> (<span id="f:1102" class="id">
  <a name="f:1102" class="">f</a>
</span> <span id="g:1103" class="id">
  <a name="g:1103" class="">g</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#Glue12.T">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Glue12.T'">T'</a></span>) <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_','_x_'}'">{in</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Glue12.Y">Y,</a></span> <span class="id"><a href="mathcomp.classical.functions.html#gl">gl</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1102">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#g:1103">g</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:x_'=1'_x">=1</a></span> <span class="id"><a href="mathcomp.classical.functions.html#g:1103">g}</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof93')">Proof.</span></div>
<div class="proofscript" id="proof93">
<span class="id">move=&gt;</span> <span class="id">x</span> <span class="id">/set_mem</span> <span class="id">Yx;</span> <span class="id">rewrite</span> <span class="id">/glue;</span> <span class="id">case:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">/set_mem</span> <span class="id">Xx</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">move:</span> <span class="id"><a href="mathcomp.classical.functions.html#Glue12.XY">XY</a></span> <span class="id">=&gt;</span> <span class="id">/disj_setPS/</span>(<span class="id">_</span> <span class="id">x</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#conj">conj</a></span> <span class="id">Xx</span> <span class="id">Yx</span>)).<br/>
Qed.</div>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.classical.functions.html#Glue12">Glue12</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="Glue" class="id">
  <a name="Glue" class="">Glue</a>
</span>.<br/>
<span class="vernacular">Context</span> <span class="id">{T</span> <span id="T':1105" class="id">
  <a name="T':1105" class="">T'}</a>
</span> <span class="id">{X</span> <span id="Y:1107" class="id">
  <a name="Y:1107" class="">Y</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#T:1104">T}</a></span> <span class="id">{A</span> <span id="B:1109" class="id">
  <a name="B:1109" class="">B</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#T':1105">T'}</a></span>.<br/>
<span class="vernacular">Context</span> <span class="id">{XY</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'disjoint'_x_'&'_x_']'">[disjoint</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Glue.X">X</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'disjoint'_x_'&'_x_']'">&amp;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Glue.Y">Y]}</a></span> <span class="id">{AB</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'disjoint'_x_'&'_x_']'">[disjoint</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Glue.A">A</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'disjoint'_x_'&'_x_']'">&amp;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Glue.B">B]}</a></span>.<br/>
<span class="id">Local</span> <span class="vernacular">Notation</span> <span id="gl" class="id">
  <a name="gl" class="">gl</a>
</span> <span class="id">:=</span> (<span class="id"><a href="mathcomp.classical.functions.html#glue">glue</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Glue.XY">XY</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Glue.AB">AB</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="glue_fun_subproof" class="id">
  <a name="glue_fun_subproof" class="">glue_fun_subproof</a>
</span> (<span id="f:1112" class="id">
  <a name="f:1112" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'{'_'fun'_x_'>->'_x_'}'">{fun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Glue.X">X</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'{'_'fun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Glue.A">A}</a></span>) (<span id="g:1113" class="id">
  <a name="g:1113" class="">g</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'{'_'fun'_x_'>->'_x_'}'">{fun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Glue.Y">Y</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'{'_'fun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Glue.B">B}</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#isFun">isFun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Glue.T">T</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Glue.T'">T'</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#Glue.X">X</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:x_'`|`'_x">`|`</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Glue.Y">Y</a></span>) (<span class="id"><a href="mathcomp.classical.functions.html#Glue.A">A</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:x_'`|`'_x">`|`</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Glue.B">B</a></span>) (<span class="id"><a href="mathcomp.classical.functions.html#gl">gl</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1112">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#g:1113">g</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof94')">Proof.</span></div>
<div class="proofscript" id="proof94">
<span class="gallina-kwd">by</span> <span class="id">split=&gt;</span> <span class="id">x</span> <span class="id">[]xP;</span> <span class="id">[left;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#glue1">glue1|right;</a></span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#glue2">glue2];</a></span><br/>
&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">?inE//;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.classical.functions.html#funS">funS</a></span>.<br/>
Qed.</div>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span id="f:1114" class="id">
  <a name="f:1114" class="">f</a>
</span> <span id="g:1115" class="id">
  <a name="g:1115" class="">g</a>
</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#glue_fun_subproof">glue_fun_subproof</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1114">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#g:1115">g</a></span>.<br/>
<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> (<span id="f:1116" class="id">
  <a name="f:1116" class="">f</a>
</span> <span id="g:1117" class="id">
  <a name="g:1117" class="">g</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'oinv'_x_'>->'_x_'}'">{oinv</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Glue.T">T</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'oinv'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Glue.T'">T'}</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#Build">OInv.Build</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.classical.functions.html#gl">gl</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1116">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#g:1117">g</a></span>) (<span class="id"><a href="mathcomp.classical.functions.html#glue">glue</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Glue.AB">AB</a></span> (<span class="id"><a href="mathcomp.classical.mathcomp_extra.html#eqbRL">eqbRL</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#disj_set_some">disj_set_some</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Glue.XY">XY</a></span>) <span class="id"><a href="mathcomp.classical.functions.html#:::'''oinv_'_x">'oinv_f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#:::'''oinv_'_x">'oinv_g</a></span>).<br/>
<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span>  (<span id="f:1118" class="id">
  <a name="f:1118" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'oinvfun'_x_'>->'_x_'}'">{oinvfun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Glue.X">X</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'oinvfun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Glue.A">A}</a></span>) (<span id="g:1119" class="id">
  <a name="g:1119" class="">g</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'oinvfun'_x_'>->'_x_'}'">{oinvfun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Glue.Y">Y</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'oinvfun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Glue.B">B}</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#on">OInversible.on</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#gl">gl</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1118">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#g:1119">g</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="oinv_glue" class="id">
  <a name="oinv_glue" class="">oinv_glue</a>
</span> (<span id="f:1120" class="id">
  <a name="f:1120" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'oinv'_x_'>->'_x_'}'">{oinv</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Glue.T">T</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'oinv'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Glue.T'">T'}</a></span>) (<span id="g:1121" class="id">
  <a name="g:1121" class="">g</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'oinv'_x_'>->'_x_'}'">{oinv</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Glue.T">T</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'oinv'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Glue.T'">T'}</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#:::'''oinv_'_x">'oinv_</a></span>(<span class="id"><a href="mathcomp.classical.functions.html#gl">gl</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1120">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#g:1121">g</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.classical.functions.html#glue">glue</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Glue.AB">AB</a></span> (<span class="id"><a href="mathcomp.classical.mathcomp_extra.html#eqbRL">eqbRL</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#disj_set_some">disj_set_some</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Glue.XY">XY</a></span>) <span class="id"><a href="mathcomp.classical.functions.html#:::'''oinv_'_x">'oinv_f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#:::'''oinv_'_x">'oinv_g</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof95')">Proof.</span></div>
<div class="proofscript" id="proof95">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="some_inv_glue_subproof" class="id">
  <a name="some_inv_glue_subproof" class="">some_inv_glue_subproof</a>
</span> (<span id="f:1122" class="id">
  <a name="f:1122" class="">f</a>
</span> <span id="g:1123" class="id">
  <a name="g:1123" class="">g</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'inv'_x_'>->'_x_'}'">{inv</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Glue.T">T</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'inv'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Glue.T'">T'}</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#some">some</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:x_'\o'_x">\o</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#glue">glue</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Glue.AB">AB</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Glue.XY">XY</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1122">f^-1</a></span> <span class="id"><a href="mathcomp.classical.functions.html#g:1123">g^-1</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.classical.functions.html#:::'''oinv_'_x">'oinv_</a></span>(<span class="id"><a href="mathcomp.classical.functions.html#gl">gl</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1122">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#g:1123">g</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof96')">Proof.</span></div>
<div class="proofscript" id="proof96">
<span class="gallina-kwd">by</span> <span class="id">apply/funext</span> <span class="id">=&gt;</span> <span class="id">y;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#oinv_glue">oinv_glue</a></span> <span class="id">/glue</span> <span class="id">/=</span> <span class="id">[LHS]fun_if</span> <span class="id">!some_inv</span>.<br/>
Qed.</div>
<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> (<span id="f:1124" class="id">
  <a name="f:1124" class="">f</a>
</span> <span id="g:1125" class="id">
  <a name="g:1125" class="">g</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'inv'_x_'>->'_x_'}'">{inv</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Glue.T">T</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'inv'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Glue.T'">T'}</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#Build">OInv_Inv.Build</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Glue.T">T</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Glue.T'">T'</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#gl">gl</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1124">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#g:1125">g</a></span>) (<span class="id"><a href="mathcomp.classical.functions.html#some_inv_glue_subproof">some_inv_glue_subproof</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1124">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#g:1125">g</a></span>).<br/>
<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> (<span id="f:1126" class="id">
  <a name="f:1126" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'invfun'_x_'>->'_x_'}'">{invfun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Glue.X">X</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'invfun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Glue.A">A}</a></span>) (<span id="g:1127" class="id">
  <a name="g:1127" class="">g</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'invfun'_x_'>->'_x_'}'">{invfun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Glue.Y">Y</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'invfun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Glue.B">B}</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#on">Inversible.on</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#gl">gl</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1126">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#g:1127">g</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="inv_glue" class="id">
  <a name="inv_glue" class="">inv_glue</a>
</span> (<span id="f:1128" class="id">
  <a name="f:1128" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'invfun'_x_'>->'_x_'}'">{invfun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Glue.X">X</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'invfun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Glue.A">A}</a></span>) (<span id="g:1129" class="id">
  <a name="g:1129" class="">g</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'invfun'_x_'>->'_x_'}'">{invfun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Glue.Y">Y</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'invfun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Glue.B">B}</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;(<span class="id"><a href="mathcomp.classical.functions.html#gl">gl</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1128">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#g:1129">g</a></span>)<span class="id">^-1</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.classical.functions.html#glue">glue</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Glue.AB">AB</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Glue.XY">XY</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1128">f^-1</a></span> <span class="id"><a href="mathcomp.classical.functions.html#g:1129">g^-1</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof97')">Proof.</span></div>
<div class="proofscript" id="proof97">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="glueo_can_subproof" class="id">
  <a name="glueo_can_subproof" class="">glueo_can_subproof</a>
</span> (<span id="f:1130" class="id">
  <a name="f:1130" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'injfun'_x_'>->'_x_'}'">{injfun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Glue.X">X</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'injfun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Glue.A">A}</a></span>) (<span id="g:1131" class="id">
  <a name="g:1131" class="">g</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'injfun'_x_'>->'_x_'}'">{injfun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Glue.Y">Y</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'injfun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Glue.B">B}</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#OInv_Can">OInv_Can</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.classical.functions.html#Glue.X">X</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:x_'`|`'_x">`|`</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Glue.Y">Y</a></span>) (<span class="id"><a href="mathcomp.classical.functions.html#gl">gl</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1130">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#g:1131">g</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof98')">Proof.</span></div>
<div class="proofscript" id="proof98">
<span class="id">split=&gt;</span> <span class="id">x;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> <span class="id">=&gt;</span> <span class="id">-[]</span> <span class="id">xP;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#oinv_glue">oinv_glue</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">[glue</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">x]glue1</span> <span class="id">?inE//</span> <span class="id"><a href="mathcomp.classical.functions.html#glue1">glue1</a></span> <span class="id">?funoK</span> <span class="id">?inE//;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.classical.functions.html#funS">funS</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">[glue</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">x]glue2</span> <span class="id">?inE//</span> <span class="id"><a href="mathcomp.classical.functions.html#glue2">glue2</a></span> <span class="id">?funoK</span> <span class="id">?inE//;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.classical.functions.html#funS">funS</a></span>.<br/>
Qed.</div>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span id="f:1132" class="id">
  <a name="f:1132" class="">f</a>
</span> <span id="g:1133" class="id">
  <a name="g:1133" class="">g</a>
</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#glueo_can_subproof">glueo_can_subproof</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1132">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#g:1133">g</a></span>.<br/>
<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> (<span id="f:1134" class="id">
  <a name="f:1134" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitinjfun'_x_'>->'_x_'}'">{splitinjfun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Glue.X">X</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitinjfun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Glue.A">A}</a></span>)<br/>
&nbsp;&nbsp;(<span id="g:1135" class="id">
  <a name="g:1135" class="">g</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitinjfun'_x_'>->'_x_'}'">{splitinjfun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Glue.Y">Y</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitinjfun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Glue.B">B}</a></span>) <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#on">Inject.on</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#gl">gl</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1134">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#g:1135">g</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="glue_canv_subproof" class="id">
  <a name="glue_canv_subproof" class="">glue_canv_subproof</a>
</span> (<span id="f:1136" class="id">
  <a name="f:1136" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'surj'_x_'>->'_x_'}'">{surj</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Glue.X">X</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'surj'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Glue.A">A}</a></span>) (<span id="g:1137" class="id">
  <a name="g:1137" class="">g</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'surj'_x_'>->'_x_'}'">{surj</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Glue.Y">Y</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'surj'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Glue.B">B}</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#OInv_CanV">OInv_CanV</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.classical.functions.html#Glue.X">X</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:x_'`|`'_x">`|`</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Glue.Y">Y</a></span>) (<span class="id"><a href="mathcomp.classical.functions.html#Glue.A">A</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:x_'`|`'_x">`|`</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Glue.B">B</a></span>) (<span class="id"><a href="mathcomp.classical.functions.html#gl">gl</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1136">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#g:1137">g</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof99')">Proof.</span></div>
<div class="proofscript" id="proof99">
<span class="id">split=&gt;</span> <span class="id">[z|y</span> <span class="id">/set_mem</span> <span class="id">[]</span> <span class="id">yP];</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#oinv_glue">oinv_glue</a></span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">[]</span> <span class="id">zP</span> <span class="id">/=;</span> <span class="id">[rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#glue1">glue1|rewrite</a></span> <span class="id"><a href="mathcomp.classical.functions.html#glue2">glue2];</a></span> <span class="id">rewrite</span> <span class="id">?inE//;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">case:</span> <span class="id"><a href="mathcomp.classical.functions.html#oinvP">oinvP=&gt;</a></span> <span class="id">//</span> <span class="id">x</span> <span class="id">xX</span> <span class="id">_;</span> <span class="gallina-kwd">exists</span> <span class="id">x</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">[left|right]</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#glue1">glue1</a></span> <span class="id">?inE//;</span> <span class="id">case:</span> <span class="id"><a href="mathcomp.classical.functions.html#oinvP">oinvP=&gt;</a></span> <span class="id">//=</span> <span class="id">x</span> <span class="id">xX</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#glue1">glue1</a></span> <span class="id">?inE</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#glue2">glue2</a></span> <span class="id">?inE//;</span> <span class="id">case:</span> <span class="id"><a href="mathcomp.classical.functions.html#oinvP">oinvP=&gt;</a></span> <span class="id">//=</span> <span class="id">x</span> <span class="id">xX</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#glue2">glue2</a></span> <span class="id">?inE</span>.<br/>
Qed.</div>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span id="f:1138" class="id">
  <a name="f:1138" class="">f</a>
</span> <span id="g:1139" class="id">
  <a name="g:1139" class="">g</a>
</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#glue_canv_subproof">glue_canv_subproof</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1138">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#g:1139">g</a></span>.<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> (<span id="f:1140" class="id">
  <a name="f:1140" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'surjfun'_x_'>->'_x_'}'">{surjfun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Glue.X">X</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'surjfun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Glue.A">A}</a></span>) (<span id="g:1141" class="id">
  <a name="g:1141" class="">g</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'surjfun'_x_'>->'_x_'}'">{surjfun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Glue.Y">Y</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'surjfun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Glue.B">B}</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#on">Surject.on</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#gl">gl</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1140">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#g:1141">g</a></span>).<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> (<span id="f:1142" class="id">
  <a name="f:1142" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitsurj'_x_'>->'_x_'}'">{splitsurj</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Glue.X">X</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitsurj'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Glue.A">A}</a></span>) (<span id="g:1143" class="id">
  <a name="g:1143" class="">g</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitsurj'_x_'>->'_x_'}'">{splitsurj</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Glue.Y">Y</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitsurj'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Glue.B">B}</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#on">Surject.on</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#gl">gl</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1142">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#g:1143">g</a></span>).<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> (<span id="f:1144" class="id">
  <a name="f:1144" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitsurjfun'_x_'>->'_x_'}'">{splitsurjfun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Glue.X">X</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitsurjfun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Glue.A">A}</a></span>) (<span id="g:1145" class="id">
  <a name="g:1145" class="">g</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitsurjfun'_x_'>->'_x_'}'">{splitsurjfun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Glue.Y">Y</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitsurjfun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Glue.B">B}</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#on">Surject.on</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#gl">gl</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1144">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#g:1145">g</a></span>).<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> (<span id="f:1146" class="id">
  <a name="f:1146" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'bij'_x_'>->'_x_'}'">{bij</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Glue.X">X</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'bij'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Glue.A">A}</a></span>) (<span id="g:1147" class="id">
  <a name="g:1147" class="">g</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'bij'_x_'>->'_x_'}'">{bij</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Glue.Y">Y</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'bij'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Glue.B">B}</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#on">Surject.on</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#gl">gl</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1146">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#g:1147">g</a></span>).<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> (<span id="f:1148" class="id">
  <a name="f:1148" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitbij'_x_'>->'_x_'}'">{splitbij</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Glue.X">X</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitbij'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Glue.A">A}</a></span>) (<span id="g:1149" class="id">
  <a name="g:1149" class="">g</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitbij'_x_'>->'_x_'}'">{splitbij</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Glue.Y">Y</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitbij'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Glue.B">B}</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#on">Surject.on</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#gl">gl</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1148">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#g:1149">g</a></span>).<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.classical.functions.html#Glue">Glue</a></span>.<br/>
<br/>
<div class="doc">Z-module addition is a bijection </div>
<br/>
<span class="vernacular">Section</span> <span id="addition" class="id">
  <a name="addition" class="">addition</a>
</span>.<br/>
<span class="vernacular">Context</span> <span class="id">{V</span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Zmodule.Exports.zmodType">zmodType}</a></span> (<span id="x:1151" class="id">
  <a name="x:1151" class="">x</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#V:1150">V</a></span>).<br/>
<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#Build">Inv.Build</a></span> <span class="id"><a href="mathcomp.classical.functions.html#addition.V">V</a></span> <span class="id"><a href="mathcomp.classical.functions.html#addition.V">V</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::fun_scope:'+%R'">+%R</a></span> <span class="id"><a href="mathcomp.classical.functions.html#addition.x">x</a></span>) (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::fun_scope:'+%R'">+%R</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:'-'_x">-</a></span> <span class="id"><a href="mathcomp.classical.functions.html#addition.x">x</a></span>)).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="inv_addr" class="id">
  <a name="inv_addr" class="">inv_addr</a>
</span> <span class="id">:</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::fun_scope:'+%R'">+%R</a></span> <span class="id"><a href="mathcomp.classical.functions.html#addition.x">x</a></span>)<span class="id">^-1</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::fun_scope:'+%R'">+%R</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:'-'_x">-</a></span> <span class="id"><a href="mathcomp.classical.functions.html#addition.x">x</a></span>))<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof100')">Proof.</span></div>
<div class="proofscript" id="proof100">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="addr_can2_subproof" class="id">
  <a name="addr_can2_subproof" class="">addr_can2_subproof</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#Inv_Can2">Inv_Can2</a></span> <span class="id"><a href="mathcomp.classical.functions.html#addition.V">V</a></span> <span class="id"><a href="mathcomp.classical.functions.html#addition.V">V</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::fun_scope:'+%R'">+%R</a></span> <span class="id"><a href="mathcomp.classical.functions.html#addition.x">x</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof101')">Proof.</span></div>
<div class="proofscript" id="proof101">
 <span class="gallina-kwd">by</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">y</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#inv_addr">inv_addr</a></span> <span class="id">?GRing</span>.<span class="id">addKr</span> <span class="id">?GRing</span>.<span class="id">addNKr</span>. Qed.</div>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#addr_can2_subproof">addr_can2_subproof</a></span>.<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.classical.functions.html#addition">addition</a></span>.<br/>
<br/>
<div class="doc">Z-module opposite is a bijection </div>
<br/>
<span class="vernacular">Section</span> <span id="addition" class="id">
  <a name="addition" class="">addition</a>
</span>.<br/>
<span class="vernacular">Context</span> <span class="id">{V</span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Zmodule.Exports.zmodType">zmodType}</a></span> (<span id="x:1153" class="id">
  <a name="x:1153" class="">x</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#V:1152">V</a></span>).<br/>
<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#Build">Inv.Build</a></span> <span class="id"><a href="mathcomp.classical.functions.html#addition.V">V</a></span> <span class="id"><a href="mathcomp.classical.functions.html#addition.V">V</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::fun_scope:'-%R'">-%R</a></span>) (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::fun_scope:'-%R'">-%R</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="inv_oppr" class="id">
  <a name="inv_oppr" class="">inv_oppr</a>
</span> <span class="id">:</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::fun_scope:'-%R'">-%R</a></span>)<span class="id">^-1</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::fun_scope:'-%R'">-%R</a></span>)<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof102')">Proof.</span></div>
<div class="proofscript" id="proof102">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="oppr_can2_subproof" class="id">
  <a name="oppr_can2_subproof" class="">oppr_can2_subproof</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#Inv_Can2">Inv_Can2</a></span> <span class="id"><a href="mathcomp.classical.functions.html#addition.V">V</a></span> <span class="id"><a href="mathcomp.classical.functions.html#addition.V">V</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::fun_scope:'-%R'">-%R</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof103')">Proof.</span></div>
<div class="proofscript" id="proof103">
 <span class="gallina-kwd">by</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">y</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#inv_oppr">inv_oppr</a></span> <span class="id">?GRing</span>.<span class="id">opprK</span>. Qed.</div>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#oppr_can2_subproof">oppr_can2_subproof</a></span>.<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.classical.functions.html#addition">addition</a></span>.<br/>
<br/>
<div class="doc">emtpyType </div>
<br/>
<span class="vernacular">Section</span> <span id="empty" class="id">
  <a name="empty" class="">empty</a>
</span>.<br/>
<span class="vernacular">Context</span> <span class="id">{T</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#Empty.Exports.emptyType">emptyType}</a></span> <span class="id">{T'</span> <span class="id">:</span> <span class="id">Type}</span> <span class="id">{X</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#T:1154">T}</a></span>.<br/>
<span class="vernacular">Implicit</span> <span class="gallina-kwd">Type</span> <span class="id">Y</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#empty.T'">T'</a></span>.<br/>
<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#Build">OInv.Build</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="id">@any</span> <span class="id"><a href="mathcomp.classical.functions.html#empty.T">T</a></span> <span class="id"><a href="mathcomp.classical.functions.html#empty.T'">T'</a></span>) (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:'fun'_'=>'_x">fun=&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#None">None</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="empty_can_subproof" class="id">
  <a name="empty_can_subproof" class="">empty_can_subproof</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#OInv_Can">OInv_Can</a></span> <span class="id"><a href="mathcomp.classical.functions.html#empty.T">T</a></span> <span class="id"><a href="mathcomp.classical.functions.html#empty.T'">T'</a></span> <span class="id"><a href="mathcomp.classical.functions.html#empty.X">X</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#any">any</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof104')">Proof.</span></div>
<div class="proofscript" id="proof104">
 <span class="gallina-kwd">by</span> <span class="id">split=&gt;</span> <span class="id">x;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#empty_eq0">empty_eq0</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>. Qed.</div>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#empty_can_subproof">empty_can_subproof</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="empty_fun_subproof" class="id">
  <a name="empty_fun_subproof" class="">empty_fun_subproof</a>
</span> <span id="Y:1157" class="id">
  <a name="Y:1157" class="">Y</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#isFun">isFun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#empty.T">T</a></span> <span class="id"><a href="mathcomp.classical.functions.html#empty.T'">T'</a></span> <span class="id"><a href="mathcomp.classical.functions.html#empty.X">X</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Y:1157">Y</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#any">any</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof105')">Proof.</span></div>
<div class="proofscript" id="proof105">
 <span class="gallina-kwd">by</span> <span class="id">split=&gt;</span> <span class="id">x;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#empty_eq0">empty_eq0</a></span>. Qed.</div>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span id="Y:1158" class="id">
  <a name="Y:1158" class="">Y</a>
</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#empty_fun_subproof">empty_fun_subproof</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Y:1158">Y</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="empty_canv_subproof" class="id">
  <a name="empty_canv_subproof" class="">empty_canv_subproof</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#OInv_CanV">OInv_CanV</a></span> <span class="id"><a href="mathcomp.classical.functions.html#empty.T">T</a></span> <span class="id"><a href="mathcomp.classical.functions.html#empty.T'">T'</a></span> <span class="id"><a href="mathcomp.classical.functions.html#empty.X">X</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#any">any</a></span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof106')">Proof.</span></div>
<div class="proofscript" id="proof106">
 <span class="gallina-kwd">by</span> <span class="id">split</span>. Qed.</div>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#empty_canv_subproof">empty_canv_subproof</a></span>.<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.classical.functions.html#empty">empty</a></span>.<br/>
<br/>
<div class="ssrdoc markdown">
## Theory of surjection                                                    
</div>
<br/>
<span class="vernacular">Section</span> <span id="surj_lemmas" class="id">
  <a name="surj_lemmas" class="">surj_lemmas</a>
</span>.<br/>
<span class="vernacular">Variables</span> <span id="surj_lemmas.aT" class="id">
  <a name="surj_lemmas.aT" class="">aT</a>
</span> <span id="surj_lemmas.rT" class="id">
  <a name="surj_lemmas.rT" class="">rT</a>
</span> <span class="id">:</span> <span class="gallina-kwd">Type</span>.<br/>
<span class="vernacular">Implicit</span> <span class="id">Types</span> (<span class="id">A</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#surj_lemmas.aT">aT</a></span>) (<span class="id">B</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#surj_lemmas.rT">rT</a></span>) (<span class="id">f</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#surj_lemmas.aT">aT</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#surj_lemmas.rT">rT</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="surj_id" class="id">
  <a name="surj_id" class="">surj_id</a>
</span> <span id="A:1161" class="id">
  <a name="A:1161" class="">A</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#set_surj">set_surj</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:1161">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:1161">A</a></span> (<span class="id">@idfun</span> <span class="id"><a href="mathcomp.classical.functions.html#surj_lemmas.aT">aT</a></span>)<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof107')">Proof.</span></div>
<div class="proofscript" id="proof107">
 <span class="id">exact:</span> <span class="id"><a href="mathcomp.classical.functions.html#surj">surj</a></span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="surj_set0" class="id">
  <a name="surj_set0" class="">surj_set0</a>
</span> <span id="B:1162" class="id">
  <a name="B:1162" class="">B</a>
</span> <span id="f:1163" class="id">
  <a name="f:1163" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#set_surj">set_surj</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:1162">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1163">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:1162">B</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof108')">Proof.</span></div>
<div class="proofscript" id="proof108">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">Bf;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#predeqE">predeqE</a></span> <span class="id">=&gt;</span> <span class="id">u;</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">/Bf</span> <span class="id">[t</span> <span class="id">[]]</span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="surjE" class="id">
  <a name="surjE" class="">surjE</a>
</span> <span id="f:1164" class="id">
  <a name="f:1164" class="">f</a>
</span> <span id="A:1165" class="id">
  <a name="A:1165" class="">A</a>
</span> <span id="B:1166" class="id">
  <a name="B:1166" class="">B</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#set_surj">set_surj</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:1165">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:1166">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1164">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#B:1166">B</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:x_'`<=`'_x">`&lt;=`</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1164">f</a></span> <span class="id">@`</span> <span class="id"><a href="mathcomp.classical.functions.html#A:1165">A</a></span>)<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof109')">Proof.</span></div>
<div class="proofscript" id="proof109">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="surj_image_eq" class="id">
  <a name="surj_image_eq" class="">surj_image_eq</a>
</span> <span id="B:1167" class="id">
  <a name="B:1167" class="">B</a>
</span> <span id="A:1168" class="id">
  <a name="A:1168" class="">A</a>
</span> <span id="f:1169" class="id">
  <a name="f:1169" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#f:1169">f</a></span> <span class="id">@`</span> <span class="id"><a href="mathcomp.classical.functions.html#A:1168">A</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:x_'`<=`'_x">`&lt;=`</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:1167">B</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#set_surj">set_surj</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:1168">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:1167">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1169">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1169">f</a></span> <span class="id">@`</span> <span class="id"><a href="mathcomp.classical.functions.html#A:1168">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:1167">B</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof110')">Proof.</span></div>
<div class="proofscript" id="proof110">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">fAB;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#eqEsubset">eqEsubset</a></span> <span class="id">=&gt;</span> <span class="id">BfA</span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="subl_surj" class="id">
  <a name="subl_surj" class="">subl_surj</a>
</span> <span id="A:1170" class="id">
  <a name="A:1170" class="">A</a>
</span> <span id="A':1171" class="id">
  <a name="A':1171" class="">A'</a>
</span> <span id="B:1172" class="id">
  <a name="B:1172" class="">B</a>
</span> <span id="f:1173" class="id">
  <a name="f:1173" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#A:1170">A</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:x_'`<=`'_x">`&lt;=`</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A':1171">A'</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#set_surj">set_surj</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:1170">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:1172">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1173">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#set_surj">set_surj</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A':1171">A'</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:1172">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1173">f</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof111')">Proof.</span></div>
<div class="proofscript" id="proof111">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">/</span>(<span class="id">@image_subset</span> <span class="id">_</span> <span class="id">_</span> <span class="id">f</span>)<span class="id">/</span>(<span class="id"><a href="mathcomp.classical.classical_sets.html#subset_trans">subset_trans</a></span> <span class="id">_</span>)<span class="id">;</span> <span class="id">apply</span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="subr_surj" class="id">
  <a name="subr_surj" class="">subr_surj</a>
</span> <span id="A:1174" class="id">
  <a name="A:1174" class="">A</a>
</span> <span id="B:1175" class="id">
  <a name="B:1175" class="">B</a>
</span> <span id="B':1176" class="id">
  <a name="B':1176" class="">B'</a>
</span> <span id="f:1177" class="id">
  <a name="f:1177" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#B':1176">B'</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:x_'`<=`'_x">`&lt;=`</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:1175">B</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#set_surj">set_surj</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:1174">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:1175">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1177">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#set_surj">set_surj</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:1174">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B':1176">B'</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1177">f</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof112')">Proof.</span></div>
<div class="proofscript" id="proof112">
 <span class="id">exact:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#subset_trans">subset_trans</a></span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="can_surj" class="id">
  <a name="can_surj" class="">can_surj</a>
</span> <span id="g:1178" class="id">
  <a name="g:1178" class="">g</a>
</span> <span id="f:1179" class="id">
  <a name="f:1179" class="">f</a>
</span> (<span id="A:1180" class="id">
  <a name="A:1180" class="">A</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#surj_lemmas.aT">aT</a></span>) (<span id="B:1181" class="id">
  <a name="B:1181" class="">B</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#surj_lemmas.rT">rT</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_','_x_'}'">{in</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:1181">B,</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id"><a href="mathcomp.classical.functions.html#g:1178">g</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1179">f}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#g:1178">g</a></span> <span class="id">@`</span> <span class="id"><a href="mathcomp.classical.functions.html#B:1181">B</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:x_'`<=`'_x">`&lt;=`</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:1180">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#set_surj">set_surj</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:1180">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:1181">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1179">f</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof113')">Proof.</span></div>
<div class="proofscript" id="proof113">
<span class="id">move=&gt;</span> <span class="id">gK</span> <span class="id">gBA</span> <span class="id">y</span> <span class="id">By;</span> <span class="id">suff</span> <span class="id">:</span> <span class="id">A</span> (<span class="id">g</span> <span class="id">y</span>) <span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> (<span class="id">g</span> <span class="id">y</span>)<span class="id">;</span> <span class="id">rewrite</span> <span class="id">?gK</span> <span class="id">?inE</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">have</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#image_subP">image_subP</a></span>.<span class="id">1</span> <span class="id">gBA</span> <span class="id">y;</span> <span class="id">apply</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="surj_epi" class="id">
  <a name="surj_epi" class="">surj_epi</a>
</span> <span id="sT:1182" class="id">
  <a name="sT:1182" class="">sT</a>
</span> <span id="A:1183" class="id">
  <a name="A:1183" class="">A</a>
</span> <span id="B:1184" class="id">
  <a name="B:1184" class="">B</a>
</span> (<span id="f:1185" class="id">
  <a name="f:1185" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#surj_lemmas.aT">aT</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#surj_lemmas.rT">rT</a></span>) (<span id="g:1186" class="id">
  <a name="g:1186" class="">g</a>
</span> <span id="g':1187" class="id">
  <a name="g':1187" class="">g'</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#surj_lemmas.rT">rT</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#sT:1182">sT</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#set_surj">set_surj</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:1183">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:1184">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1185">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_','_x_'}'">{in</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:1183">A,</a></span> <span class="id"><a href="mathcomp.classical.functions.html#g:1186">g</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:x_'\o'_x">\o</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1185">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:x_'=1'_x">=1</a></span> <span class="id"><a href="mathcomp.classical.functions.html#g':1187">g'</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:x_'\o'_x">\o</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1185">f}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_','_x_'}'">{in</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:1184">B,</a></span> <span class="id"><a href="mathcomp.classical.functions.html#g:1186">g</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:x_'=1'_x">=1</a></span> <span class="id"><a href="mathcomp.classical.functions.html#g':1187">g'}</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof114')">Proof.</span></div>
<div class="proofscript" id="proof114">
<span class="id">move=&gt;</span> <span class="id">fS</span> <span class="id">eqfg</span> <span class="id">y</span> <span class="id">/set_mem</span> <span class="id">By;</span> <span class="id">suff:</span> <span class="id">B</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:x_'`<=`'_x">`&lt;=`</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_x_'|'_x_']'">[set</a></span> <span id="y:1188" class="id">
  <a name="y:1188" class="">y</a>
</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_x_'|'_x_']'">|</a></span> <span class="id">g</span> <span class="id"><a href="mathcomp.classical.functions.html#y:1188">y</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id">g'</span> <span class="id"><a href="mathcomp.classical.functions.html#y:1188">y]</a></span> <span class="gallina-kwd">by</span> <span class="id">exact</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#subset_trans">subset_trans</a></span> <span class="id">fS</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id">_</span> <span class="id">[a</span> <span class="id">/mem_set</span> <span class="id">Aa</span> <span class="id">&lt;-]</span> <span class="id">/=;</span> <span class="id">rewrite</span> <span class="id">[LHS]eqfg</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="epiP" class="id">
  <a name="epiP" class="">epiP</a>
</span> <span id="A:1189" class="id">
  <a name="A:1189" class="">A</a>
</span> <span id="B:1190" class="id">
  <a name="B:1190" class="">B</a>
</span> (<span id="f:1191" class="id">
  <a name="f:1191" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#surj_lemmas.aT">aT</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#surj_lemmas.rT">rT</a></span>) <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#set_surj">set_surj</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:1189">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:1190">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1191">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'<->'_x">&lt;-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="sT:1192" class="id">
  <a name="sT:1192" class="">sT</a>
</span> (<span id="g:1193" class="id">
  <a name="g:1193" class="">g</a>
</span> <span id="g':1194" class="id">
  <a name="g':1194" class="">g'</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#surj_lemmas.rT">rT</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#sT:1192">sT</a></span>)<span class="id">,</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_','_x_'}'">{in</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:1189">A,</a></span> <span class="id"><a href="mathcomp.classical.functions.html#g:1193">g</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:x_'\o'_x">\o</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1191">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:x_'=1'_x">=1</a></span> <span class="id"><a href="mathcomp.classical.functions.html#g':1194">g'</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:x_'\o'_x">\o</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1191">f}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_','_x_'}'">{in</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:1190">B,</a></span> <span class="id"><a href="mathcomp.classical.functions.html#g:1193">g</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:x_'=1'_x">=1</a></span> <span class="id"><a href="mathcomp.classical.functions.html#g':1194">g'}</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof115')">Proof.</span></div>
<div class="proofscript" id="proof115">
<span class="id">split=&gt;</span> <span class="id">[*|</span> <span class="id">f_epi</span> <span class="id">y</span> <span class="id">By];</span> <span class="id">first</span> <span class="id">exact:</span> (<span class="id">@surj_epi</span> <span class="id">_</span> <span class="id">A</span> <span class="id">B</span> <span class="id">f</span>).<br/>
<span class="id">have</span> <span class="id">-&gt;</span> <span class="id">//</span> <span class="id">:=</span> <span class="id">f_epi</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_x_'|'_x_'in'_x_']'">[set</a></span> <span class="id">f</span> <span class="id"><a href="mathcomp.classical.functions.html#x:1195">x</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_x_'|'_x_'in'_x_']'">|</a></span> <span id="x:1195" class="id">
  <a name="x:1195" class="">x</a>
</span> <span class="gallina-kwd">in</span> <span class="id">A]</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT;</a></span> <span class="id">last</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#mem_set">mem_set</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">x</span> <span class="id">/set_mem</span> <span class="id">xA;</span> <span class="id">apply/propT;</span> <span class="gallina-kwd">exists</span> <span class="id">x</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.classical.functions.html#surj_lemmas">surj_lemmas</a></span>.<br/>
<span class="vernacular">Arguments</span> <span class="id"><a href="mathcomp.classical.functions.html#can_surj">can_surj</a></span> <span class="id">{aT</span> <span class="id">rT}</span> <span class="id">g</span> <span class="id">[f</span> <span class="id">A</span> <span class="id">B]</span>.<br/>
<span class="vernacular">Arguments</span> <span class="id"><a href="mathcomp.classical.functions.html#surj_epi">surj_epi</a></span> <span class="id">{aT</span> <span class="id">rT</span> <span class="id">sT}</span> <span class="id">A</span> <span class="id">{B}</span> <span class="id">f</span> <span class="id">{g}</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="surj_comp" class="id">
  <a name="surj_comp" class="">surj_comp</a>
</span> <span id="T1:1196" class="id">
  <a name="T1:1196" class="">T1</a>
</span> <span id="T2:1197" class="id">
  <a name="T2:1197" class="">T2</a>
</span> <span id="T3:1198" class="id">
  <a name="T3:1198" class="">T3</a>
</span> (<span id="A:1199" class="id">
  <a name="A:1199" class="">A</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#T1:1196">T1</a></span>) (<span id="B:1200" class="id">
  <a name="B:1200" class="">B</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#T2:1197">T2</a></span>) (<span id="C:1201" class="id">
  <a name="C:1201" class="">C</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#T3:1198">T3</a></span>) <span id="f:1202" class="id">
  <a name="f:1202" class="">f</a>
</span> <span id="g:1203" class="id">
  <a name="g:1203" class="">g:</a>
</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#set_surj">set_surj</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:1199">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:1200">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1202">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#set_surj">set_surj</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:1200">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#C:1201">C</a></span> <span class="id"><a href="mathcomp.classical.functions.html#g:1203">g</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#set_surj">set_surj</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:1199">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#C:1201">C</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#g:1203">g</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:x_'\o'_x">\o</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1202">f</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof116')">Proof.</span></div>
<div class="proofscript" id="proof116">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">fS</span> <span class="id">gS;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'''surj_'_x">'surj_</a></span>(<span class="id">gS</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:x_'\o'_x">\o</a></span> <span class="id">fS</span>). Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="image_eq" class="id">
  <a name="image_eq" class="">image_eq</a>
</span> <span class="id">{aT</span> <span id="rT:1205" class="id">
  <a name="rT:1205" class="">rT}</a>
</span> <span class="id">{A</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#aT:1204">aT}</a></span> <span class="id">{B</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:1205">rT}</a></span> (<span id="f:1208" class="id">
  <a name="f:1208" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'surjfun'_x_'>->'_x_'}'">{surjfun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:1206">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'surjfun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:1207">B}</a></span>) <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#f:1208">f</a></span> <span class="id">@`</span> <span class="id"><a href="mathcomp.classical.functions.html#A:1206">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:1207">B</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof117')">Proof.</span></div>
<div class="proofscript" id="proof117">
 <span class="id">exact:</span> <span class="id"><a href="mathcomp.classical.functions.html#surj_image_eq">surj_image_eq</a></span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="oinv_image_sub" class="id">
  <a name="oinv_image_sub" class="">oinv_image_sub</a>
</span> <span class="id">{aT</span> <span id="rT:1210" class="id">
  <a name="rT:1210" class="">rT</a>
</span> <span class="id">:</span> <span class="id">Type}</span> <span class="id">{A</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#aT:1209">aT}</a></span> <span class="id">{B</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:1210">rT}</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="f:1213" class="id">
  <a name="f:1213" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'surj'_x_'>->'_x_'}'">{surj</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:1211">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'surj'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:1212">B}</a></span>) <span class="id">{C</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:1210">rT}</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#C:1214">C</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:x_'`<=`'_x">`&lt;=`</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:1212">B</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#:::'''oinv_'_x">'oinv_f</a></span> <span class="id">@`</span> <span class="id"><a href="mathcomp.classical.functions.html#C:1214">C</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:x_'`<=`'_x">`&lt;=`</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#some">some</a></span> <span class="id">@`</span> (<span class="id"><a href="mathcomp.classical.functions.html#f:1213">f</a></span> <span class="id">@^-1`</span> <span class="id"><a href="mathcomp.classical.functions.html#C:1214">C</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof118')">Proof.</span></div>
<div class="proofscript" id="proof118">
<span class="id">move=&gt;</span> <span class="id">CB</span> <span class="id">x</span> <span class="id">[/=</span> <span class="id">y</span> <span class="id">Cy</span> <span class="id">&lt;-];</span> <span class="id">case:</span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'''oinvP_'_x">'oinvP_f</a></span> <span class="id">=&gt;</span> <span class="id">[|a</span> <span class="id">Aa</span> <span class="id">fay];</span> <span class="id">first</span> <span class="id">exact:</span> <span class="id">CB</span>.<br/>
<span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> <span class="id">a</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">rewrite</span> <span class="id">fay</span>.<br/>
Qed.</div>
<span class="vernacular">Arguments</span> <span class="id"><a href="mathcomp.classical.functions.html#oinv_image_sub">oinv_image_sub</a></span> <span class="id">{aT</span> <span class="id">rT</span> <span class="id">A</span> <span class="id">B}</span> <span class="id">f</span> <span class="id">{C}</span> <span class="id">_</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="oinv_Iimage_sub" class="id">
  <a name="oinv_Iimage_sub" class="">oinv_Iimage_sub</a>
</span> <span class="id">{aT</span> <span id="rT:1216" class="id">
  <a name="rT:1216" class="">rT</a>
</span> <span class="id">:</span> <span class="id">Type}</span> <span class="id">{A</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#aT:1215">aT}</a></span> (<span id="f:1218" class="id">
  <a name="f:1218" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'inj'_x_'>->'_x_'}'">{inj</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:1217">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'inj'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:1216">rT}</a></span>) <span class="id">{C</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:1216">rT}</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#C:1219">C</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:x_'`<=`'_x">`&lt;=`</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1218">f</a></span> <span class="id">@`</span> <span class="id"><a href="mathcomp.classical.functions.html#A:1217">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#some">some</a></span> <span class="id">@`</span> (<span class="id"><a href="mathcomp.classical.functions.html#A:1217">A</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:x_'`&`'_x">`&amp;`</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1218">f</a></span> <span class="id">@^-1`</span> <span class="id"><a href="mathcomp.classical.functions.html#C:1219">C</a></span>) <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:x_'`<=`'_x">`&lt;=`</a></span> <span class="id"><a href="mathcomp.classical.functions.html#:::'''oinv_'_x">'oinv_f</a></span> <span class="id">@`</span> <span class="id"><a href="mathcomp.classical.functions.html#C:1219">C</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof119')">Proof.</span></div>
<div class="proofscript" id="proof119">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">?</span> <span class="id">_</span> <span class="id">[a</span> <span class="id">[?</span> <span class="id">?]</span> <span class="id">&lt;-];</span> <span class="gallina-kwd">exists</span> (<span class="id">f</span> <span class="id">a</span>) <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#funoK">funoK</a></span> <span class="id">?inE</span>. Qed.</div>
<span class="vernacular">Arguments</span> <span class="id"><a href="mathcomp.classical.functions.html#oinv_Iimage_sub">oinv_Iimage_sub</a></span> <span class="id">{aT</span> <span class="id">rT</span> <span class="id">A}</span> <span class="id">f</span> <span class="id">{C}</span> <span class="id">_</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="oinv_sub_image" class="id">
  <a name="oinv_sub_image" class="">oinv_sub_image</a>
</span> <span class="id">{aT</span> <span id="rT:1221" class="id">
  <a name="rT:1221" class="">rT}</a>
</span> <span class="id">{A</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#aT:1220">aT}</a></span> <span class="id">{B</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:1221">rT}</a></span> <span class="id">{f</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'bij'_x_'>->'_x_'}'">{bij</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:1222">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'bij'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:1223">B}}</a></span><br/>
&nbsp;&nbsp;&nbsp;<span class="id">{C</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:1221">rT}</a></span> (<span id="CB:1226" class="id">
  <a name="CB:1226" class="">CB</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#C:1225">C</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:x_'`<=`'_x">`&lt;=`</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:1223">B</a></span>) <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#:::'''oinv_'_x">'oinv_f</a></span> <span class="id">@`</span> <span class="id"><a href="mathcomp.classical.functions.html#C:1225">C</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#some">some</a></span> <span class="id">@`</span> (<span class="id"><a href="mathcomp.classical.functions.html#A:1222">A</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:x_'`&`'_x">`&amp;`</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1224">f</a></span> <span class="id">@^-1`</span> <span class="id"><a href="mathcomp.classical.functions.html#C:1225">C</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof120')">Proof.</span></div>
<div class="proofscript" id="proof120">
<span class="id">apply/seteqP;</span> <span class="id">split;</span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.classical.functions.html#oinv_Iimage_sub">oinv_Iimage_sub;</a></span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#image_eq">image_eq</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#some_setI">some_setI</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#subsetI">subsetI;</a></span> <span class="id">split;</span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.classical.functions.html#oinv_image_sub">oinv_image_sub</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">apply:</span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#subset_trans">subset_trans</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#image_subset">image_subset</a></span> <span class="id">CB</span>))<span class="id">;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#image_eq">image_eq</a></span>.<br/>
Qed.</div>
<span class="vernacular">Arguments</span> <span class="id"><a href="mathcomp.classical.functions.html#oinv_sub_image">oinv_sub_image</a></span> <span class="id">{aT</span> <span class="id">rT</span> <span class="id">A</span> <span class="id">B}</span> <span class="id">f</span> <span class="id">{C}</span> <span class="id">_</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="preimageEoinv" class="id">
  <a name="preimageEoinv" class="">preimageEoinv</a>
</span> <span class="id">{aT</span> <span id="rT:1228" class="id">
  <a name="rT:1228" class="">rT}</a>
</span> <span class="id">{B</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:1228">rT}</a></span> <span class="id">{f</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'bij'_x_'>->'_x_'}'">{bij</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_':'_x_']'">[set:</a></span> <span class="id"><a href="mathcomp.classical.functions.html#aT:1227">aT]</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'bij'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:1229">B}}</a></span><br/>
&nbsp;&nbsp;&nbsp;<span class="id">{C</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:1228">rT}</a></span> (<span id="CB:1232" class="id">
  <a name="CB:1232" class="">CB</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#C:1231">C</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:x_'`<=`'_x">`&lt;=`</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:1229">B</a></span>) <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#some">some</a></span> <span class="id">@`</span> (<span class="id"><a href="mathcomp.classical.functions.html#f:1230">f</a></span> <span class="id">@^-1`</span> <span class="id"><a href="mathcomp.classical.functions.html#C:1231">C</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.classical.functions.html#:::'''oinv_'_x">'oinv_f</a></span> <span class="id">@`</span> <span class="id"><a href="mathcomp.classical.functions.html#C:1231">C</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof121')">Proof.</span></div>
<div class="proofscript" id="proof121">
 <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#oinv_sub_image">oinv_sub_image//</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setTI">setTI</a></span>. Qed.</div>
<span class="vernacular">Arguments</span> <span class="id"><a href="mathcomp.classical.functions.html#preimageEoinv">preimageEoinv</a></span> <span class="id">{aT</span> <span class="id">rT</span> <span class="id">B}</span> <span class="id">f</span> <span class="id">{C}</span> <span class="id">_</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="inv_image_sub" class="id">
  <a name="inv_image_sub" class="">inv_image_sub</a>
</span> <span class="id">{aT</span> <span id="rT:1234" class="id">
  <a name="rT:1234" class="">rT</a>
</span> <span class="id">:</span> <span class="id">Type}</span> <span class="id">{A</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#aT:1233">aT}</a></span> <span class="id">{B</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:1234">rT}</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="f:1237" class="id">
  <a name="f:1237" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitsurj'_x_'>->'_x_'}'">{splitsurj</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:1235">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitsurj'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:1236">B}</a></span>) <span class="id">{C</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:1234">rT}</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#C:1238">C</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:x_'`<=`'_x">`&lt;=`</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:1236">B</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1237">f^-1</a></span> <span class="id">@`</span> <span class="id"><a href="mathcomp.classical.functions.html#C:1238">C</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:x_'`<=`'_x">`&lt;=`</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1237">f</a></span> <span class="id">@^-1`</span> <span class="id"><a href="mathcomp.classical.functions.html#C:1238">C</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof122')">Proof.</span></div>
<div class="proofscript" id="proof122">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">CB</span> <span class="id">x</span> <span class="id">[/=</span> <span class="id">y</span> <span class="id">Cy</span> <span class="id">&lt;-];</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#invK">invK//</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#mem_set">mem_set//;</a></span> <span class="id">apply:</span> <span class="id">CB</span>. Qed.</div>
<span class="vernacular">Arguments</span> <span class="id"><a href="mathcomp.classical.functions.html#inv_image_sub">inv_image_sub</a></span> <span class="id">{aT</span> <span class="id">rT</span> <span class="id">A</span> <span class="id">B}</span> <span class="id">f</span> <span class="id">{C}</span> <span class="id">_</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="inv_Iimage_sub" class="id">
  <a name="inv_Iimage_sub" class="">inv_Iimage_sub</a>
</span> <span class="id">{aT</span> <span id="rT:1240" class="id">
  <a name="rT:1240" class="">rT</a>
</span> <span class="id">:</span> <span class="id">Type}</span> <span class="id">{A</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#aT:1239">aT}</a></span> (<span id="f:1242" class="id">
  <a name="f:1242" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitinj'_x_'>->'_x_'}'">{splitinj</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:1241">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitinj'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:1240">rT}</a></span>) <span class="id">{C</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:1240">rT}</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#C:1243">C</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:x_'`<=`'_x">`&lt;=`</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1242">f</a></span> <span class="id">@`</span> <span class="id"><a href="mathcomp.classical.functions.html#A:1241">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span>  <span class="id"><a href="mathcomp.classical.functions.html#A:1241">A</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:x_'`&`'_x">`&amp;`</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1242">f</a></span> <span class="id">@^-1`</span> <span class="id"><a href="mathcomp.classical.functions.html#C:1243">C</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:x_'`<=`'_x">`&lt;=`</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1242">f^-1</a></span> <span class="id">@`</span> <span class="id"><a href="mathcomp.classical.functions.html#C:1243">C</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof123')">Proof.</span></div>
<div class="proofscript" id="proof123">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">CB</span> <span class="id">x</span> <span class="id">[Ax</span> <span class="id">Cfx];</span> <span class="gallina-kwd">exists</span> (<span class="id">f</span> <span class="id">x</span>) <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#funK">funK//</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#mem_set">mem_set</a></span>. Qed.</div>
<span class="vernacular">Arguments</span> <span class="id"><a href="mathcomp.classical.functions.html#inv_Iimage_sub">inv_Iimage_sub</a></span> <span class="id">{aT</span> <span class="id">rT</span> <span class="id">A}</span> <span class="id">f</span> <span class="id">{C}</span> <span class="id">_</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="inv_sub_image" class="id">
  <a name="inv_sub_image" class="">inv_sub_image</a>
</span> <span class="id">{aT</span> <span id="rT:1245" class="id">
  <a name="rT:1245" class="">rT}</a>
</span> <span class="id">{A</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#aT:1244">aT}</a></span> <span class="id">{B</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:1245">rT}</a></span> <span class="id">{f</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitbij'_x_'>->'_x_'}'">{splitbij</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:1246">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitbij'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:1247">B}}</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">{C</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:1245">rT}</a></span> (<span id="CB:1250" class="id">
  <a name="CB:1250" class="">CB</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#C:1249">C</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:x_'`<=`'_x">`&lt;=`</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:1247">B</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#f:1248">f^-1</a></span> <span class="id">@`</span> <span class="id"><a href="mathcomp.classical.functions.html#C:1249">C</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:1246">A</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:x_'`&`'_x">`&amp;`</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1248">f</a></span> <span class="id">@^-1`</span> <span class="id"><a href="mathcomp.classical.functions.html#C:1249">C</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof124')">Proof.</span></div>
<div class="proofscript" id="proof124">
<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#image_some_inj">image_some_inj;</a></span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#image_comp">image_comp</a></span> <span class="id">[Some</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:x_'\o'_x">\o</a></span> <span class="id">_]oliftV</span> <span class="id"><a href="mathcomp.classical.functions.html#oinv_sub_image">oinv_sub_image</a></span>.<br/>
Qed.</div>
<span class="vernacular">Arguments</span> <span class="id"><a href="mathcomp.classical.functions.html#inv_sub_image">inv_sub_image</a></span> <span class="id">{aT</span> <span class="id">rT</span> <span class="id">A</span> <span class="id">B}</span> <span class="id">f</span> <span class="id">{C}</span> <span class="id">_</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="preimageEinv" class="id">
  <a name="preimageEinv" class="">preimageEinv</a>
</span> <span class="id">{aT</span> <span id="rT:1252" class="id">
  <a name="rT:1252" class="">rT}</a>
</span> <span class="id">{B</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:1252">rT}</a></span> <span class="id">{f</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitbij'_x_'>->'_x_'}'">{splitbij</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_':'_x_']'">[set:</a></span> <span class="id"><a href="mathcomp.classical.functions.html#aT:1251">aT]</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitbij'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:1253">B}}</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">{C</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:1252">rT}</a></span> (<span id="CB:1256" class="id">
  <a name="CB:1256" class="">CB</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#C:1255">C</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:x_'`<=`'_x">`&lt;=`</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:1253">B</a></span>) <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#f:1254">f</a></span> <span class="id">@^-1`</span> <span class="id"><a href="mathcomp.classical.functions.html#C:1255">C</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1254">f^-1</a></span> <span class="id">@`</span> <span class="id"><a href="mathcomp.classical.functions.html#C:1255">C</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof125')">Proof.</span></div>
<div class="proofscript" id="proof125">
 <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#inv_sub_image">inv_sub_image//</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setTI">setTI</a></span>. Qed.</div>
<span class="vernacular">Arguments</span> <span class="id"><a href="mathcomp.classical.functions.html#preimageEinv">preimageEinv</a></span> <span class="id">{aT</span> <span class="id">rT</span> <span class="id">B}</span> <span class="id">f</span> <span class="id">{C}</span> <span class="id">_</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="reindex_bigcup" class="id">
  <a name="reindex_bigcup" class="">reindex_bigcup</a>
</span> <span class="id">{aT</span> <span id="rT:1258" class="id">
  <a name="rT:1258" class="">rT</a>
</span> <span id="I:1259" class="id">
  <a name="I:1259" class="">I}</a>
</span> (<span id="f:1260" class="id">
  <a name="f:1260" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#aT:1257">aT</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#I:1259">I</a></span>) (<span id="P:1261" class="id">
  <a name="P:1261" class="">P</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#aT:1257">aT</a></span>) (<span id="Q:1262" class="id">
  <a name="Q:1262" class="">Q</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#I:1259">I</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="F:1263" class="id">
  <a name="F:1263" class="">F</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#I:1259">I</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:1258">rT</a></span>) <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#set_fun">set_fun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#P:1261">P</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Q:1262">Q</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1260">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#set_surj">set_surj</a></span> <span class="id"><a href="mathcomp.classical.functions.html#P:1261">P</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Q:1262">Q</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1260">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'\bigcup_'_'('_x_'in'_x_')'_x">\bigcup_</a></span>(<span id="x:1264" class="id">
  <a name="x:1264" class="">x</a>
</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.classical.functions.html#Q:1262">Q</a></span>) <span class="id"><a href="mathcomp.classical.functions.html#F:1263">F</a></span> <span class="id"><a href="mathcomp.classical.functions.html#x:1264">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'\bigcup_'_'('_x_'in'_x_')'_x">\bigcup_</a></span>(<span id="x:1265" class="id">
  <a name="x:1265" class="">x</a>
</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.classical.functions.html#P:1261">P</a></span>) <span class="id"><a href="mathcomp.classical.functions.html#F:1263">F</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#f:1260">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#x:1265">x</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof126')">Proof.</span></div>
<div class="proofscript" id="proof126">
<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">/image_subP</span> <span class="id">fPQ</span> <span class="id">/</span>(<span class="id"><a href="mathcomp.classical.functions.html#surj_image_eq">surj_image_eq</a></span> <span class="id">fPQ</span>)<span class="id">&lt;-;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#bigcup_image">bigcup_image</a></span>.<br/>
Qed.</div>
<span class="vernacular">Arguments</span> <span class="id"><a href="mathcomp.classical.functions.html#reindex_bigcup">reindex_bigcup</a></span> <span class="id">{aT</span> <span class="id">rT</span> <span class="id">I}</span> <span class="id">f</span> <span class="id">P</span> <span class="id">Q</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="reindex_bigcap" class="id">
  <a name="reindex_bigcap" class="">reindex_bigcap</a>
</span> <span class="id">{aT</span> <span id="rT:1267" class="id">
  <a name="rT:1267" class="">rT</a>
</span> <span id="I:1268" class="id">
  <a name="I:1268" class="">I}</a>
</span> (<span id="f:1269" class="id">
  <a name="f:1269" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#aT:1266">aT</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#I:1268">I</a></span>) (<span id="P:1270" class="id">
  <a name="P:1270" class="">P</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#aT:1266">aT</a></span>) (<span id="Q:1271" class="id">
  <a name="Q:1271" class="">Q</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#I:1268">I</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="F:1272" class="id">
  <a name="F:1272" class="">F</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#I:1268">I</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:1267">rT</a></span>) <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#set_fun">set_fun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#P:1270">P</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Q:1271">Q</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1269">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#set_surj">set_surj</a></span> <span class="id"><a href="mathcomp.classical.functions.html#P:1270">P</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Q:1271">Q</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1269">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'\bigcap_'_'('_x_'in'_x_')'_x">\bigcap_</a></span>(<span id="x:1273" class="id">
  <a name="x:1273" class="">x</a>
</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.classical.functions.html#Q:1271">Q</a></span>) <span class="id"><a href="mathcomp.classical.functions.html#F:1272">F</a></span> <span class="id"><a href="mathcomp.classical.functions.html#x:1273">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'\bigcap_'_'('_x_'in'_x_')'_x">\bigcap_</a></span>(<span id="x:1274" class="id">
  <a name="x:1274" class="">x</a>
</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.classical.functions.html#P:1270">P</a></span>) <span class="id"><a href="mathcomp.classical.functions.html#F:1272">F</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#f:1269">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#x:1274">x</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof127')">Proof.</span></div>
<div class="proofscript" id="proof127">
<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">/image_subP</span> <span class="id">fPQ</span> <span class="id">/</span>(<span class="id"><a href="mathcomp.classical.functions.html#surj_image_eq">surj_image_eq</a></span> <span class="id">fPQ</span>)<span class="id">&lt;-;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#bigcap_image">bigcap_image</a></span>.<br/>
Qed.</div>
<span class="vernacular">Arguments</span> <span class="id"><a href="mathcomp.classical.functions.html#reindex_bigcap">reindex_bigcap</a></span> <span class="id">{aT</span> <span class="id">rT</span> <span class="id">I}</span> <span class="id">f</span> <span class="id">P</span> <span class="id">Q</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="bigcap_bigcup" class="id">
  <a name="bigcap_bigcup" class="">bigcap_bigcup</a>
</span> <span id="T:1275" class="id">
  <a name="T:1275" class="">T</a>
</span> <span id="I:1276" class="id">
  <a name="I:1276" class="">I</a>
</span> <span id="J:1277" class="id">
  <a name="J:1277" class="">J</a>
</span> (<span id="D:1278" class="id">
  <a name="D:1278" class="">D</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#I:1276">I</a></span>) (<span id="E:1279" class="id">
  <a name="E:1279" class="">E</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#J:1277">J</a></span>) (<span id="F:1280" class="id">
  <a name="F:1280" class="">F</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#I:1276">I</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#J:1277">J</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#T:1275">T</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#J:1277">J</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'\bigcap_'_'('_x_'in'_x_')'_x">\bigcap_</a></span>(<span id="i:1281" class="id">
  <a name="i:1281" class="">i</a>
</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.classical.functions.html#D:1278">D</a></span>) <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'\bigcup_'_'('_x_'in'_x_')'_x">\bigcup_</a></span>(<span id="j:1282" class="id">
  <a name="j:1282" class="">j</a>
</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.classical.functions.html#E:1279">E</a></span>) <span class="id"><a href="mathcomp.classical.functions.html#F:1280">F</a></span> <span class="id"><a href="mathcomp.classical.functions.html#i:1281">i</a></span> <span class="id"><a href="mathcomp.classical.functions.html#j:1282">j</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'\bigcup_'_'('_x_'in'_x_')'_x">\bigcup_</a></span>(<span id="f:1283" class="id">
  <a name="f:1283" class="">f</a>
</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.classical.functions.html#set_fun">set_fun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#D:1278">D</a></span> <span class="id"><a href="mathcomp.classical.functions.html#E:1279">E</a></span>) <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'\bigcap_'_'('_x_'in'_x_')'_x">\bigcap_</a></span>(<span id="i:1284" class="id">
  <a name="i:1284" class="">i</a>
</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.classical.functions.html#D:1278">D</a></span>) <span class="id"><a href="mathcomp.classical.functions.html#F:1280">F</a></span> <span class="id"><a href="mathcomp.classical.functions.html#i:1284">i</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#f:1283">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#i:1284">i</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof128')">Proof.</span></div>
<div class="proofscript" id="proof128">
<span class="id">move=&gt;</span> <span class="id">j;</span> <span class="id">apply/seteqP;</span> <span class="id">split=&gt;</span> <span class="id">x</span>.<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">/</span>(<span class="id">_</span> <span class="id">_</span> <span class="id">_</span>)<span class="id">/cid2</span> <span class="id">ff</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">/</span>(<span class="id"><a href="mathcomp.classical.mathcomp_extra.html#all_sig2_cond">all_sig2_cond</a></span> <span class="id">j</span>) (<span id="i:1285" class="id">
  <a name="i:1285" class="">i</a>
</span> <span class="id">:</span> <span class="id">I</span>) <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#i:1285">i</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::bool_scope:x_'\in'_x">\in</a></span> <span class="id">D</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#::type_scope:'{'_x_':'_x_'|'_x_'&'_x_'}'">{x0</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#::type_scope:'{'_x_':'_x_'|'_x_'&'_x_'}'">:</a></span> <span class="id">J</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#::type_scope:'{'_x_':'_x_'|'_x_'&'_x_'}'">|</a></span> <span class="id">E</span> <span class="id"><a href="mathcomp.classical.functions.html#x0:1286">x0</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#::type_scope:'{'_x_':'_x_'|'_x_'&'_x_'}'">&amp;</a></span> <span class="id">F</span> <span class="id"><a href="mathcomp.classical.functions.html#i:1285">i</a></span> <span class="id"><a href="mathcomp.classical.functions.html#x0:1287">x0</a></span> <span class="id">x}</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">/set_mem;</span> <span class="id">apply:</span> <span class="id">ff</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">[f</span> <span class="id">/</span>(<span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#mem_set">mem_set</a></span> <span class="id">_</span>))<span class="id">Ef</span> <span class="id">/</span>(<span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#mem_set">mem_set</a></span> <span class="id">_</span>))<span class="id">Ff];</span> <span class="gallina-kwd">exists</span> <span class="id">f</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">[f</span> <span class="id">fDE</span> <span class="id">fF</span> <span class="id">i</span> <span class="id">Fi];</span> <span class="gallina-kwd">exists</span> (<span class="id">f</span> <span class="id">i</span>)<span class="id">;</span> <span class="id">[apply:</span> <span class="id">fDE|apply:</span> <span class="id">fF]</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Injections </div>
<br/>
<span class="vernacular">Lemma</span> <span id="trivIset_inj" class="id">
  <a name="trivIset_inj" class="">trivIset_inj</a>
</span> <span id="T:1288" class="id">
  <a name="T:1288" class="">T</a>
</span> <span id="I:1289" class="id">
  <a name="I:1289" class="">I</a>
</span> (<span id="D:1290" class="id">
  <a name="D:1290" class="">D</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#I:1289">I</a></span>) (<span id="F:1291" class="id">
  <a name="F:1291" class="">F</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#I:1289">I</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#T:1288">T</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="i:1292" class="id">
  <a name="i:1292" class="">i,</a>
</span> <span class="id"><a href="mathcomp.classical.functions.html#D:1290">D</a></span> <span class="id"><a href="mathcomp.classical.functions.html#i:1292">i</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#F:1291">F</a></span> <span class="id"><a href="mathcomp.classical.functions.html#i:1292">i</a></span> <span class="id">!=set0</span>) <span class="id">-&gt;</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#trivIset">trivIset</a></span> <span class="id"><a href="mathcomp.classical.functions.html#D:1290">D</a></span> <span class="id"><a href="mathcomp.classical.functions.html#F:1291">F</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#set_inj">set_inj</a></span> <span class="id"><a href="mathcomp.classical.functions.html#D:1290">D</a></span> <span class="id"><a href="mathcomp.classical.functions.html#F:1291">F</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof129')">Proof.</span></div>
<div class="proofscript" id="proof129">
<span class="id">move=&gt;</span> <span class="id">FN0</span> <span class="id">Ftriv</span> <span class="id">i</span> <span class="id">j;</span> <span class="id">rewrite</span> <span class="id">!inE</span> <span class="id">=&gt;</span> <span class="id">Di</span> <span class="id">Dj</span> <span class="id">Fij</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id">Ftriv</span> <span class="id">Di</span> (<span class="id">Dj</span>) <span class="id">_;</span> <span class="id">rewrite</span> <span class="id">Fij</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setIid">setIid;</a></span> <span class="id">apply:</span> <span class="id">FN0</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Bijections </div>
<br/>
<span class="vernacular">Section</span> <span id="set_bij_lemmas" class="id">
  <a name="set_bij_lemmas" class="">set_bij_lemmas</a>
</span>.<br/>
<span class="vernacular">Context</span> <span class="id">{aT</span> <span id="rT:1294" class="id">
  <a name="rT:1294" class="">rT</a>
</span> <span class="id">:</span> <span class="id">Type}</span> <span class="id">{A</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#aT:1293">aT}</a></span> <span class="id">{B</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:1294">rT}</a></span> <span class="id">{f</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#aT:1293">aT</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:1294">rT}</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="fun_set_bij" class="id">
  <a name="fun_set_bij" class="">fun_set_bij</a>
</span> <span class="id">of</span> <span class="id"><a href="mathcomp.classical.functions.html#set_bij">set_bij</a></span> <span class="id"><a href="mathcomp.classical.functions.html#set_bij_lemmas.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#set_bij_lemmas.B">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#set_bij_lemmas.f">f</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#set_bij_lemmas.f">f</a></span>.<br/>
<span class="vernacular">Context</span> (<span id="fbij:1298" class="id">
  <a name="fbij:1298" class="">fbij</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#set_bij">set_bij</a></span> <span class="id"><a href="mathcomp.classical.functions.html#set_bij_lemmas.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#set_bij_lemmas.B">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#set_bij_lemmas.f">f</a></span>).<br/>
<span class="id">Local</span> <span class="vernacular">Notation</span> <span id="g" class="id">
  <a name="g" class="">g</a>
</span> <span class="id">:=</span> (<span class="id"><a href="mathcomp.classical.functions.html#fun_set_bij">fun_set_bij</a></span> <span class="id"><a href="mathcomp.classical.functions.html#set_bij_lemmas.fbij">fbij</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="set_bij_inj" class="id">
  <a name="set_bij_inj" class="">set_bij_inj</a>
</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_'&'_','_x_'}'">{in</a></span> <span class="id"><a href="mathcomp.classical.functions.html#set_bij_lemmas.A">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_'&'_','_x_'}'">&amp;,</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#injective">injective</a></span> <span class="id"><a href="mathcomp.classical.functions.html#set_bij_lemmas.f">f}</a></span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof130')">Proof.</span></div>
<div class="proofscript" id="proof130">
 <span class="gallina-kwd">by</span> <span class="id">case:</span> <span class="id"><a href="mathcomp.classical.functions.html#set_bij_lemmas.fbij">fbij</a></span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="set_bij_homo" class="id">
  <a name="set_bij_homo" class="">set_bij_homo</a>
</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_'/'_x_'>->'_x_'}'">{homo</a></span> <span class="id"><a href="mathcomp.classical.functions.html#set_bij_lemmas.f">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_'/'_x_'>->'_x_'}'">:</a></span> <span id="x:1300" class="id"><span id="x:1299" class="id">
  <a name="x:1300" class="">x</a>
</span></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_'/'_x_'>->'_x_'}'">/</a></span> <span class="id"><a href="mathcomp.classical.functions.html#set_bij_lemmas.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#x:1299">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_'/'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#set_bij_lemmas.B">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#x:1300">x}</a></span><br/>
<div>&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof131')">Proof.</span></div>
<div class="proofscript" id="proof131">
 <span class="gallina-kwd">by</span> <span class="id">case:</span> <span class="id"><a href="mathcomp.classical.functions.html#set_bij_lemmas.fbij">fbij</a></span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="set_bij_sub" class="id">
  <a name="set_bij_sub" class="">set_bij_sub</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#set_bij_lemmas.f">f</a></span> <span class="id">@`</span> <span class="id"><a href="mathcomp.classical.functions.html#set_bij_lemmas.A">A</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:x_'`<=`'_x">`&lt;=`</a></span> <span class="id"><a href="mathcomp.classical.functions.html#set_bij_lemmas.B">B</a></span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof132')">Proof.</span></div>
<div class="proofscript" id="proof132">
 <span class="id">exact/image_subP/set_bij_homo</span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="set_bij_surj" class="id">
  <a name="set_bij_surj" class="">set_bij_surj</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#set_surj">set_surj</a></span> <span class="id"><a href="mathcomp.classical.functions.html#set_bij_lemmas.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#set_bij_lemmas.B">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#set_bij_lemmas.f">f</a></span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof133')">Proof.</span></div>
<div class="proofscript" id="proof133">
 <span class="gallina-kwd">by</span> <span class="id">case:</span> <span class="id"><a href="mathcomp.classical.functions.html#set_bij_lemmas.fbij">fbij</a></span>. Qed.</div>
<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#OCanV">OCanV</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#g">g</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#set_bij_surj">set_bij_surj</a></span>.<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#Build">isFun.Build</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#set_bij_lemmas.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#set_bij_lemmas.B">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#g">g</a></span> <span class="id"><a href="mathcomp.classical.functions.html#set_bij_homo">set_bij_homo</a></span>.<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#Build">SurjFun_Inj.Build</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#set_bij_lemmas.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#set_bij_lemmas.B">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#g">g</a></span> <span class="id"><a href="mathcomp.classical.functions.html#set_bij_inj">set_bij_inj</a></span>.<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.classical.functions.html#set_bij_lemmas">set_bij_lemmas</a></span>.<br/>
<span class="vernacular">Coercion</span> <span class="id">fun_set_bij</span> <span class="id">:</span> <span class="id">set_bij</span> <span class="id">&gt;-&gt;</span> <span class="id">Funclass</span>.<br/>
<br/>
<span class="vernacular">Coercion</span> <span id="set_bij_bijfun" class="id">
  <a name="set_bij_bijfun" class="">set_bij_bijfun</a>
</span> <span id="aT:1301" class="id">
  <a name="aT:1301" class="">aT</a>
</span> <span id="rT:1302" class="id">
  <a name="rT:1302" class="">rT</a>
</span> (<span id="A:1303" class="id">
  <a name="A:1303" class="">A</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#aT:1301">aT</a></span>) (<span id="B:1304" class="id">
  <a name="B:1304" class="">B</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:1302">rT</a></span>) (<span id="f:1305" class="id">
  <a name="f:1305" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#aT:1301">aT</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:1302">rT</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="fS:1306" class="id">
  <a name="fS:1306" class="">fS</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#set_bij">set_bij</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:1303">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:1304">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1305">f</a></span>) <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#on">Bij.on</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#fun_set_bij">fun_set_bij</a></span> <span class="id"><a href="mathcomp.classical.functions.html#fS:1306">fS</a></span>).<br/>
<br/>
<span class="vernacular">Section</span> <span id="Pbij" class="id">
  <a name="Pbij" class="">Pbij</a>
</span>.<br/>
<span class="vernacular">Context</span> <span class="id">{aT</span> <span id="rT:1308" class="id">
  <a name="rT:1308" class="">rT}</a>
</span> <span class="id">{A</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#aT:1307">aT}</a></span> <span class="id">{B</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:1308">rT}</a></span> <span class="id">{f</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#aT:1307">aT</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:1308">rT}</a></span> (<span id="fbij:1312" class="id">
  <a name="fbij:1312" class="">fbij</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#set_bij">set_bij</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:1309">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:1310">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1311">f</a></span>).<br/>
<span class="id">#[local]</span> <span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:</span> <span class="id">@Bij</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#Pbij.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Pbij.B">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Pbij.f">f</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#Pbij.fbij">fbij</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="bij_of_set_bijection" class="id">
  <a name="bij_of_set_bijection" class="">bij_of_set_bijection</a>
</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'['_'bij'_'of'_x_']'">[bij</a></span> <span class="id">of</span> <span class="id"><a href="mathcomp.classical.functions.html#Pbij.f">f]</a></span>.<br/>
<span class="vernacular">Lemma</span> <span id="Pbij" class="id">
  <a name="Pbij" class="">Pbij</a>
</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#::type_scope:'{'_x_':'_x_'|'_x_'}'">{s</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#::type_scope:'{'_x_':'_x_'|'_x_'}'">:</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'bij'_x_'>->'_x_'}'">{bij</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Pbij.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'bij'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Pbij.B">B}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#::type_scope:'{'_x_':'_x_'|'_x_'}'">|</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Pbij.f">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.classical.functions.html#s:1313">s}</a></span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof134')">Proof.</span></div>
<div class="proofscript" id="proof134">
 <span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'['_'bij'_'of'_x_']'">[bij</a></span> <span class="id">of</span> <span class="id"><a href="mathcomp.classical.functions.html#Pbij.f">f]</a></span>. Qed.</div>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.classical.functions.html#Pbij">Pbij</a></span>.<br/>
<span class="vernacular">Coercion</span> <span class="id">bij_of_set_bijection</span> <span class="id">:</span> <span class="id">set_bij</span> <span class="id">&gt;-&gt;</span> <span class="id">Bij.type</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="bij" class="id">
  <a name="bij" class="">bij</a>
</span> <span class="id">{aT</span> <span id="rT:1315" class="id">
  <a name="rT:1315" class="">rT}</a>
</span> <span class="id">{A</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#aT:1314">aT}</a></span> <span class="id">{B</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:1315">rT}</a></span> <span class="id">{f</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'bij'_x_'>->'_x_'}'">{bij</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:1316">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'bij'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:1317">B}}</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#set_bij">set_bij</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:1316">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:1317">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1318">f</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof135')">Proof.</span></div>
<div class="proofscript" id="proof135">
 <span class="id">split=&gt;</span> <span class="id">//</span>. Qed.</div>
<span class="vernacular">Definition</span> <span id="phant_bij" class="id">
  <a name="phant_bij" class="">phant_bij</a>
</span> <span id="aT:1319" class="id">
  <a name="aT:1319" class="">aT</a>
</span> <span id="rT:1320" class="id">
  <a name="rT:1320" class="">rT</a>
</span> (<span id="A:1321" class="id">
  <a name="A:1321" class="">A</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#aT:1319">aT</a></span>) (<span id="B:1322" class="id">
  <a name="B:1322" class="">B</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:1320">rT</a></span>) (<span id="f:1323" class="id">
  <a name="f:1323" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'bij'_x_'>->'_x_'}'">{bij</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:1321">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'bij'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:1322">B}</a></span>) <span class="id">of</span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#phantom">phantom</a></span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id">_</span>) <span class="id"><a href="mathcomp.classical.functions.html#f:1323">f</a></span> <span class="id">:=</span> <span class="id">@bij</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#f:1323">f</a></span>.<br/>
<span class="vernacular">Notation</span> <span id="::form_scope:'''bij_'_x" class="id">
  <a name="::form_scope:'''bij_'_x" class="">"''bij_'&nbsp;f"</a>
</span> <span class="id">:=</span> (<span class="id"><a href="mathcomp.classical.functions.html#phant_bij">phant_bij</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#Phantom">Phantom</a></span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id">_</span>) <span class="id">f</span>)) <span class="id">:</span> <span class="id">form_scope</span>.<br/>
<span class="id">#[global]</span> <span class="vernacular">Hint</span> <span class="id">Extern</span> <span class="id">0</span> (<span class="id"><a href="mathcomp.classical.functions.html#set_bij">set_bij</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>) <span class="id">=&gt;</span> <span class="id">solve</span> <span class="id">[apply:</span> <span class="id"><a href="mathcomp.classical.functions.html#bij">bij]</a></span> <span class="id">:</span> <span class="id">core</span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="PbijTT" class="id">
  <a name="PbijTT" class="">PbijTT</a>
</span>.<br/>
<span class="vernacular">Context</span> <span class="id">{aT</span> <span id="rT:1325" class="id">
  <a name="rT:1325" class="">rT}</a>
</span> <span class="id">{f</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#aT:1324">aT</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:1325">rT}</a></span> (<span id="fbijTT:1327" class="id">
  <a name="fbijTT:1327" class="">fbijTT</a>
</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#bijective">bijective</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1326">f</a></span>).<br/>
<span class="id">#[local]</span> <span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id">@BijTT</span>.<span class="id">Build</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#PbijTT.f">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#PbijTT.fbijTT">fbijTT</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="bijection_of_bijective" class="id">
  <a name="bijection_of_bijective" class="">bijection_of_bijective</a>
</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'['_'splitbij'_'of'_x_']'">[splitbij</a></span> <span class="id">of</span> <span class="id"><a href="mathcomp.classical.functions.html#PbijTT.f">f]</a></span>.<br/>
<span class="vernacular">Lemma</span> <span id="PbijTT" class="id">
  <a name="PbijTT" class="">PbijTT</a>
</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#::type_scope:'{'_x_':'_x_'|'_x_'}'">{s</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#::type_scope:'{'_x_':'_x_'|'_x_'}'">:</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitbij'_x_'>->'_x_'}'">{splitbij</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_':'_x_']'">[set:</a></span> <span class="id"><a href="mathcomp.classical.functions.html#PbijTT.aT">aT]</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitbij'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_':'_x_']'">[set:</a></span> <span class="id"><a href="mathcomp.classical.functions.html#PbijTT.rT">rT]}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#::type_scope:'{'_x_':'_x_'|'_x_'}'">|</a></span> <span class="id"><a href="mathcomp.classical.functions.html#PbijTT.f">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.classical.functions.html#s:1328">s}</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof136')">Proof.</span></div>
<div class="proofscript" id="proof136">
 <span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'['_'splitbij'_'of'_x_']'">[splitbij</a></span> <span class="id">of</span> <span class="id"><a href="mathcomp.classical.functions.html#PbijTT.f">f]</a></span>. Qed.</div>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.classical.functions.html#PbijTT">PbijTT</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="setTT_bijective" class="id">
  <a name="setTT_bijective" class="">setTT_bijective</a>
</span> <span id="aT:1329" class="id">
  <a name="aT:1329" class="">aT</a>
</span> <span id="rT:1330" class="id">
  <a name="rT:1330" class="">rT</a>
</span> (<span id="f:1331" class="id">
  <a name="f:1331" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#aT:1329">aT</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:1330">rT</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#set_bij">set_bij</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_':'_x_']'">[set:</a></span> <span class="id"><a href="mathcomp.classical.functions.html#aT:1329">aT]</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_':'_x_']'">[set:</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:1330">rT]</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1331">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#bijective">bijective</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1331">f</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof137')">Proof.</span></div>
<div class="proofscript" id="proof137">
<span class="id">apply/propext;</span> <span class="id">split=&gt;</span> <span class="id">[[]|/PbijTT[{}f</span> <span class="id">-&gt;]]</span>.<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">_</span> <span class="id">fI</span> <span class="id">/</span>(<span class="id">_</span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#I">I</a></span>)<span class="id">-/</span>(<span class="id">_</span> <span class="id">_</span>)<span class="id">/cid2-/all_sig2[g</span> <span class="id">_</span> <span class="id">gK]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> <span class="id">g</span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">x;</span> <span class="id">apply:</span> <span class="id">fI;</span> <span class="id">rewrite</span> <span class="id">?inE</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">split=&gt;</span> <span class="id">//</span> <span class="id">[x</span> <span class="id">y</span> <span class="id">_</span> <span class="id">_</span> <span class="id">/'inj_f//|y</span> <span class="id">_];</span> <span class="gallina-kwd">exists</span> (<span class="id">f^-1</span> <span class="id">y</span>) <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#funK">funK</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="bijTT" class="id">
  <a name="bijTT" class="">bijTT</a>
</span> <span class="id">{aT</span> <span id="rT:1333" class="id">
  <a name="rT:1333" class="">rT}</a>
</span>  <span class="id">{f</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'bij'_x_'>->'_x_'}'">{bij</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_':'_x_']'">[set:</a></span> <span class="id"><a href="mathcomp.classical.functions.html#aT:1332">aT]</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'bij'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_':'_x_']'">[set:</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:1333">rT]}}</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#bijective">bijective</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1334">f</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof138')">Proof.</span></div>
<div class="proofscript" id="proof138">
 <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-setTT_bijective</span>. Qed.</div>
<span class="vernacular">Definition</span> <span id="phant_bijTT" class="id">
  <a name="phant_bijTT" class="">phant_bijTT</a>
</span> <span id="aT:1335" class="id">
  <a name="aT:1335" class="">aT</a>
</span> <span id="rT:1336" class="id">
  <a name="rT:1336" class="">rT</a>
</span> (<span id="f:1337" class="id">
  <a name="f:1337" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'bij'_x_'>->'_x_'}'">{bij</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_':'_x_']'">[set:</a></span> <span class="id"><a href="mathcomp.classical.functions.html#aT:1335">aT]</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'bij'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_':'_x_']'">[set:</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:1336">rT]}</a></span>)<br/>
&nbsp;&nbsp;&nbsp;<span class="id">of</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#phantom">phantom</a></span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id">_</span>) <span class="id"><a href="mathcomp.classical.functions.html#f:1337">f</a></span> <span class="id">:=</span> <span class="id">@bijTT</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#f:1337">f</a></span>.<br/>
<span class="vernacular">Notation</span> <span id="::form_scope:'''bijTT_'_x" class="id">
  <a name="::form_scope:'''bijTT_'_x" class="">"''bijTT_'&nbsp;&nbsp;f"</a>
</span> <span class="id">:=</span> (<span class="id"><a href="mathcomp.classical.functions.html#phant_bijTT">phant_bijTT</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#Phantom">Phantom</a></span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id">_</span>) <span class="id">f</span>)) <span class="id">:</span> <span class="id">form_scope</span>.<br/>
<span class="id">#[global]</span> <span class="vernacular">Hint</span> <span class="id">Extern</span> <span class="id">0</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#bijective">bijective</a></span> <span class="id">_</span>) <span class="id">=&gt;</span> <span class="id">solve</span> <span class="id">[apply:</span> <span class="id"><a href="mathcomp.classical.functions.html#bijTT">bijTT]</a></span> <span class="id">:</span> <span class="id">core</span>.<br/>
<br/>
<div class="ssrdoc markdown">
## Patching and restrictions                                               
</div>
<br/>
<span class="vernacular">Section</span> <span id="patch" class="id">
  <a name="patch" class="">patch</a>
</span>.<br/>
<span class="vernacular">Context</span> <span class="id">{aT</span> <span id="rT:1339" class="id">
  <a name="rT:1339" class="">rT</a>
</span> <span class="id">:</span> <span class="id">Type}</span> (<span id="d:1340" class="id">
  <a name="d:1340" class="">d</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#aT:1338">aT</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:1339">rT</a></span>) (<span id="A:1341" class="id">
  <a name="A:1341" class="">A</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#aT:1338">aT</a></span>).<br/>
<span class="vernacular">Definition</span> <span id="patch" class="id">
  <a name="patch" class="">patch</a>
</span> (<span id="f:1342" class="id">
  <a name="f:1342" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#patch.aT">aT</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#patch.rT">rT</a></span>) <span id="u:1343" class="id">
  <a name="u:1343" class="">u</a>
</span> <span class="id">:=</span> <span class="gallina-kwd">if</span> <span class="id"><a href="mathcomp.classical.functions.html#u:1343">u</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::bool_scope:x_'\in'_x">\in</a></span> <span class="id"><a href="mathcomp.classical.functions.html#patch.A">A</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="mathcomp.classical.functions.html#f:1342">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#u:1343">u</a></span> <span class="gallina-kwd">else</span> <span class="id"><a href="mathcomp.classical.functions.html#patch.d">d</a></span> <span class="id"><a href="mathcomp.classical.functions.html#u:1343">u</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="patchT" class="id">
  <a name="patchT" class="">patchT</a>
</span> <span id="f:1344" class="id">
  <a name="f:1344" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_','_x_'}'">{in</a></span> <span class="id"><a href="mathcomp.classical.functions.html#patch.A">A,</a></span> <span class="id"><a href="mathcomp.classical.functions.html#patch">patch</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1344">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:x_'=1'_x">=1</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1344">f}</a></span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof139')">Proof.</span></div>
<div class="proofscript" id="proof139">
 <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/patch</span> <span class="id">=&gt;</span> <span class="id">x</span> <span class="id">-&gt;</span>. Qed.</div>
<span class="vernacular">Lemma</span> <span id="patchN" class="id">
  <a name="patchN" class="">patchN</a>
</span> <span id="f:1345" class="id">
  <a name="f:1345" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_','_x_'}'">{in</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.ssrbool.html#::fun_scope:'['_'predC'_x_']'">[predC</a></span> <span class="id"><a href="mathcomp.classical.functions.html#patch.A">A],</a></span> <span class="id"><a href="mathcomp.classical.functions.html#patch">patch</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1345">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:x_'=1'_x">=1</a></span> <span class="id"><a href="mathcomp.classical.functions.html#patch.d">d}</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof140')">Proof.</span></div>
<div class="proofscript" id="proof140">
 <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/patch</span> <span class="id">=&gt;</span> <span class="id">x</span> <span class="id">/negPf/=</span> <span class="id">-&gt;</span>. Qed.</div>
<span class="vernacular">Lemma</span> <span id="patchC" class="id">
  <a name="patchC" class="">patchC</a>
</span> <span id="f:1346" class="id">
  <a name="f:1346" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_','_x_'}'">{in</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'~`'_x">~`</a></span> <span class="id"><a href="mathcomp.classical.functions.html#patch.A">A,</a></span> <span class="id"><a href="mathcomp.classical.functions.html#patch">patch</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1346">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:x_'=1'_x">=1</a></span> <span class="id"><a href="mathcomp.classical.functions.html#patch.d">d}</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof141')">Proof.</span></div>
<div class="proofscript" id="proof141">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">u</span> <span class="id">/set_mem/=</span> <span class="id">NAu;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#patchN">patchN</a></span> <span class="id">?inE//=</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#notin_set">notin_set</a></span>. Qed.</div>
<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span id="f:1347" class="id">
  <a name="f:1347" class="">f</a>
</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#copy">SurjFun.copy</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#patch">patch</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1347">f</a></span>) <span class="id"><a href="mathcomp.classical.functions.html#::function_scope:'['_'fun'_x_'in'_x_']'">[fun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#patch">patch</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1347">f</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.classical.functions.html#patch.A">A]</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="patch.inj" class="id">
  <a name="patch.inj" class="">inj</a>
</span>.<br/>
<span class="vernacular">Context</span> (<span id="f:1348" class="id">
  <a name="f:1348" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'inj'_x_'>->'_x_'}'">{inj</a></span> <span class="id"><a href="mathcomp.classical.functions.html#patch.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'inj'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#patch.rT">rT}</a></span>).<br/>
<span class="vernacular">Let</span> <span id="patch.inj.g" class="id">
  <a name="patch.inj.g" class="">g</a>
</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#patch">patch</a></span> <span class="id"><a href="mathcomp.classical.functions.html#patch.inj.f">f</a></span>.<br/>
<span class="vernacular">Lemma</span> <span id="patch_inj_subproof" class="id">
  <a name="patch_inj_subproof" class="">patch_inj_subproof</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#Inj">Inj</a></span> <span class="id"><a href="mathcomp.classical.functions.html#patch.aT">aT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#patch.rT">rT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#patch.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#patch.inj.g">g</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof142')">Proof.</span></div>
<div class="proofscript" id="proof142">
 <span class="gallina-kwd">by</span> <span class="id">split=&gt;</span> <span class="id">x</span> <span class="id">y</span> <span class="id">xA</span> <span class="id">yA;</span> <span class="id">rewrite</span> <span class="id">/g</span> <span class="id">!patchT//;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.classical.functions.html#inj">inj</a></span>. Qed.</div>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#patch_inj_subproof">patch_inj_subproof</a></span>.<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#copy">Inject.copy</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#patch">patch</a></span> <span class="id"><a href="mathcomp.classical.functions.html#patch.inj.f">f</a></span>) <span class="id"><a href="mathcomp.classical.functions.html#::function_scope:'['_'fun'_x_'in'_x_']'">[fun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#patch.inj.g">g</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.classical.functions.html#patch.A">A]</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.classical.functions.html#patch.inj">inj</a></span>.<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.classical.functions.html#patch">patch</a></span>.<br/>
<span class="vernacular">Notation</span> <span id="restrict" class="id">
  <a name="restrict" class="">restrict</a>
</span> <span class="id">:=</span> (<span class="id"><a href="mathcomp.classical.functions.html#patch">patch</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:'fun'_'=>'_x">fun=&gt;</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#point">point</a></span>)).<br/>
<span class="vernacular">Notation</span> <span id="::fun_scope:x_'\_'_x" class="id">
  <a name="::fun_scope:x_'\_'_x" class="">"f&nbsp;\_&nbsp;D"</a>
</span> <span class="id">:=</span> (<span class="id"><a href="mathcomp.classical.functions.html#restrict">restrict</a></span> <span class="id">D</span> <span class="id">f</span>) <span class="id">:</span> <span class="id">fun_scope</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="patchE" class="id">
  <a name="patchE" class="">patchE</a>
</span> <span id="aT:1349" class="id">
  <a name="aT:1349" class="">aT</a>
</span> (<span id="rT:1350" class="id">
  <a name="rT:1350" class="">rT</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#Pointed.Exports.pointedType">pointedType</a></span>) (<span id="f:1351" class="id">
  <a name="f:1351" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#aT:1349">aT</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:1350">rT</a></span>) (<span id="B:1352" class="id">
  <a name="B:1352" class="">B</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#aT:1349">aT</a></span>) <span id="x:1353" class="id">
  <a name="x:1353" class="">x</a>
</span> <span class="id">:</span><br/>
&nbsp;&nbsp;(<span class="id"><a href="mathcomp.classical.functions.html#f:1351">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::fun_scope:x_'\_'_x">\_</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:1352">B</a></span>) <span class="id"><a href="mathcomp.classical.functions.html#x:1353">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="gallina-kwd">if</span> <span class="id"><a href="mathcomp.classical.functions.html#x:1353">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::bool_scope:x_'\in'_x">\in</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:1352">B</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="mathcomp.classical.functions.html#f:1351">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#x:1353">x</a></span> <span class="gallina-kwd">else</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#point">point</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof143')">Proof.</span></div>
<div class="proofscript" id="proof143">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="patch_pred" class="id">
  <a name="patch_pred" class="">patch_pred</a>
</span> <span class="id">{I</span> <span id="T:1355" class="id">
  <a name="T:1355" class="">T}</a>
</span> (<span id="D:1356" class="id">
  <a name="D:1356" class="">D</a>
</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'pred'_x_'}'">{pred</a></span> <span class="id"><a href="mathcomp.classical.functions.html#I:1354">I}</a></span>) (<span id="d:1357" class="id">
  <a name="d:1357" class="">d</a>
</span> <span id="f:1358" class="id">
  <a name="f:1358" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#I:1354">I</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#T:1355">T</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#patch">patch</a></span> <span class="id"><a href="mathcomp.classical.functions.html#d:1357">d</a></span> <span class="id"><a href="mathcomp.classical.functions.html#D:1356">D</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1358">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="gallina-kwd">fun</span> <span id="i:1359" class="id">
  <a name="i:1359" class="">i</a>
</span> <span class="id">=&gt;</span> <span class="gallina-kwd">if</span> <span class="id"><a href="mathcomp.classical.functions.html#D:1356">D</a></span> <span class="id"><a href="mathcomp.classical.functions.html#i:1359">i</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="mathcomp.classical.functions.html#f:1358">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#i:1359">i</a></span> <span class="gallina-kwd">else</span> <span class="id"><a href="mathcomp.classical.functions.html#d:1357">d</a></span> <span class="id"><a href="mathcomp.classical.functions.html#i:1359">i</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof144')">Proof.</span></div>
<div class="proofscript" id="proof144">
 <span class="gallina-kwd">by</span> <span class="id">apply/funext</span> <span class="id">=&gt;</span> <span class="id">i;</span> <span class="id">rewrite</span> <span class="id">/patch</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#mem_setE">mem_setE</a></span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="preimage_restrict" class="id">
  <a name="preimage_restrict" class="">preimage_restrict</a>
</span> (<span id="aT:1360" class="id">
  <a name="aT:1360" class="">aT</a>
</span> <span class="id">:</span> <span class="gallina-kwd">Type</span>) (<span id="rT:1361" class="id">
  <a name="rT:1361" class="">rT</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#Pointed.Exports.pointedType">pointedType</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="f:1362" class="id">
  <a name="f:1362" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#aT:1360">aT</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:1361">rT</a></span>) (<span id="D:1363" class="id">
  <a name="D:1363" class="">D</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#aT:1360">aT</a></span>) (<span id="B:1364" class="id">
  <a name="B:1364" class="">B</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:1361">rT</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;(<span class="id"><a href="mathcomp.classical.functions.html#f:1362">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::fun_scope:x_'\_'_x">\_</a></span> <span class="id"><a href="mathcomp.classical.functions.html#D:1363">D</a></span>) <span class="id">@^-1`</span> <span class="id"><a href="mathcomp.classical.functions.html#B:1364">B</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> (<span class="gallina-kwd">if</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#point">point</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::bool_scope:x_'\in'_x">\in</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:1364">B</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'~`'_x">~`</a></span> <span class="id"><a href="mathcomp.classical.functions.html#D:1363">D</a></span> <span class="gallina-kwd">else</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span>) <span class="id">`|`</span> <span class="id"><a href="mathcomp.classical.functions.html#D:1363">D</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:x_'`&`'_x">`&amp;`</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1362">f</a></span> <span class="id">@^-1`</span> <span class="id"><a href="mathcomp.classical.functions.html#B:1364">B</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof145')">Proof.</span></div>
<div class="proofscript" id="proof145">
<span class="id">rewrite</span> <span class="id">/preimage/=</span> <span class="id">/patch;</span> <span class="id">apply/predeqP</span> <span class="id">=&gt;</span> <span class="id">x</span> <span class="id">/=;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">case:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn;</a></span> <span class="id">rewrite</span> <span class="id">?</span>(<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE,</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#notin_set">notin_set</a></span>)<span class="id">;</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">right</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">NDx</span> <span class="id">Bp;</span> <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifT">ifT</a></span> <span class="id">?inE//=;</span> <span class="id">left</span>.<br/>
<span class="id">move=&gt;</span> <span class="id">[|[Dx</span> <span class="id">Bfx]];</span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifT">ifT</a></span> <span class="id">?inE</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">case:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifP">ifP;</a></span> <span class="id">rewrite</span> <span class="id">//</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> <span class="id">=&gt;</span> <span class="id">Bp</span> <span class="id">NDx;</span> <span class="id">case:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn;</a></span> <span class="id">rewrite</span> <span class="id">//</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="comp_patch" class="id">
  <a name="comp_patch" class="">comp_patch</a>
</span> <span class="id">{aT</span> <span id="rT:1366" class="id">
  <a name="rT:1366" class="">rT</a>
</span> <span id="sT:1367" class="id">
  <a name="sT:1367" class="">sT</a>
</span> <span class="id">:</span> <span class="id">Type}</span> (<span id="g:1368" class="id">
  <a name="g:1368" class="">g</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#aT:1365">aT</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:1366">rT</a></span>) <span id="D:1369" class="id">
  <a name="D:1369" class="">D</a>
</span> (<span id="f:1370" class="id">
  <a name="f:1370" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#aT:1365">aT</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:1366">rT</a></span>) (<span id="h:1371" class="id">
  <a name="h:1371" class="">h</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#rT:1366">rT</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#sT:1367">sT</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#h:1371">h</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:x_'\o'_x">\o</a></span> <span class="id"><a href="mathcomp.classical.functions.html#patch">patch</a></span> <span class="id"><a href="mathcomp.classical.functions.html#g:1368">g</a></span> <span class="id"><a href="mathcomp.classical.functions.html#D:1369">D</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1370">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.classical.functions.html#patch">patch</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#h:1371">h</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:x_'\o'_x">\o</a></span> <span class="id"><a href="mathcomp.classical.functions.html#g:1368">g</a></span>) <span class="id"><a href="mathcomp.classical.functions.html#D:1369">D</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#h:1371">h</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:x_'\o'_x">\o</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1370">f</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof146')">Proof.</span></div>
<div class="proofscript" id="proof146">
 <span class="gallina-kwd">by</span> <span class="id">apply/funext</span> <span class="id">=&gt;</span> <span class="id">x;</span> <span class="id">rewrite</span> <span class="id">/patch/=;</span> <span class="id">case:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifP">ifP</a></span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="patch_setI" class="id">
  <a name="patch_setI" class="">patch_setI</a>
</span> <span class="id">{aT</span> <span id="rT:1373" class="id">
  <a name="rT:1373" class="">rT</a>
</span> <span class="id">:</span> <span class="id">Type}</span> (<span id="g:1374" class="id">
  <a name="g:1374" class="">g</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#aT:1372">aT</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:1373">rT</a></span>) <span id="D:1375" class="id">
  <a name="D:1375" class="">D</a>
</span> <span id="D':1376" class="id">
  <a name="D':1376" class="">D'</a>
</span> (<span id="f:1377" class="id">
  <a name="f:1377" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#aT:1372">aT</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:1373">rT</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#patch">patch</a></span> <span class="id"><a href="mathcomp.classical.functions.html#g:1374">g</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#D:1375">D</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:x_'`&`'_x">`&amp;`</a></span> <span class="id"><a href="mathcomp.classical.functions.html#D':1376">D'</a></span>) <span class="id"><a href="mathcomp.classical.functions.html#f:1377">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.classical.functions.html#patch">patch</a></span> <span class="id"><a href="mathcomp.classical.functions.html#g:1374">g</a></span> <span class="id"><a href="mathcomp.classical.functions.html#D:1375">D</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#patch">patch</a></span> <span class="id"><a href="mathcomp.classical.functions.html#g:1374">g</a></span> <span class="id"><a href="mathcomp.classical.functions.html#D':1376">D'</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1377">f</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof147')">Proof.</span></div>
<div class="proofscript" id="proof147">
<span class="id">apply/funext</span> <span class="id">=&gt;</span> <span class="id">x;</span> <span class="id">rewrite</span> <span class="id">/patch/=</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#in_setI">in_setI</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">case:</span> (<span class="id">x</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::bool_scope:x_'\in'_x">\in</a></span> <span class="id">D</span>) (<span class="id">x</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::bool_scope:x_'\in'_x">\in</a></span> <span class="id">D'</span>) <span class="id">=&gt;</span> <span class="id">[]</span> <span class="id">[]</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="patch_set0" class="id">
  <a name="patch_set0" class="">patch_set0</a>
</span> <span class="id">{aT</span> <span id="rT:1379" class="id">
  <a name="rT:1379" class="">rT</a>
</span> <span class="id">:</span> <span class="id">Type}</span> (<span id="g:1380" class="id">
  <a name="g:1380" class="">g</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#aT:1378">aT</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:1379">rT</a></span>) (<span id="f:1381" class="id">
  <a name="f:1381" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#aT:1378">aT</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:1379">rT</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#patch">patch</a></span> <span class="id"><a href="mathcomp.classical.functions.html#g:1380">g</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1381">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.classical.functions.html#g:1380">g</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof148')">Proof.</span></div>
<div class="proofscript" id="proof148">
 <span class="gallina-kwd">by</span> <span class="id">apply/funext</span> <span class="id">=&gt;</span> <span class="id">x;</span> <span class="id">rewrite</span> <span class="id">/patch</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#in_set0">in_set0</a></span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="patch_setT" class="id">
  <a name="patch_setT" class="">patch_setT</a>
</span> <span class="id">{aT</span> <span id="rT:1383" class="id">
  <a name="rT:1383" class="">rT</a>
</span> <span class="id">:</span> <span class="id">Type}</span> (<span id="g:1384" class="id">
  <a name="g:1384" class="">g</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#aT:1382">aT</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:1383">rT</a></span>) (<span id="f:1385" class="id">
  <a name="f:1385" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#aT:1382">aT</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:1383">rT</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#patch">patch</a></span> <span class="id"><a href="mathcomp.classical.functions.html#g:1384">g</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1385">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1385">f</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof149')">Proof.</span></div>
<div class="proofscript" id="proof149">
 <span class="gallina-kwd">by</span> <span class="id">apply/funext</span> <span class="id">=&gt;</span> <span class="id">x;</span> <span class="id">rewrite</span> <span class="id">/patch</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#in_setT">in_setT</a></span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="restrict_comp" class="id">
  <a name="restrict_comp" class="">restrict_comp</a>
</span> <span class="id">{aT}</span> <span class="id">{rT</span> <span id="sT:1388" class="id">
  <a name="sT:1388" class="">sT</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#Pointed.Exports.pointedType">pointedType}</a></span> (<span id="h:1389" class="id">
  <a name="h:1389" class="">h</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#rT:1387">rT</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#sT:1388">sT</a></span>) (<span id="f:1390" class="id">
  <a name="f:1390" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#aT:1386">aT</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:1387">rT</a></span>) <span id="D:1391" class="id">
  <a name="D:1391" class="">D</a>
</span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#h:1389">h</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#point">point</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#point">point</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#h:1389">h</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:x_'\o'_x">\o</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1390">f</a></span>) <span class="id">\_</span> <span class="id"><a href="mathcomp.classical.functions.html#D:1391">D</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.classical.functions.html#h:1389">h</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:x_'\o'_x">\o</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#f:1390">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::fun_scope:x_'\_'_x">\_</a></span> <span class="id"><a href="mathcomp.classical.functions.html#D:1391">D</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof150')">Proof.</span></div>
<div class="proofscript" id="proof150">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">hp;</span> <span class="id">apply/funext</span> <span class="id">=&gt;</span> <span class="id">x;</span> <span class="id">rewrite</span> <span class="id">/patch/=;</span> <span class="id">case:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifP">ifP</a></span>. Qed.</div>
<span class="vernacular">Arguments</span> <span class="id"><a href="mathcomp.classical.functions.html#restrict_comp">restrict_comp</a></span> <span class="id">{aT</span> <span class="id">rT</span> <span class="id">sT}</span> <span class="id">h</span> <span class="id">f</span> <span class="id">D</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="trivIset_restr" class="id">
  <a name="trivIset_restr" class="">trivIset_restr</a>
</span> (<span id="T:1392" class="id">
  <a name="T:1392" class="">T</a>
</span> <span id="I:1393" class="id">
  <a name="I:1393" class="">I</a>
</span> <span class="id">:</span> <span class="gallina-kwd">Type</span>) (<span id="D:1394" class="id">
  <a name="D:1394" class="">D</a>
</span> <span id="D':1395" class="id">
  <a name="D':1395" class="">D'</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#I:1393">I</a></span>) (<span id="F:1396" class="id">
  <a name="F:1396" class="">F</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#I:1393">I</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#T:1392">T</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.classical_sets.html#trivIset">trivIset</a></span> <span class="id"><a href="mathcomp.classical.functions.html#D':1395">D'</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#F:1396">F</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::fun_scope:x_'\_'_x">\_</a></span> <span class="id"><a href="mathcomp.classical.functions.html#D:1394">D</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#trivIset">trivIset</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#D:1394">D</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:x_'`&`'_x">`&amp;`</a></span> <span class="id"><a href="mathcomp.classical.functions.html#D':1395">D'</a></span>) <span class="id"><a href="mathcomp.classical.functions.html#F:1396">F</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof151')">Proof.</span></div>
<div class="proofscript" id="proof151">
<span class="id">apply/propext;</span> <span class="id">split=&gt;</span> <span class="id">FDtriv</span> <span class="id">i</span> <span class="id">j</span>.<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">[Di</span> <span class="id">D'i]</span> <span class="id">[Dj</span> <span class="id">D'j]</span> <span class="id">[x</span> <span class="id">[Fix</span> <span class="id">Fjx]];</span> <span class="id">apply:</span> <span class="id">FDtriv</span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> <span class="id">x;</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">/=;</span> <span class="id">rewrite</span> <span class="id">?patchT</span> <span class="id">?in_setE</span>.<br/>
<span class="id">move=&gt;</span> <span class="id">D'i</span> <span class="id">D'j</span> <span class="id">[x</span> <span class="id">[]];</span> <span class="id">rewrite</span> <span class="id">/patch</span>.<br/>
<span class="id">do</span> <span class="id">2![case:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span> <span class="id">=&gt;</span> <span class="id">//];</span> <span class="id">rewrite</span> <span class="id">!in_setE</span> <span class="id">=&gt;</span> <span class="id">Di</span> <span class="id">Dj</span> <span class="id">Fix</span> <span class="id">Fjx</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id">FDtriv</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="gallina-kwd">exists</span> <span class="id">x</span>.<br/>
Qed.</div>
<br/>
<div class="ssrdoc markdown">
## Restriction of domain and codomain                                      
</div>
<br/>
<span class="vernacular">Section</span> <span id="RestrictionLeft" class="id">
  <a name="RestrictionLeft" class="">RestrictionLeft</a>
</span>.<br/>
<span class="vernacular">Context</span> <span class="id">{U</span> <span id="V:1398" class="id">
  <a name="V:1398" class="">V</a>
</span> <span class="id">:</span> <span class="id">Type}</span> (<span id="v:1399" class="id">
  <a name="v:1399" class="">v</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#V:1398">V</a></span>) <span class="id">{A</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#U:1397">U}</a></span> <span class="id">{B</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#V:1398">V}</a></span>.<br/>
<br/>
<span class="id">Local</span> <span class="vernacular">Notation</span> <span id="restrict" class="id">
  <a name="restrict" class="">restrict</a>
</span> <span class="id">:=</span> (<span class="id"><a href="mathcomp.classical.functions.html#patch">patch</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:'fun'_'=>'_x">fun=&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeft.v">v</a></span>) <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeft.A">A</a></span>).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="sigL" class="id">
  <a name="sigL" class="">sigL</a>
</span> (<span id="f:1402" class="id">
  <a name="f:1402" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeft.U">U</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeft.V">V</a></span>) <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeft.A">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeft.V">V</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#f:1402">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:x_'\o'_x">\o</a></span> <span class="id"><a href="mathcomp.classical.functions.html#set_val">set_val</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="sigL_isfun" class="id">
  <a name="sigL_isfun" class="">sigL_isfun</a>
</span> (<span id="f:1403" class="id">
  <a name="f:1403" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'{'_'fun'_x_'>->'_x_'}'">{fun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeft.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'{'_'fun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeft.B">B}</a></span>) <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#isFun">isFun</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_':'_x_']'">[set:</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeft.A">A]</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeft.B">B</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#sigL">sigL</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1403">f</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof152')">Proof.</span></div>
<div class="proofscript" id="proof152">
 <span class="gallina-kwd">by</span> <span class="id">split=&gt;</span> <span class="id">x</span> <span class="id">_;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.classical.functions.html#funS">funS</a></span>. Qed.</div>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> (<span id="f:1404" class="id">
  <a name="f:1404" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'{'_'fun'_x_'>->'_x_'}'">{fun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeft.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'{'_'fun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeft.B">B}</a></span>) <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#sigL_isfun">sigL_isfun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1404">f</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="sigLfun" class="id">
  <a name="sigLfun" class="">sigLfun</a>
</span> (<span id="f:1405" class="id">
  <a name="f:1405" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'{'_'fun'_x_'>->'_x_'}'">{fun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeft.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'{'_'fun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeft.B">B}</a></span>) <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'['_'fun'_'of'_x_']'">[fun</a></span> <span class="id">of</span> <span class="id"><a href="mathcomp.classical.functions.html#sigL">sigL</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1405">f]</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="valL_" class="id">
  <a name="valL_" class="">valL_</a>
</span> (<span id="f:1406" class="id">
  <a name="f:1406" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeft.A">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeft.V">V</a></span>) <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeft.U">U</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeft.V">V</a></span> <span class="id">:=</span> ((<span class="id">@oapp</span> <span class="id">_</span> <span class="id">_</span>)<span class="id">^~</span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeft.v">v</a></span>) <span class="id"><a href="mathcomp.classical.functions.html#f:1406">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:x_'\o'_x">\o</a></span> <span class="id"><a href="mathcomp.classical.functions.html#:::'''oinv_'_x">'oinv_set_val</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="valL_isfun" class="id">
  <a name="valL_isfun" class="">valL_isfun</a>
</span> (<span id="f:1407" class="id">
  <a name="f:1407" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'{'_'fun'_x_'>->'_x_'}'">{fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_':'_x_']'">[set:</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeft.A">A]</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'{'_'fun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeft.B">B}</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#isFun">isFun</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeft.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeft.B">B</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#valL_">valL_</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#f:1407">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id">_</span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof153')">Proof.</span></div>
<div class="proofscript" id="proof153">
 <span class="gallina-kwd">by</span> <span class="id">split=&gt;</span> <span class="id">x</span> <span class="id">Ax;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.classical.functions.html#funS">funS</a></span>. Qed.</div>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> (<span id="f:1408" class="id">
  <a name="f:1408" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'{'_'fun'_x_'>->'_x_'}'">{fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_':'_x_']'">[set:</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeft.A">A]</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'{'_'fun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeft.B">B}</a></span>) <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#valL_isfun">valL_isfun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1408">f</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="valLfun_" class="id">
  <a name="valLfun_" class="">valLfun_</a>
</span> (<span id="f:1409" class="id">
  <a name="f:1409" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'{'_'fun'_x_'>->'_x_'}'">{fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_':'_x_']'">[set:</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeft.A">A]</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'{'_'fun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeft.B">B}</a></span>) <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'['_'fun'_'of'_x_']'">[fun</a></span> <span class="id">of</span> <span class="id"><a href="mathcomp.classical.functions.html#valL_">valL_</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1409">f]</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="sigLE" class="id">
  <a name="sigLE" class="">sigLE</a>
</span> (<span id="f:1410" class="id">
  <a name="f:1410" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeft.U">U</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeft.V">V</a></span>) <span id="x:1411" class="id">
  <a name="x:1411" class="">x</a>
</span> (<span id="xA:1412" class="id">
  <a name="xA:1412" class="">xA</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#x:1411">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::bool_scope:x_'\in'_x">\in</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeft.A">A</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#sigL">sigL</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1410">f</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#SigSub">SigSub</a></span> <span class="id"><a href="mathcomp.classical.functions.html#xA:1412">xA</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1410">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#x:1411">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof154')">Proof.</span></div>
<div class="proofscript" id="proof154">
 <span class="id">done</span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="eq_sigLP" class="id">
  <a name="eq_sigLP" class="">eq_sigLP</a>
</span> (<span id="f:1413" class="id">
  <a name="f:1413" class="">f</a>
</span> <span id="g:1414" class="id">
  <a name="g:1414" class="">g</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeft.U">U</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeft.V">V</a></span>)<span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_','_x_'}'">{in</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeft.A">A,</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1413">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:x_'=1'_x">=1</a></span> <span class="id"><a href="mathcomp.classical.functions.html#g:1414">g}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'<->'_x">&lt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#sigL">sigL</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1413">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.classical.functions.html#sigL">sigL</a></span> <span class="id"><a href="mathcomp.classical.functions.html#g:1414">g</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof155')">Proof.</span></div>
<div class="proofscript" id="proof155">
<span class="id">split=&gt;</span> <span class="id">[eq_f_g</span> <span class="id">|</span> <span class="id">Rfg</span> <span class="id">u</span> <span class="id">uA];</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">apply/funext</span> <span class="id">=&gt;</span> <span class="id">-[x];</span> <span class="id">apply:</span> <span class="id">eq_f_g</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">have</span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#congr1">congr1</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:'@^~'_x">@^~</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#exist">exist</a></span> <span class="id">_</span> <span class="id">u</span> <span class="id">uA</span>)) <span class="id">Rfg</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="eq_sigLfunP" class="id">
  <a name="eq_sigLfunP" class="">eq_sigLfunP</a>
</span> (<span id="f:1415" class="id">
  <a name="f:1415" class="">f</a>
</span> <span id="g:1416" class="id">
  <a name="g:1416" class="">g</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'{'_'fun'_x_'>->'_x_'}'">{fun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeft.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'{'_'fun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeft.B">B}</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_','_x_'}'">{in</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeft.A">A,</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1415">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:x_'=1'_x">=1</a></span> <span class="id"><a href="mathcomp.classical.functions.html#g:1416">g}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'<->'_x">&lt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#sigLfun">sigLfun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1415">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.classical.functions.html#sigLfun">sigLfun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#g:1416">g</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof156')">Proof.</span></div>
<div class="proofscript" id="proof156">
 <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#eq_sigLP">eq_sigLP</a></span> <span class="id"><a href="mathcomp.classical.functions.html#funP">funP</a></span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqP">funeqP</a></span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="sigLK" class="id">
  <a name="sigLK" class="">sigLK</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#valL_">valL_</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:x_'\o'_x">\o</a></span> <span class="id"><a href="mathcomp.classical.functions.html#sigL">sigL</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.classical.functions.html#restrict">restrict</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof157')">Proof.</span></div>
<div class="proofscript" id="proof157">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeq2E">funeq2E</a></span> <span class="id">=&gt;</span> <span class="id">f</span> <span class="id">u;</span> <span class="id">rewrite</span> <span class="id">/valL_</span> <span class="id">/sigL</span> <span class="id">/restrict</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#oinv_set_val">oinv_set_val/=;</a></span> <span class="id">case:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span> <span class="id">=&gt;</span> <span class="id">uA;</span> <span class="id">[rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#insubT">insubT|rewrite</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#insubN">insubN]</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="valLK" class="id">
  <a name="valLK" class="">valLK</a>
</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id"><a href="mathcomp.classical.functions.html#valL_">valL_</a></span> <span class="id"><a href="mathcomp.classical.functions.html#sigL">sigL</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof158')">Proof.</span></div>
<div class="proofscript" id="proof158">
<span class="id">move=&gt;</span> <span class="id">f;</span> <span class="id">rewrite</span> <span class="id">/valL_</span> <span class="id">/sigL</span> <span class="id">/restrict</span> <span class="id"><a href="mathcomp.classical.functions.html#oinv_set_val">oinv_set_val</a></span>.<br/>
<span class="id">apply/funext=&gt;</span> <span class="id">a</span> <span class="id">/=;</span> <span class="id">have</span> <span class="id">aA</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#set_val">set_val</a></span> <span class="id">a</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::bool_scope:x_'\in'_x">\in</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeft.A">A</a></span> <span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#valP">valP</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#insubT">insubT//=;</a></span> <span class="id">congr</span> <span class="id">f;</span> <span class="id">apply/val_inj</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="valLfunK" class="id">
  <a name="valLfunK" class="">valLfunK</a>
</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id"><a href="mathcomp.classical.functions.html#valLfun_">valLfun_</a></span> <span class="id"><a href="mathcomp.classical.functions.html#sigLfun">sigLfun</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof159')">Proof.</span></div>
<div class="proofscript" id="proof159">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">f;</span> <span class="id">apply/funP/funeqP;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.classical.functions.html#valLK">valLK</a></span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="sigL_valL" class="id">
  <a name="sigL_valL" class="">sigL_valL</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#sigL">sigL</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:x_'\o'_x">\o</a></span> <span class="id"><a href="mathcomp.classical.functions.html#valL_">valL_</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#id">id</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof160')">Proof.</span></div>
<div class="proofscript" id="proof160">
 <span class="id">exact/funext/valLK</span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="sigL_valLfun" class="id">
  <a name="sigL_valLfun" class="">sigL_valLfun</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#sigLfun">sigLfun</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:x_'\o'_x">\o</a></span> <span class="id"><a href="mathcomp.classical.functions.html#valLfun_">valLfun_</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#id">id</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof161')">Proof.</span></div>
<div class="proofscript" id="proof161">
 <span class="id">exact/funext/valLfunK</span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="sigL_restrict" class="id">
  <a name="sigL_restrict" class="">sigL_restrict</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#sigL">sigL</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:x_'\o'_x">\o</a></span> <span class="id"><a href="mathcomp.classical.functions.html#restrict">restrict</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.classical.functions.html#sigL">sigL</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof162')">Proof.</span></div>
<div class="proofscript" id="proof162">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeq2E">funeq2E</a></span> <span class="id">=&gt;</span> <span class="id">f</span> <span class="id">-[u</span> <span class="id">Au]</span> <span class="id">/=</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/sigL</span> <span class="id">/restrict</span> <span class="id">/valL_</span> <span class="id">/patch</span> <span class="id">/=</span> <span class="id">Au</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="image_sigL" class="id">
  <a name="image_sigL" class="">image_sigL</a>
</span>  <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#range">range</a></span> <span class="id"><a href="mathcomp.classical.functions.html#sigL">sigL</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof163')">Proof.</span></div>
<div class="proofscript" id="proof163">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#eqEsubset">eqEsubset;</a></span> <span class="id">split=&gt;</span> <span class="id">//=</span> <span class="id">f</span> <span class="id">_;</span> <span class="gallina-kwd">exists</span> (<span class="id"><a href="mathcomp.classical.functions.html#valL_">valL_</a></span> <span class="id">f</span>)<span class="id">=&gt;//</span>.<br/>
<span class="id">exact:</span> <span class="id"><a href="mathcomp.classical.functions.html#valLK">valLK</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="eq_restrictP" class="id">
  <a name="eq_restrictP" class="">eq_restrictP</a>
</span> (<span id="f:1417" class="id">
  <a name="f:1417" class="">f</a>
</span> <span id="g:1418" class="id">
  <a name="g:1418" class="">g</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeft.U">U</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeft.V">V</a></span>)<span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_','_x_'}'">{in</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeft.A">A,</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1417">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:x_'=1'_x">=1</a></span> <span class="id"><a href="mathcomp.classical.functions.html#g:1418">g}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'<->'_x">&lt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#restrict">restrict</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1417">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.classical.functions.html#restrict">restrict</a></span> <span class="id"><a href="mathcomp.classical.functions.html#g:1418">g</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof164')">Proof.</span></div>
<div class="proofscript" id="proof164">
 <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#eq_sigLP">eq_sigLP</a></span> <span class="id">-sigLK/=;</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">[-&gt;//|/</span>(<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#can_inj">can_inj</a></span> <span class="id"><a href="mathcomp.classical.functions.html#valLK">valLK</a></span>)<span class="id">]</span>. Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeft">RestrictionLeft</a></span>.<br/>
<span class="vernacular">Arguments</span> <span class="id"><a href="mathcomp.classical.functions.html#sigL">sigL</a></span> <span class="id">{U</span> <span class="id">V}</span> <span class="id">A</span> <span class="id">f</span> <span class="id">u</span> <span class="id">/</span>.<br/>
<span class="vernacular">Arguments</span> <span class="id"><a href="mathcomp.classical.functions.html#sigLE">sigLE</a></span> <span class="id">{U</span> <span class="id">V}</span> <span class="id">A</span> <span class="id">f</span> <span class="id">x</span>.<br/>
<span class="vernacular">Arguments</span> <span class="id"><a href="mathcomp.classical.functions.html#valL_">valL_</a></span> <span class="id">{U</span> <span class="id">V}</span> <span class="id">v</span> <span class="id">{A}</span> <span class="id">f</span> <span class="id">u</span> <span class="id">/</span>.<br/>
<span class="vernacular">Notation</span> <span id="::form_scope:'''valL_'_x" class="id">
  <a name="::form_scope:'''valL_'_x" class="">"''valL_'&nbsp;v"</a>
</span> <span class="id">:=</span> (<span class="id"><a href="mathcomp.classical.functions.html#valL_">valL_</a></span> <span class="id">v</span>) <span class="id">:</span> <span class="id">form_scope</span>.<br/>
<span class="vernacular">Notation</span> <span id="::form_scope:'''valLfun_'_x" class="id">
  <a name="::form_scope:'''valLfun_'_x" class="">"''valLfun_'&nbsp;v"</a>
</span> <span class="id">:=</span> (<span class="id"><a href="mathcomp.classical.functions.html#valLfun_">valLfun_</a></span> <span class="id">v</span>) <span class="id">:</span> <span class="id">form_scope</span>.<br/>
<span class="vernacular">Notation</span> <span id="valL" class="id">
  <a name="valL" class="">valL</a>
</span> <span class="id">:=</span> (<span class="id"><a href="mathcomp.classical.functions.html#valL_">valL_</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#point">point</a></span>).<br/>
<br/>
<span class="vernacular">Section</span> <span id="RestrictionRight" class="id">
  <a name="RestrictionRight" class="">RestrictionRight</a>
</span>.<br/>
<span class="vernacular">Context</span> <span class="id">{U</span> <span id="V:1420" class="id">
  <a name="V:1420" class="">V</a>
</span> <span class="id">:</span> <span class="id">Type}</span> <span class="id">{A</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#V:1420">V}</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="sigR" class="id">
  <a name="sigR" class="">sigR</a>
</span> (<span id="f:1422" class="id">
  <a name="f:1422" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'{'_'fun'_x_'>->'_x_'}'">{fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_':'_x_']'">[set:</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionRight.U">U]</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'{'_'fun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionRight.A">A}</a></span>) (<span id="u:1423" class="id">
  <a name="u:1423" class="">u</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionRight.U">U</a></span>) <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionRight.A">A</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.classical_sets.html#SigSub">SigSub</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#mem_set">mem_set</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'''funS_'_x">'funS_f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#I">I</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1422">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#u:1423">u</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::bool_scope:x_'\in'_x">\in</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionRight.A">A</a></span>).<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span id="f:1424" class="id">
  <a name="f:1424" class="">f</a>
</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#copy">Fun.copy</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#sigR">sigR</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1424">f</a></span>) (<span class="id"><a href="mathcomp.classical.functions.html#totalfun">totalfun</a></span> <span class="id">_</span>).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="valR" class="id">
  <a name="valR" class="">valR</a>
</span> (<span id="f:1425" class="id">
  <a name="f:1425" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionRight.U">U</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionRight.A">A</a></span>) <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#set_val">set_val</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:x_'\o'_x">\o</a></span> <span class="id"><a href="mathcomp.classical.functions.html#totalfun">totalfun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1425">f</a></span>.<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span id="f:1426" class="id">
  <a name="f:1426" class="">f</a>
</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#on">Fun.on</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#valR">valR</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1426">f</a></span>).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="valR_fun" class="id">
  <a name="valR_fun" class="">valR_fun</a>
</span> (<span id="f:1427" class="id">
  <a name="f:1427" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionRight.U">U</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionRight.A">A</a></span>) <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'{'_'fun'_x_'>->'_x_'}'">{fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_':'_x_']'">[set:</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionRight.U">U]</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'{'_'fun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionRight.A">A}</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'['_'fun'_'of'_x_']'">[fun</a></span> <span class="id">of</span> <span class="id"><a href="mathcomp.classical.functions.html#valR">valR</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1427">f]</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="sigRK" class="id">
  <a name="sigRK" class="">sigRK</a>
</span> (<span id="f:1428" class="id">
  <a name="f:1428" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'{'_'fun'_x_'>->'_x_'}'">{fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_':'_x_']'">[set:</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionRight.U">U]</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'{'_'fun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionRight.A">A}</a></span>) <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#valR">valR</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#sigR">sigR</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1428">f</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1428">f</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof165')">Proof.</span></div>
<div class="proofscript" id="proof165">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="sigR_funK" class="id">
  <a name="sigR_funK" class="">sigR_funK</a>
</span> (<span id="f:1429" class="id">
  <a name="f:1429" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'{'_'fun'_x_'>->'_x_'}'">{fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_':'_x_']'">[set:</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionRight.U">U]</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'{'_'fun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionRight.A">A}</a></span>) <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#valR_fun">valR_fun</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#sigR">sigR</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1429">f</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1429">f</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof166')">Proof.</span></div>
<div class="proofscript" id="proof166">
 <span class="gallina-kwd">by</span> <span class="id">apply/funP/funeqP;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.classical.functions.html#sigRK">sigRK</a></span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="valRP" class="id">
  <a name="valRP" class="">valRP</a>
</span> (<span id="f:1430" class="id">
  <a name="f:1430" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionRight.U">U</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionRight.A">A</a></span>) <span id="x:1431" class="id">
  <a name="x:1431" class="">x</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionRight.A">A</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#valR">valR</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1430">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#x:1431">x</a></span>)<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof167')">Proof.</span></div>
<div class="proofscript" id="proof167">
 <span class="id">exact:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set_valP">set_valP</a></span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="valRK" class="id">
  <a name="valRK" class="">valRK</a>
</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id"><a href="mathcomp.classical.functions.html#valR_fun">valR_fun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#sigR">sigR</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof168')">Proof.</span></div>
<div class="proofscript" id="proof168">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">f;</span> <span class="id">apply/funext</span> <span class="id">=&gt;</span> <span class="id">x;</span> <span class="id">apply/val_inj</span>. Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionRight">RestrictionRight</a></span>.<br/>
<span class="vernacular">Arguments</span> <span class="id"><a href="mathcomp.classical.functions.html#sigR">sigR</a></span> <span class="id">{U</span> <span class="id">V</span> <span class="id">A}</span> <span class="id">f</span> <span class="id">u</span> <span class="id">/</span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="RestrictionLeftInv" class="id">
  <a name="RestrictionLeftInv" class="">RestrictionLeftInv</a>
</span>.<br/>
<span class="vernacular">Context</span> <span class="id">{U</span> <span id="V:1433" class="id">
  <a name="V:1433" class="">V</a>
</span> <span class="id">:</span> <span class="id">Type}</span> (<span id="v:1434" class="id">
  <a name="v:1434" class="">v</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#V:1433">V</a></span>) <span class="id">{A</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#U:1432">U}</a></span> <span class="id">{B</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#V:1433">V}</a></span>.<br/>
<span class="id">Local</span> <span class="vernacular">Notation</span> <span id="rl" class="id">
  <a name="rl" class="">rl</a>
</span> <span class="id">:=</span> (<span class="id"><a href="mathcomp.classical.functions.html#sigL">sigL</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.A">A</a></span>).<br/>
<span class="id">Local</span> <span class="vernacular">Notation</span> <span id="rr" class="id">
  <a name="rr" class="">rr</a>
</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#sigR">sigR</a></span>.<br/>
<span class="id">Local</span> <span class="vernacular">Notation</span> <span id="el" class="id">
  <a name="el" class="">el</a>
</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'''valL_'_x">'valL_v</a></span>.<br/>
<span class="id">Local</span> <span class="vernacular">Notation</span> <span id="er" class="id">
  <a name="er" class="">er</a>
</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#valR">valR</a></span>.<br/>
<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> (<span id="f:1437" class="id">
  <a name="f:1437" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'oinv'_x_'>->'_x_'}'">{oinv</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.U">U</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'oinv'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.V">V}</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id">@OInv</span>.<span class="id">Build</span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.classical.functions.html#rl">rl</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1437">f</a></span>) (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#obind">obind</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#insub">insub</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:x_'\o'_x">\o</a></span> <span class="id"><a href="mathcomp.classical.functions.html#:::'''oinv_'_x">'oinv_f</a></span>).<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> (<span id="f:1438" class="id">
  <a name="f:1438" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'oinvfun'_x_'>->'_x_'}'">{oinvfun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'oinvfun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.B">B}</a></span>) <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#on">Fun.on</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#rl">rl</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1438">f</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="oinv_sigL" class="id">
  <a name="oinv_sigL" class="">oinv_sigL</a>
</span> (<span id="f:1439" class="id">
  <a name="f:1439" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'oinv'_x_'>->'_x_'}'">{oinv</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.U">U</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'oinv'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.V">V}</a></span>) <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#:::'''oinv_'_x">'oinv_</a></span>(<span class="id"><a href="mathcomp.classical.functions.html#rl">rl</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1439">f</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#obind">obind</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#insub">insub</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:x_'\o'_x">\o</a></span> <span class="id"><a href="mathcomp.classical.functions.html#:::'''oinv_'_x">'oinv_f</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof169')">Proof.</span></div>
<div class="proofscript" id="proof169">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="sigL_inj_subproof" class="id">
  <a name="sigL_inj_subproof" class="">sigL_inj_subproof</a>
</span> (<span id="f:1440" class="id">
  <a name="f:1440" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'inj'_x_'>->'_x_'}'">{inj</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'inj'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.V">V}</a></span>) <span class="id">:</span> <span class="id">@OInv_Can</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#rl">rl</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1440">f</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof170')">Proof.</span></div>
<div class="proofscript" id="proof170">
<span class="gallina-kwd">by</span> <span class="id">split=&gt;</span> <span class="id">x</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#oinv_sigL">oinv_sigL/=</a></span> <span class="id"><a href="mathcomp.classical.functions.html#funoK">funoK//=</a></span> <span class="id">[insub</span> <span class="id">_]'funoK_val</span> <span class="id">?inE</span>.<br/>
Qed.</div>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span id="f:1441" class="id">
  <a name="f:1441" class="">f</a>
</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#sigL_inj_subproof">sigL_inj_subproof</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1441">f</a></span>.<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> (<span id="f:1442" class="id">
  <a name="f:1442" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'injfun'_x_'>->'_x_'}'">{injfun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'injfun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.B">B}</a></span>) <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#on">Fun.on</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#rl">rl</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1442">f</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="sigL_surj_subproof" class="id">
  <a name="sigL_surj_subproof" class="">sigL_surj_subproof</a>
</span> (<span id="f:1443" class="id">
  <a name="f:1443" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'surj'_x_'>->'_x_'}'">{surj</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'surj'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.B">B}</a></span>) <span class="id">:</span> <span class="id">@OInv_CanV</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.B">B</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#rl">rl</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1443">f</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof171')">Proof.</span></div>
<div class="proofscript" id="proof171">
<span class="id">split=&gt;</span> <span class="id">[b|b</span> <span class="id">/set_mem]</span> <span class="id">Bb;</span> <span class="id">rewrite</span> <span class="id">?oinv_sigL/=</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id">have</span> <span class="id">[x</span> <span class="id">/mem_set</span> <span class="id">Ax</span> <span class="id">&lt;-]/=</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'''oinvS_'_x">'oinvS_f</a></span> <span class="id">Bb;</span> <span class="gallina-kwd">exists</span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#SigSub">SigSub</a></span> <span class="id">Ax</span>) <span class="id">=&gt;</span> <span class="id">//=</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id">case:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#insubP">insubP</a></span> <span class="id">=&gt;</span> <span class="id">[a</span> <span class="id">Aa/=</span> <span class="id">eqx|];</span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">Ax</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">congr</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#Some">Some;</a></span> <span class="id">apply/val_inj</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/rl/=</span> <span class="id"><a href="mathcomp.classical.mathcomp_extra.html#oapp_comp">oapp_comp/=</a></span> <span class="id">-oinv_val</span> <span class="id">-inv_omap/=</span> <span class="id"><a href="mathcomp.classical.functions.html#invK">invK</a></span> <span class="id">?oinvK</span> <span class="id">?mem_fun</span> <span class="id">?inE</span>.<br/>
Qed.</div>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span id="f:1444" class="id">
  <a name="f:1444" class="">f</a>
</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#sigL_surj_subproof">sigL_surj_subproof</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1444">f</a></span>.<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> (<span id="f:1445" class="id">
  <a name="f:1445" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'surjfun'_x_'>->'_x_'}'">{surjfun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'surjfun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.B">B}</a></span>) <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#on">Fun.on</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#rl">rl</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1445">f</a></span>).<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> (<span id="f:1446" class="id">
  <a name="f:1446" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'bij'_x_'>->'_x_'}'">{bij</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'bij'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.B">B}</a></span>) <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#on">Fun.on</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#rl">rl</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1446">f</a></span>).<br/>
<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> (<span id="f:1447" class="id">
  <a name="f:1447" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'oinvfun'_x_'>->'_x_'}'">{oinvfun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_':'_x_']'">[set:</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.V">V]</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'oinvfun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.A">A}</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id">@OInv</span>.<span class="id">Build</span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.classical.functions.html#rr">rr</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1447">f</a></span>) (<span class="id"><a href="mathcomp.classical.functions.html#rl">rl</a></span> <span class="id"><a href="mathcomp.classical.functions.html#:::'''oinv_'_x">'oinv_f</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="oinv_sigR" class="id">
  <a name="oinv_sigR" class="">oinv_sigR</a>
</span> (<span id="f:1448" class="id">
  <a name="f:1448" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'oinvfun'_x_'>->'_x_'}'">{oinvfun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_':'_x_']'">[set:</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.V">V]</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'oinvfun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.A">A}</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#:::'''oinv_'_x">'oinv_</a></span>(<span class="id"><a href="mathcomp.classical.functions.html#rr">rr</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1448">f</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#rl">rl</a></span> <span class="id"><a href="mathcomp.classical.functions.html#:::'''oinv_'_x">'oinv_f</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof172')">Proof.</span></div>
<div class="proofscript" id="proof172">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="sigR_inj_subproof" class="id">
  <a name="sigR_inj_subproof" class="">sigR_inj_subproof</a>
</span> (<span id="f:1449" class="id">
  <a name="f:1449" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'injfun'_x_'>->'_x_'}'">{injfun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_':'_x_']'">[set:</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.V">V]</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'injfun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.A">A}</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id">@OInv_Can</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#rr">rr</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1449">f</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof173')">Proof.</span></div>
<div class="proofscript" id="proof173">
 <span class="gallina-kwd">by</span> <span class="id">split=&gt;</span> <span class="id">x</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#oinv_sigR">oinv_sigR/=</a></span> <span class="id"><a href="mathcomp.classical.functions.html#set_valE">set_valE/=</a></span> <span class="id"><a href="mathcomp.classical.functions.html#funoK">funoK</a></span> <span class="id">?inE</span>. Qed.</div>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span id="f:1450" class="id">
  <a name="f:1450" class="">f</a>
</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#sigR_inj_subproof">sigR_inj_subproof</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1450">f</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="sigR_surj_subproof" class="id">
  <a name="sigR_surj_subproof" class="">sigR_surj_subproof</a>
</span> (<span id="f:1451" class="id">
  <a name="f:1451" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'surjfun'_x_'>->'_x_'}'">{surjfun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_':'_x_']'">[set:</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.V">V]</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'surjfun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.A">A}</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id">@OInv_CanV</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#rr">rr</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1451">f</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof174')">Proof.</span></div>
<div class="proofscript" id="proof174">
<span class="id">split=&gt;</span> <span class="id">a</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id">?oinv_sigL/=</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">have</span> <span class="id">[x</span> <span class="id">_</span> <span class="id">xeq]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'''oinvS_'_x">'oinvS_f</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#set_valP">set_valP</a></span> <span class="id">a</span>)<span class="id">;</span> <span class="gallina-kwd">exists</span> <span class="id">x</span>.<br/>
<span class="id">apply/val_inj=&gt;</span> <span class="id">/=;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#oinv_sigR">oinv_sigR/=</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">case:</span> <span class="id"><a href="mathcomp.classical.functions.html#oinvP">oinvP=&gt;</a></span> <span class="id">//=;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set_valP">set_valP</a></span>.<br/>
Qed.</div>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span id="f:1452" class="id">
  <a name="f:1452" class="">f</a>
</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#sigR_surj_subproof">sigR_surj_subproof</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1452">f</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="sigR_some_inv" class="id">
  <a name="sigR_some_inv" class="">sigR_some_inv</a>
</span> (<span id="f:1453" class="id">
  <a name="f:1453" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'invfun'_x_'>->'_x_'}'">{invfun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_':'_x_']'">[set:</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.V">V]</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'invfun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.A">A}</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.mathcomp_extra.html#olift">olift</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#rl">rl</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1453">f^-1</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.classical.functions.html#:::'''oinv_'_x">'oinv_</a></span>(<span class="id"><a href="mathcomp.classical.functions.html#rr">rr</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1453">f</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof175')">Proof.</span></div>
<div class="proofscript" id="proof175">
 <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#oinv_sigR">oinv_sigR</a></span> <span class="id"><a href="mathcomp.classical.mathcomp_extra.html#olift_comp">olift_comp</a></span> <span class="id"><a href="mathcomp.classical.functions.html#oliftV">oliftV</a></span>. Qed.</div>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> (<span id="f:1454" class="id">
  <a name="f:1454" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'bij'_x_'>->'_x_'}'">{bij</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_':'_x_']'">[set:</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.V">V]</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'bij'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.A">A}</a></span>) <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#on">Fun.on</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#rr">rr</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1454">f</a></span>).<br/>
<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> (<span id="f:1455" class="id">
  <a name="f:1455" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'invfun'_x_'>->'_x_'}'">{invfun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_':'_x_']'">[set:</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.V">V]</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'invfun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.A">A}</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id">@OInv_Inv</span>.<span class="id">Build</span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.classical.functions.html#rr">rr</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1455">f</a></span>) (<span class="id"><a href="mathcomp.classical.functions.html#rl">rl</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1455">f^-1</a></span>) (<span class="id"><a href="mathcomp.classical.functions.html#sigR_some_inv">sigR_some_inv</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1455">f</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="inv_sigR" class="id">
  <a name="inv_sigR" class="">inv_sigR</a>
</span> (<span id="f:1456" class="id">
  <a name="f:1456" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'invfun'_x_'>->'_x_'}'">{invfun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_':'_x_']'">[set:</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.V">V]</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'invfun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.A">A}</a></span>) <span class="id">:</span> (<span class="id"><a href="mathcomp.classical.functions.html#rr">rr</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1456">f</a></span>)<span class="id">^-1</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#rl">rl</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1456">f^-1</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof176')">Proof.</span></div>
<div class="proofscript" id="proof176">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> (<span id="f:1457" class="id">
  <a name="f:1457" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitinjfun'_x_'>->'_x_'}'">{splitinjfun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_':'_x_']'">[set:</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.V">V]</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitinjfun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.A">A}</a></span>) <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#on">Inject.on</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#rr">rr</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1457">f</a></span>).<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> (<span id="f:1458" class="id">
  <a name="f:1458" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitsurjfun'_x_'>->'_x_'}'">{splitsurjfun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_':'_x_']'">[set:</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.V">V]</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitsurjfun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.A">A}</a></span>) <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#on">Surject.on</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#rr">rr</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1458">f</a></span>).<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> (<span id="f:1459" class="id">
  <a name="f:1459" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitbij'_x_'>->'_x_'}'">{splitbij</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_':'_x_']'">[set:</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.V">V]</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitbij'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.A">A}</a></span>) <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#on">Fun.on</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#rr">rr</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1459">f</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="sigL_some_inv" class="id">
  <a name="sigL_some_inv" class="">sigL_some_inv</a>
</span> (<span id="f:1460" class="id">
  <a name="f:1460" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitbij'_x_'>->'_x_'}'">{splitbij</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitbij'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_':'_x_']'">[set:</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.V">V]}</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.mathcomp_extra.html#olift">olift</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#rr">rr</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'['_'fun'_'of'_x_']'">[fun</a></span> <span class="id">of</span> <span class="id"><a href="mathcomp.classical.functions.html#f:1460">f^-1]</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.classical.functions.html#:::'''oinv_'_x">'oinv_</a></span>(<span class="id"><a href="mathcomp.classical.functions.html#rl">rl</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1460">f</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof177')">Proof.</span></div>
<div class="proofscript" id="proof177">
<span class="id">apply/funext=&gt;</span> <span class="id">x</span> <span class="id">/=;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#oinv_sigL">oinv_sigL</a></span> <span class="id">/=</span> <span class="id">/sigR/=</span> <span class="id">/olift/=</span>.<br/>
<span class="id">case:</span> <span class="id"><a href="mathcomp.classical.functions.html#oinvP">oinvP</a></span> <span class="id">=&gt;</span> <span class="id">//=</span> <span class="id">u</span> <span class="id">Au</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#insubT">insubT</a></span> <span class="id">?inE//</span> <span class="id">=&gt;</span> <span class="id">memAu</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">congr</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span>)<span class="id">;</span> <span class="id">apply/val_inj=&gt;</span> <span class="id">/=;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#funK">funK</a></span>.<br/>
Qed.</div>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> (<span id="f:1461" class="id">
  <a name="f:1461" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitbij'_x_'>->'_x_'}'">{splitbij</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitbij'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_':'_x_']'">[set:</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.V">V]}</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#Build">OInv_Inv.Build</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.classical.functions.html#rl">rl</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1461">f</a></span>) (<span class="id"><a href="mathcomp.classical.functions.html#sigL_some_inv">sigL_some_inv</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1461">f</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="inv_sigL" class="id">
  <a name="inv_sigL" class="">inv_sigL</a>
</span>  (<span id="f:1462" class="id">
  <a name="f:1462" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitbij'_x_'>->'_x_'}'">{splitbij</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitbij'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_':'_x_']'">[set:</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.V">V]}</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;(<span class="id"><a href="mathcomp.classical.functions.html#rl">rl</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1462">f</a></span>)<span class="id">^-1</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#rr">rr</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'['_'fun'_'of'_x_']'">[fun</a></span> <span class="id">of</span> <span class="id"><a href="mathcomp.classical.functions.html#f:1462">f^-1]</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof178')">Proof.</span></div>
<div class="proofscript" id="proof178">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> (<span id="f:1463" class="id">
  <a name="f:1463" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'oinv'_x_'>->'_x_'}'">{oinv</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'oinv'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.V">V}</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id">@OInv</span>.<span class="id">Build</span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.classical.functions.html#el">el</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1463">f</a></span>) (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#omap">omap</a></span> <span class="id"><a href="mathcomp.classical.functions.html#set_val">set_val</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:x_'\o'_x">\o</a></span> <span class="id"><a href="mathcomp.classical.functions.html#:::'''oinv_'_x">'oinv_f</a></span>).<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> (<span id="f:1464" class="id">
  <a name="f:1464" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'oinvfun'_x_'>->'_x_'}'">{oinvfun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_':'_x_']'">[set:</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.A">A]</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'oinvfun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.B">B}</a></span>) <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#on">Fun.on</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#el">el</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1464">f</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="oinv_valL" class="id">
  <a name="oinv_valL" class="">oinv_valL</a>
</span> (<span id="f:1465" class="id">
  <a name="f:1465" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'oinv'_x_'>->'_x_'}'">{oinv</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'oinv'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.V">V}</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#:::'''oinv_'_x">'oinv_</a></span>(<span class="id"><a href="mathcomp.classical.functions.html#el">el</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1465">f</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#omap">omap</a></span> <span class="id"><a href="mathcomp.classical.functions.html#set_val">set_val</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:x_'\o'_x">\o</a></span> <span class="id"><a href="mathcomp.classical.functions.html#:::'''oinv_'_x">'oinv_f</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof179')">Proof.</span></div>
<div class="proofscript" id="proof179">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="oapp_comp_x" class="id">
  <a name="oapp_comp_x" class="">oapp_comp_x</a>
</span> <span class="id">{aT</span> <span id="rT:1467" class="id">
  <a name="rT:1467" class="">rT</a>
</span> <span id="sT:1468" class="id">
  <a name="sT:1468" class="">sT}</a>
</span> (<span id="f:1469" class="id">
  <a name="f:1469" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#aT:1466">aT</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:1467">rT</a></span>) (<span id="g:1470" class="id">
  <a name="g:1470" class="">g</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#rT:1467">rT</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#sT:1468">sT</a></span>) (<span id="x:1471" class="id">
  <a name="x:1471" class="">x</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#rT:1467">rT</a></span>) <span id="y:1472" class="id">
  <a name="y:1472" class="">y</a>
</span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#oapp">oapp</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#g:1470">g</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:x_'\o'_x">\o</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1469">f</a></span>) (<span class="id"><a href="mathcomp.classical.functions.html#g:1470">g</a></span> <span class="id"><a href="mathcomp.classical.functions.html#x:1471">x</a></span>) <span class="id"><a href="mathcomp.classical.functions.html#y:1472">y</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.classical.functions.html#g:1470">g</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#oapp">oapp</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1469">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#x:1471">x</a></span> <span class="id"><a href="mathcomp.classical.functions.html#y:1472">y</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof180')">Proof.</span></div>
<div class="proofscript" id="proof180">
 <span class="gallina-kwd">by</span> <span class="id">case:</span> <span class="id">y</span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="valL_inj_subproof" class="id">
  <a name="valL_inj_subproof" class="">valL_inj_subproof</a>
</span> (<span id="f:1473" class="id">
  <a name="f:1473" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'inj'_x_'>->'_x_'}'">{inj</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_':'_x_']'">[set:</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.A">A]</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'inj'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.V">V}</a></span>) <span class="id">:</span> <span class="id">@OInv_Can</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.A">A</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#el">el</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1473">f</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof181')">Proof.</span></div>
<div class="proofscript" id="proof181">
<span class="id">split=&gt;</span> <span class="id">x</span> <span class="id">/set_mem</span> <span class="id">xA;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#oinv_valL">oinv_valL/=</a></span> <span class="id">-oapp_comp_x</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">case:</span> <span class="id"><a href="mathcomp.classical.functions.html#oinvP">oinvP=&gt;</a></span> <span class="id">//=</span> <span class="id">a</span> <span class="id">_</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#funoK">funoK</a></span> <span class="id">?inE</span>.<br/>
Qed.</div>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span id="f:1474" class="id">
  <a name="f:1474" class="">f</a>
</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#valL_inj_subproof">valL_inj_subproof</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1474">f</a></span>.<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> (<span id="f:1475" class="id">
  <a name="f:1475" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'injfun'_x_'>->'_x_'}'">{injfun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_':'_x_']'">[set:</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.A">A]</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'injfun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.B">B}</a></span>) <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#on">Inject.on</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#el">el</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1475">f</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="valL_surj_subproof" class="id">
  <a name="valL_surj_subproof" class="">valL_surj_subproof</a>
</span> (<span id="f:1476" class="id">
  <a name="f:1476" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'surj'_x_'>->'_x_'}'">{surj</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_':'_x_']'">[set:</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.A">A]</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'surj'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.B">B}</a></span>) <span class="id">:</span> <span class="id">@OInv_CanV</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.B">B</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#el">el</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1476">f</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof182')">Proof.</span></div>
<div class="proofscript" id="proof182">
<span class="id">split=&gt;</span> <span class="id">[b|b</span> <span class="id">/set_mem]</span> <span class="id">Bb;</span> <span class="id">rewrite</span> <span class="id">?oinv_valL/=</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">case:</span> <span class="id"><a href="mathcomp.classical.functions.html#oinvP">oinvP</a></span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">=&gt;</span> <span class="id">a;</span> <span class="gallina-kwd">exists</span> (<span class="id"><a href="mathcomp.classical.functions.html#set_val">set_val</a></span> <span class="id">a</span>) <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set_valP">set_valP</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">case:</span> <span class="id"><a href="mathcomp.classical.functions.html#oinvP">oinvP</a></span> <span class="id">=&gt;</span> <span class="id">//=</span> <span class="id">a</span> <span class="id">_</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#funoK">funoK//</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>.<br/>
Qed.</div>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span id="f:1477" class="id">
  <a name="f:1477" class="">f</a>
</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#valL_surj_subproof">valL_surj_subproof</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1477">f</a></span>.<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> (<span id="f:1478" class="id">
  <a name="f:1478" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'surjfun'_x_'>->'_x_'}'">{surjfun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_':'_x_']'">[set:</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.A">A]</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'surjfun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.B">B}</a></span>) <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#on">Surject.on</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#el">el</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1478">f</a></span>).<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> (<span id="f:1479" class="id">
  <a name="f:1479" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'bij'_x_'>->'_x_'}'">{bij</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_':'_x_']'">[set:</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.A">A]</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'bij'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.B">B}</a></span>) <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#on">Surject.on</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#el">el</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1479">f</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="valL_some_inv" class="id">
  <a name="valL_some_inv" class="">valL_some_inv</a>
</span> (<span id="f:1480" class="id">
  <a name="f:1480" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'inv'_x_'>->'_x_'}'">{inv</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'inv'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.V">V}</a></span>) <span class="id">:</span> <span class="id"><a href="mathcomp.classical.mathcomp_extra.html#olift">olift</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#er">er</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1480">f^-1</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.classical.functions.html#:::'''oinv_'_x">'oinv_</a></span>(<span class="id"><a href="mathcomp.classical.functions.html#el">el</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1480">f</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof183')">Proof.</span></div>
<div class="proofscript" id="proof183">
 <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#oinv_valL">oinv_valL/=</a></span> <span class="id"><a href="mathcomp.classical.mathcomp_extra.html#olift_comp">olift_comp</a></span> <span class="id">-oliftV</span>. Qed.</div>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> (<span id="f:1481" class="id">
  <a name="f:1481" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'inv'_x_'>->'_x_'}'">{inv</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'inv'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.V">V}</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#Build">OInv_Inv.Build</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.classical.functions.html#el">el</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1481">f</a></span>) (<span class="id"><a href="mathcomp.classical.functions.html#valL_some_inv">valL_some_inv</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1481">f</a></span>).<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> (<span id="f:1482" class="id">
  <a name="f:1482" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'invfun'_x_'>->'_x_'}'">{invfun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_':'_x_']'">[set:</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.A">A]</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'invfun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.B">B}</a></span>) <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#on">Fun.on</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#el">el</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1482">f</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="inv_valL" class="id">
  <a name="inv_valL" class="">inv_valL</a>
</span> (<span id="f:1483" class="id">
  <a name="f:1483" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'inv'_x_'>->'_x_'}'">{inv</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'inv'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.V">V}</a></span>) <span class="id">:</span> (<span class="id"><a href="mathcomp.classical.functions.html#el">el</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1483">f</a></span>)<span class="id">^-1</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.classical.functions.html#er">er</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1483">f^-1</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof184')">Proof.</span></div>
<div class="proofscript" id="proof184">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> (<span id="f:1484" class="id">
  <a name="f:1484" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitinj'_x_'>->'_x_'}'">{splitinj</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_':'_x_']'">[set:</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.A">A]</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitinj'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.V">V}</a></span>) <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#on">Inject.on</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#el">el</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1484">f</a></span>).<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> (<span id="f:1485" class="id">
  <a name="f:1485" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitinjfun'_x_'>->'_x_'}'">{splitinjfun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_':'_x_']'">[set:</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.A">A]</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitinjfun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.B">B}</a></span>) <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#on">Fun.on</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#el">el</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1485">f</a></span>).<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> (<span id="f:1486" class="id">
  <a name="f:1486" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitsurj'_x_'>->'_x_'}'">{splitsurj</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_':'_x_']'">[set:</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.A">A]</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitsurj'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.B">B}</a></span>) <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#on">Surject.on</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#el">el</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1486">f</a></span>).<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> (<span id="f:1487" class="id">
  <a name="f:1487" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitsurjfun'_x_'>->'_x_'}'">{splitsurjfun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_':'_x_']'">[set:</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.A">A]</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitsurjfun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.B">B}</a></span>) <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#on">Fun.on</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#el">el</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1487">f</a></span>).<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> (<span id="f:1488" class="id">
  <a name="f:1488" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitbij'_x_'>->'_x_'}'">{splitbij</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_':'_x_']'">[set:</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.A">A]</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitbij'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.B">B}</a></span>) <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#on">Fun.on</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#el">el</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1488">f</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="sigL_injP" class="id">
  <a name="sigL_injP" class="">sigL_injP</a>
</span> (<span id="f:1489" class="id">
  <a name="f:1489" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.U">U</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.V">V</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#injective">injective</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#rl">rl</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1489">f</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'<->'_x">&lt;-&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_'&'_','_x_'}'">{in</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.A">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_'&'_','_x_'}'">&amp;,</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#injective">injective</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1489">f}</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof185')">Proof.</span></div>
<div class="proofscript" id="proof185">
<span class="id">split=&gt;</span> <span class="id">[f_inj</span> <span class="id">x</span> <span class="id">y</span> <span class="id">Ax</span> <span class="id">Ay|/Pinj[{}f-&gt;</span> <span class="id">//]];</span> <span class="id">last</span> <span class="id">first</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">eqfxy;</span> <span class="id">suff</span> <span class="id">[-&gt;]</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#SigSub">SigSub</a></span> <span class="id">Ax</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#SigSub">SigSub</a></span> <span class="id">Ay</span> <span class="gallina-kwd">by</span> <span class="id">[];</span> <span class="id">apply:</span> <span class="id">f_inj</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="sigL_surjP" class="id">
  <a name="sigL_surjP" class="">sigL_surjP</a>
</span> (<span id="f:1490" class="id">
  <a name="f:1490" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.U">U</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.V">V</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#set_surj">set_surj</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_':'_x_']'">[set:</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.A">A]</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.B">B</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#rl">rl</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1490">f</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'<->'_x">&lt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#set_surj">set_surj</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.B">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1490">f</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof186')">Proof.</span></div>
<div class="proofscript" id="proof186">
<span class="id">split=&gt;</span> <span class="id">[fsurj</span> <span class="id">b</span> <span class="id">Bb/=|/Psurj[{}f-&gt;]//]</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">have</span> <span class="id">[a</span> <span class="id">_</span> <span class="id">&lt;-]</span> <span class="id">:=</span> <span class="id">fsurj</span> <span class="id">_</span> <span class="id">Bb;</span> <span class="gallina-kwd">exists</span> (<span class="id"><a href="mathcomp.classical.functions.html#set_val">set_val</a></span> <span class="id">a</span>) <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set_valP">set_valP</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="sigL_funP" class="id">
  <a name="sigL_funP" class="">sigL_funP</a>
</span> (<span id="f:1491" class="id">
  <a name="f:1491" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.U">U</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.V">V</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#set_fun">set_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_':'_x_']'">[set:</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.A">A]</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.B">B</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#rl">rl</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1491">f</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'<->'_x">&lt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#set_fun">set_fun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.B">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1491">f</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof187')">Proof.</span></div>
<div class="proofscript" id="proof187">
<span class="id">split=&gt;</span> <span class="id">[ffun</span> <span class="id">u</span> <span class="id">Au/=|/Pfun[{}f-&gt;]//]</span>.<br/>
<span class="id">exact:</span> (<span class="id">ffun</span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#SigSub">SigSub</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#mem_set">mem_set</a></span> <span class="id">Au</span>))).<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="sigL_bijP" class="id">
  <a name="sigL_bijP" class="">sigL_bijP</a>
</span> (<span id="f:1492" class="id">
  <a name="f:1492" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.U">U</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.V">V</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#set_bij">set_bij</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_':'_x_']'">[set:</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.A">A]</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.B">B</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#rl">rl</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1492">f</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'<->'_x">&lt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#set_bij">set_bij</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.B">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1492">f</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof188')">Proof.</span></div>
<div class="proofscript" id="proof188">
<span class="id">split=&gt;</span> <span class="id">[[F</span> <span class="id">/in2TT</span> <span class="id">I</span> <span class="id">S]|/Pbij[{}f-&gt;]//]</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">split;</span> <span class="id">[exact/sigL_funP|exact/sigL_injP|exact/sigL_surjP]</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="valL_injP" class="id">
  <a name="valL_injP" class="">valL_injP</a>
</span> (<span id="f:1493" class="id">
  <a name="f:1493" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.A">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.V">V</a></span>) <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_'&'_','_x_'}'">{in</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.A">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_'&'_','_x_'}'">&amp;,</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#injective">injective</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#el">el</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1493">f</a></span>)<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_'&'_','_x_'}'">}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'<->'_x">&lt;-&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#injective">injective</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1493">f</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof189')">Proof.</span></div>
<div class="proofscript" id="proof189">
 <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-sigL_injP</span> <span class="id"><a href="mathcomp.classical.functions.html#valLK">valLK</a></span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="valL_surjP" class="id">
  <a name="valL_surjP" class="">valL_surjP</a>
</span> (<span id="f:1494" class="id">
  <a name="f:1494" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.A">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.V">V</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#set_surj">set_surj</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.B">B</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#el">el</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1494">f</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'<->'_x">&lt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#set_surj">set_surj</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.B">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1494">f</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof190')">Proof.</span></div>
<div class="proofscript" id="proof190">
 <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-sigL_surjP</span> <span class="id"><a href="mathcomp.classical.functions.html#valLK">valLK</a></span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="valLfunP" class="id">
  <a name="valLfunP" class="">valLfunP</a>
</span> (<span id="f:1495" class="id">
  <a name="f:1495" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.A">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.V">V</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#set_fun">set_fun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.B">B</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#el">el</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1495">f</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'<->'_x">&lt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#set_fun">set_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.B">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1495">f</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof191')">Proof.</span></div>
<div class="proofscript" id="proof191">
 <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-sigL_funP</span> <span class="id"><a href="mathcomp.classical.functions.html#valLK">valLK</a></span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="valL_bijP" class="id">
  <a name="valL_bijP" class="">valL_bijP</a>
</span> (<span id="f:1496" class="id">
  <a name="f:1496" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.A">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.V">V</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#set_bij">set_bij</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.B">B</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#el">el</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1496">f</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'<->'_x">&lt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#set_bij">set_bij</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.B">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1496">f</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof192')">Proof.</span></div>
<div class="proofscript" id="proof192">
 <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-sigL_bijP</span> <span class="id"><a href="mathcomp.classical.functions.html#valLK">valLK</a></span>. Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv">RestrictionLeftInv</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="ExtentionLeftInv" class="id">
  <a name="ExtentionLeftInv" class="">ExtentionLeftInv</a>
</span>.<br/>
<span class="vernacular">Context</span> <span class="id">{U</span> <span id="V:1498" class="id">
  <a name="V:1498" class="">V</a>
</span> <span class="id">:</span> <span class="id">Type}</span> <span class="id">{A</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#U:1497">U}</a></span> <span class="id">{B</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#V:1498">V}</a></span>.<br/>
<span class="id">Local</span> <span class="vernacular">Notation</span> <span id="el" class="id">
  <a name="el" class="">el</a>
</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'''valL_'_x">'valL_None</a></span>.<br/>
<span class="id">Local</span> <span class="vernacular">Notation</span> <span id="er" class="id">
  <a name="er" class="">er</a>
</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#valR">valR</a></span>.<br/>
<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> (<span id="f:1501" class="id">
  <a name="f:1501" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'oinv'_x_'>->'_x_'}'">{oinv</a></span> <span class="id"><a href="mathcomp.classical.functions.html#ExtentionLeftInv.V">V</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'oinv'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#ExtentionLeftInv.A">A}</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id">@OInv</span>.<span class="id">Build</span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.classical.functions.html#er">er</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1501">f</a></span>) (<span class="id"><a href="mathcomp.classical.functions.html#el">el</a></span> <span class="id"><a href="mathcomp.classical.functions.html#:::'''oinv_'_x">'oinv_f</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="oinv_valR" class="id">
  <a name="oinv_valR" class="">oinv_valR</a>
</span> (<span id="f:1502" class="id">
  <a name="f:1502" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'oinv'_x_'>->'_x_'}'">{oinv</a></span> <span class="id"><a href="mathcomp.classical.functions.html#ExtentionLeftInv.V">V</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'oinv'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#ExtentionLeftInv.A">A}</a></span>) <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#:::'''oinv_'_x">'oinv_</a></span>(<span class="id"><a href="mathcomp.classical.functions.html#er">er</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1502">f</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#el">el</a></span> <span class="id"><a href="mathcomp.classical.functions.html#:::'''oinv_'_x">'oinv_f</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof193')">Proof.</span></div>
<div class="proofscript" id="proof193">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="valR_inj_subproof" class="id">
  <a name="valR_inj_subproof" class="">valR_inj_subproof</a>
</span> (<span id="f:1503" class="id">
  <a name="f:1503" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'inj'_x_'>->'_x_'}'">{inj</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_':'_x_']'">[set:</a></span> <span class="id"><a href="mathcomp.classical.functions.html#ExtentionLeftInv.V">V]</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'inj'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#ExtentionLeftInv.A">A}</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id">@OInv_Can</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#er">er</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1503">f</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof194')">Proof.</span></div>
<div class="proofscript" id="proof194">
 <span class="gallina-kwd">by</span> <span class="id">split=&gt;</span> <span class="id">x</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id">/er</span> <span class="id"><a href="mathcomp.classical.functions.html#oinv_valR">oinv_valR/=</a></span> <span class="id"><a href="mathcomp.classical.functions.html#funoK">funoK/=</a></span> <span class="id">?funoK</span> <span class="id">?inE</span>. Qed.</div>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span id="f:1504" class="id">
  <a name="f:1504" class="">f</a>
</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#valR_inj_subproof">valR_inj_subproof</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1504">f</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="valR_surj_subproof" class="id">
  <a name="valR_surj_subproof" class="">valR_surj_subproof</a>
</span> (<span id="f:1505" class="id">
  <a name="f:1505" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'surj'_x_'>->'_x_'}'">{surj</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_':'_x_']'">[set:</a></span> <span class="id"><a href="mathcomp.classical.functions.html#ExtentionLeftInv.V">V]</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'surj'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_':'_x_']'">[set:</a></span> <span class="id"><a href="mathcomp.classical.functions.html#ExtentionLeftInv.A">A]}</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id">@OInv_CanV</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#ExtentionLeftInv.A">A</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#er">er</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1505">f</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof195')">Proof.</span></div>
<div class="proofscript" id="proof195">
<span class="id">split=&gt;</span> <span class="id">[a|a</span> <span class="id">/set_mem]</span> <span class="id">Aa;</span> <span class="id">rewrite</span> <span class="id">?oinv_valR/=</span> <span class="id"><a href="mathcomp.classical.functions.html#oinv_set_val">oinv_set_val</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#insubT">insubT</a></span> <span class="id">?inE//</span> <span class="id">=&gt;</span> <span class="id">memaA</span> <span class="id">/=;</span> <span class="id">case:</span> <span class="id"><a href="mathcomp.classical.functions.html#oinvP">oinvP</a></span> <span class="id">=&gt;</span> <span class="id">//=</span> <span class="id">x;</span> <span class="gallina-kwd">exists</span> <span class="id">x</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#insubT">insubT</a></span> <span class="id">?inE//</span> <span class="id">=&gt;</span> <span class="id">memaA/=;</span> <span class="id">case:</span> <span class="id"><a href="mathcomp.classical.functions.html#oinvP">oinvP</a></span> <span class="id">=&gt;</span> <span class="id">//=</span> <span class="id">x</span> <span class="id">_</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/er/=</span> <span class="id">/totalfun</span> <span class="id">=&gt;</span> <span class="id">-&gt;</span>.<br/>
Qed.</div>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span id="f:1506" class="id">
  <a name="f:1506" class="">f</a>
</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#valR_surj_subproof">valR_surj_subproof</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1506">f</a></span>.<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> (<span id="f:1507" class="id">
  <a name="f:1507" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'bij'_x_'>->'_x_'}'">{bij</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_':'_x_']'">[set:</a></span> <span class="id"><a href="mathcomp.classical.functions.html#ExtentionLeftInv.V">V]</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'bij'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_':'_x_']'">[set:</a></span> <span class="id"><a href="mathcomp.classical.functions.html#ExtentionLeftInv.A">A]}</a></span>) <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#on">Fun.on</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#er">er</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1507">f</a></span>).<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.classical.functions.html#ExtentionLeftInv">ExtentionLeftInv</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="Restrictions2" class="id">
  <a name="Restrictions2" class="">Restrictions2</a>
</span>.<br/>
<span class="vernacular">Context</span> <span class="id">{U</span> <span id="V:1509" class="id">
  <a name="V:1509" class="">V</a>
</span> <span class="id">:</span> <span class="id">Type}</span> (<span id="v:1510" class="id">
  <a name="v:1510" class="">v</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#V:1509">V</a></span>) <span class="id">{A</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#U:1508">U}</a></span> <span class="id">{B</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#V:1509">V}</a></span>.<br/>
<br/>
<span class="id">Local</span> <span class="vernacular">Notation</span> <span id="valL" class="id">
  <a name="valL" class="">valL</a>
</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'''valL_'_x">'valL_v</a></span>.<br/>
<span class="id">Local</span> <span class="vernacular">Notation</span> <span id="valLfun" class="id">
  <a name="valLfun" class="">valLfun</a>
</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'''valLfun_'_x">'valLfun_v</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="sigLR" class="id">
  <a name="sigLR" class="">sigLR</a>
</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#sigR">sigR</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:x_'\o'_x">\o</a></span> (<span class="id">@sigLfun</span> <span class="id"><a href="mathcomp.classical.functions.html#Restrictions2.U">U</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Restrictions2.V">V</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Restrictions2.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Restrictions2.B">B</a></span>).<br/>
<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> (<span id="f:1513" class="id">
  <a name="f:1513" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'{'_'fun'_x_'>->'_x_'}'">{fun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Restrictions2.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'{'_'fun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Restrictions2.B">B}</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#copy">Fun.copy</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#sigLR">sigLR</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1513">f</a></span>) (<span class="id"><a href="mathcomp.classical.functions.html#totalfun">totalfun</a></span> <span class="id">_</span>).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="valLR" class="id">
  <a name="valLR" class="">valLR</a>
</span> <span class="id">:</span> (<span class="id"><a href="mathcomp.classical.functions.html#Restrictions2.A">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Restrictions2.B">B</a></span>) <span class="id">-&gt;</span> <span class="id"><a href="mathcomp.classical.functions.html#Restrictions2.U">U</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Restrictions2.V">V</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#valL">valL</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:x_'\o'_x">\o</a></span> <span class="id"><a href="mathcomp.classical.functions.html#valR_fun">valR_fun</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="valLRfun" class="id">
  <a name="valLRfun" class="">valLRfun</a>
</span> <span class="id">:</span> (<span class="id"><a href="mathcomp.classical.functions.html#Restrictions2.A">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Restrictions2.B">B</a></span>) <span class="id">-&gt;</span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'{'_'fun'_x_'>->'_x_'}'">{fun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Restrictions2.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'{'_'fun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Restrictions2.B">B}</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#valLfun">valLfun</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:x_'\o'_x">\o</a></span> <span class="id"><a href="mathcomp.classical.functions.html#valR_fun">valR_fun</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="valLRE" class="id">
  <a name="valLRE" class="">valLRE</a>
</span> (<span id="f:1514" class="id">
  <a name="f:1514" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#Restrictions2.A">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Restrictions2.B">B</a></span>) <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#valLR">valLR</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1514">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.classical.functions.html#valL">valL</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#valR">valR</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1514">f</a></span>)<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof196')">Proof.</span></div>
<div class="proofscript" id="proof196">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span class="vernacular">Lemma</span> <span id="valLRfunE" class="id">
  <a name="valLRfunE" class="">valLRfunE</a>
</span> (<span id="f:1515" class="id">
  <a name="f:1515" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#Restrictions2.A">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Restrictions2.B">B</a></span>) <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#valLRfun">valLRfun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1515">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'['_'fun'_'of'_x_']'">[fun</a></span> <span class="id">of</span> <span class="id"><a href="mathcomp.classical.functions.html#valLR">valLR</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1515">f]</a></span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof197')">Proof.</span></div>
<div class="proofscript" id="proof197">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="sigL2K" class="id">
  <a name="sigL2K" class="">sigL2K</a>
</span> (<span id="f:1516" class="id">
  <a name="f:1516" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'{'_'fun'_x_'>->'_x_'}'">{fun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Restrictions2.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'{'_'fun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Restrictions2.B">B}</a></span>) <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_','_x_'}'">{in</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Restrictions2.A">A,</a></span> <span class="id"><a href="mathcomp.classical.functions.html#valLR">valLR</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#sigLR">sigLR</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1516">f</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:x_'=1'_x">=1</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1516">f}</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof198')">Proof.</span></div>
<div class="proofscript" id="proof198">
 <span class="gallina-kwd">by</span> <span class="id">apply/eq_sigLP;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#valLK">valLK</a></span> <span class="id"><a href="mathcomp.classical.functions.html#sigR_funK">sigR_funK</a></span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="valLRK" class="id">
  <a name="valLRK" class="">valLRK</a>
</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id"><a href="mathcomp.classical.functions.html#valLRfun">valLRfun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#sigLR">sigLR</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof199')">Proof.</span></div>
<div class="proofscript" id="proof199">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">f;</span> <span class="id">rewrite</span> <span class="id">/sigLR</span> <span class="id">/valLR</span> <span class="id">/=</span> <span class="id"><a href="mathcomp.classical.functions.html#valLfunK">valLfunK</a></span> <span class="id"><a href="mathcomp.classical.functions.html#valRK">valRK</a></span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="valLRfun_inj" class="id">
  <a name="valLRfun_inj" class="">valLRfun_inj</a>
</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#injective">injective</a></span> <span class="id"><a href="mathcomp.classical.functions.html#valLRfun">valLRfun</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof200')">Proof.</span></div>
<div class="proofscript" id="proof200">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">f</span> <span class="id">g</span> <span class="id">eqefg;</span> <span class="id">rewrite</span> <span class="id">-[LHS]valLRK</span> <span class="id">eqefg</span> <span class="id"><a href="mathcomp.classical.functions.html#valLRK">valLRK</a></span>. Qed.</div>
<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> (<span id="f:1517" class="id">
  <a name="f:1517" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'oinvfun'_x_'>->'_x_'}'">{oinvfun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Restrictions2.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'oinvfun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Restrictions2.B">B}</a></span>) <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#on">OInversible.on</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#sigLR">sigLR</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1517">f</a></span>).<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> (<span id="f:1518" class="id">
  <a name="f:1518" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'injfun'_x_'>->'_x_'}'">{injfun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Restrictions2.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'injfun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Restrictions2.B">B}</a></span>) <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#on">Inject.on</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#sigLR">sigLR</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1518">f</a></span>).<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> (<span id="f:1519" class="id">
  <a name="f:1519" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'surjfun'_x_'>->'_x_'}'">{surjfun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Restrictions2.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'surjfun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Restrictions2.B">B}</a></span>) <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#on">Surject.on</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#sigLR">sigLR</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1519">f</a></span>).<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> (<span id="f:1520" class="id">
  <a name="f:1520" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'bij'_x_'>->'_x_'}'">{bij</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Restrictions2.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'bij'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Restrictions2.B">B}</a></span>) <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#on">Fun.on</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#sigLR">sigLR</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1520">f</a></span>).<br/>
<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> (<span id="f:1521" class="id">
  <a name="f:1521" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'oinv'_x_'>->'_x_'}'">{oinv</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Restrictions2.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'oinv'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Restrictions2.B">B}</a></span>) <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#on">OInvFun.on</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#valLR">valLR</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1521">f</a></span>).<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> (<span id="f:1522" class="id">
  <a name="f:1522" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'inj'_x_'>->'_x_'}'">{inj</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_':'_x_']'">[set:</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Restrictions2.A">A]</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'inj'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Restrictions2.B">B}</a></span>) <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#on">Inject.on</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#valLR">valLR</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1522">f</a></span>).<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> (<span id="f:1523" class="id">
  <a name="f:1523" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'surj'_x_'>->'_x_'}'">{surj</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_':'_x_']'">[set:</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Restrictions2.A">A]</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'surj'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_':'_x_']'">[set:</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Restrictions2.B">B]}</a></span>) <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#on">Surject.on</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#valLR">valLR</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1523">f</a></span>).<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> (<span id="f:1524" class="id">
  <a name="f:1524" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'bij'_x_'>->'_x_'}'">{bij</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_':'_x_']'">[set:</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Restrictions2.A">A]</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'bij'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_':'_x_']'">[set:</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Restrictions2.B">B]}</a></span>) <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#on">Fun.on</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#valLR">valLR</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1524">f</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="sigLR_injP" class="id">
  <a name="sigLR_injP" class="">sigLR_injP</a>
</span> (<span id="f:1525" class="id">
  <a name="f:1525" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'{'_'fun'_x_'>->'_x_'}'">{fun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Restrictions2.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'{'_'fun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Restrictions2.B">B}</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#injective">injective</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#sigLR">sigLR</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1525">f</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'<->'_x">&lt;-&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_'&'_','_x_'}'">{in</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Restrictions2.A">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_'&'_','_x_'}'">&amp;,</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#injective">injective</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1525">f}</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof201')">Proof.</span></div>
<div class="proofscript" id="proof201">
<span class="id">split=&gt;</span> <span class="id">[f_inj</span> <span class="id">x</span> <span class="id">y</span> <span class="id">Ax</span> <span class="id">Ay|/funPinj[{}f-&gt;</span> <span class="id">//]];</span> <span class="id">last</span> <span class="id">first</span>.<br/>
<span class="id">move=&gt;</span> <span class="id">eqfxy;</span> <span class="id">suff</span> <span class="id">[-&gt;]</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#SigSub">SigSub</a></span> <span class="id">Ax</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#SigSub">SigSub</a></span> <span class="id">Ay</span> <span class="gallina-kwd">by</span> <span class="id">[]</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id">f_inj;</span> <span class="id">apply/val_inj</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="valLR_injP" class="id">
  <a name="valLR_injP" class="">valLR_injP</a>
</span> (<span id="f:1526" class="id">
  <a name="f:1526" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#Restrictions2.A">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Restrictions2.B">B</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_'&'_','_x_'}'">{in</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Restrictions2.A">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_'&'_','_x_'}'">&amp;,</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#injective">injective</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#valLR">valLR</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1526">f</a></span>)<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_'&'_','_x_'}'">}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'<->'_x">&lt;-&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#injective">injective</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1526">f</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof202')">Proof.</span></div>
<div class="proofscript" id="proof202">
 <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-sigLR_injP</span> <span class="id"><a href="mathcomp.classical.functions.html#valLRK">valLRK</a></span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="sigLR_surjP" class="id">
  <a name="sigLR_surjP" class="">sigLR_surjP</a>
</span> (<span id="f:1527" class="id">
  <a name="f:1527" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'{'_'fun'_x_'>->'_x_'}'">{fun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Restrictions2.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'{'_'fun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Restrictions2.B">B}</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#set_surj">set_surj</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#sigLR">sigLR</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1527">f</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'<->'_x">&lt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#set_surj">set_surj</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Restrictions2.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Restrictions2.B">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1527">f</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof203')">Proof.</span></div>
<div class="proofscript" id="proof203">
<span class="id">split=&gt;</span> <span class="id">[fsurj</span> <span class="id">b</span> <span class="id">Bb/=|/funPsurj[{}f-&gt;]//]</span>.<br/>
<span class="id">have</span> <span class="id">[x</span> <span class="id">_</span> <span class="id">/</span>(<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#congr1">congr1</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#val">val</a></span>)<span class="id">/=</span> <span class="id">&lt;-]</span> <span class="id">:=</span> <span class="id">fsurj</span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#SigSub">SigSub</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#mem_set">mem_set</a></span> <span class="id">Bb</span>)) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#I">I</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> (<span class="id"><a href="mathcomp.classical.functions.html#set_val">set_val</a></span> <span class="id">x</span>) <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set_valP">set_valP</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="valLR_surjP" class="id">
  <a name="valLR_surjP" class="">valLR_surjP</a>
</span> (<span id="f:1528" class="id">
  <a name="f:1528" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#Restrictions2.A">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Restrictions2.B">B</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#set_surj">set_surj</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Restrictions2.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Restrictions2.B">B</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#valLR">valLR</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1528">f</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'<->'_x">&lt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#set_surj">set_surj</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1528">f</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof204')">Proof.</span></div>
<div class="proofscript" id="proof204">
 <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-sigLR_surjP</span> <span class="id"><a href="mathcomp.classical.functions.html#valLRK">valLRK</a></span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="sigLR_bijP" class="id">
  <a name="sigLR_bijP" class="">sigLR_bijP</a>
</span> (<span id="f:1529" class="id">
  <a name="f:1529" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#Restrictions2.U">U</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Restrictions2.V">V</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#set_bij">set_bij</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Restrictions2.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Restrictions2.B">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1529">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'<->'_x">&lt;-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> (<span id="fAB:1532" class="id">
  <a name="fAB:1532" class="">fAB</a>
</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_'/'_x_'>->'_x_'}'">{homo</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1529">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_'/'_x_'>->'_x_'}'">:</a></span> <span id="x:1531" class="id"><span id="x:1530" class="id">
  <a name="x:1531" class="">x</a>
</span></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_'/'_x_'>->'_x_'}'">/</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Restrictions2.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#x:1530">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_'/'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Restrictions2.B">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#x:1531">x}</a></span>)<span class="id">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#bijective">bijective</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#sigLR">sigLR</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'['_'fun'_'of'_x_']'">[fun</a></span> <span class="id">of</span> <span class="id"><a href="mathcomp.classical.functions.html#mkfun">mkfun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#fAB:1532">fAB]</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof205')">Proof.</span></div>
<div class="proofscript" id="proof205">
<span class="id">split=&gt;</span> <span class="id">[[F</span> <span class="id">I</span> <span class="id">S]|[fAB]]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">F;</span> <span class="id">rewrite</span> <span class="id">-setTT_bijective</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">split;</span> <span class="id">[|apply:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#in2W">in2W;</a></span> <span class="id">apply/sigLR_injP|apply/sigLR_surjP]</span>.<br/>
<span class="id">rewrite</span> <span class="id">-setTT_bijective</span> <span class="id">/set_bij</span>.<br/>
<span class="id">set</span> <span class="id">g</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'['_'fun'_'of'_x_']'">[fun</a></span> <span class="id">of</span> <span class="id"><a href="mathcomp.classical.functions.html#mkfun">mkfun</a></span> <span class="id">fAB]</span> <span class="id">=&gt;</span> <span class="id">-[_</span> <span class="id">/in2TT</span> <span class="id">I</span> <span class="id">S];</span> <span class="id">pose</span> <span class="id">h</span> <span class="id">:</span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id">_</span> <span class="id">:=</span> <span class="id">g</span>.<br/>
<span class="id">rewrite</span> <span class="id">-[f]/h</span> <span class="id">{}/h;</span> <span class="id">move:</span> <span class="id">g</span> <span class="id">=&gt;</span> <span class="id">g</span> <span class="gallina-kwd">in</span> <span class="id">I</span> <span class="id">S</span> <span class="id">*</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">split;</span> <span class="id">[apply/image_subP|apply/sigLR_injP|apply/sigLR_surjP]</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="sigLRfun_bijP" class="id">
  <a name="sigLRfun_bijP" class="">sigLRfun_bijP</a>
</span> <span id="f:1533" class="id">
  <a name="f:1533" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#bijective">bijective</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#sigLR">sigLR</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1533">f</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'<->'_x">&lt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#set_bij">set_bij</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Restrictions2.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Restrictions2.B">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1533">f</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof206')">Proof.</span></div>
<div class="proofscript" id="proof206">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#sigLR_bijP">sigLR_bijP;</a></span> <span class="id">split=&gt;</span> <span class="id">[fbij|[fAB]];</span> <span class="id">[exists</span> <span class="id"><a href="mathcomp.classical.functions.html#funS">funS|];</a></span><br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'['_'fun'_'of'_x_']'">[fun</a></span> <span class="id">of</span> <span class="id">_]</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id">f</span>)<span class="id">//;</span> <span class="id">apply/funP</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="valLR_bijP" class="id">
  <a name="valLR_bijP" class="">valLR_bijP</a>
</span> <span id="f:1534" class="id">
  <a name="f:1534" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#set_bij">set_bij</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Restrictions2.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Restrictions2.B">B</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#valLR">valLR</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1534">f</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'<->'_x">&lt;-&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#bijective">bijective</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1534">f</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof207')">Proof.</span></div>
<div class="proofscript" id="proof207">
 <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-sigLRfun_bijP</span> <span class="id"><a href="mathcomp.classical.functions.html#valLRK">valLRK</a></span>. Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.classical.functions.html#Restrictions2">Restrictions2</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="set_bij_basic_lemmas" class="id">
  <a name="set_bij_basic_lemmas" class="">set_bij_basic_lemmas</a>
</span>.<br/>
<span class="vernacular">Context</span> <span class="id">{aT</span> <span id="rT:1536" class="id">
  <a name="rT:1536" class="">rT</a>
</span> <span class="id">:</span> <span class="id">Type}</span>.<br/>
<span class="vernacular">Implicit</span> <span class="id">Types</span> (<span class="id">A</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#set_bij_basic_lemmas.aT">aT</a></span>) (<span class="id">B</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#set_bij_basic_lemmas.rT">rT</a></span>) (<span class="id">f</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#set_bij_basic_lemmas.aT">aT</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#set_bij_basic_lemmas.rT">rT</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="eq_set_bijRL" class="id">
  <a name="eq_set_bijRL" class="">eq_set_bijRL</a>
</span> <span id="A:1537" class="id">
  <a name="A:1537" class="">A</a>
</span> <span id="B:1538" class="id">
  <a name="B:1538" class="">B</a>
</span> <span id="f:1539" class="id">
  <a name="f:1539" class="">f</a>
</span> <span id="g:1540" class="id">
  <a name="g:1540" class="">g</a>
</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_','_x_'}'">{in</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:1537">A,</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1539">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:x_'=1'_x">=1</a></span> <span class="id"><a href="mathcomp.classical.functions.html#g:1540">g}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#set_bij">set_bij</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:1537">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:1538">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1539">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#set_bij">set_bij</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:1537">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:1538">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#g:1540">g</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof208')">Proof.</span></div>
<div class="proofscript" id="proof208">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">/eq_sigLP</span> <span class="id">+</span> <span class="id">/sigL_bijP</span> <span class="id">=&gt;</span> <span class="id">-&gt;</span> <span class="id">/sigL_bijP</span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="eq_set_bijLR" class="id">
  <a name="eq_set_bijLR" class="">eq_set_bijLR</a>
</span> <span id="A:1541" class="id">
  <a name="A:1541" class="">A</a>
</span> <span id="B:1542" class="id">
  <a name="B:1542" class="">B</a>
</span> <span id="f:1543" class="id">
  <a name="f:1543" class="">f</a>
</span> <span id="g:1544" class="id">
  <a name="g:1544" class="">g</a>
</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_','_x_'}'">{in</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:1541">A,</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1543">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:x_'=1'_x">=1</a></span> <span class="id"><a href="mathcomp.classical.functions.html#g:1544">g}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#set_bij">set_bij</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:1541">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:1542">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#g:1544">g</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#set_bij">set_bij</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:1541">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:1542">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1543">f</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof209')">Proof.</span></div>
<div class="proofscript" id="proof209">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">/eq_sigLP</span> <span class="id">+</span> <span class="id">/sigL_bijP</span> <span class="id">=&gt;</span> <span class="id">&lt;-</span> <span class="id">/sigL_bijP</span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="eq_set_bij" class="id">
  <a name="eq_set_bij" class="">eq_set_bij</a>
</span> <span id="A:1545" class="id">
  <a name="A:1545" class="">A</a>
</span> <span id="B:1546" class="id">
  <a name="B:1546" class="">B</a>
</span> <span id="f:1547" class="id">
  <a name="f:1547" class="">f</a>
</span> <span id="g:1548" class="id">
  <a name="g:1548" class="">g</a>
</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_','_x_'}'">{in</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:1545">A,</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1547">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:x_'=1'_x">=1</a></span> <span class="id"><a href="mathcomp.classical.functions.html#g:1548">g}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#set_bij">set_bij</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:1545">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:1546">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1547">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.classical.functions.html#set_bij">set_bij</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:1545">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:1546">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#g:1548">g</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof210')">Proof.</span></div>
<div class="proofscript" id="proof210">
<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">eqfg;</span> <span class="id">apply/propeqP;</span> <span class="id">split;</span> <span class="id">[apply:</span> <span class="id"><a href="mathcomp.classical.functions.html#eq_set_bijRL">eq_set_bijRL</a></span> <span class="id">|</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.classical.functions.html#eq_set_bijLR">eq_set_bijLR]</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="bij_omap" class="id">
  <a name="bij_omap" class="">bij_omap</a>
</span> <span id="A:1549" class="id">
  <a name="A:1549" class="">A</a>
</span> <span id="B:1550" class="id">
  <a name="B:1550" class="">B</a>
</span> <span id="f:1551" class="id">
  <a name="f:1551" class="">f</a>
</span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#set_bij">set_bij</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#some">some</a></span> <span class="id">@`</span> <span class="id"><a href="mathcomp.classical.functions.html#A:1549">A</a></span>) (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#some">some</a></span> <span class="id">@`</span> <span class="id"><a href="mathcomp.classical.functions.html#B:1550">B</a></span>) (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#omap">omap</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1551">f</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'<->'_x">&lt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#set_bij">set_bij</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:1549">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:1550">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1551">f</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof211')">Proof.</span></div>
<div class="proofscript" id="proof211">
<span class="id">split=&gt;</span> <span class="id">[/Pbij[b</span> <span class="id">mapfb]|/Pbij[{}f-&gt;//]]</span>.<br/>
<span class="id">suff</span> <span class="id">-&gt;</span> <span class="id">:</span> <span class="id">f</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x_':>'_x">=</a></span> <span class="id"><a href="mathcomp.classical.functions.html#unbind">unbind</a></span> <span class="id">f</span> (<span class="id">b</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:x_'\o'_x">\o</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#some">some</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x_':>'_x">:&gt;</a></span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id">_</span>) <span class="gallina-kwd">by</span> <span class="id">[]</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">apply/funext=&gt;</span> <span class="id">x;</span> <span class="id">rewrite</span> <span class="id">-mapfb</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="bij_olift" class="id">
  <a name="bij_olift" class="">bij_olift</a>
</span> <span id="A:1552" class="id">
  <a name="A:1552" class="">A</a>
</span> <span id="B:1553" class="id">
  <a name="B:1553" class="">B</a>
</span> <span id="f:1554" class="id">
  <a name="f:1554" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#set_bij">set_bij</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:1552">A</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#some">some</a></span> <span class="id">@`</span> <span class="id"><a href="mathcomp.classical.functions.html#B:1553">B</a></span>) (<span class="id"><a href="mathcomp.classical.mathcomp_extra.html#olift">olift</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1554">f</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'<->'_x">&lt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#set_bij">set_bij</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:1552">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:1553">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1554">f</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof212')">Proof.</span></div>
<div class="proofscript" id="proof212">
<span class="id">split=&gt;</span> <span class="id">[/Pbij[b</span> <span class="id">liftfb]|/Pbij[{}f-&gt;//]]</span>.<br/>
<span class="id">suff</span> <span class="id">-&gt;</span> <span class="id">:</span> <span class="id">f</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x_':>'_x">=</a></span> <span class="id"><a href="mathcomp.classical.functions.html#unbind">unbind</a></span> <span class="id">f</span> <span class="id">b</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x_':>'_x">:&gt;</a></span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id">_</span>) <span class="gallina-kwd">by</span> <span class="id">[]</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">apply/funext=&gt;</span> <span class="id">x;</span> <span class="id">rewrite</span> <span class="id">-liftfb</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.classical.functions.html#set_bij_basic_lemmas">set_bij_basic_lemmas</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="bij_sub_sym" class="id">
  <a name="bij_sub_sym" class="">bij_sub_sym</a>
</span> <span class="id">{aT</span> <span id="rT:1556" class="id">
  <a name="rT:1556" class="">rT}</a>
</span> <span class="id">{A</span> <span id="C:1558" class="id">
  <a name="C:1558" class="">C</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#aT:1555">aT}</a></span> <span class="id">{B</span> <span id="D:1560" class="id">
  <a name="D:1560" class="">D</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:1556">rT}</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="f:1561" class="id">
  <a name="f:1561" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'bij'_x_'>->'_x_'}'">{bij</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:1557">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'bij'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:1559">B}</a></span>) <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#C:1558">C</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:x_'`<=`'_x">`&lt;=`</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:1557">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#D:1560">D</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:x_'`<=`'_x">`&lt;=`</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:1559">B</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#set_bij">set_bij</a></span> <span class="id"><a href="mathcomp.classical.functions.html#D:1560">D</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#some">some</a></span> <span class="id">@`</span> <span class="id"><a href="mathcomp.classical.functions.html#C:1558">C</a></span>) <span class="id"><a href="mathcomp.classical.functions.html#:::'''oinv_'_x">'oinv_f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'<->'_x">&lt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#set_bij">set_bij</a></span> <span class="id"><a href="mathcomp.classical.functions.html#C:1558">C</a></span> <span class="id"><a href="mathcomp.classical.functions.html#D:1560">D</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1561">f</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof213')">Proof.</span></div>
<div class="proofscript" id="proof213">
<span class="id">move=&gt;</span> <span class="id">CA</span> <span class="id">DB;</span> <span class="id">gen</span> <span class="id">have</span> <span class="id">oinv_bij</span> <span class="id">:</span> <span class="id">aT</span> <span class="id">rT</span> <span class="id">A</span> <span class="id">C</span> <span class="id">B</span> <span class="id">D</span> <span class="id">CA</span> <span class="id">DB</span> <span class="id">f</span> <span class="id">/</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#set_bij">set_bij</a></span> <span class="id">C</span> <span class="id">D</span> <span class="id">f</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#set_bij">set_bij</a></span> <span class="id">D</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#some">some</a></span> <span class="id">@`</span> <span class="id">C</span>) <span class="id"><a href="mathcomp.classical.functions.html#:::'''oinv_'_x">'oinv_f;</a></span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">split=&gt;</span> <span class="id">bij_oinv;</span> <span class="id">last</span> <span class="id">exact:</span> <span class="id">oinv_bij</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply/bij_omap;</span> <span class="id">rewrite</span> <span class="id">-oinvV;</span> <span class="id">apply:</span> <span class="id">oinv_bij</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#image_subset">image_subset</a></span>.<br/>
<span class="id">move=&gt;</span> <span class="id">/Pbij[fC</span> <span class="id">ffC];</span> <span class="id">suff</span> <span class="id">/eq_set_bij-&gt;</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_','_x_'}'">{in</a></span> <span class="id">D,</span> <span class="id"><a href="mathcomp.classical.functions.html#:::'''oinv_'_x">'oinv_f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:x_'=1'_x">=1</a></span> <span class="id"><a href="mathcomp.classical.functions.html#:::'''oinv_'_x">'oinv_fC}</a></span> <span class="gallina-kwd">by</span> <span class="id">[]</span>.<br/>
<span class="id">move=&gt;</span> <span class="id">x</span> <span class="id">xD;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'''inj_'_x">'inj_</a></span>(<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#oapp">oapp</a></span> <span class="id">f</span> <span class="id">x</span>)<span class="id">;</span> <span class="id">rewrite</span> <span class="id">?mem_fun//=</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">apply/subsetP</span> <span class="id">:</span> <span class="id">x</span> <span class="id">xD</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">have</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#mem_set">mem_set</a></span> ((<span class="id"><a href="mathcomp.classical.classical_sets.html#image_subset">image_subset</a></span> <span class="id">CA</span>) <span class="id">_</span> (<span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'''oinvS_'_x">'oinvS_fC</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#set_mem">set_mem</a></span> <span class="id">xD</span>))).<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#oinvK">oinvK</a></span> <span class="id">?ffC</span> <span class="id">?oinvK//</span> <span class="id">?</span>(<span class="id"><a href="mathcomp.classical.classical_sets.html#subsetP">subsetP</a></span>.<span class="id">2</span> <span class="id">_</span> <span class="id">_</span> <span class="id">xD</span>).<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="splitbij_sub_sym" class="id">
  <a name="splitbij_sub_sym" class="">splitbij_sub_sym</a>
</span> <span class="id">{aT</span> <span id="rT:1563" class="id">
  <a name="rT:1563" class="">rT}</a>
</span> <span class="id">{A</span> <span id="C:1565" class="id">
  <a name="C:1565" class="">C</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#aT:1562">aT}</a></span> <span class="id">{B</span> <span id="D:1567" class="id">
  <a name="D:1567" class="">D</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#rT:1563">rT}</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="f:1568" class="id">
  <a name="f:1568" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitbij'_x_'>->'_x_'}'">{splitbij</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:1564">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitbij'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:1566">B}</a></span>) <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#C:1565">C</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:x_'`<=`'_x">`&lt;=`</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:1564">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#D:1567">D</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:x_'`<=`'_x">`&lt;=`</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:1566">B</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#set_bij">set_bij</a></span> <span class="id"><a href="mathcomp.classical.functions.html#D:1567">D</a></span> <span class="id"><a href="mathcomp.classical.functions.html#C:1565">C</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1568">f^-1</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'<->'_x">&lt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#set_bij">set_bij</a></span> <span class="id"><a href="mathcomp.classical.functions.html#C:1565">C</a></span> <span class="id"><a href="mathcomp.classical.functions.html#D:1567">D</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1568">f</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof214')">Proof.</span></div>
<div class="proofscript" id="proof214">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">CA</span> <span class="id">DB;</span> <span class="id">rewrite</span> <span class="id">-bij_sub_sym//</span> <span class="id">-oliftV</span> <span class="id"><a href="mathcomp.classical.functions.html#bij_olift">bij_olift</a></span>. Qed.</div>
<br/>
<span class="vernacular">Section</span> <span id="set_bij_lemmas" class="id">
  <a name="set_bij_lemmas" class="">set_bij_lemmas</a>
</span>.<br/>
<span class="vernacular">Context</span> <span class="id">{aT</span> <span id="rT:1570" class="id">
  <a name="rT:1570" class="">rT</a>
</span> <span class="id">:</span> <span class="id">Type}</span>.<br/>
<span class="vernacular">Implicit</span> <span class="id">Types</span> (<span class="id">A</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#set_bij_lemmas.aT">aT</a></span>) (<span class="id">B</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#set_bij_lemmas.rT">rT</a></span>) (<span class="id">f</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#set_bij_lemmas.aT">aT</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#set_bij_lemmas.rT">rT</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="set_bij00" class="id">
  <a name="set_bij00" class="">set_bij00</a>
</span> <span id="T:1571" class="id">
  <a name="T:1571" class="">T</a>
</span> <span id="U:1572" class="id">
  <a name="U:1572" class="">U</a>
</span> (<span id="f:1573" class="id">
  <a name="f:1573" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#T:1571">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#U:1572">U</a></span>) <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#set_bij">set_bij</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1573">f</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof215')">Proof.</span></div>
<div class="proofscript" id="proof215">
 <span class="gallina-kwd">by</span> <span class="id">split=&gt;</span> <span class="id">[_</span> <span class="id">[]//|x</span> <span class="id">y|//];</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>. Qed.</div>
<span class="vernacular">Hint</span> <span class="id">Resolve</span> <span class="id">set_bij00</span> <span class="id">:</span> <span class="id">core</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="inj_bij" class="id">
  <a name="inj_bij" class="">inj_bij</a>
</span> <span id="A:1574" class="id">
  <a name="A:1574" class="">A</a>
</span> <span id="f:1575" class="id">
  <a name="f:1575" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_'&'_','_x_'}'">{in</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:1574">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_'&'_','_x_'}'">&amp;,</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#injective">injective</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1575">f}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#set_bij">set_bij</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:1574">A</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#f:1575">f</a></span> <span class="id">@`</span> <span class="id"><a href="mathcomp.classical.functions.html#A:1574">A</a></span>) <span class="id"><a href="mathcomp.classical.functions.html#f:1575">f</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof216')">Proof.</span></div>
<div class="proofscript" id="proof216">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">/Pinj[{}f-&gt;];</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'''bij_'_x">'bij_[fun</a></span> <span class="id">f</span> <span class="gallina-kwd">in</span> <span class="id">A]</span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="bij_subl" class="id">
  <a name="bij_subl" class="">bij_subl</a>
</span> <span id="A:1576" class="id">
  <a name="A:1576" class="">A</a>
</span> <span id="B:1577" class="id">
  <a name="B:1577" class="">B</a>
</span> <span id="C:1578" class="id">
  <a name="C:1578" class="">C</a>
</span> <span id="D:1579" class="id">
  <a name="D:1579" class="">D</a>
</span> (<span id="f:1580" class="id">
  <a name="f:1580" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'bij'_x_'>->'_x_'}'">{bij</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:1576">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'bij'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:1577">B}</a></span>) <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#C:1578">C</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:x_'`<=`'_x">`&lt;=`</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:1576">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1580">f</a></span> <span class="id">@`</span> <span class="id"><a href="mathcomp.classical.functions.html#C:1578">C</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.classical.functions.html#D:1579">D</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#set_bij">set_bij</a></span> <span class="id"><a href="mathcomp.classical.functions.html#C:1578">C</a></span> <span class="id"><a href="mathcomp.classical.functions.html#D:1579">D</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1580">f</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof217')">Proof.</span></div>
<div class="proofscript" id="proof217">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">/homo_setP</span> <span class="id">CA</span> <span class="id">&lt;-;</span> <span class="id">split=&gt;</span> <span class="id">//</span> <span class="id">x</span> <span class="id">y</span> <span class="id">/CA</span> <span class="id">+</span> <span class="id">/CA</span> <span class="id">+;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.classical.functions.html#inj">inj</a></span>. Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.classical.functions.html#set_bij_lemmas">set_bij_lemmas</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="set_bij_lemmas" class="id">
  <a name="set_bij_lemmas" class="">set_bij_lemmas</a>
</span>.<br/>
<span class="vernacular">Context</span> <span class="id">{aT</span> <span id="rT:1582" class="id">
  <a name="rT:1582" class="">rT</a>
</span> <span class="id">:</span> <span class="id">Type}</span>.<br/>
<span class="vernacular">Implicit</span> <span class="id">Types</span> (<span class="id">A</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#set_bij_lemmas.aT">aT</a></span>) (<span class="id">B</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#set_bij_lemmas.rT">rT</a></span>) (<span class="id">f</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#set_bij_lemmas.aT">aT</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#set_bij_lemmas.rT">rT</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="bij_subr" class="id">
  <a name="bij_subr" class="">bij_subr</a>
</span> <span id="A:1583" class="id">
  <a name="A:1583" class="">A</a>
</span> <span id="B:1584" class="id">
  <a name="B:1584" class="">B</a>
</span> <span id="C:1585" class="id">
  <a name="C:1585" class="">C</a>
</span> <span id="D:1586" class="id">
  <a name="D:1586" class="">D</a>
</span> (<span id="f:1587" class="id">
  <a name="f:1587" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'bij'_x_'>->'_x_'}'">{bij</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:1583">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'bij'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:1584">B}</a></span>) <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#C:1585">C</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:1583">A</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:x_'`&`'_x">`&amp;`</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#f:1587">f</a></span> <span class="id">@^-1`</span> <span class="id"><a href="mathcomp.classical.functions.html#D:1586">D</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#D:1586">D</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:x_'`<=`'_x">`&lt;=`</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:1584">B</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#set_bij">set_bij</a></span> <span class="id"><a href="mathcomp.classical.functions.html#C:1585">C</a></span> <span class="id"><a href="mathcomp.classical.functions.html#D:1586">D</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1587">f</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof218')">Proof.</span></div>
<div class="proofscript" id="proof218">
<span class="id">move=&gt;</span> <span class="id">-&gt;</span> <span class="id">DB;</span> <span class="id">apply/bij_sub_sym=&gt;</span> <span class="id">//;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.classical.functions.html#bij_subl">bij_subl</a></span> <span class="id">=&gt;</span> <span class="id">//=</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#oinv_sub_image">oinv_sub_image</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="bij_sub" class="id">
  <a name="bij_sub" class="">bij_sub</a>
</span> <span id="A:1588" class="id">
  <a name="A:1588" class="">A</a>
</span> <span id="B:1589" class="id">
  <a name="B:1589" class="">B</a>
</span> <span id="C:1590" class="id">
  <a name="C:1590" class="">C</a>
</span> <span id="D:1591" class="id">
  <a name="D:1591" class="">D</a>
</span> (<span id="f:1592" class="id">
  <a name="f:1592" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'bij'_x_'>->'_x_'}'">{bij</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:1588">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'bij'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:1589">B}</a></span>) <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#C:1590">C</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:x_'`<=`'_x">`&lt;=`</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:1588">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#D:1591">D</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:x_'`<=`'_x">`&lt;=`</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:1589">B</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_'/'_x_'>->'_x_'}'">{homo</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1592">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_'/'_x_'>->'_x_'}'">:</a></span> <span id="x:1594" class="id"><span id="x:1593" class="id">
  <a name="x:1594" class="">x</a>
</span></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_'/'_x_'>->'_x_'}'">/</a></span> <span class="id"><a href="mathcomp.classical.functions.html#C:1590">C</a></span> <span class="id"><a href="mathcomp.classical.functions.html#x:1593">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_'/'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#D:1591">D</a></span> <span class="id"><a href="mathcomp.classical.functions.html#x:1594">x}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_'/'_x_'>->'_x_'}'">{homo</a></span> <span class="id"><a href="mathcomp.classical.functions.html#:::'''oinv_'_x">'oinv_f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_'/'_x_'>->'_x_'}'">:</a></span> <span id="x:1596" class="id"><span id="x:1595" class="id">
  <a name="x:1596" class="">x</a>
</span></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_'/'_x_'>->'_x_'}'">/</a></span> <span class="id"><a href="mathcomp.classical.functions.html#D:1591">D</a></span> <span class="id"><a href="mathcomp.classical.functions.html#x:1595">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_'/'_x_'>->'_x_'}'">&gt;-&gt;</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#some">some</a></span> <span class="id">@`</span> <span class="id"><a href="mathcomp.classical.functions.html#C:1590">C</a></span>) <span class="id"><a href="mathcomp.classical.functions.html#x:1596">x}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#set_bij">set_bij</a></span> <span class="id"><a href="mathcomp.classical.functions.html#C:1590">C</a></span> <span class="id"><a href="mathcomp.classical.functions.html#D:1591">D</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1592">f</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof219')">Proof.</span></div>
<div class="proofscript" id="proof219">
<span class="id">move=&gt;</span> <span class="id">CA</span> <span class="id">DB</span> <span class="id">fCD</span> <span class="id">fDC;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.classical.functions.html#bij_subl">bij_subl</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">apply/seteqP;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply/image_subP</span>.<br/>
<span class="id">move=&gt;</span> <span class="id">y</span> <span class="id">/[dup]/[dup]</span> <span class="id">Dy</span> <span class="id">/DB</span> <span class="id">By</span> <span class="id">/fDC</span> <span class="id">[x</span> <span class="id">Cx]/=</span> <span class="id">xfy;</span> <span class="gallina-kwd">exists</span> <span class="id">x</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">move:</span> <span class="id">xfy</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">case:</span> <span class="id"><a href="mathcomp.classical.functions.html#oinvP">oinvP</a></span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">a</span> <span class="id">Aa</span> <span class="id">_</span> <span class="id">[-&gt;]</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="splitbij_sub" class="id">
  <a name="splitbij_sub" class="">splitbij_sub</a>
</span> <span id="A:1597" class="id">
  <a name="A:1597" class="">A</a>
</span> <span id="B:1598" class="id">
  <a name="B:1598" class="">B</a>
</span> <span id="C:1599" class="id">
  <a name="C:1599" class="">C</a>
</span> <span id="D:1600" class="id">
  <a name="D:1600" class="">D</a>
</span> (<span id="f:1601" class="id">
  <a name="f:1601" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitbij'_x_'>->'_x_'}'">{splitbij</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:1597">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitbij'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:1598">B}</a></span>) <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#C:1599">C</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:x_'`<=`'_x">`&lt;=`</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:1597">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#D:1600">D</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:x_'`<=`'_x">`&lt;=`</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:1598">B</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_'/'_x_'>->'_x_'}'">{homo</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1601">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_'/'_x_'>->'_x_'}'">:</a></span> <span id="x:1603" class="id"><span id="x:1602" class="id">
  <a name="x:1603" class="">x</a>
</span></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_'/'_x_'>->'_x_'}'">/</a></span> <span class="id"><a href="mathcomp.classical.functions.html#C:1599">C</a></span> <span class="id"><a href="mathcomp.classical.functions.html#x:1602">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_'/'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#D:1600">D</a></span> <span class="id"><a href="mathcomp.classical.functions.html#x:1603">x}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_'/'_x_'>->'_x_'}'">{homo</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1601">f^-1</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_'/'_x_'>->'_x_'}'">:</a></span> <span id="x:1605" class="id"><span id="x:1604" class="id">
  <a name="x:1605" class="">x</a>
</span></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_'/'_x_'>->'_x_'}'">/</a></span> <span class="id"><a href="mathcomp.classical.functions.html#D:1600">D</a></span> <span class="id"><a href="mathcomp.classical.functions.html#x:1604">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_'/'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#C:1599">C</a></span> <span class="id"><a href="mathcomp.classical.functions.html#x:1605">x}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#set_bij">set_bij</a></span> <span class="id"><a href="mathcomp.classical.functions.html#C:1599">C</a></span> <span class="id"><a href="mathcomp.classical.functions.html#D:1600">D</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1601">f</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof220')">Proof.</span></div>
<div class="proofscript" id="proof220">
<span class="id">move=&gt;</span> <span class="id">CA</span> <span class="id">DB</span> <span class="id">/</span>(<span class="id"><a href="mathcomp.classical.functions.html#bij_sub">bij_sub</a></span> <span class="id">CA</span> <span class="id">DB</span>) <span class="id">/[swap]</span> <span class="id">fDC;</span> <span class="id">apply=&gt;</span> <span class="id">x</span> <span class="id">Dx</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-some_inv/=;</span> <span class="gallina-kwd">exists</span> (<span class="id">f^-1</span> <span class="id">x</span>) <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">apply:</span> <span class="id">fDC</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="can2_bij" class="id">
  <a name="can2_bij" class="">can2_bij</a>
</span> <span id="A:1606" class="id">
  <a name="A:1606" class="">A</a>
</span> <span id="B:1607" class="id">
  <a name="B:1607" class="">B</a>
</span> (<span id="f:1608" class="id">
  <a name="f:1608" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'{'_'fun'_x_'>->'_x_'}'">{fun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:1606">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'{'_'fun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:1607">B}</a></span>) (<span id="g:1609" class="id">
  <a name="g:1609" class="">g</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'{'_'fun'_x_'>->'_x_'}'">{fun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:1607">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'{'_'fun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:1606">A}</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_','_x_'}'">{in</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:1606">A,</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1608">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#g:1609">g}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_','_x_'}'">{in</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:1607">B,</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id"><a href="mathcomp.classical.functions.html#g:1609">g</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1608">f}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#set_bij">set_bij</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:1606">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:1607">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1608">f</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof221')">Proof.</span></div>
<div class="proofscript" id="proof221">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">/can_in_inj</span> <span class="id">finj</span> <span class="id">/can_surj</span> <span class="id">gK;</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">apply:</span> <span class="id">gK</span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="bij_sub_setUrl" class="id">
  <a name="bij_sub_setUrl" class="">bij_sub_setUrl</a>
</span> <span id="A:1610" class="id">
  <a name="A:1610" class="">A</a>
</span> <span id="B:1611" class="id">
  <a name="B:1611" class="">B</a>
</span> <span id="B':1612" class="id">
  <a name="B':1612" class="">B'</a>
</span> <span id="f:1613" class="id">
  <a name="f:1613" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'disjoint'_x_'&'_x_']'">[disjoint</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:1611">B</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'disjoint'_x_'&'_x_']'">&amp;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B':1612">B']</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#set_bij">set_bij</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:1610">A</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#B:1611">B</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:x_'`|`'_x">`|`</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B':1612">B'</a></span>) <span class="id"><a href="mathcomp.classical.functions.html#f:1613">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#set_bij">set_bij</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#A:1610">A</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:x_'`\`'_x">`\`</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1613">f</a></span> <span class="id">@^-1`</span> <span class="id"><a href="mathcomp.classical.functions.html#B':1612">B'</a></span>) <span class="id"><a href="mathcomp.classical.functions.html#B:1611">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1613">f</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof222')">Proof.</span></div>
<div class="proofscript" id="proof222">
<span class="id">move=&gt;</span> <span class="id">/disj_setPS</span> <span class="id">BB'</span> <span class="id">/Pbij[{}f-&gt;];</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.classical.functions.html#bij_subr">bij_subr;</a></span> <span class="id">last</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#subsetUl">subsetUl</a></span>.<br/>
<span class="id">apply/seteqP;</span> <span class="id">split=&gt;</span> <span class="id">x</span> <span class="id">/=</span> <span class="id">[Ax</span> <span class="id">Bfx];</span> <span class="id">split=&gt;</span> <span class="id">//;</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">have</span> <span class="id">[]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'''funS_'_x">'funS_f</a></span> <span class="id">Ax</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">B'fx;</span> <span class="id">apply:</span> (<span class="id">BB'</span> (<span class="id">f</span> <span class="id">x</span>)).<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="bij_sub_setUrr" class="id">
  <a name="bij_sub_setUrr" class="">bij_sub_setUrr</a>
</span> <span id="A:1614" class="id">
  <a name="A:1614" class="">A</a>
</span> <span id="B:1615" class="id">
  <a name="B:1615" class="">B</a>
</span> <span id="B':1616" class="id">
  <a name="B':1616" class="">B'</a>
</span> <span id="f:1617" class="id">
  <a name="f:1617" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'disjoint'_x_'&'_x_']'">[disjoint</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:1615">B</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'disjoint'_x_'&'_x_']'">&amp;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B':1616">B']</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#set_bij">set_bij</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:1614">A</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#B:1615">B</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:x_'`|`'_x">`|`</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B':1616">B'</a></span>) <span class="id"><a href="mathcomp.classical.functions.html#f:1617">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#set_bij">set_bij</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#A:1614">A</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:x_'`\`'_x">`\`</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1617">f</a></span> <span class="id">@^-1`</span> <span class="id"><a href="mathcomp.classical.functions.html#B:1615">B</a></span>) <span class="id"><a href="mathcomp.classical.functions.html#B':1616">B'</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1617">f</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof223')">Proof.</span></div>
<div class="proofscript" id="proof223">
 <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setUC">setUC</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#disj_set_sym">disj_set_sym;</a></span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.classical.functions.html#bij_sub_setUrl">bij_sub_setUrl</a></span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="bij_sub_setUll" class="id">
  <a name="bij_sub_setUll" class="">bij_sub_setUll</a>
</span> <span id="A:1618" class="id">
  <a name="A:1618" class="">A</a>
</span> <span id="A':1619" class="id">
  <a name="A':1619" class="">A'</a>
</span> <span id="B:1620" class="id">
  <a name="B:1620" class="">B</a>
</span> <span id="f:1621" class="id">
  <a name="f:1621" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'disjoint'_x_'&'_x_']'">[disjoint</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:1618">A</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'disjoint'_x_'&'_x_']'">&amp;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A':1619">A']</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#set_bij">set_bij</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#A:1618">A</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:x_'`|`'_x">`|`</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A':1619">A'</a></span>) <span class="id"><a href="mathcomp.classical.functions.html#B:1620">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1621">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#set_bij">set_bij</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:1618">A</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#B:1620">B</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:x_'`\`'_x">`\`</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1621">f</a></span> <span class="id">@`</span> <span class="id"><a href="mathcomp.classical.functions.html#A':1619">A'</a></span>) <span class="id"><a href="mathcomp.classical.functions.html#f:1621">f</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof224')">Proof.</span></div>
<div class="proofscript" id="proof224">
<span class="id">move=&gt;</span> <span class="id">/disj_setPS</span> <span class="id">AA'</span> <span class="id">/Pbij[{}f-&gt;]</span>.<br/>
<span class="id">apply:</span> <span class="id"><a href="mathcomp.classical.functions.html#bij_sub">bij_sub</a></span> <span class="id">=&gt;</span> <span class="id">[|?</span> <span class="id">[]//||];</span> <span class="id">first</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#subsetUl">subsetUl</a></span>.<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">x</span> <span class="id">Ax</span> <span class="id">/=;</span> <span class="id">split;</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.classical.functions.html#funS">funS;</a></span> <span class="id">left</span>.<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">[y]</span> <span class="id">A'y</span> <span class="id">/inj;</span> <span class="id">rewrite</span> <span class="id">!inE/=</span> <span class="id">=&gt;yx;</span> <span class="id">apply:</span> (<span class="id">AA'</span> <span class="id">x</span>).<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">split=&gt;</span> <span class="id">//;</span> <span class="id">rewrite</span> <span class="id">-yx</span> <span class="id">//;</span> <span class="id">[right|left]</span>.<br/>
<span class="id">move=&gt;</span> <span class="id">z</span> <span class="id">[Bz</span> <span class="id">/=</span> <span class="id">/not_exists2P</span> <span class="id">/contrapT]</span> <span class="id">A'fxz</span>.<br/>
<span class="id">case:</span> <span class="id"><a href="mathcomp.classical.functions.html#oinvP">oinvP=&gt;</a></span> <span class="id">//</span> <span class="id">x</span> <span class="id">AA'x</span> <span class="id">fxz;</span> <span class="gallina-kwd">exists</span> <span class="id">x</span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">have</span> <span class="id">:=</span> <span class="id">A'fxz</span> <span class="id">x;</span> <span class="id">rewrite</span> <span class="id">fxz</span> <span class="id">=&gt;</span> <span class="id">-[|//];</span> <span class="id">case:</span> <span class="id">AA'x</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="bij_sub_setUlr" class="id">
  <a name="bij_sub_setUlr" class="">bij_sub_setUlr</a>
</span> <span id="A:1622" class="id">
  <a name="A:1622" class="">A</a>
</span> <span id="A':1623" class="id">
  <a name="A':1623" class="">A'</a>
</span> <span id="B:1624" class="id">
  <a name="B:1624" class="">B</a>
</span> <span id="f:1625" class="id">
  <a name="f:1625" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'disjoint'_x_'&'_x_']'">[disjoint</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:1622">A</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'disjoint'_x_'&'_x_']'">&amp;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A':1623">A']</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#set_bij">set_bij</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#A:1622">A</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:x_'`|`'_x">`|`</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A':1623">A'</a></span>) <span class="id"><a href="mathcomp.classical.functions.html#B:1624">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1625">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#set_bij">set_bij</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A':1623">A'</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#B:1624">B</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:x_'`\`'_x">`\`</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1625">f</a></span> <span class="id">@`</span> <span class="id"><a href="mathcomp.classical.functions.html#A:1622">A</a></span>) <span class="id"><a href="mathcomp.classical.functions.html#f:1625">f</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof225')">Proof.</span></div>
<div class="proofscript" id="proof225">
 <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setUC">setUC</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#disj_set_sym">disj_set_sym;</a></span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.classical.functions.html#bij_sub_setUll">bij_sub_setUll</a></span>. Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.classical.functions.html#set_bij_lemmas">set_bij_lemmas</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="bij_II_D1" class="id">
  <a name="bij_II_D1" class="">bij_II_D1</a>
</span> <span id="T:1626" class="id">
  <a name="T:1626" class="">T</a>
</span> <span id="n:1627" class="id">
  <a name="n:1627" class="">n</a>
</span> (<span id="A:1628" class="id">
  <a name="A:1628" class="">A</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#T:1626">T</a></span>) (<span id="f:1629" class="id">
  <a name="f:1629" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#T:1626">T</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#set_bij">set_bij</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#:::'`I_'_x">`I_n</a></span>.<span class="id">+1</span> <span class="id"><a href="mathcomp.classical.functions.html#A:1628">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1629">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#set_bij">set_bij</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#:::'`I_'_x">`I_n</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#A:1628">A</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:x_'`\'_x">`\</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1629">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#n:1627">n</a></span>) <span class="id"><a href="mathcomp.classical.functions.html#f:1629">f</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof226')">Proof.</span></div>
<div class="proofscript" id="proof226">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#IIS">IIS</a></span> <span class="id">-image_set1;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.classical.functions.html#bij_sub_setUll">bij_sub_setUll</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">apply/disj_setPS</span> <span class="id">=&gt;</span> <span class="id">i</span> <span class="id">[/=</span> <span class="id">/[swap]-&gt;];</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.ssrnat.html#ltnn">ltnn</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="set_bij_comp" class="id">
  <a name="set_bij_comp" class="">set_bij_comp</a>
</span> <span id="T1:1630" class="id">
  <a name="T1:1630" class="">T1</a>
</span> <span id="T2:1631" class="id">
  <a name="T2:1631" class="">T2</a>
</span> <span id="T3:1632" class="id">
  <a name="T3:1632" class="">T3</a>
</span> (<span id="A:1633" class="id">
  <a name="A:1633" class="">A</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#T1:1630">T1</a></span>) (<span id="B:1634" class="id">
  <a name="B:1634" class="">B</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#T2:1631">T2</a></span>) (<span id="C:1635" class="id">
  <a name="C:1635" class="">C</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#T3:1632">T3</a></span>) <span id="f:1636" class="id">
  <a name="f:1636" class="">f</a>
</span> <span id="g:1637" class="id">
  <a name="g:1637" class="">g</a>
</span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#set_bij">set_bij</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:1633">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:1634">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1636">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#set_bij">set_bij</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:1634">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#C:1635">C</a></span> <span class="id"><a href="mathcomp.classical.functions.html#g:1637">g</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#set_bij">set_bij</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:1633">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#C:1635">C</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#g:1637">g</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:x_'\o'_x">\o</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1636">f</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof227')">Proof.</span></div>
<div class="proofscript" id="proof227">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">/Pbij[{}f-&gt;]</span> <span class="id">/Pbij[{}g-&gt;];</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'''bij_'_x">'bij_</a></span>(<span class="id">g</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:x_'\o'_x">\o</a></span> <span class="id">f</span>). Qed.</div>
<br/>
<span class="vernacular">Section</span> <span id="pointed_inverse" class="id">
  <a name="pointed_inverse" class="">pointed_inverse</a>
</span>.<br/>
<span class="vernacular">Context</span> <span class="id">{T</span> <span id="U:1639" class="id">
  <a name="U:1639" class="">U}</a>
</span> (<span id="dflt:1640" class="id">
  <a name="dflt:1640" class="">dflt</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#U:1639">U</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#T:1638">T</a></span>) (<span id="A:1641" class="id">
  <a name="A:1641" class="">A</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#T:1638">T</a></span>).<br/>
<span class="vernacular">Implicit</span> <span class="id">Types</span> (<span class="id">f</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse.T">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse.U">U</a></span>) (<span class="id">i</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'inj'_x_'>->'_x_'}'">{inj</a></span> <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'inj'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse.U">U}</a></span>).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="pinv_" class="id">
  <a name="pinv_" class="">pinv_</a>
</span> <span id="f:1642" class="id">
  <a name="f:1642" class="">f</a>
</span> <span class="id">:=</span> (<span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'''split_'_x">'split_dflt</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'''split_'_x">[fun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1642">f</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse.A">A]</a></span>)<span class="id">^-1</span>.<br/>
<span class="id">Local</span> <span class="vernacular">Notation</span> <span id="pinv" class="id">
  <a name="pinv" class="">pinv</a>
</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#pinv_">pinv_</a></span>.<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span id="f:1643" class="id">
  <a name="f:1643" class="">f</a>
</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#Build">Inv.Build</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.classical.functions.html#pinv">pinv</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1643">f</a></span>) <span class="id"><a href="mathcomp.classical.functions.html#f:1643">f</a></span>.<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span id="f:1644" class="id">
  <a name="f:1644" class="">f</a>
</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#on">Fun.on</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#pinv">pinv</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1644">f</a></span>).<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span id="f:1645" class="id">
  <a name="f:1645" class="">f</a>
</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#on">SplitInjFun.on</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#pinv">pinv</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1645">f</a></span>).<br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span id="i:1646" class="id">
  <a name="i:1646" class="">i</a>
</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#on">SplitBij.on</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#pinv">pinv</a></span> <span class="id"><a href="mathcomp.classical.functions.html#i:1646">i</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="pinvK" class="id">
  <a name="pinvK" class="">pinvK</a>
</span> <span id="f:1647" class="id">
  <a name="f:1647" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_','_x_'}'">{in</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1647">f</a></span> <span class="id">@`</span> <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse.A">A,</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#pinv">pinv</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1647">f</a></span>) <span class="id"><a href="mathcomp.classical.functions.html#f:1647">f}</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof228')">Proof.</span></div>
<div class="proofscript" id="proof228">
 <span class="id">exact:</span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'''funK_'_x">'funK_</a></span>(<span class="id"><a href="mathcomp.classical.functions.html#pinv">pinv</a></span> <span class="id">f</span>). Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="pinvKV" class="id">
  <a name="pinvKV" class="">pinvKV</a>
</span> <span id="f:1648" class="id">
  <a name="f:1648" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_'&'_','_x_'}'">{in</a></span> <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse.A">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_'&'_','_x_'}'">&amp;,</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#injective">injective</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1648">f}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_','_x_'}'">{in</a></span> <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse.A">A,</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1648">f</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#pinv">pinv</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1648">f</a></span>)<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_','_x_'}'">}</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof229')">Proof.</span></div>
<div class="proofscript" id="proof229">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">/Pinj[{}f-&gt;];</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.classical.functions.html#funK">funK</a></span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="injpinv_surj" class="id">
  <a name="injpinv_surj" class="">injpinv_surj</a>
</span> <span id="f:1649" class="id">
  <a name="f:1649" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_'&'_','_x_'}'">{in</a></span> <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse.A">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_'&'_','_x_'}'">&amp;,</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#injective">injective</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1649">f}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#set_surj">set_surj</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#f:1649">f</a></span> <span class="id">@`</span> <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse.A">A</a></span>) <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse.A">A</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#pinv">pinv</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1649">f</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof230')">Proof.</span></div>
<div class="proofscript" id="proof230">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">/Pinj[{}f-&gt;];</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.classical.functions.html#surj">surj</a></span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="injpinv_image" class="id">
  <a name="injpinv_image" class="">injpinv_image</a>
</span> <span id="f:1650" class="id">
  <a name="f:1650" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_'&'_','_x_'}'">{in</a></span> <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse.A">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_'&'_','_x_'}'">&amp;,</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#injective">injective</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1650">f}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#pinv">pinv</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1650">f</a></span> <span class="id">@`</span> (<span class="id"><a href="mathcomp.classical.functions.html#f:1650">f</a></span> <span class="id">@`</span> <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse.A">A</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse.A">A</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof231')">Proof.</span></div>
<div class="proofscript" id="proof231">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">/Pinj[{}f-&gt;];</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#image_eq">image_eq</a></span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="injpinv_bij" class="id">
  <a name="injpinv_bij" class="">injpinv_bij</a>
</span> <span id="f:1651" class="id">
  <a name="f:1651" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_'&'_','_x_'}'">{in</a></span> <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse.A">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_'&'_','_x_'}'">&amp;,</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#injective">injective</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1651">f}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#set_bij">set_bij</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#f:1651">f</a></span> <span class="id">@`</span> <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse.A">A</a></span>) <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse.A">A</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#pinv">pinv</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1651">f</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof232')">Proof.</span></div>
<div class="proofscript" id="proof232">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">/Pinj[{}f-&gt;];</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.classical.functions.html#bij">bij</a></span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="surjpK" class="id">
  <a name="surjpK" class="">surjpK</a>
</span> <span id="B:1652" class="id">
  <a name="B:1652" class="">B</a>
</span> <span id="f:1653" class="id">
  <a name="f:1653" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#set_surj">set_surj</a></span> <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:1652">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1653">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_','_x_'}'">{in</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:1652">B,</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#pinv">pinv</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1653">f</a></span>) <span class="id"><a href="mathcomp.classical.functions.html#f:1653">f}</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof233')">Proof.</span></div>
<div class="proofscript" id="proof233">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">/homo_setP</span> <span class="id">BfA;</span> <span class="id">move=&gt;</span> <span class="id">x</span> <span class="id">/BfA</span> <span class="id">xfA;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#pinvK">pinvK</a></span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="surjpinv_image_sub" class="id">
  <a name="surjpinv_image_sub" class="">surjpinv_image_sub</a>
</span> <span id="B:1654" class="id">
  <a name="B:1654" class="">B</a>
</span> <span id="f:1655" class="id">
  <a name="f:1655" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#set_surj">set_surj</a></span> <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:1654">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1655">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#pinv">pinv</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1655">f</a></span> <span class="id">@`</span> <span class="id"><a href="mathcomp.classical.functions.html#B:1654">B</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:x_'`<=`'_x">`&lt;=`</a></span> <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse.A">A</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof234')">Proof.</span></div>
<div class="proofscript" id="proof234">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">fsurj;</span> <span class="id">apply:</span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#subset_trans">subset_trans</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#image_subset">image_subset</a></span> <span class="id">fsurj</span>)). Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="surjpinv_inj" class="id">
  <a name="surjpinv_inj" class="">surjpinv_inj</a>
</span> <span id="B:1656" class="id">
  <a name="B:1656" class="">B</a>
</span> <span id="f:1657" class="id">
  <a name="f:1657" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#set_surj">set_surj</a></span> <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:1656">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1657">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_'&'_','_x_'}'">{in</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:1656">B</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_'&'_','_x_'}'">&amp;,</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#injective">injective</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#pinv">pinv</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1657">f</a></span>)<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_'&'_','_x_'}'">}</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof235')">Proof.</span></div>
<div class="proofscript" id="proof235">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">/homo_setP/sub_in2;</span> <span class="id">apply</span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="surjpinv_bij" class="id">
  <a name="surjpinv_bij" class="">surjpinv_bij</a>
</span> <span id="B:1658" class="id">
  <a name="B:1658" class="">B</a>
</span> <span id="f:1659" class="id">
  <a name="f:1659" class="">f</a>
</span> (<span id="g:1660" class="id">
  <a name="g:1660" class="">g</a>
</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#pinv">pinv</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1659">f</a></span>) <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#set_surj">set_surj</a></span> <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:1658">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1659">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#set_bij">set_bij</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:1658">B</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#g:1660">g</a></span> <span class="id">@`</span> <span class="id"><a href="mathcomp.classical.functions.html#B:1658">B</a></span>) <span class="id"><a href="mathcomp.classical.functions.html#g:1660">g</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof236')">Proof.</span></div>
<div class="proofscript" id="proof236">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">f_surj;</span> <span class="id">split=&gt;</span> <span class="id">//;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.classical.functions.html#surjpinv_inj">surjpinv_inj</a></span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="bijpinv_bij" class="id">
  <a name="bijpinv_bij" class="">bijpinv_bij</a>
</span> <span id="B:1661" class="id">
  <a name="B:1661" class="">B</a>
</span> <span id="f:1662" class="id">
  <a name="f:1662" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#set_bij">set_bij</a></span> <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:1661">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1662">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#set_bij">set_bij</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:1661">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse.A">A</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#pinv">pinv</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1662">f</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof237')">Proof.</span></div>
<div class="proofscript" id="proof237">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">/Pbij[{}f-&gt;];</span> <span class="id">have</span> <span class="id">/=</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'''bij_'_x">'bij_</a></span>(<span class="id"><a href="mathcomp.classical.functions.html#pinv">pinv</a></span> <span class="id">f</span>)<span class="id">;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#image_eq">image_eq</a></span>. Qed.</div>
<br/>
<span class="vernacular">Section</span> <span id="pointed_inverse.pPbij" class="id">
  <a name="pointed_inverse.pPbij" class="">pPbij</a>
</span>.<br/>
<span class="vernacular">Context</span> <span class="id">{B:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse.U">U}</a></span> <span class="id">{f</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse.T">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse.U">U}</a></span> (<span id="fbij:1665" class="id">
  <a name="fbij:1665" class="">fbij</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#set_bij">set_bij</a></span> <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:1663">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1664">f</a></span>).<br/>
<span class="vernacular">Lemma</span> <span id="pPbij_" class="id">
  <a name="pPbij_" class="">pPbij_</a>
</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#::type_scope:'{'_x_':'_x_'|'_x_'}'">{s</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#::type_scope:'{'_x_':'_x_'|'_x_'}'">:</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitbij'_x_'>->'_x_'}'">{splitbij</a></span> <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitbij'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse.pPbij.B">B}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#::type_scope:'{'_x_':'_x_'|'_x_'}'">|</a></span> <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse.pPbij.f">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.classical.functions.html#s:1666">s}</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof238')">Proof.</span></div>
<div class="proofscript" id="proof238">
<span class="id">pose</span> <span class="id">h</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'['_'splitbij'_'of'_x_']'">[splitbij</a></span> <span class="id">of</span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'''split_'_x">'split_dflt</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'''split_'_x">[fun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse.pPbij.fbij">fbij</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse.A">A]];</a></span> <span class="id">have</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse.pPbij.f">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id">h</span> <span class="gallina-kwd">by</span> <span class="id">[]</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">move:</span> <span class="id">h;</span> <span class="id">rewrite</span> <span class="id">/=</span> (<span class="id"><a href="mathcomp.classical.functions.html#image_eq">image_eq</a></span> <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse.pPbij.fbij">fbij</a></span>) <span class="id">=&gt;</span> <span class="id">h;</span> <span class="gallina-kwd">exists</span> <span class="id">h</span>.<br/>
Qed.</div>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse.pPbij">pPbij</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="pointed_inverse.pPinj" class="id">
  <a name="pointed_inverse.pPinj" class="">pPinj</a>
</span>.<br/>
<span class="vernacular">Context</span> <span class="id">{f</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse.T">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse.U">U}</a></span> (<span id="finj:1668" class="id">
  <a name="finj:1668" class="">finj</a>
</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_'&'_','_x_'}'">{in</a></span> <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse.A">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_'&'_','_x_'}'">&amp;,</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#injective">injective</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1667">f}</a></span>).<br/>
<span class="vernacular">Lemma</span> <span id="pPinj_" class="id">
  <a name="pPinj_" class="">pPinj_</a>
</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#::type_scope:'{'_x_':'_x_'|'_x_'}'">{i</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#::type_scope:'{'_x_':'_x_'|'_x_'}'">:</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitinj'_x_'>->'_x_'}'">{splitinj</a></span> <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitinj'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse.U">U}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#::type_scope:'{'_x_':'_x_'|'_x_'}'">|</a></span> <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse.pPinj.f">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.classical.functions.html#i:1669">i}</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof239')">Proof.</span></div>
<div class="proofscript" id="proof239">
<span class="gallina-kwd">by</span> <span class="id">move:</span> <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse.pPinj.finj">finj</a></span> <span class="id">=&gt;</span> <span class="id">/Pinj[g</span> <span class="id">-&gt;];</span> <span class="gallina-kwd">exists</span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'['_'splitinj'_'of'_x_']'">[splitinj</a></span> <span class="id">of</span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'''split_'_x">'split_dflt</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'''split_'_x">[fun</a></span> <span class="id">g</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse.A">A]]</a></span>.<br/>
Qed.</div>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse.pPinj">pPinj</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="pointed_inverse.injpPfun" class="id">
  <a name="pointed_inverse.injpPfun" class="">injpPfun</a>
</span>.<br/>
<span class="vernacular">Context</span> <span class="id">{B</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse.U">U}</a></span> <span class="id">{f</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'inj'_x_'>->'_x_'}'">{inj</a></span> <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'inj'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse.U">U}}</a></span> (<span id="ffun:1674" class="id">
  <a name="ffun:1674" class="">ffun</a>
</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_'/'_x_'>->'_x_'}'">{homo</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1671">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_'/'_x_'>->'_x_'}'">:</a></span> <span id="x:1673" class="id"><span id="x:1672" class="id">
  <a name="x:1673" class="">x</a>
</span></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_'/'_x_'>->'_x_'}'">/</a></span> <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#x:1672">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_'/'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:1670">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#x:1673">x}</a></span>).<br/>
<span class="vernacular">Let</span> <span id="pointed_inverse.injpPfun.g" class="id">
  <a name="pointed_inverse.injpPfun.g" class="">g</a>
</span> <span class="id">:</span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse.injpPfun.f">f</a></span>.<br/>
<span class="id">#[local]</span> <span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#copy">SplitInj.copy</a></span> <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse.injpPfun.g">g</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'''split_'_x">'split_dflt</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'''split_'_x">[fun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse.injpPfun.g">g</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse.A">A]</a></span>).<br/>
<span class="id">#[local]</span> <span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#Build">isFun.Build</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse.injpPfun.g">g</a></span> <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse.injpPfun.ffun">ffun</a></span>.<br/>
<span class="vernacular">Lemma</span> <span id="injpPfun_" class="id">
  <a name="injpPfun_" class="">injpPfun_</a>
</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#::type_scope:'{'_x_':'_x_'|'_x_'}'">{i</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#::type_scope:'{'_x_':'_x_'|'_x_'}'">:</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitinjfun'_x_'>->'_x_'}'">{splitinjfun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitinjfun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse.injpPfun.B">B}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#::type_scope:'{'_x_':'_x_'|'_x_'}'">|</a></span> <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse.injpPfun.f">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x_':>'_x">=</a></span> <span class="id"><a href="mathcomp.classical.functions.html#i:1675">i</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x_':>'_x">:&gt;</a></span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id">_</span>)<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#::type_scope:'{'_x_':'_x_'|'_x_'}'">}</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof240')">Proof.</span></div>
<div class="proofscript" id="proof240">
 <span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'['_'splitinjfun'_'of'_x_']'">[splitinjfun</a></span> <span class="id">of</span> <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse.injpPfun.g">g]</a></span>. Qed.</div>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse.injpPfun">injpPfun</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="pointed_inverse.funpPinj" class="id">
  <a name="pointed_inverse.funpPinj" class="">funpPinj</a>
</span>.<br/>
<span class="vernacular">Context</span> <span class="id">{B</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse.U">U}</a></span> <span class="id">{f</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'{'_'fun'_x_'>->'_x_'}'">{fun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'{'_'fun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#B:1676">B}}</a></span> (<span id="finj:1678" class="id">
  <a name="finj:1678" class="">finj</a>
</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_'&'_','_x_'}'">{in</a></span> <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse.A">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_'&'_','_x_'}'">&amp;,</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#injective">injective</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1677">f}</a></span>).<br/>
<span class="vernacular">Lemma</span> <span id="funpPinj_" class="id">
  <a name="funpPinj_" class="">funpPinj_</a>
</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#::type_scope:'{'_x_':'_x_'|'_x_'}'">{i</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#::type_scope:'{'_x_':'_x_'|'_x_'}'">:</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitinjfun'_x_'>->'_x_'}'">{splitinjfun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::type_scope:'{'_'splitinjfun'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse.funpPinj.B">B}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#::type_scope:'{'_x_':'_x_'|'_x_'}'">|</a></span> <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse.funpPinj.f">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x_':>'_x">=</a></span> <span class="id"><a href="mathcomp.classical.functions.html#i:1679">i</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x_':>'_x">:&gt;</a></span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id">_</span>)<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#::type_scope:'{'_x_':'_x_'|'_x_'}'">}</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof241')">Proof.</span></div>
<div class="proofscript" id="proof241">
 <span class="gallina-kwd">by</span> <span class="id">move:</span> <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse.funpPinj.finj">finj</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'''funS_'_x">'funS_f</a></span> <span class="id">=&gt;</span> <span class="id">/pPinj_[g</span> <span class="id">-&gt;]/injpPfun_</span>. Qed.</div>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse.funpPinj">funpPinj</a></span>.<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse">pointed_inverse</a></span>.<br/>
<span class="vernacular">Notation</span> <span id="::form_scope:'''pinv_'_x" class="id">
  <a name="::form_scope:'''pinv_'_x" class="">"''pinv_'&nbsp;dflt"</a>
</span> <span class="id">:=</span> (<span class="id"><a href="mathcomp.classical.functions.html#pinv_">pinv_</a></span> <span class="id">dflt</span>) <span class="id">:</span> <span class="id">form_scope</span>.<br/>
<span class="vernacular">Notation</span> <span id="pinv" class="id">
  <a name="pinv" class="">pinv</a>
</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'''pinv_'_x">'pinv_point</a></span>.<br/>
<span class="vernacular">Notation</span> <span id="::form_scope:'''pPbij_'_x" class="id">
  <a name="::form_scope:'''pPbij_'_x" class="">"''pPbij_'&nbsp;dflt"</a>
</span> <span class="id">:=</span> (<span class="id"><a href="mathcomp.classical.functions.html#pPbij_">pPbij_</a></span> <span class="id">dflt</span>) <span class="id">:</span> <span class="id">form_scope</span>.<br/>
<span class="vernacular">Notation</span> <span id="pPbij" class="id">
  <a name="pPbij" class="">pPbij</a>
</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'''pPbij_'_x">'pPbij_point</a></span>.<br/>
<span class="vernacular">Notation</span> <span id="selfPbij" class="id">
  <a name="selfPbij" class="">selfPbij</a>
</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'''pPbij_'_x">'pPbij_id</a></span>.<br/>
<span class="vernacular">Notation</span> <span id="::form_scope:'''pPinj_'_x" class="id">
  <a name="::form_scope:'''pPinj_'_x" class="">"''pPinj_'&nbsp;dflt"</a>
</span> <span class="id">:=</span> (<span class="id"><a href="mathcomp.classical.functions.html#pPinj_">pPinj_</a></span> <span class="id">dflt</span>) <span class="id">:</span> <span class="id">form_scope</span>.<br/>
<span class="vernacular">Notation</span> <span id="pPinj" class="id">
  <a name="pPinj" class="">pPinj</a>
</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'''pPinj_'_x">'pPinj_point</a></span>.<br/>
<span class="vernacular">Notation</span> <span id="::form_scope:'''injpPfun_'_x" class="id">
  <a name="::form_scope:'''injpPfun_'_x" class="">"''injpPfun_'&nbsp;dflt"</a>
</span> <span class="id">:=</span> (<span class="id"><a href="mathcomp.classical.functions.html#injpPfun_">injpPfun_</a></span> <span class="id">dflt</span>) <span class="id">:</span> <span class="id">form_scope</span>.<br/>
<span class="vernacular">Notation</span> <span id="injpPfun" class="id">
  <a name="injpPfun" class="">injpPfun</a>
</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'''injpPfun_'_x">'injpPfun_point</a></span>.<br/>
<span class="vernacular">Notation</span> <span id="::form_scope:'''funpPinj_'_x" class="id">
  <a name="::form_scope:'''funpPinj_'_x" class="">"''funpPinj_'&nbsp;dflt"</a>
</span> <span class="id">:=</span> (<span class="id"><a href="mathcomp.classical.functions.html#funpPinj_">funpPinj_</a></span> <span class="id">dflt</span>) <span class="id">:</span> <span class="id">form_scope</span>.<br/>
<span class="vernacular">Notation</span> <span id="funpPinj" class="id">
  <a name="funpPinj" class="">funpPinj</a>
</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'''funpPinj_'_x">'funpPinj_point</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="function_space" class="id">
  <a name="function_space" class="">function_space</a>
</span>.<br/>
<span class="id">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">ring_scope</span>.<br/>
<span class="vernacular">Import</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory">GRing.Theory</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="cst" class="id">
  <a name="cst" class="">cst</a>
</span> <span class="id">{T</span> <span id="T':1681" class="id">
  <a name="T':1681" class="">T'</a>
</span> <span class="id">:</span> <span class="id">Type}</span> (<span id="x:1682" class="id">
  <a name="x:1682" class="">x</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#T':1681">T'</a></span>) <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#T:1680">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#T':1681">T'</a></span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:'fun'_'=>'_x">fun=&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#x:1682">x</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="preimage_cst" class="id">
  <a name="preimage_cst" class="">preimage_cst</a>
</span> <span class="id">{aT</span> <span id="rT:1684" class="id">
  <a name="rT:1684" class="">rT</a>
</span> <span class="id">:</span> <span class="id">Type}</span> (<span id="a:1685" class="id">
  <a name="a:1685" class="">a</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#aT:1683">aT</a></span>) (<span id="A:1686" class="id">
  <a name="A:1686" class="">A</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#aT:1683">aT</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id">@cst</span> <span class="id"><a href="mathcomp.classical.functions.html#rT:1684">rT</a></span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#a:1685">a</a></span> <span class="id">@^-1`</span> <span class="id"><a href="mathcomp.classical.functions.html#A:1686">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="gallina-kwd">if</span> <span class="id"><a href="mathcomp.classical.functions.html#a:1685">a</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::bool_scope:x_'\in'_x">\in</a></span> <span class="id"><a href="mathcomp.classical.functions.html#A:1686">A</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="gallina-kwd">else</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof242')">Proof.</span></div>
<div class="proofscript" id="proof242">
<span class="id">apply/seteqP;</span> <span class="id">rewrite</span> <span class="id">/preimage;</span> <span class="id">split;</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">*;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#mem_set">mem_set</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">case:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span> <span class="id">=&gt;</span> <span class="id">[/[!inE]</span> <span class="id">?//|_];</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#sub0set">sub0set</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Obligation</span> <span class="vernacular">Tactic</span> <span class="id">:=</span> <span class="id">idtac</span>.<br/>
<br/>
<span class="id">Program</span> <span class="vernacular">Definition</span> <span id="fct_zmodMixin" class="id">
  <a name="fct_zmodMixin" class="">fct_zmodMixin</a>
</span> (<span id="T:1687" class="id">
  <a name="T:1687" class="">T</a>
</span> <span class="id">:</span> <span class="gallina-kwd">Type</span>) (<span id="M:1688" class="id">
  <a name="M:1688" class="">M</a>
</span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Zmodule.Exports.zmodType">zmodType</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id">@ZmodMixin</span> (<span class="id"><a href="mathcomp.classical.functions.html#T:1687">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#M:1688">M</a></span>) <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:'\0'">\0</a></span> (<span class="gallina-kwd">fun</span> <span id="f:1689" class="id">
  <a name="f:1689" class="">f</a>
</span> <span id="x:1690" class="id">
  <a name="x:1690" class="">x</a>
</span> <span class="id">=&gt;</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:'-'_x">-</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1689">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#x:1690">x</a></span>) (<span class="gallina-kwd">fun</span> <span id="f:1691" class="id">
  <a name="f:1691" class="">f</a>
</span> <span id="g:1692" class="id">
  <a name="g:1692" class="">g</a>
</span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.classical.functions.html#f:1691">f</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'\+'_x">\+</a></span> <span class="id"><a href="mathcomp.classical.functions.html#g:1692">g</a></span>) <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof243')">Next Obligation.</span></div>
<div class="proofscript" id="proof243">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">T</span> <span class="id">M</span> <span class="id">f</span> <span class="id">g</span> <span class="id">h;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE=&gt;</a></span> <span class="id">x</span> <span class="id">/=;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.addrA">addrA</a></span>. Qed.</div>
<div><span class="toggleproof" onclick="toggleDisplay('proof244')">Next Obligation.</span></div>
<div class="proofscript" id="proof244">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">T</span> <span class="id">M</span> <span class="id">f</span> <span class="id">g;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE=&gt;</a></span> <span class="id">x</span> <span class="id">/=;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.addrC">addrC</a></span>. Qed.</div>
<div><span class="toggleproof" onclick="toggleDisplay('proof245')">Next Obligation.</span></div>
<div class="proofscript" id="proof245">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">T</span> <span class="id">M</span> <span class="id">f;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE=&gt;</a></span> <span class="id">x</span> <span class="id">/=;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.add0r">add0r</a></span>. Qed.</div>
<div><span class="toggleproof" onclick="toggleDisplay('proof246')">Next Obligation.</span></div>
<div class="proofscript" id="proof246">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">T</span> <span class="id">M</span> <span class="id">f;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE=&gt;</a></span> <span class="id">x</span> <span class="id">/=;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.addNr">addNr</a></span>. Qed.</div>
<span class="vernacular">Canonical</span> <span id="fct_zmodType" class="id">
  <a name="fct_zmodType" class="">fct_zmodType</a>
</span> <span id="T:1693" class="id">
  <a name="T:1693" class="">T</a>
</span> (<span id="M:1694" class="id">
  <a name="M:1694" class="">M</a>
</span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Zmodule.Exports.zmodType">zmodType</a></span>) <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Zmodule.Exports.ZmodType">ZmodType</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#T:1693">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#M:1694">M</a></span>) (<span class="id"><a href="mathcomp.classical.functions.html#fct_zmodMixin">fct_zmodMixin</a></span> <span class="id"><a href="mathcomp.classical.functions.html#T:1693">T</a></span> <span class="id"><a href="mathcomp.classical.functions.html#M:1694">M</a></span>).<br/>
<br/>
<span class="id">Program</span> <span class="vernacular">Definition</span> <span id="fct_ringMixin" class="id">
  <a name="fct_ringMixin" class="">fct_ringMixin</a>
</span> (<span id="T:1695" class="id">
  <a name="T:1695" class="">T</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#Pointed.Exports.pointedType">pointedType</a></span>) (<span id="M:1696" class="id">
  <a name="M:1696" class="">M</a>
</span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Ring.Exports.ringType">ringType</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id">@RingMixin</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Zmodule.Exports.::form_scope:'['_'zmodType'_'of'_x_']'">[zmodType</a></span> <span class="id">of</span> <span class="id"><a href="mathcomp.classical.functions.html#T:1695">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#M:1696">M]</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> <span class="id">1</span>) (<span class="gallina-kwd">fun</span> <span id="f:1697" class="id">
  <a name="f:1697" class="">f</a>
</span> <span id="g:1698" class="id">
  <a name="g:1698" class="">g</a>
</span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.classical.functions.html#f:1697">f</a></span> <span class="id"><a href="mathcomp.classical.mathcomp_extra.html#::ring_scope:x_'\*'_x">\*</a></span> <span class="id"><a href="mathcomp.classical.functions.html#g:1698">g</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof247')">Next Obligation.</span></div>
<div class="proofscript" id="proof247">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">T</span> <span class="id">M</span> <span class="id">f</span> <span class="id">g</span> <span class="id">h;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE=&gt;</a></span> <span class="id">x</span> <span class="id">/=;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.mulrA">mulrA</a></span>. Qed.</div>
<div><span class="toggleproof" onclick="toggleDisplay('proof248')">Next Obligation.</span></div>
<div class="proofscript" id="proof248">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">T</span> <span class="id">M</span> <span class="id">f;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE=&gt;</a></span> <span class="id">x</span> <span class="id">/=;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.mul1r">mul1r</a></span>. Qed.</div>
<div><span class="toggleproof" onclick="toggleDisplay('proof249')">Next Obligation.</span></div>
<div class="proofscript" id="proof249">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">T</span> <span class="id">M</span> <span class="id">f;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE=&gt;</a></span> <span class="id">x</span> <span class="id">/=;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.mulr1">mulr1</a></span>. Qed.</div>
<div><span class="toggleproof" onclick="toggleDisplay('proof250')">Next Obligation.</span></div>
<div class="proofscript" id="proof250">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">T</span> <span class="id">M</span> <span class="id">f</span> <span class="id">g</span> <span class="id">h;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE=&gt;</a></span> <span class="id">x/=;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.mulrDl">mulrDl</a></span>. Qed.</div>
<div><span class="toggleproof" onclick="toggleDisplay('proof251')">Next Obligation.</span></div>
<div class="proofscript" id="proof251">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">T</span> <span class="id">M</span> <span class="id">f</span> <span class="id">g</span> <span class="id">h;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE=&gt;</a></span> <span class="id">x/=;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.mulrDr">mulrDr</a></span>. Qed.</div>
<div><span class="toggleproof" onclick="toggleDisplay('proof252')">Next Obligation.</span></div>
<div class="proofscript" id="proof252">
<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">T</span> <span class="id">M</span> <span class="id">;</span> <span class="id">apply/eqP;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE</a></span> <span class="id">=&gt;</span> <span class="id">/</span>(<span class="id">_</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#point">point</a></span>) <span class="id">/eqP;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.oner_eq0">oner_eq0</a></span>.<br/>
Qed.</div>
<span class="vernacular">Canonical</span> <span id="fct_ringType" class="id">
  <a name="fct_ringType" class="">fct_ringType</a>
</span> (<span id="T:1699" class="id">
  <a name="T:1699" class="">T</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#Pointed.Exports.pointedType">pointedType</a></span>) (<span id="M:1700" class="id">
  <a name="M:1700" class="">M</a>
</span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Ring.Exports.ringType">ringType</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Ring.Exports.RingType">RingType</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#T:1699">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#M:1700">M</a></span>) (<span class="id"><a href="mathcomp.classical.functions.html#fct_ringMixin">fct_ringMixin</a></span> <span class="id"><a href="mathcomp.classical.functions.html#T:1699">T</a></span> <span class="id"><a href="mathcomp.classical.functions.html#M:1700">M</a></span>).<br/>
<br/>
<span class="id">Program</span> <span class="vernacular">Canonical</span> <span id="fct_comRingType" class="id">
  <a name="fct_comRingType" class="">fct_comRingType</a>
</span> (<span id="T:1701" class="id">
  <a name="T:1701" class="">T</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#Pointed.Exports.pointedType">pointedType</a></span>) (<span id="M:1702" class="id">
  <a name="M:1702" class="">M</a>
</span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.ComRing.Exports.comRingType">comRingType</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.ComRing.Exports.ComRingType">ComRingType</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#T:1701">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#M:1702">M</a></span>) <span class="id">_</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof253')">Next Obligation.</span></div>
<div class="proofscript" id="proof253">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">T</span> <span class="id">M</span> <span class="id">f</span> <span class="id">g;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE</a></span> <span class="id">=&gt;</span> <span class="id">x/=;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.mulrC">mulrC</a></span>. Qed.</div>
<br/>
<span class="id">Program</span> <span class="vernacular">Definition</span> <span id="fct_lmodMixin" class="id">
  <a name="fct_lmodMixin" class="">fct_lmodMixin</a>
</span> (<span id="U:1703" class="id">
  <a name="U:1703" class="">U</a>
</span> <span class="id">:</span> <span class="gallina-kwd">Type</span>) (<span id="R:1704" class="id">
  <a name="R:1704" class="">R</a>
</span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Ring.Exports.ringType">ringType</a></span>) (<span id="V:1705" class="id">
  <a name="V:1705" class="">V</a>
</span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Lmodule.Exports.lmodType">lmodType</a></span> <span class="id"><a href="mathcomp.classical.functions.html#R:1704">R</a></span>)<br/>
&nbsp;&nbsp;<span class="id">:=</span> <span class="id">@LmodMixin</span> <span class="id"><a href="mathcomp.classical.functions.html#R:1704">R</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Zmodule.Exports.::form_scope:'['_'zmodType'_'of'_x_']'">[zmodType</a></span> <span class="id">of</span> <span class="id"><a href="mathcomp.classical.functions.html#U:1703">U</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#V:1705">V]</a></span> (<span class="gallina-kwd">fun</span> <span id="k:1706" class="id">
  <a name="k:1706" class="">k</a>
</span> <span id="f:1707" class="id">
  <a name="f:1707" class="">f</a>
</span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.classical.functions.html#k:1706">k</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'\*:'_x">\*:</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1707">f</a></span>) <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof254')">Next Obligation.</span></div>
<div class="proofscript" id="proof254">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">U</span> <span class="id">R</span> <span class="id">V</span> <span class="id">k</span> <span class="id">f</span> <span class="id">v;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE=&gt;</a></span> <span class="id">x;</span> <span class="id">exact:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.scalerA">scalerA</a></span>. Qed.</div>
<div><span class="toggleproof" onclick="toggleDisplay('proof255')">Next Obligation.</span></div>
<div class="proofscript" id="proof255">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">U</span> <span class="id">R</span> <span class="id">V</span> <span class="id">f;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE=&gt;</a></span> <span class="id">x</span> <span class="id">/=;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.scale1r">scale1r</a></span>. Qed.</div>
<div><span class="toggleproof" onclick="toggleDisplay('proof256')">Next Obligation.</span></div>
<div class="proofscript" id="proof256">
<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">U</span> <span class="id">R</span> <span class="id">V</span> <span class="id">f</span> <span class="id">g</span> <span class="id">h;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE</a></span> <span class="id">=&gt;</span> <span class="id">x</span> <span class="id">/=;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.scalerDr">scalerDr</a></span>.<br/>
Qed.</div>
<div><span class="toggleproof" onclick="toggleDisplay('proof257')">Next Obligation.</span></div>
<div class="proofscript" id="proof257">
<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">U</span> <span class="id">R</span> <span class="id">V</span> <span class="id">f</span> <span class="id">g</span> <span class="id">h;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE</a></span> <span class="id">=&gt;</span> <span class="id">x</span> <span class="id">/=;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.scalerDl">scalerDl</a></span>.<br/>
Qed.</div>
<span class="vernacular">Canonical</span> <span id="fct_lmodType" class="id">
  <a name="fct_lmodType" class="">fct_lmodType</a>
</span> <span id="U:1708" class="id">
  <a name="U:1708" class="">U</a>
</span> (<span id="R:1709" class="id">
  <a name="R:1709" class="">R</a>
</span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Ring.Exports.ringType">ringType</a></span>) (<span id="V:1710" class="id">
  <a name="V:1710" class="">V</a>
</span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Lmodule.Exports.lmodType">lmodType</a></span> <span class="id"><a href="mathcomp.classical.functions.html#R:1709">R</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Lmodule.Exports.LmodType">LmodType</a></span> <span class="id">_</span> (<span class="id"><a href="mathcomp.classical.functions.html#U:1708">U</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#V:1710">V</a></span>) (<span class="id"><a href="mathcomp.classical.functions.html#fct_lmodMixin">fct_lmodMixin</a></span> <span class="id"><a href="mathcomp.classical.functions.html#U:1708">U</a></span> <span class="id"><a href="mathcomp.classical.functions.html#V:1710">V</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="fct_sumE" class="id">
  <a name="fct_sumE" class="">fct_sumE</a>
</span> (<span id="I:1711" class="id">
  <a name="I:1711" class="">I</a>
</span> <span id="T:1712" class="id">
  <a name="T:1712" class="">T</a>
</span> <span class="id">:</span> <span class="gallina-kwd">Type</span>) (<span id="M:1713" class="id">
  <a name="M:1713" class="">M</a>
</span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Zmodule.Exports.zmodType">zmodType</a></span>) <span id="r:1714" class="id">
  <a name="r:1714" class="">r</a>
</span> (<span id="P:1715" class="id">
  <a name="P:1715" class="">P</a>
</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'pred'_x_'}'">{pred</a></span> <span class="id"><a href="mathcomp.classical.functions.html#I:1711">I}</a></span>) (<span id="f:1716" class="id">
  <a name="f:1716" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#I:1711">I</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#T:1712">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#M:1713">M</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="x:1717" class="id">
  <a name="x:1717" class="">x</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#T:1712">T</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;(<span class="id">\sum_</span>(<span id="i:1720" class="id"><span id="i:1719" class="id"><span id="i:1718" class="id">
  <a name="i:1720" class="">i</a>
</span></span></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:'\sum_'_'('_x_'<-'_x_'|'_x_')'_x">&lt;-</a></span> <span class="id"><a href="mathcomp.classical.functions.html#r:1714">r</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:'\sum_'_'('_x_'<-'_x_'|'_x_')'_x">|</a></span> <span class="id"><a href="mathcomp.classical.functions.html#P:1715">P</a></span> <span class="id"><a href="mathcomp.classical.functions.html#i:1718">i</a></span>) <span class="id"><a href="mathcomp.classical.functions.html#f:1716">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#i:1718">i</a></span>) <span class="id"><a href="mathcomp.classical.functions.html#x:1717">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:'\sum_'_'('_x_'<-'_x_'|'_x_')'_x">\sum_</a></span>(<span id="i:1723" class="id"><span id="i:1722" class="id"><span id="i:1721" class="id">
  <a name="i:1723" class="">i</a>
</span></span></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:'\sum_'_'('_x_'<-'_x_'|'_x_')'_x">&lt;-</a></span> <span class="id"><a href="mathcomp.classical.functions.html#r:1714">r</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:'\sum_'_'('_x_'<-'_x_'|'_x_')'_x">|</a></span> <span class="id"><a href="mathcomp.classical.functions.html#P:1715">P</a></span> <span class="id"><a href="mathcomp.classical.functions.html#i:1721">i</a></span>) <span class="id"><a href="mathcomp.classical.functions.html#f:1716">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#i:1721">i</a></span> <span class="id"><a href="mathcomp.classical.functions.html#x:1717">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof258')">Proof.</span></div>
<div class="proofscript" id="proof258">
 <span class="gallina-kwd">by</span> <span class="id">elim/big_rec2:</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id">//=</span> <span class="id">i</span> <span class="id">y</span> <span class="id">?</span> <span class="id">Pi</span> <span class="id">&lt;-</span>. Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.classical.functions.html#function_space">function_space</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="function_space_lemmas" class="id">
  <a name="function_space_lemmas" class="">function_space_lemmas</a>
</span>.<br/>
<span class="id">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">ring_scope</span>.<br/>
<span class="vernacular">Import</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory">GRing.Theory</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="addrfctE" class="id">
  <a name="addrfctE" class="">addrfctE</a>
</span> (<span id="T:1724" class="id">
  <a name="T:1724" class="">T</a>
</span> <span class="id">:</span> <span class="gallina-kwd">Type</span>) (<span id="K:1725" class="id">
  <a name="K:1725" class="">K</a>
</span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Zmodule.Exports.zmodType">zmodType</a></span>) (<span id="f:1726" class="id">
  <a name="f:1726" class="">f</a>
</span> <span id="g:1727" class="id">
  <a name="g:1727" class="">g</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#T:1724">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#K:1725">K</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#f:1726">f</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'+'_x">+</a></span> <span class="id"><a href="mathcomp.classical.functions.html#g:1727">g</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> (<span class="gallina-kwd">fun</span> <span id="x:1728" class="id">
  <a name="x:1728" class="">x</a>
</span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.classical.functions.html#f:1726">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#x:1728">x</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'+'_x">+</a></span> <span class="id"><a href="mathcomp.classical.functions.html#g:1727">g</a></span> <span class="id"><a href="mathcomp.classical.functions.html#x:1728">x</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof259')">Proof.</span></div>
<div class="proofscript" id="proof259">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="sumrfctE" class="id">
  <a name="sumrfctE" class="">sumrfctE</a>
</span> (<span id="T:1729" class="id">
  <a name="T:1729" class="">T</a>
</span> <span class="id">:</span> <span class="gallina-kwd">Type</span>) (<span id="K:1730" class="id">
  <a name="K:1730" class="">K</a>
</span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Zmodule.Exports.zmodType">zmodType</a></span>) (<span id="s:1731" class="id">
  <a name="s:1731" class="">s</a>
</span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#seq">seq</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#T:1729">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#K:1730">K</a></span>)) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:'\sum_'_'('_x_'<-'_x_')'_x">\sum_</a></span>(<span id="f:1734" class="id"><span id="f:1733" class="id"><span id="f:1732" class="id">
  <a name="f:1734" class="">f</a>
</span></span></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:'\sum_'_'('_x_'<-'_x_')'_x">&lt;-</a></span> <span class="id"><a href="mathcomp.classical.functions.html#s:1731">s</a></span>) <span class="id"><a href="mathcomp.classical.functions.html#f:1732">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> (<span class="gallina-kwd">fun</span> <span id="x:1735" class="id">
  <a name="x:1735" class="">x</a>
</span> <span class="id">=&gt;</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:'\sum_'_'('_x_'<-'_x_')'_x">\sum_</a></span>(<span id="f:1738" class="id"><span id="f:1737" class="id"><span id="f:1736" class="id">
  <a name="f:1738" class="">f</a>
</span></span></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:'\sum_'_'('_x_'<-'_x_')'_x">&lt;-</a></span> <span class="id"><a href="mathcomp.classical.functions.html#s:1731">s</a></span>) <span class="id"><a href="mathcomp.classical.functions.html#f:1736">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#x:1735">x</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof260')">Proof.</span></div>
<div class="proofscript" id="proof260">
 <span class="gallina-kwd">by</span> <span class="id">apply/funext</span> <span class="id">=&gt;</span> <span class="id">x;elim/big_ind2</span> <span class="id">:</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">_</span> <span class="id">a</span> <span class="id">_</span> <span class="id">b</span> <span class="id">&lt;-</span> <span class="id">&lt;-</span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="opprfctE" class="id">
  <a name="opprfctE" class="">opprfctE</a>
</span> (<span id="T:1739" class="id">
  <a name="T:1739" class="">T</a>
</span> <span class="id">:</span> <span class="gallina-kwd">Type</span>) (<span id="K:1740" class="id">
  <a name="K:1740" class="">K</a>
</span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Zmodule.Exports.zmodType">zmodType</a></span>) (<span id="f:1741" class="id">
  <a name="f:1741" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#T:1739">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#K:1740">K</a></span>) <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:'-'_x">-</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1741">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> (<span class="gallina-kwd">fun</span> <span id="x:1742" class="id">
  <a name="x:1742" class="">x</a>
</span> <span class="id">=&gt;</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:'-'_x">-</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1741">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#x:1742">x</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof261')">Proof.</span></div>
<div class="proofscript" id="proof261">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="mulrfctE" class="id">
  <a name="mulrfctE" class="">mulrfctE</a>
</span> (<span id="T:1743" class="id">
  <a name="T:1743" class="">T</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#Pointed.Exports.pointedType">pointedType</a></span>) (<span id="K:1744" class="id">
  <a name="K:1744" class="">K</a>
</span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Ring.Exports.ringType">ringType</a></span>) (<span id="f:1745" class="id">
  <a name="f:1745" class="">f</a>
</span> <span id="g:1746" class="id">
  <a name="g:1746" class="">g</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#T:1743">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#K:1744">K</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#f:1745">f</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'*'_x">*</a></span> <span class="id"><a href="mathcomp.classical.functions.html#g:1746">g</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> (<span class="gallina-kwd">fun</span> <span id="x:1747" class="id">
  <a name="x:1747" class="">x</a>
</span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.classical.functions.html#f:1745">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#x:1747">x</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'*'_x">*</a></span> <span class="id"><a href="mathcomp.classical.functions.html#g:1746">g</a></span> <span class="id"><a href="mathcomp.classical.functions.html#x:1747">x</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof262')">Proof.</span></div>
<div class="proofscript" id="proof262">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="scalrfctE" class="id">
  <a name="scalrfctE" class="">scalrfctE</a>
</span> (<span id="T:1748" class="id">
  <a name="T:1748" class="">T</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#Pointed.Exports.pointedType">pointedType</a></span>) (<span id="K:1749" class="id">
  <a name="K:1749" class="">K</a>
</span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Ring.Exports.ringType">ringType</a></span>) (<span id="L:1750" class="id">
  <a name="L:1750" class="">L</a>
</span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Lmodule.Exports.lmodType">lmodType</a></span> <span class="id"><a href="mathcomp.classical.functions.html#K:1749">K</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span id="k:1751" class="id">
  <a name="k:1751" class="">k</a>
</span> (<span id="f:1752" class="id">
  <a name="f:1752" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#T:1748">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#L:1750">L</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#k:1751">k</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'*:'_x">*:</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1752">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> (<span class="gallina-kwd">fun</span> <span id="x:1753" class="id">
  <a name="x:1753" class="">x</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#T:1748">T</a></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.classical.functions.html#k:1751">k</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'*:'_x">*:</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1752">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#x:1753">x</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof263')">Proof.</span></div>
<div class="proofscript" id="proof263">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="cstE" class="id">
  <a name="cstE" class="">cstE</a>
</span> (<span id="T:1754" class="id">
  <a name="T:1754" class="">T</a>
</span> <span id="T':1755" class="id">
  <a name="T':1755" class="">T':</a>
</span> <span class="gallina-kwd">Type</span>) (<span id="x:1756" class="id">
  <a name="x:1756" class="">x</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#T:1754">T</a></span>) <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> <span class="id"><a href="mathcomp.classical.functions.html#x:1756">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="gallina-kwd">fun</span> <span class="id">_:</span> <span class="id"><a href="mathcomp.classical.functions.html#T':1755">T'</a></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.classical.functions.html#x:1756">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof264')">Proof.</span></div>
<div class="proofscript" id="proof264">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="exprfctE" class="id">
  <a name="exprfctE" class="">exprfctE</a>
</span> (<span id="T:1757" class="id">
  <a name="T:1757" class="">T</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#Pointed.Exports.pointedType">pointedType</a></span>) (<span id="K:1758" class="id">
  <a name="K:1758" class="">K</a>
</span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Ring.Exports.ringType">ringType</a></span>) (<span id="f:1759" class="id">
  <a name="f:1759" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#T:1757">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#K:1758">K</a></span>) <span id="n:1760" class="id">
  <a name="n:1760" class="">n</a>
</span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#f:1759">f</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'^+'_x">^+</a></span> <span class="id"><a href="mathcomp.classical.functions.html#n:1760">n</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> (<span class="gallina-kwd">fun</span> <span id="x:1761" class="id">
  <a name="x:1761" class="">x</a>
</span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.classical.functions.html#f:1759">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#x:1761">x</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'^+'_x">^+</a></span> <span class="id"><a href="mathcomp.classical.functions.html#n:1760">n</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof265')">Proof.</span></div>
<div class="proofscript" id="proof265">
 <span class="gallina-kwd">by</span> <span class="id">elim:</span> <span class="id">n</span> <span class="id">=&gt;</span> <span class="id">[|n</span> <span class="id">h];</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE=&gt;</a></span> <span class="id">?;</span> <span class="id">rewrite</span> <span class="id">?expr0</span> <span class="id">?exprS</span> <span class="id">?h</span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="compE" class="id">
  <a name="compE" class="">compE</a>
</span> (<span id="T1:1762" class="id">
  <a name="T1:1762" class="">T1</a>
</span> <span id="T2:1763" class="id">
  <a name="T2:1763" class="">T2</a>
</span> <span id="T3:1764" class="id">
  <a name="T3:1764" class="">T3</a>
</span> <span class="id">:</span> <span class="gallina-kwd">Type</span>) (<span id="f:1765" class="id">
  <a name="f:1765" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#T1:1762">T1</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#T2:1763">T2</a></span>) (<span id="g:1766" class="id">
  <a name="g:1766" class="">g</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#T2:1763">T2</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#T3:1764">T3</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#g:1766">g</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:x_'\o'_x">\o</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1765">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="gallina-kwd">fun</span> <span id="x:1767" class="id">
  <a name="x:1767" class="">x</a>
</span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.classical.functions.html#g:1766">g</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#f:1765">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#x:1767">x</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof266')">Proof.</span></div>
<div class="proofscript" id="proof266">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span id="fctE" class="id">
  <a name="fctE" class="">fctE</a>
</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;(<span class="id"><a href="mathcomp.classical.functions.html#cstE">cstE,</a></span> <span class="id"><a href="mathcomp.classical.functions.html#compE">compE,</a></span> <span class="id"><a href="mathcomp.classical.functions.html#opprfctE">opprfctE,</a></span> <span class="id"><a href="mathcomp.classical.functions.html#addrfctE">addrfctE,</a></span> <span class="id"><a href="mathcomp.classical.functions.html#mulrfctE">mulrfctE,</a></span> <span class="id"><a href="mathcomp.classical.functions.html#scalrfctE">scalrfctE,</a></span> <span class="id"><a href="mathcomp.classical.functions.html#exprfctE">exprfctE</a></span>).<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.classical.functions.html#function_space_lemmas">function_space_lemmas</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="inv_funK" class="id">
  <a name="inv_funK" class="">inv_funK</a>
</span> <span id="T:1768" class="id">
  <a name="T:1768" class="">T</a>
</span> (<span id="R:1769" class="id">
  <a name="R:1769" class="">R</a>
</span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.UnitRing.Exports.unitRingType">unitRingType</a></span>) (<span id="f:1770" class="id">
  <a name="f:1770" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#T:1768">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#R:1769">R</a></span>) <span class="id">:</span> <span class="id"><a href="mathcomp.classical.functions.html#f:1770">f\^-1\^-1%R</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.classical.functions.html#f:1770">f</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof267')">Proof.</span></div>
<div class="proofscript" id="proof267">
 <span class="gallina-kwd">by</span> <span class="id">apply/funeqP</span> <span class="id">=&gt;</span> <span class="id">x;</span> <span class="id">rewrite</span> <span class="id">/inv_fun/=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.invrK">GRing.invrK</a></span>. Qed.</div>

</div>
<div class="footer"><hr/>Generated by <a href="https://github.com/yoshihiro503/coq2html/">a fork of coq2html</a></div>
</body>
</html>
