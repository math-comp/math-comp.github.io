
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Module mathcomp.analysis.esum</title>
<meta name="description" content="Documentation of Coq module mathcomp.analysis.esum" />
<link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.css">
<script src="https://cdn.jsdelivr.net/npm/markdown-it/dist/markdown-it.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/markdown-it-texmath/texmath.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/darkmode-js@1.5.7/lib/darkmode-js.min.js"></script>
<link href="coq2html.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="coq2html.js"> </script>
</head>

<body onload="init('proofscript')">
<h1 class="title">Module mathcomp.analysis.esum</h1>
<div class="coq">
<span class="vernacular">From</span> <span class="id">mathcomp</span> <span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.all_ssreflect.html">all_ssreflect</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html">ssralg</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html">ssrnum</a></span> <span class="id"><a href="NOTFOUND the module url for mathcomp.finmap.finmap">finmap</a></span>.<br/>
<span class="vernacular">From</span> <span class="id">mathcomp</span> <span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="mathcomp.classical.mathcomp_extra.html">mathcomp_extra</a></span> <span class="id"><a href="mathcomp.classical.boolp.html">boolp</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html">classical_sets</a></span> <span class="id"><a href="mathcomp.classical.functions.html">functions</a></span>.<br/>
<span class="vernacular">From</span> <span class="id">mathcomp</span> <span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="mathcomp.classical.cardinality.html">cardinality</a></span> <span class="id"><a href="mathcomp.classical.fsbigop.html">fsbigop</a></span>.<br/>
<span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="mathcomp.analysis.reals.html">reals</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html">ereal</a></span> <span class="id"><a href="mathcomp.analysis.signed.html">signed</a></span> <span class="id"><a href="mathcomp.analysis.topology.html">topology</a></span> <span class="id"><a href="mathcomp.analysis.sequences.html">sequences</a></span> <span class="id"><a href="mathcomp.analysis.normedtype.html">normedtype</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html">numfun</a></span>.<br/>
<br/>
<div class="ssrdoc md">
# Summation over classical sets                                            
                                                                           
This file provides a definition of sum over classical sets and a few       
lemmas in particular for the case of sums of non-negative terms.           
                                                                           
```                                                                        
           fsets S == the set of finite sets (fset) included in S          
\esum_(i in I) f i == summation of non-negative extended real numbers over 
                      classical sets; I is a classical set and f is a      
                      function whose codomain is included in the extended  
                      reals; it is 0 if I = set0 and sup(\sum_A a) where A 
                      is a finite set included in I o.w.                   
      summable D f := \esum_(x in D) `| f x | &lt; +oo                        
```                                                                        
                                                                           
</div>
<br/>
<span class="vernacular">Reserved</span> <span class="vernacular">Notation</span> <span class="id">&quot;\esum_ ( i 'in' P ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span> <span class="id">level</span> <span class="id">41,</span> <span class="id">F</span> <span class="gallina-kwd">at</span> <span class="id">level</span> <span class="id">41,</span> <span class="id">format</span> <span class="id">&quot;\esum_ ( i  'in'  P )  F&quot;</span>).<br/>
<br/>
<span class="gallina-kwd">Set</span> <span class="vernacular">Implicit</span> <span class="vernacular">Arguments</span>.<br/>
<span class="vernacular">Unset</span> <span class="vernacular">Strict</span> <span class="vernacular">Implicit</span>.<br/>
<span class="vernacular">Unset</span> <span class="vernacular">Printing</span> <span class="vernacular">Implicit</span> <span class="vernacular">Defensive</span>.<br/>
<span class="vernacular">Import</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.TTheory">Order.TTheory</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory">GRing.Theory</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Def">Num.Def</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory">Num.Theory</a></span>.<br/>
<br/>
<span class="vernacular">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">classical_set_scope</span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">ring_scope</span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">ereal_scope</span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="set_of_fset_in_a_set" class="id"><a name="set_of_fset_in_a_set" class="">set_of_fset_in_a_set</a></span>.<br/>
<span class="vernacular">Variable</span> (<span id="set_of_fset_in_a_set.T" class="id"><a name="set_of_fset_in_a_set.T" class="">T</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.choice.html#Choice.Exports.choiceType">choiceType</a></span>).<br/>
<span class="vernacular">Implicit</span> <span class="gallina-kwd">Type</span> <span class="id">S</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#set_of_fset_in_a_set.T">T</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="fsets" class="id"><a name="fsets" class="">fsets</a></span> <span id="S:2" class="id"><a name="S:2" class="">S</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#set_of_fset_in_a_set.T">T</a></span>) <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">[set</a></span> <span id="F:3" class="id"><a name="F:3" class="">F</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">|</a></span> <span class="id"><a href="mathcomp.classical.cardinality.html#finite_set">finite_set</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#F:3">F</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#F:3">F</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#e19db46c1d4073266228fb7781521a56">`&lt;=`</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#S:2">S]</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="fsets_set0" class="id"><a name="fsets_set0" class="">fsets_set0</a></span> <span id="S:4" class="id"><a name="S:4" class="">S</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.esum.html#fsets">fsets</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#S:4">S</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof1')">Proof.</span></div>
<div class="proofscript" id="proof1">
 <span class="gallina-kwd">by</span> <span class="id">split</span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="fsets_self" class="id"><a name="fsets_self" class="">fsets_self</a></span> (<span id="F:5" class="id"><a name="F:5" class="">F</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#set_of_fset_in_a_set.T">T</a></span>) <span class="id">:</span> <span class="id"><a href="mathcomp.classical.cardinality.html#finite_set">finite_set</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#F:5">F</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#fsets">fsets</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#F:5">F</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#F:5">F</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof2')">Proof.</span></div>
<div class="proofscript" id="proof2">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">finF;</span> <span class="id">split</span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="fsets0" class="id"><a name="fsets0" class="">fsets0</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.esum.html#fsets">fsets</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#29c78c22490f2dae838b1b504eb858a2">[set</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0]</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof3')">Proof.</span></div>
<div class="proofscript" id="proof3">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#predeqE">predeqE</a></span> <span class="id">=&gt;</span> <span class="id">A;</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">[|-&gt;];</span> <span class="id">last</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.esum.html#fsets_set0">fsets_set0</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/fsets/=</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#subset0">subset0</a></span> <span class="id">=&gt;</span> <span class="id">-[]</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.esum.html#set_of_fset_in_a_set">set_of_fset_in_a_set</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="esum" class="id"><a name="esum" class="">esum</a></span>.<br/>
<span class="vernacular">Variables</span> (<span id="esum.R" class="id"><a name="esum.R" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.RealField.Exports.realFieldType">realFieldType</a></span>) (<span id="esum.T" class="id"><a name="esum.T" class="">T</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.choice.html#Choice.Exports.choiceType">choiceType</a></span>).<br/>
<span class="vernacular">Implicit</span> <span class="id">Types</span> (<span class="id">S</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#esum.T">T</a></span>) (<span class="id">a</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.esum.html#esum.T">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#esum.R">R</a></span>).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="esum" class="id"><a name="esum" class="">esum</a></span> <span id="S:8" class="id"><a name="S:8" class="">S</a></span> <span id="a:9" class="id"><a name="a:9" class="">a</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup">ereal_sup</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#7e4573e059f309ba0ef27b7fc70cc4df">[set</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#6d081607cbe896cec5e830da47315b77">\sum_</a></span>(<span id="x:14" class="id"><span id="x:13" class="id"><span id="x:12" class="id"><span id="x:11" class="id"><a name="x:14" class="">x</a></span></span></span></span> <span class="id"><a href="mathcomp.analysis.ereal.html#6d081607cbe896cec5e830da47315b77">\in</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#A:10">A</a></span>) <span class="id"><a href="mathcomp.analysis.esum.html#a:9">a</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#x:11">x</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#7e4573e059f309ba0ef27b7fc70cc4df">|</a></span> <span id="A:10" class="id"><a name="A:10" class="">A</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.esum.html#fsets">fsets</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#S:8">S]</a></span>.<br/>
<br/>
<span class="vernacular">Local</span> <span class="vernacular">Notation</span> <span id="9f3c539d2c2c2da5cc16262cb9f978f8" class="id"><a name="9f3c539d2c2c2da5cc16262cb9f978f8" class="">&quot;\esum_ ( i 'in' P ) A&quot;</a></span> <span class="id">:=</span> (<span class="id"><a href="mathcomp.analysis.esum.html#esum">esum</a></span> <span class="id">P</span> (<span class="gallina-kwd">fun</span> <span id="i:15" class="id"><a name="i:15" class="">i</a></span> <span class="id">=&gt;</span> <span class="id">A</span>)).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="esum_set0" class="id"><a name="esum_set0" class="">esum_set0</a></span> <span id="a:16" class="id"><a name="a:16" class="">a</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.esum.html#9f3c539d2c2c2da5cc16262cb9f978f8">\esum_</a></span>(<span id="i:17" class="id"><a name="i:17" class="">i</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span>) <span class="id"><a href="mathcomp.analysis.esum.html#a:16">a</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:17">i</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">0</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof4')">Proof.</span></div>
<div class="proofscript" id="proof4">
<span class="id">rewrite</span> <span class="id">/esum</span> <span class="id"><a href="mathcomp.analysis.esum.html#fsets0">fsets0</a></span> <span class="id">[X</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup">ereal_sup</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#X:18">X]</a></span>(<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#29c78c22490f2dae838b1b504eb858a2">[set</a></span> <span class="id">0%E]</span>) <span class="id">?ereal_sup1//</span>.<br/>
<span class="id">apply/seteqP;</span> <span class="id">split=&gt;</span> <span class="id">[x</span> <span class="id">[_</span> <span class="id">/=</span> <span class="id">-&gt;]|x];</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.fsbigop.html#fsbig_set0">fsbig_set0</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">-&gt;</span> <span class="id">/=;</span> <span class="gallina-kwd">exists</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.fsbigop.html#fsbig_set0">fsbig_set0</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.esum.html#esum">esum</a></span>.<br/>
<br/>
<span class="vernacular">Notation</span> <span id="bfafafade7d3e202dbbc3dbf50606eb1" class="id"><a name="bfafafade7d3e202dbbc3dbf50606eb1" class="">&quot;\esum_ ( i 'in' P ) F&quot;</a></span> <span class="id">:=</span> (<span class="id"><a href="mathcomp.analysis.esum.html#esum">esum</a></span> <span class="id">P</span> (<span class="gallina-kwd">fun</span> <span id="i:19" class="id"><a name="i:19" class="">i</a></span> <span class="id">=&gt;</span> <span class="id">F</span>)) <span class="id">:</span> <span class="id">ring_scope</span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="esum_realType" class="id"><a name="esum_realType" class="">esum_realType</a></span>.<br/>
<span class="vernacular">Variables</span> (<span id="esum_realType.R" class="id"><a name="esum_realType.R" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) (<span id="esum_realType.T" class="id"><a name="esum_realType.T" class="">T</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.choice.html#Choice.Exports.choiceType">choiceType</a></span>).<br/>
<span class="vernacular">Implicit</span> <span class="id">Types</span> (<span class="id">a</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.esum.html#esum_realType.T">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#esum_realType.R">R</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="esum_ge0" class="id"><a name="esum_ge0" class="">esum_ge0</a></span> (<span id="S:22" class="id"><a name="S:22" class="">S</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#esum_realType.T">T</a></span>) <span id="a:23" class="id"><a name="a:23" class="">a</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="x:24" class="id"><a name="x:24" class="">x,</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#S:22">S</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#x:24">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#a:23">a</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#x:24">x</a></span>) <span class="id">-&gt;</span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#bfafafade7d3e202dbbc3dbf50606eb1">\esum_</a></span>(<span id="i:25" class="id"><a name="i:25" class="">i</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.esum.html#S:22">S</a></span>) <span class="id"><a href="mathcomp.analysis.esum.html#a:23">a</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:25">i</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof5')">Proof.</span></div>
<div class="proofscript" id="proof5">
<span class="id">move=&gt;</span> <span class="id">a0;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup_ub">ereal_sup_ub</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0;</a></span> <span class="id">[exact:</span> <span class="id"><a href="mathcomp.analysis.esum.html#fsets_set0">fsets_set0|rewrite</a></span> <span class="id"><a href="mathcomp.classical.fsbigop.html#fsbig_set0">fsbig_set0]</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="esum_fset" class="id"><a name="esum_fset" class="">esum_fset</a></span> (<span id="F:26" class="id"><a name="F:26" class="">F</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#esum_realType.T">T</a></span>) <span id="a:27" class="id"><a name="a:27" class="">a</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.cardinality.html#finite_set">finite_set</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#F:26">F</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="i:28" class="id"><a name="i:28" class="">i,</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:28">i</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7">\in</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#F:26">F</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#a:27">a</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:28">i</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.esum.html#bfafafade7d3e202dbbc3dbf50606eb1">\esum_</a></span>(<span id="i:29" class="id"><a name="i:29" class="">i</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.esum.html#F:26">F</a></span>) <span class="id"><a href="mathcomp.analysis.esum.html#a:27">a</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:29">i</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#6d081607cbe896cec5e830da47315b77">\sum_</a></span>(<span id="i:33" class="id"><span id="i:32" class="id"><span id="i:31" class="id"><span id="i:30" class="id"><a name="i:33" class="">i</a></span></span></span></span> <span class="id"><a href="mathcomp.analysis.ereal.html#6d081607cbe896cec5e830da47315b77">\in</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#F:26">F</a></span>) <span class="id"><a href="mathcomp.analysis.esum.html#a:27">a</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:30">i</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof6')">Proof.</span></div>
<div class="proofscript" id="proof6">
<span class="id">move=&gt;</span> <span class="id">finF</span> <span class="id">f0;</span> <span class="id">apply/eqP;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.eq_le">eq_le;</a></span> <span class="id">apply/andP;</span> <span class="id">split;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup_ub">ereal_sup_ub;</a></span> <span class="gallina-kwd">exists</span> <span class="id">F</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.esum.html#fsets_self">fsets_self</a></span>.<br/>
<span class="id">apply</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ub_ereal_sup">ub_ereal_sup</a></span> <span class="id">=&gt;</span> <span class="id">/=</span> <span class="id">?</span> <span class="id">-[F'</span> <span class="id">[finF'</span> <span class="id">F'F]</span> <span class="id">&lt;-]</span>.<br/>
<span class="id">apply/lee_fsum_nneg_subset</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">first</span> <span class="id">exact/subsetP</span>.<br/>
<span class="gallina-kwd">by</span>  <span class="id">move=&gt;</span> <span class="id">t;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE/=</a></span> <span class="id">=&gt;</span> <span class="id">/andP[_]</span> <span class="id">/f0</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="esum_set1" class="id"><a name="esum_set1" class="">esum_set1</a></span> <span id="t:34" class="id"><a name="t:34" class="">t</a></span> <span id="a:35" class="id"><a name="a:35" class="">a</a></span> <span class="id">:</span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#a:35">a</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#t:34">t</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#bfafafade7d3e202dbbc3dbf50606eb1">\esum_</a></span>(<span id="i:36" class="id"><a name="i:36" class="">i</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#29c78c22490f2dae838b1b504eb858a2">[set</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#t:34">t]</a></span>) <span class="id"><a href="mathcomp.analysis.esum.html#a:35">a</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:36">i</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#a:35">a</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#t:34">t</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof7')">Proof.</span></div>
<div class="proofscript" id="proof7">
<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">?;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.esum.html#esum_fset">esum_fset//</a></span> <span class="id">?fset_set1//</span> <span class="id">?fsbig_set1//</span> <span class="id">=&gt;</span> <span class="id">t'</span> <span class="id">/[!inE]</span> <span class="id">-&gt;</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.esum.html#esum_realType">esum_realType</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="esum_ge" class="id"><a name="esum_ge" class="">esum_ge</a></span> <span class="id">[R</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType]</a></span> <span class="id">[T</span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.choice.html#Choice.Exports.choiceType">choiceType]</a></span> (<span id="I:39" class="id"><a name="I:39" class="">I</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#T:38">T</a></span>) (<span id="a:40" class="id"><a name="a:40" class="">a</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.esum.html#T:38">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#R:37">R</a></span>) <span id="x:41" class="id"><a name="x:41" class="">x</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">exists2</span> <span id="X:43" class="id"><span id="X:42" class="id"><a name="X:43" class="">X</a></span></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#59ba2b47d2814e66f8210a649ae6e6bc">:</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#T:38">T,</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#fsets">fsets</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#I:39">I</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#X:42">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#59ba2b47d2814e66f8210a649ae6e6bc">&amp;</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#x:41">x</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#6d081607cbe896cec5e830da47315b77">\sum_</a></span>(<span id="i:47" class="id"><span id="i:46" class="id"><span id="i:45" class="id"><span id="i:44" class="id"><a name="i:47" class="">i</a></span></span></span></span> <span class="id"><a href="mathcomp.analysis.ereal.html#6d081607cbe896cec5e830da47315b77">\in</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#X:43">X</a></span>) <span class="id"><a href="mathcomp.analysis.esum.html#a:40">a</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:44">i</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.esum.html#x:41">x</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#bfafafade7d3e202dbbc3dbf50606eb1">\esum_</a></span>(<span id="i:48" class="id"><a name="i:48" class="">i</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.esum.html#I:39">I</a></span>) <span class="id"><a href="mathcomp.analysis.esum.html#a:40">a</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:48">i</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof8')">Proof.</span></div>
<div class="proofscript" id="proof8">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">[X</span> <span class="id">IX</span> <span class="id">/le_trans-&gt;//];</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup_ub">ereal_sup_ub</a></span> <span class="id">=&gt;</span> <span class="id">/=;</span> <span class="gallina-kwd">exists</span> <span class="id">X</span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="esum1" class="id"><a name="esum1" class="">esum1</a></span> <span class="id">[R</span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.RealField.Exports.realFieldType">realFieldType]</a></span> <span class="id">[I</span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.choice.html#Choice.Exports.choiceType">choiceType]</a></span> (<span id="D:51" class="id"><a name="D:51" class="">D</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#I:50">I</a></span>) (<span id="a:52" class="id"><a name="a:52" class="">a</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.esum.html#I:50">I</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#R:49">R</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="i:53" class="id"><a name="i:53" class="">i,</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#D:51">D</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:53">i</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#a:52">a</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:53">i</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">0</span>) <span class="id">-&gt;</span> <span class="id"><a href="mathcomp.analysis.esum.html#bfafafade7d3e202dbbc3dbf50606eb1">\esum_</a></span>(<span id="i:54" class="id"><a name="i:54" class="">i</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.esum.html#D:51">D</a></span>) <span class="id"><a href="mathcomp.analysis.esum.html#a:52">a</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:54">i</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">0</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof9')">Proof.</span></div>
<div class="proofscript" id="proof9">
<span class="id">move=&gt;</span> <span class="id">a0;</span> <span class="id">rewrite</span> <span class="id">/esum</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#7e4573e059f309ba0ef27b7fc70cc4df">[set</a></span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#7e4573e059f309ba0ef27b7fc70cc4df">|</a></span> <span class="id">_</span> <span class="gallina-kwd">in</span> <span class="id">_]</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#29c78c22490f2dae838b1b504eb858a2">[set</a></span> <span class="id">0]</span>) <span class="id">?ereal_sup1//</span>.<br/>
<span class="id">apply/seteqP;</span> <span class="id">split=&gt;</span> <span class="id">x</span> <span class="id">//=</span> <span class="id">=&gt;</span> <span class="id">[[X</span> <span class="id">[finX</span> <span class="id">XI]]</span> <span class="id">&lt;-|-&gt;]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.fsbigop.html#fsbig1">fsbig1//</a></span> <span class="id">=&gt;</span> <span class="id">i</span> <span class="id">/XI/a0</span>.<br/>
<span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0;</a></span> <span class="id">rewrite</span> <span class="id">?fsbig_set0//;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.esum.html#fsets_set0">fsets_set0</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="le_esum" class="id"><a name="le_esum" class="">le_esum</a></span> <span class="id">[R</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType]</a></span> <span class="id">[T</span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.choice.html#Choice.Exports.choiceType">choiceType]</a></span> (<span id="I:57" class="id"><a name="I:57" class="">I</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#T:56">T</a></span>) (<span id="a:58" class="id"><a name="a:58" class="">a</a></span> <span id="b:59" class="id"><a name="b:59" class="">b</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.esum.html#T:56">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#R:55">R</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="i:60" class="id"><a name="i:60" class="">i,</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#I:57">I</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:60">i</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#a:58">a</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:60">i</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#b:59">b</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:60">i</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.esum.html#bfafafade7d3e202dbbc3dbf50606eb1">\esum_</a></span>(<span id="i:61" class="id"><a name="i:61" class="">i</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.esum.html#I:57">I</a></span>) <span class="id"><a href="mathcomp.analysis.esum.html#a:58">a</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:61">i</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#bfafafade7d3e202dbbc3dbf50606eb1">\esum_</a></span>(<span id="i:62" class="id"><a name="i:62" class="">i</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.esum.html#I:57">I</a></span>) <span class="id"><a href="mathcomp.analysis.esum.html#b:59">b</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:62">i</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof10')">Proof.</span></div>
<div class="proofscript" id="proof10">
<span class="id">move=&gt;</span> <span class="id">le_ab;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ub_ereal_sup">ub_ereal_sup</a></span> <span class="id">=&gt;</span> <span class="id">//=</span> <span class="id">_</span> <span class="id">[X</span> <span class="id">[finX</span> <span class="id">XI]]</span> <span class="id">&lt;-;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.esum.html#esum_ge">esum_ge//</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> <span class="id">X</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#lee_fsum">lee_fsum</a></span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">t</span> <span class="id">/XI</span> <span class="id">/le_ab</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="eq_esum" class="id"><a name="eq_esum" class="">eq_esum</a></span> <span class="id">[R</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType]</a></span> <span class="id">[T</span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.choice.html#Choice.Exports.choiceType">choiceType]</a></span> (<span id="I:65" class="id"><a name="I:65" class="">I</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#T:64">T</a></span>) (<span id="a:66" class="id"><a name="a:66" class="">a</a></span> <span id="b:67" class="id"><a name="b:67" class="">b</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.esum.html#T:64">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#R:63">R</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="i:68" class="id"><a name="i:68" class="">i,</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#I:65">I</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:68">i</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#a:66">a</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:68">i</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#b:67">b</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:68">i</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.esum.html#bfafafade7d3e202dbbc3dbf50606eb1">\esum_</a></span>(<span id="i:69" class="id"><a name="i:69" class="">i</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.esum.html#I:65">I</a></span>) <span class="id"><a href="mathcomp.analysis.esum.html#a:66">a</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:69">i</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#bfafafade7d3e202dbbc3dbf50606eb1">\esum_</a></span>(<span id="i:70" class="id"><a name="i:70" class="">i</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.esum.html#I:65">I</a></span>) <span class="id"><a href="mathcomp.analysis.esum.html#b:67">b</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:70">i</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof11')">Proof.</span></div>
<div class="proofscript" id="proof11">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">e;</span> <span class="id">apply/eqP;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.eq_le">eq_le</a></span> <span class="id">!le_esum//</span> <span class="id">=&gt;</span> <span class="id">i</span> <span class="id">Ii;</span> <span class="id">rewrite</span> <span class="id">e</span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="esumD" class="id"><a name="esumD" class="">esumD</a></span> <span class="id">[R</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType]</a></span> <span class="id">[T</span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.choice.html#Choice.Exports.choiceType">choiceType]</a></span> (<span id="I:73" class="id"><a name="I:73" class="">I</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#T:72">T</a></span>) (<span id="a:74" class="id"><a name="a:74" class="">a</a></span> <span id="b:75" class="id"><a name="b:75" class="">b</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.esum.html#T:72">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#R:71">R</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="i:76" class="id"><a name="i:76" class="">i,</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#I:73">I</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:76">i</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#a:74">a</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:76">i</a></span>) <span class="id">-&gt;</span> (<span class="gallina-kwd">forall</span> <span id="i:77" class="id"><a name="i:77" class="">i,</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#I:73">I</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:77">i</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#b:75">b</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:77">i</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.esum.html#bfafafade7d3e202dbbc3dbf50606eb1">\esum_</a></span>(<span id="i:78" class="id"><a name="i:78" class="">i</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.esum.html#I:73">I</a></span>) (<span class="id"><a href="mathcomp.analysis.esum.html#a:74">a</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:78">i</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d4965da372b2485934ec33867ee5fbe7">+</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#b:75">b</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:78">i</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#bfafafade7d3e202dbbc3dbf50606eb1">\esum_</a></span>(<span id="i:79" class="id"><a name="i:79" class="">i</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.esum.html#I:73">I</a></span>) <span class="id"><a href="mathcomp.analysis.esum.html#a:74">a</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:79">i</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d4965da372b2485934ec33867ee5fbe7">+</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#bfafafade7d3e202dbbc3dbf50606eb1">\esum_</a></span>(<span id="i:80" class="id"><a name="i:80" class="">i</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.esum.html#I:73">I</a></span>) <span class="id"><a href="mathcomp.analysis.esum.html#b:75">b</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:80">i</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof12')">Proof.</span></div>
<div class="proofscript" id="proof12">
<span class="id">move=&gt;</span> <span class="id">ag0</span> <span class="id">bg0;</span> <span class="id">apply/eqP;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.eq_le">eq_le;</a></span> <span class="id">apply/andP;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ub_ereal_sup">ub_ereal_sup//=</a></span> <span class="id">=&gt;</span> <span class="id">x</span> <span class="id">[X</span> <span class="id">[finX</span> <span class="id">XI]]</span> <span class="id">&lt;-;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.fsbigop.html#fsbig_split">fsbig_split//=</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_add">lee_add//</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup_ub">ereal_sup_ub//=;</a></span> <span class="gallina-kwd">exists</span> <span class="id">X</span>.<br/>
<span class="id">wlog</span> <span class="id">:</span> <span class="id">a</span> <span class="id">b</span> <span class="id">ag0</span> <span class="id">bg0</span> <span class="id">/</span> <span class="id"><a href="mathcomp.analysis.esum.html#bfafafade7d3e202dbbc3dbf50606eb1">\esum_</a></span>(<span id="i:81" class="id"><a name="i:81" class="">i</a></span> <span class="gallina-kwd">in</span> <span class="id">I</span>) <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.esum.html#i:81">i</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#3e06de6f13eb7ecdd29eb40f81d36f3f">\isn't</a></span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span> <span class="id">=&gt;</span> <span class="id">[saoo|];</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">/fin_numPn[-&gt;|/[dup]</span> <span class="id">aoo</span> <span class="id">-&gt;];</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leNye">leNye</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id">@le_trans</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d5becfdd26043e7de5a21e6270f35a00">+oo</a></span>)<span class="id">//;</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/adde/=;</span> <span class="id">case:</span> <span class="id"><a href="mathcomp.analysis.esum.html#esum">esum</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leye_eq">leye_eq;</a></span> <span class="id">apply/eqP/eq_infty</span> <span class="id">=&gt;</span> <span class="id">y;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.esum.html#esum_ge">esum_ge//</a></span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">:</span> <span class="id">y%:E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#bfafafade7d3e202dbbc3dbf50606eb1">\esum_</a></span>(<span id="i:82" class="id"><a name="i:82" class="">i</a></span> <span class="gallina-kwd">in</span> <span class="id">I</span>) <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.esum.html#i:82">i</a></span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">aoo//</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ltry">ltry</a></span>.<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">/ereal_sup_gt[_</span> <span class="id">[X</span> <span class="id">[finX</span> <span class="id">XI]]</span> <span class="id">&lt;-]</span> <span class="id">/ltW</span> <span class="id">yle;</span> <span class="gallina-kwd">exists</span> <span class="id">X</span> <span class="id">=&gt;</span> <span class="id">//=</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans</a></span> <span class="id">yle</span>)<span class="id">//</span> <span class="id"><a href="mathcomp.classical.fsbigop.html#fsbig_split">fsbig_split//</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_addl">lee_addl//</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#fsume_ge0">fsume_ge0//</a></span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">i</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">/XI;</span> <span class="id">exact:</span> <span class="id">bg0</span>.<br/>
<span class="id">case:</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#boolP">boolP</a></span> (<span class="id"><a href="mathcomp.analysis.esum.html#bfafafade7d3e202dbbc3dbf50606eb1">\esum_</a></span>(<span id="i:85" class="id"><span id="i:84" class="id"><span id="i:83" class="id"><a name="i:85" class="">i</a></span></span></span> <span class="gallina-kwd">in</span> <span class="id">I</span>) <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.esum.html#i:83">i</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#f6c65697fefaf4504de1d4d641cd4409">\is</a></span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span>)) <span class="id">=&gt;</span> <span class="id">sa;</span> <span class="id">last</span> <span class="id">exact:</span> <span class="id">saoo</span>.<br/>
<span class="id">case:</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#boolP">boolP</a></span> (<span class="id"><a href="mathcomp.analysis.esum.html#bfafafade7d3e202dbbc3dbf50606eb1">\esum_</a></span>(<span id="i:88" class="id"><span id="i:87" class="id"><span id="i:86" class="id"><a name="i:88" class="">i</a></span></span></span> <span class="gallina-kwd">in</span> <span class="id">I</span>) <span class="id">b</span> <span class="id"><a href="mathcomp.analysis.esum.html#i:86">i</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#f6c65697fefaf4504de1d4d641cd4409">\is</a></span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span>)) <span class="id">=&gt;</span> <span class="id">sb;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#addeC">addeC</a></span> (<span class="id"><a href="mathcomp.analysis.esum.html#eq_esum">eq_esum</a></span> (<span class="gallina-kwd">fun</span> <span class="id">_</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#addeC">addeC</a></span> <span class="id">_</span> <span class="id">_</span>)) <span class="id">saoo</span>.<br/>
<span class="id">rewrite</span> <span class="id">-lee_subr_addr//</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ub_ereal_sup">ub_ereal_sup//=</a></span> <span class="id">=&gt;</span> <span class="id">_</span> <span class="id">[X</span> <span class="id">[finX</span> <span class="id">XI]]</span> <span class="id">&lt;-</span>.<br/>
<span class="id">have</span> <span class="id">saX</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#6d081607cbe896cec5e830da47315b77">\sum_</a></span>(<span id="i:92" class="id"><span id="i:91" class="id"><span id="i:90" class="id"><span id="i:89" class="id"><a name="i:92" class="">i</a></span></span></span></span> <span class="id"><a href="mathcomp.analysis.ereal.html#6d081607cbe896cec5e830da47315b77">\in</a></span> <span class="id">X</span>) <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.esum.html#i:89">i</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#f6c65697fefaf4504de1d4d641cd4409">\is</a></span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#contraTT">contraTT</a></span> <span class="id">sa</span> <span class="id">=&gt;</span> <span class="id">/fin_numPn[]</span> <span class="id">sa</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">suff</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#6d081607cbe896cec5e830da47315b77">\sum_</a></span>(<span id="i:96" class="id"><span id="i:95" class="id"><span id="i:94" class="id"><span id="i:93" class="id"><a name="i:96" class="">i</a></span></span></span></span> <span class="id"><a href="mathcomp.analysis.ereal.html#6d081607cbe896cec5e830da47315b77">\in</a></span> <span class="id">X</span>) <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.esum.html#i:93">i</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#92160d99f87da4bf2648609e0f89da8e">&gt;=</a></span> <span class="id">0</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">sa</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.ereal.html#fsume_ge0">fsume_ge0//</a></span> <span class="id">=&gt;</span> <span class="id">i</span> <span class="id">/XI/ag0</span>.<br/>
&nbsp;&nbsp;<span class="id">apply/fin_numPn;</span> <span class="id">right;</span> <span class="id">apply/eqP;</span> <span class="id">rewrite</span> <span class="id">-leye_eq</span> <span class="id"><a href="mathcomp.analysis.esum.html#esum_ge">esum_ge//</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> <span class="id">X;</span> <span class="id">rewrite</span> <span class="id">//</span> <span class="id">sa</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_subr_addr">lee_subr_addr//</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#addeC">addeC</a></span> <span class="id">-lee_subr_addr//</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ub_ereal_sup">ub_ereal_sup//=</a></span> <span class="id">=&gt;</span> <span class="id">_</span> <span class="id">[Y</span> <span class="id">[finY</span> <span class="id">YI]]</span> <span class="id">&lt;-</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_subr_addr">lee_subr_addr//</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#addeC">addeC</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#esum_ge">esum_ge//;</a></span> <span class="gallina-kwd">exists</span> (<span class="id">X</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#f0f4f4a06533e5eeff19ee265a896441">`|`</a></span> <span class="id">Y</span>).<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">split;</span> <span class="id">[rewrite</span> <span class="id"><a href="mathcomp.classical.cardinality.html#finite_setU">finite_setU|rewrite</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#subUset">subUset]</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.fsbigop.html#fsbig_split">fsbig_split</a></span> <span class="id">?finite_setU//=</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_add">lee_add//</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#lee_fsum_nneg_subset">lee_fsum_nneg_subset//=</a></span> <span class="id">?finite_setU//</span>.<br/>
<span class="id">-</span> <span class="id">exact/subsetP/subsetUl</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">x;</span> <span class="id">rewrite</span> <span class="id">!inE</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#in_setU">in_setU</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andb_orr">andb_orr</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andNb">andNb/=</a></span> <span class="id">=&gt;</span> <span class="id">/andP[_]</span> <span class="id">/[!inE]</span> <span class="id">/YI/ag0</span>.<br/>
<span class="id">-</span> <span class="id">exact/subsetP/subsetUr</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">x;</span> <span class="id">rewrite</span> <span class="id">!inE</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#in_setU">in_setU</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andb_orr">andb_orr</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andNb">andNb/=</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#orbF">orbF</a></span> <span class="id">=&gt;</span> <span class="id">/andP[_]</span> <span class="id">/[!inE]</span> <span class="id">/XI/bg0</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="esum_mkcond" class="id"><a name="esum_mkcond" class="">esum_mkcond</a></span> <span class="id">[R</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType]</a></span> <span class="id">[T</span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.choice.html#Choice.Exports.choiceType">choiceType]</a></span> (<span id="I:99" class="id"><a name="I:99" class="">I</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#T:98">T</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="a:100" class="id"><a name="a:100" class="">a</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.esum.html#T:98">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#R:97">R</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.esum.html#bfafafade7d3e202dbbc3dbf50606eb1">\esum_</a></span>(<span id="i:101" class="id"><a name="i:101" class="">i</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.esum.html#I:99">I</a></span>) <span class="id"><a href="mathcomp.analysis.esum.html#a:100">a</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:101">i</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#bfafafade7d3e202dbbc3dbf50606eb1">\esum_</a></span>(<span id="i:102" class="id"><a name="i:102" class="">i</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#36b9f1631384d2c3b944cb9d5855cd98">[set:</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#T:98">T]</a></span>) <span class="gallina-kwd">if</span> <span class="id"><a href="mathcomp.analysis.esum.html#i:102">i</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7">\in</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#I:99">I</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="mathcomp.analysis.esum.html#a:100">a</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:102">i</a></span> <span class="gallina-kwd">else</span> <span class="id">0</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof13')">Proof.</span></div>
<div class="proofscript" id="proof13">
<span class="id">apply/eqP;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.eq_le">eq_le</a></span> <span class="id">!ub_ereal_sup//=</span> <span class="id">=&gt;</span> <span class="id">_</span> <span class="id">[X</span> <span class="id">[finX</span> <span class="id">XI]]</span> <span class="id">&lt;-</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-big_mkcond/=</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.finmap.finmap#big_fset_condE">big_fset_condE/=;</a></span> <span class="id">set</span> <span class="id">Y</span> <span class="id">:=</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.finmap.finmap#cc6f9823b919c0577accd546a53862d6">[fset</a></span> <span class="id">_</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.finmap.finmap#cc6f9823b919c0577accd546a53862d6">|</a></span> <span id="pat:105" class="id"><span id="pat:104" class="id"><span id="pat:103" class="id"><a name="pat:105" class="">_</a></span></span></span> <span class="gallina-kwd">in</span> <span class="id">_</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.finmap.finmap#cc6f9823b919c0577accd546a53862d6">&amp;</a></span> <span class="id">_]%fset</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup_ub">ereal_sup_ub//=;</a></span> <span class="gallina-kwd">exists</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#fd1315670760bbd104fd4b87ca2730c7">[set`</a></span> <span class="id">Y];</span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.fsbigop.html#fsbig_finite">fsbig_finite//</a></span> <span class="id"><a href="mathcomp.classical.cardinality.html#set_fsetK">set_fsetK</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">i/=;</span> <span class="id">rewrite</span> <span class="id">!inE/=</span> <span class="id">=&gt;</span> <span class="id">/andP[_];</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup_ub">ereal_sup_ub//;</a></span> <span class="gallina-kwd">exists</span> <span class="id">X</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.classical.fsbigop.html#eq_fsbigr">eq_fsbigr</a></span> <span class="id">=&gt;</span> <span class="id">x;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> <span class="id">=&gt;</span> <span class="id">Xx</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifT">ifT//</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE;</a></span> <span class="id">exact:</span> <span class="id">XI</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="esum_mkcondr" class="id"><a name="esum_mkcondr" class="">esum_mkcondr</a></span> <span class="id">[R</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType]</a></span> <span class="id">[T</span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.choice.html#Choice.Exports.choiceType">choiceType]</a></span> (<span id="I:108" class="id"><a name="I:108" class="">I</a></span> <span id="J:109" class="id"><a name="J:109" class="">J</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#T:107">T</a></span>) (<span id="a:110" class="id"><a name="a:110" class="">a</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.esum.html#T:107">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#R:106">R</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.esum.html#bfafafade7d3e202dbbc3dbf50606eb1">\esum_</a></span>(<span id="i:111" class="id"><a name="i:111" class="">i</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.esum.html#I:108">I</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#c7636f45aa1745dbf533da3d408cece1">`&amp;`</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#J:109">J</a></span>) <span class="id"><a href="mathcomp.analysis.esum.html#a:110">a</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:111">i</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#bfafafade7d3e202dbbc3dbf50606eb1">\esum_</a></span>(<span id="i:112" class="id"><a name="i:112" class="">i</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.esum.html#I:108">I</a></span>) <span class="gallina-kwd">if</span> <span class="id"><a href="mathcomp.analysis.esum.html#i:112">i</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7">\in</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#J:109">J</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="mathcomp.analysis.esum.html#a:110">a</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:112">i</a></span> <span class="gallina-kwd">else</span> <span class="id">0</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof14')">Proof.</span></div>
<div class="proofscript" id="proof14">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.esum.html#esum_mkcond">esum_mkcond</a></span> <span class="id">[RHS]esum_mkcond;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.esum.html#eq_esum">eq_esum=&gt;</a></span> <span class="id">i</span> <span class="id">_</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#in_setI">in_setI;</a></span> <span class="id">case:</span> (<span class="id">i</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7">\in</a></span> <span class="id">I</span>) (<span class="id">i</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7">\in</a></span> <span class="id">J</span>) <span class="id">=&gt;</span> <span class="id">[]</span> <span class="id">[]</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="esum_mkcondl" class="id"><a name="esum_mkcondl" class="">esum_mkcondl</a></span> <span class="id">[R</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType]</a></span> <span class="id">[T</span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.choice.html#Choice.Exports.choiceType">choiceType]</a></span> (<span id="I:115" class="id"><a name="I:115" class="">I</a></span> <span id="J:116" class="id"><a name="J:116" class="">J</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#T:114">T</a></span>) (<span id="a:117" class="id"><a name="a:117" class="">a</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.esum.html#T:114">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#R:113">R</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.esum.html#bfafafade7d3e202dbbc3dbf50606eb1">\esum_</a></span>(<span id="i:118" class="id"><a name="i:118" class="">i</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.esum.html#I:115">I</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#c7636f45aa1745dbf533da3d408cece1">`&amp;`</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#J:116">J</a></span>) <span class="id"><a href="mathcomp.analysis.esum.html#a:117">a</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:118">i</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#bfafafade7d3e202dbbc3dbf50606eb1">\esum_</a></span>(<span id="i:119" class="id"><a name="i:119" class="">i</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.esum.html#J:116">J</a></span>) <span class="gallina-kwd">if</span> <span class="id"><a href="mathcomp.analysis.esum.html#i:119">i</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7">\in</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#I:115">I</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="mathcomp.analysis.esum.html#a:117">a</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:119">i</a></span> <span class="gallina-kwd">else</span> <span class="id">0</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof15')">Proof.</span></div>
<div class="proofscript" id="proof15">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.esum.html#esum_mkcond">esum_mkcond</a></span> <span class="id">[RHS]esum_mkcond;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.esum.html#eq_esum">eq_esum=&gt;</a></span> <span class="id">i</span> <span class="id">_</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#in_setI">in_setI;</a></span> <span class="id">case:</span> (<span class="id">i</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7">\in</a></span> <span class="id">I</span>) (<span class="id">i</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7">\in</a></span> <span class="id">J</span>) <span class="id">=&gt;</span> <span class="id">[]</span> <span class="id">[]</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="esumID" class="id"><a name="esumID" class="">esumID</a></span> (<span id="R:120" class="id"><a name="R:120" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) (<span id="I:121" class="id"><a name="I:121" class="">I</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.choice.html#Choice.Exports.choiceType">choiceType</a></span>) (<span id="B:122" class="id"><a name="B:122" class="">B</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#I:121">I</a></span>) (<span id="A:123" class="id"><a name="A:123" class="">A</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#I:121">I</a></span>)<br/>
&nbsp;&nbsp;(<span id="F:124" class="id"><a name="F:124" class="">F</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.esum.html#I:121">I</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#R:120">R</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="i:125" class="id"><a name="i:125" class="">i,</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#A:123">A</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:125">i</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#F:124">F</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:125">i</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#92160d99f87da4bf2648609e0f89da8e">&gt;=</a></span> <span class="id">0</span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.esum.html#bfafafade7d3e202dbbc3dbf50606eb1">\esum_</a></span>(<span id="i:126" class="id"><a name="i:126" class="">i</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.esum.html#A:123">A</a></span>) <span class="id"><a href="mathcomp.analysis.esum.html#F:124">F</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:126">i</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> (<span class="id"><a href="mathcomp.analysis.esum.html#bfafafade7d3e202dbbc3dbf50606eb1">\esum_</a></span>(<span id="i:127" class="id"><a name="i:127" class="">i</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.esum.html#A:123">A</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#c7636f45aa1745dbf533da3d408cece1">`&amp;`</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#B:122">B</a></span>) <span class="id"><a href="mathcomp.analysis.esum.html#F:124">F</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:127">i</a></span>) <span class="id">+</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="mathcomp.analysis.esum.html#bfafafade7d3e202dbbc3dbf50606eb1">\esum_</a></span>(<span id="i:128" class="id"><a name="i:128" class="">i</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.esum.html#A:123">A</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#c7636f45aa1745dbf533da3d408cece1">`&amp;`</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#a89cad8a77dea0eb3c15a935f79663f1">~`</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#B:122">B</a></span>) <span class="id"><a href="mathcomp.analysis.esum.html#F:124">F</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:128">i</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof16')">Proof.</span></div>
<div class="proofscript" id="proof16">
<span class="id">move=&gt;</span> <span class="id">F0;</span> <span class="id">rewrite</span> <span class="id">!esum_mkcondr</span> <span class="id">-esumD;</span> <span class="id">do</span> <span class="id">?by</span> <span class="id">move=&gt;</span> <span class="id">i</span> <span class="id">/F0;</span> <span class="id">case:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifP">ifP</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.esum.html#eq_esum">eq_esum=&gt;</a></span> <span class="id">i;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#in_setC">in_setC;</a></span> <span class="id">case:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifP">ifP;</a></span> <span class="id">rewrite</span> <span class="id">/=</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#adde0">adde0,</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#add0e">add0e</a></span>).<br/>
Qed.</div>
<span class="vernacular">Arguments</span> <span class="id"><a href="mathcomp.analysis.esum.html#esumID">esumID</a></span> <span class="id">{R</span> <span class="id">I}</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="esum_sum" class="id"><a name="esum_sum" class="">esum_sum</a></span> <span class="id">[R</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType]</a></span> <span class="id">[T1</span> <span id="T2:131" class="id"><a name="T2:131" class="">T2</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.choice.html#Choice.Exports.choiceType">choiceType]</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="I:132" class="id"><a name="I:132" class="">I</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#T1:130">T1</a></span>) (<span id="r:133" class="id"><a name="r:133" class="">r</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#seq">seq</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#T2:131">T2</a></span>) (<span id="P:134" class="id"><a name="P:134" class="">P</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#pred">pred</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#T2:131">T2</a></span>) (<span id="a:135" class="id"><a name="a:135" class="">a</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.esum.html#T1:130">T1</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#T2:131">T2</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#R:129">R</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="i:136" class="id"><a name="i:136" class="">i</a></span> <span id="j:137" class="id"><a name="j:137" class="">j,</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#I:132">I</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:136">i</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#P:134">P</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#j:137">j</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#a:135">a</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:136">i</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#j:137">j</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.esum.html#bfafafade7d3e202dbbc3dbf50606eb1">\esum_</a></span>(<span id="i:138" class="id"><a name="i:138" class="">i</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.esum.html#I:132">I</a></span>) <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#1fe17e4fd81b8a2ec75a3412a583fdf0">\sum_</a></span>(<span id="j:141" class="id"><span id="j:140" class="id"><span id="j:139" class="id"><a name="j:141" class="">j</a></span></span></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#1fe17e4fd81b8a2ec75a3412a583fdf0">&lt;-</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#r:133">r</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#1fe17e4fd81b8a2ec75a3412a583fdf0">|</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#P:134">P</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#j:139">j</a></span>) <span class="id"><a href="mathcomp.analysis.esum.html#a:135">a</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:138">i</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#j:139">j</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#1fe17e4fd81b8a2ec75a3412a583fdf0">\sum_</a></span>(<span id="j:144" class="id"><span id="j:143" class="id"><span id="j:142" class="id"><a name="j:144" class="">j</a></span></span></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#1fe17e4fd81b8a2ec75a3412a583fdf0">&lt;-</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#r:133">r</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#1fe17e4fd81b8a2ec75a3412a583fdf0">|</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#P:134">P</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#j:142">j</a></span>) <span class="id"><a href="mathcomp.analysis.esum.html#bfafafade7d3e202dbbc3dbf50606eb1">\esum_</a></span>(<span id="i:145" class="id"><a name="i:145" class="">i</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.esum.html#I:132">I</a></span>) <span class="id"><a href="mathcomp.analysis.esum.html#a:135">a</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:145">i</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#j:142">j</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof17')">Proof.</span></div>
<div class="proofscript" id="proof17">
<span class="id">move=&gt;</span> <span class="id">a_ge0;</span> <span class="id">elim:</span> <span class="id">r</span> <span class="id">=&gt;</span> <span class="id">[|j</span> <span class="id">r</span> <span class="id">IHr];</span> <span class="id">rewrite</span> <span class="id">?</span>(<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.bigop.html#big_nil">big_nil,</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.bigop.html#big_cons">big_cons</a></span>)<span class="id">//</span> <span class="id">-?IHr</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.esum.html#esum1">esum1//</a></span> <span class="id">=&gt;</span> <span class="id">i;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.bigop.html#big_nil">big_nil</a></span>.<br/>
<span class="id">case:</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#boolP">boolP</a></span> (<span class="id">P</span> <span class="id">j</span>)) <span class="id">=&gt;</span> <span class="id">Pj;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.esum.html#eq_esum">eq_esum</a></span> <span class="id">=&gt;</span> <span class="id">i</span> <span class="id">Ii;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.bigop.html#big_cons">big_cons</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negPf">negPf</a></span> <span class="id">Pj</span>).<br/>
<span class="id">have</span> <span class="id">aj_ge0</span> <span class="id">i</span> <span class="id">:</span> <span class="id">I</span> <span class="id"><a href="mathcomp.analysis.esum.html#i:146">i</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.esum.html#i:146">i</a></span> <span class="id">j</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#92160d99f87da4bf2648609e0f89da8e">&gt;=</a></span> <span class="id">0</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">?;</span> <span class="id">apply:</span> <span class="id">a_ge0</span>.<br/>
<span class="id">rewrite</span> <span class="id">-esumD//;</span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">i</span> <span class="id">Ii;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#sume_ge0">sume_ge0</a></span> <span class="id">=&gt;</span> <span class="id">*;</span> <span class="id">apply:</span> <span class="id">a_ge0</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.esum.html#eq_esum">eq_esum</a></span> <span class="id">=&gt;</span> <span class="id">i</span> <span class="id">Ii;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.bigop.html#big_cons">big_cons</a></span> <span class="id">Pj</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="esum_esum" class="id"><a name="esum_esum" class="">esum_esum</a></span> <span class="id">[R</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType]</a></span> <span class="id">[T1</span> <span id="T2:149" class="id"><a name="T2:149" class="">T2</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.choice.html#Choice.Exports.choiceType">choiceType]</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="I:150" class="id"><a name="I:150" class="">I</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#T1:148">T1</a></span>) (<span id="J:151" class="id"><a name="J:151" class="">J</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.esum.html#T1:148">T1</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#T2:149">T2</a></span>) (<span id="a:152" class="id"><a name="a:152" class="">a</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.esum.html#T1:148">T1</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#T2:149">T2</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#R:147">R</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="i:153" class="id"><a name="i:153" class="">i</a></span> <span id="j:154" class="id"><a name="j:154" class="">j,</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#I:150">I</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:153">i</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#J:151">J</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:153">i</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#j:154">j</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#a:152">a</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:153">i</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#j:154">j</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.esum.html#bfafafade7d3e202dbbc3dbf50606eb1">\esum_</a></span>(<span id="i:155" class="id"><a name="i:155" class="">i</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.esum.html#I:150">I</a></span>) <span class="id"><a href="mathcomp.analysis.esum.html#bfafafade7d3e202dbbc3dbf50606eb1">\esum_</a></span>(<span id="j:156" class="id"><a name="j:156" class="">j</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.esum.html#J:151">J</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:155">i</a></span>) <span class="id"><a href="mathcomp.analysis.esum.html#a:152">a</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:155">i</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#j:156">j</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#bfafafade7d3e202dbbc3dbf50606eb1">\esum_</a></span>(<span id="k:157" class="id"><a name="k:157" class="">k</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.esum.html#I:150">I</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#8f8ce0ffd4fcb1cabbac77bb467a750e">`*``</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#J:151">J</a></span>) <span class="id"><a href="mathcomp.analysis.esum.html#a:152">a</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#k:157">k</a></span>.<span class="id">1</span> <span class="id"><a href="mathcomp.analysis.esum.html#k:157">k</a></span>.<span class="id">2</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof18')">Proof.</span></div>
<div class="proofscript" id="proof18">
<span class="id">move=&gt;</span> <span class="id">a_ge0;</span> <span class="id">apply/eqP;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.eq_le">eq_le;</a></span> <span class="id">apply/andP;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ub_ereal_sup">ub_ereal_sup</a></span> <span class="id">=&gt;</span> <span class="id">/=</span> <span class="id">_</span> <span class="id">[X</span> <span class="id">[finX</span> <span class="id">XI]]</span> <span class="id">&lt;-</span>.<br/>
&nbsp;&nbsp;<span class="id">under</span> <span class="id"><a href="mathcomp.classical.fsbigop.html#eq_fsbigr">eq_fsbigr</a></span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.esum.html#esum_mkcond">esum_mkcond</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.fsbigop.html#fsbig_finite">fsbig_finite//=</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.bigop.html#big_seq">big_seq</a></span> <span class="id">-esum_sum;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">i</span> <span class="id">j</span> <span class="id">_</span> <span class="id">/[!in_fset_set]//</span> <span class="id">/[!inE]</span> <span class="id">/XI</span> <span class="id">Ij</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">case:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">/[!inE]</span> <span class="id">/a_ge0-/</span>(<span class="id">_</span> <span class="id">Ij</span>).<br/>
&nbsp;&nbsp;<span class="id">under</span> <span class="id"><a href="mathcomp.analysis.esum.html#eq_esum">eq_esum</a></span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id">-big_seq</span> <span class="id">-big_mkcond/=</span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ub_ereal_sup">ub_ereal_sup</a></span> <span class="id">=&gt;</span> <span class="id">/=</span> <span class="id">_</span> <span class="id">[Y</span> <span class="id">[finY</span> <span class="id">_]</span> <span class="id">&lt;-];</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup_ub">ereal_sup_ub</a></span> <span class="id">=&gt;</span> <span class="id">/=</span>.<br/>
&nbsp;&nbsp;<span class="id">set</span> <span class="id">XYJ</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">[set</a></span> <span id="z:160" class="id"><span id="z:159" class="id"><span id="z:158" class="id"><a name="z:160" class="">z</a></span></span></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">|</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#z:158">z</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7">\in</a></span> <span class="id">X</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#3bd2d3ba5f22ac825c14018530a2318c">`*`</a></span> <span class="id">Y</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#z:158">z</a></span>.<span class="id">2</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7">\in</a></span> <span class="id">J</span> <span class="id"><a href="mathcomp.analysis.esum.html#z:158">z</a></span>.<span class="id">1]</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">?</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.cardinality.html#finite_set">finite_set</a></span> <span class="id">XYJ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.classical.cardinality.html#sub_finite_set">sub_finite_set</a></span> (<span class="id"><a href="mathcomp.classical.cardinality.html#finite_setM">finite_setM</a></span> <span class="id">finX</span> <span class="id">finY</span>) <span class="id">=&gt;</span> <span class="id">z/=</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/XYJ/=</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#in_setM">in_setM</a></span> <span class="id">=&gt;</span> <span class="id">-[/andP[]</span> <span class="id">/[!inE]]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">XYJ</span> <span class="id">=&gt;</span> <span class="id">/=;</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">//=</span> <span class="id">z;</span> <span class="id">rewrite</span> <span class="id">/XYJ/=</span> <span class="id">2!inE=&gt;</span> <span class="id">-[[/XI]]</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">[in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS]fsbig_finite//=</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.bigop.html#exchange_big_dep">exchange_big_dep</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#xpredT">xpredT</a></span>)<span class="id">//</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.finmap.finmap#pair_big_dep_cond">pair_big_dep_cond</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.fsbigop.html#fsbig_finite">fsbig_finite//;</a></span> <span class="id">apply:</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.finmap.finmap#eq_fbigl">eq_fbigl</a></span> <span class="id">=&gt;</span> <span class="id">-[/=</span> <span class="id">x</span> <span class="id">y];</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.cardinality.html#in_fset_set">in_fset_set//</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply/idP/imfset2P</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">/XYJ</span> <span class="id">!inE/=</span> <span class="id">!inE/=</span> <span class="id">-andA</span> <span class="id">=&gt;</span> <span class="id">-[Xx</span> <span class="id">[Yy</span> <span class="id">Jxy]]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">x;</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">!inE</span> <span class="id"><a href="mathcomp.classical.cardinality.html#in_fset_set">in_fset_set//</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#mem_set">mem_set</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> <span class="id">y</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">rewrite</span> <span class="id">!inE</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#mem_set">mem_set//</a></span> <span class="id"><a href="mathcomp.classical.cardinality.html#in_fset_set">in_fset_set//</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#mem_set">mem_set</a></span>.<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">[t1];</span> <span class="id">rewrite</span> <span class="id">!inE</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT/=</a></span> <span class="id"><a href="mathcomp.classical.cardinality.html#in_fset_set">in_fset_set//</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> <span class="id">=&gt;</span> <span class="id">Xt1</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">[t2];</span> <span class="id">rewrite</span> <span class="id">!inE</span> <span class="id"><a href="mathcomp.classical.cardinality.html#in_fset_set">in_fset_set</a></span> <span class="id">/XYJ//=</span> <span class="id">=&gt;/andP[/[!inE]</span> <span class="id">?</span> <span class="id">?]</span> <span class="id">[-&gt;</span> <span class="id">-&gt;]</span>.<br/>
<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ub_ereal_sup">ub_ereal_sup</a></span> <span class="id">=&gt;</span> <span class="id">_</span> <span class="id">/=</span> <span class="id">[X/=</span> <span class="id">[finX</span> <span class="id">XIJ]]</span> <span class="id">&lt;-;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.esum.html#esum_ge">esum_ge</a></span>.<br/>
<span class="gallina-kwd">exists</span> <span class="id">X</span>.<span class="id">`1;</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">split=&gt;</span> <span class="id">[|x</span> <span class="id">[y</span> <span class="id">/XIJ[]//]];</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.classical.cardinality.html#finite_set_fst">finite_set_fst</a></span>.<br/>
<span class="id">apply:</span> (<span class="id">@le_trans</span> <span class="id">_</span> <span class="id">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#2ed228b16343d82e9e410c7fc103f88a">\sum_</a></span>(<span id="i:169" class="id"><span id="i:168" class="id"><span id="i:167" class="id"><span id="i:163" class="id"><span id="i:162" class="id"><span id="i:161" class="id"><a name="i:169" class="">i</a></span></span></span></span></span></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#2ed228b16343d82e9e410c7fc103f88a">&lt;-</a></span> <span class="id"><a href="mathcomp.classical.cardinality.html#fset_set">fset_set</a></span> <span class="id">X</span>.<span class="id">`1</span>) <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#1fe17e4fd81b8a2ec75a3412a583fdf0">\sum_</a></span>(<span id="j:172" class="id"><span id="j:171" class="id"><span id="j:170" class="id"><span id="j:166" class="id"><span id="j:165" class="id"><span id="j:164" class="id"><a name="j:172" class="">j</a></span></span></span></span></span></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#1fe17e4fd81b8a2ec75a3412a583fdf0">&lt;-</a></span> <span class="id"><a href="mathcomp.classical.cardinality.html#fset_set">fset_set</a></span> <span class="id">X</span>.<span class="id">`2</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#1fe17e4fd81b8a2ec75a3412a583fdf0">|</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#j:164">j</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7">\in</a></span> <span class="id">J</span> <span class="id"><a href="mathcomp.analysis.esum.html#i:161">i</a></span>) <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.esum.html#i:161">i</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#j:164">j</a></span>)).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.finmap.finmap#pair_big_dep_cond">pair_big_dep_cond//=;</a></span> <span class="id">set</span> <span class="id">Y</span> <span class="id">:=</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.finmap.finmap#Imfset.imfset2">Imfset.imfset2</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">[leRHS]</span>(<span class="id"><a href="NOTFOUND the module url for mathcomp.finmap.finmap#big_fsetID">big_fsetID</a></span> <span class="id">_</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#mem">mem</a></span> <span class="id">X</span>))<span class="id">/=</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="NOTFOUND the module url for mathcomp.finmap.finmap#cc6f9823b919c0577accd546a53862d6">[fset</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#x:173">x</a></span> <span class="id"><a href="NOTFOUND the module url for mathcomp.finmap.finmap#cc6f9823b919c0577accd546a53862d6">|</a></span> <span id="x:184" class="id"><span id="x:183" class="id"><span id="x:182" class="id"><span id="x:181" class="id"><span id="x:180" class="id"><span id="x:179" class="id"><span id="x:178" class="id"><span id="x:177" class="id"><span id="x:176" class="id"><span id="x:175" class="id"><span id="x:174" class="id"><span id="x:173" class="id"><a name="x:184" class="">x</a></span></span></span></span></span></span></span></span></span></span></span></span> <span class="gallina-kwd">in</span> <span class="id">Y</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.finmap.finmap#cc6f9823b919c0577accd546a53862d6">&amp;</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#x:174">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7">\in</a></span> <span class="id">X]</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">Y</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.finmap.finmap#2eaa45a18d79c2a1c3e082c0b6dcadd3">`&amp;`</a></span> <span class="id"><a href="mathcomp.classical.cardinality.html#fset_set">fset_set</a></span> <span class="id">X</span>)<span class="id">%fset;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply/fsetP</span> <span class="id">=&gt;</span> <span class="id">x;</span> <span class="id">rewrite</span> <span class="id">2!inE/=</span> <span class="id"><a href="mathcomp.classical.cardinality.html#in_fset_set">in_fset_set</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id"><a href="NOTFOUND the module url for mathcomp.finmap.finmap#fsetIidPr">fsetIidPr</a></span> <span class="id">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.fsbigop.html#fsbig_finite">fsbig_finite//</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_addl">lee_addl//</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.bigop.html#big_seq">big_seq</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#sume_ge0">sume_ge0//=</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">[x</span> <span class="id">y]</span> <span class="id">/imfsetP[[x1</span> <span class="id">y1]]</span> <span class="id">/[!inE]</span> <span class="id">/andP[]</span> <span class="id">/imfset2P[x2]/=</span> <span class="id">/[!inE]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span> <span class="id"><a href="mathcomp.classical.cardinality.html#in_fset_set">in_fset_set//;</a></span> <span class="id">last</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.classical.cardinality.html#finite_set_fst">finite_set_fst</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">/[!inE]</span> <span class="id">x2X</span> <span class="id">[y2]</span> <span class="id">/[!inE]</span> <span class="id">/andP[]</span> <span class="id">/[!in_fset_set];</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact:</span> <span class="id"><a href="mathcomp.classical.cardinality.html#finite_set_snd">finite_set_snd</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">/[!inE]</span> <span class="id">y2X</span> <span class="id">y2J</span> <span class="id">[-&gt;</span> <span class="id">-&gt;]</span> <span class="id">_</span> <span class="id">[-&gt;</span> <span class="id">-&gt;];</span> <span class="id">rewrite</span> <span class="id">a_ge0//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move:</span> <span class="id">x2X</span> <span class="id">=&gt;</span> <span class="id">[y3</span> <span class="id">/XIJ</span> <span class="id">[]]</span>.<br/>
&nbsp;&nbsp;<span class="id">apply/fsubsetP</span> <span class="id">=&gt;</span> <span class="id">-[i</span> <span class="id">j];</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.cardinality.html#in_fset_set">in_fset_set//</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> <span class="id">=&gt;</span> <span class="id">Xij;</span> <span class="id">apply/imfset2P</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">i</span> <span class="id">=&gt;</span> <span class="id">/=</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">!inE/=</span> <span class="id"><a href="mathcomp.classical.cardinality.html#in_fset_set">in_fset_set//;</a></span> <span class="id">last</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.classical.cardinality.html#finite_set_fst">finite_set_fst</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#mem_set">mem_set//;</a></span> <span class="id">move/fst_set_fst</span> <span class="id">:</span> <span class="id">Xij</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">j</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">rewrite</span> <span class="id">!inE/=</span> <span class="id"><a href="mathcomp.classical.cardinality.html#in_fset_set">in_fset_set;</a></span> <span class="id">last</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.classical.cardinality.html#finite_set_snd">finite_set_snd</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#mem_set">mem_set/=;</a></span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">move/snd_set_snd</span> <span class="id">:</span> <span class="id">Xij</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#mem_set">mem_set//;</a></span> <span class="id">move/XIJ</span> <span class="id">:</span> <span class="id">Xij</span> <span class="id">=&gt;</span> <span class="id">[]</span>.<br/>
<span class="id">rewrite</span> <span class="id">-fsbig_finite;</span> <span class="id">last</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.classical.cardinality.html#finite_set_fst">finite_set_fst</a></span>.<br/>
<span class="id">apply</span> <span class="id"><a href="mathcomp.analysis.ereal.html#lee_fsum">lee_fsum=&gt;</a></span> <span class="id">[|i</span> <span class="id">Xi];</span> <span class="id">first</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.classical.cardinality.html#finite_set_fst">finite_set_fst</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup_ub">ereal_sup_ub</a></span> <span class="id">=&gt;</span> <span class="id">//=;</span> <span class="id">have</span> <span class="id">?</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.cardinality.html#finite_set">finite_set</a></span> (<span class="id">X</span>.<span class="id">`2</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#c7636f45aa1745dbf533da3d408cece1">`&amp;`</a></span> <span class="id">J</span> <span class="id">i</span>).<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.classical.cardinality.html#finite_setI">finite_setI;</a></span> <span class="id">left;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.classical.cardinality.html#finite_set_snd">finite_set_snd</a></span>.<br/>
<span class="gallina-kwd">exists</span> (<span class="id">X</span>.<span class="id">`2</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#c7636f45aa1745dbf533da3d408cece1">`&amp;`</a></span> <span class="id">J</span> <span class="id">i</span>) <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
<span class="id">rewrite</span> <span class="id">[in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS]big_fset_condE/=</a></span> <span class="id"><a href="mathcomp.classical.fsbigop.html#fsbig_finite">fsbig_finite//;</a></span> <span class="id">apply</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.finmap.finmap#eq_fbigl">eq_fbigl</a></span> <span class="id">=&gt;</span> <span class="id">j</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.cardinality.html#in_fset_set">in_fset_set//</a></span> <span class="id">!inE/=</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#in_setI">in_setI</a></span> <span class="id"><a href="mathcomp.classical.cardinality.html#in_fset_set">in_fset_set//;</a></span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.classical.cardinality.html#finite_set_snd">finite_set_snd</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="lee_sum_fset_nat" class="id"><a name="lee_sum_fset_nat" class="">lee_sum_fset_nat</a></span> (<span id="R:185" class="id"><a name="R:185" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.RealDomain.Exports.realDomainType">realDomainType</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="f:186" class="id"><a name="f:186" class="">f</a></span> <span class="id">:</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#R:185">R</a></span>)<span class="id">^nat</span>) (<span id="F:187" class="id"><a name="F:187" class="">F</a></span> <span class="id">:</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.finmap.finmap#56b55a79be47ef2ec896f3a7734c305c">{fset</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat}</a></span>) <span id="n:188" class="id"><a name="n:188" class="">n</a></span> (<span id="P:189" class="id"><a name="P:189" class="">P</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#pred">pred</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="i:190" class="id"><a name="i:190" class="">i,</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#P:189">P</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:190">i</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">0%E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#f:186">f</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:190">i</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.classical_sets.html#fd1315670760bbd104fd4b87ca2730c7">[set`</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#F:187">F]</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#e19db46c1d4073266228fb7781521a56">`&lt;=`</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#ab8d1100462fb578182d90787a3ffaeb">`I_n</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#1fe17e4fd81b8a2ec75a3412a583fdf0">\sum_</a></span>(<span id="i:193" class="id"><span id="i:192" class="id"><span id="i:191" class="id"><a name="i:193" class="">i</a></span></span></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#1fe17e4fd81b8a2ec75a3412a583fdf0">&lt;-</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#F:187">F</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#1fe17e4fd81b8a2ec75a3412a583fdf0">|</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#P:189">P</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:191">i</a></span>) <span class="id"><a href="mathcomp.analysis.esum.html#f:186">f</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:191">i</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#70ba15326de3f03c0d37931858832682">\sum_</a></span>(<span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#70ba15326de3f03c0d37931858832682">&lt;=</a></span> <span id="i:196" class="id"><span id="i:195" class="id"><span id="i:194" class="id"><a name="i:196" class="">i</a></span></span></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#70ba15326de3f03c0d37931858832682">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#n:188">n</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#70ba15326de3f03c0d37931858832682">|</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#P:189">P</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:194">i</a></span>) <span class="id"><a href="mathcomp.analysis.esum.html#f:186">f</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:194">i</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof19')">Proof.</span></div>
<div class="proofscript" id="proof19">
<span class="id">move=&gt;</span> <span class="id">f0</span> <span class="id">Fn;</span> <span class="id">rewrite</span> <span class="id">[leRHS]</span>(<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.bigop.html#bigID">bigID</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#mem">mem</a></span> <span class="id">F</span>))<span class="id">/=</span>.<br/>
<span class="id">suff</span> <span class="id">-&gt;</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#70ba15326de3f03c0d37931858832682">\sum_</a></span>(<span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#70ba15326de3f03c0d37931858832682">&lt;=</a></span> <span id="i:199" class="id"><span id="i:198" class="id"><span id="i:197" class="id"><a name="i:199" class="">i</a></span></span></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#70ba15326de3f03c0d37931858832682">&lt;</a></span> <span class="id">n</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#70ba15326de3f03c0d37931858832682">|</a></span> <span class="id">P</span> <span class="id"><a href="mathcomp.analysis.esum.html#i:197">i</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x">&amp;&amp;</a></span> (<span class="id"><a href="mathcomp.analysis.esum.html#i:197">i</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7">\in</a></span> <span class="id">F</span>)) <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.esum.html#i:197">i</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#1fe17e4fd81b8a2ec75a3412a583fdf0">\sum_</a></span>(<span id="i:202" class="id"><span id="i:201" class="id"><span id="i:200" class="id"><a name="i:202" class="">i</a></span></span></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#1fe17e4fd81b8a2ec75a3412a583fdf0">&lt;-</a></span> <span class="id">F</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#1fe17e4fd81b8a2ec75a3412a583fdf0">|</a></span> <span class="id">P</span> <span class="id"><a href="mathcomp.analysis.esum.html#i:200">i</a></span>) <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.esum.html#i:200">i</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_addl">lee_addl</a></span> <span class="id">?sume_ge0//</span> <span class="id">=&gt;</span> <span class="id">i</span> <span class="id">/andP[/f0]</span>.<br/>
<span class="id">rewrite</span> <span class="id">-big_filter</span> <span class="id">-[RHS]big_filter;</span> <span class="id">apply:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.bigop.html#perm_big">perm_big</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#uniq_perm">uniq_perm</a></span> <span class="id">?filter_uniq</span> <span class="id">?index_iota</span> <span class="id">?iota_uniq</span> <span class="id">?fset_uniq//</span>.<br/>
<span class="id">move=&gt;</span> <span class="id">i;</span> <span class="id">rewrite</span> <span class="id">?mem_filter</span>.<br/>
<span class="id">case:</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#boolP">boolP</a></span> (<span class="id">P</span> <span class="id">i</span>)) <span class="id">=&gt;</span> <span class="id">//=</span> <span class="id">Pi;</span> <span class="id">case:</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#boolP">boolP</a></span> (<span class="id">i</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7">\in</a></span> <span class="id">F</span>)) <span class="id">=&gt;</span> <span class="id">//=</span> <span class="id">Fi</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#mem_iota">mem_iota</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.ssrnat.html#leq0n">leq0n</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.ssrnat.html#add0n">add0n</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.ssrnat.html#subn0">subn0/=;</a></span> <span class="id">apply:</span> <span class="id">Fn</span>.<br/>
Qed.</div>
<span class="vernacular">Arguments</span> <span class="id"><a href="mathcomp.analysis.esum.html#lee_sum_fset_nat">lee_sum_fset_nat</a></span> <span class="id">{R</span> <span class="id">f}</span> <span class="id">F</span> <span class="id">n</span> <span class="id">P</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="lee_sum_fset_lim" class="id"><a name="lee_sum_fset_lim" class="">lee_sum_fset_lim</a></span> (<span id="R:203" class="id"><a name="R:203" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) (<span id="f:204" class="id"><a name="f:204" class="">f</a></span> <span class="id">:</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#R:203">R</a></span>)<span class="id">^nat</span>) (<span id="F:205" class="id"><a name="F:205" class="">F</a></span> <span class="id">:</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.finmap.finmap#56b55a79be47ef2ec896f3a7734c305c">{fset</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat}</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="P:206" class="id"><a name="P:206" class="">P</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#pred">pred</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="i:207" class="id"><a name="i:207" class="">i,</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#P:206">P</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:207">i</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">0%E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#f:204">f</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:207">i</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#1fe17e4fd81b8a2ec75a3412a583fdf0">\sum_</a></span>(<span id="i:210" class="id"><span id="i:209" class="id"><span id="i:208" class="id"><a name="i:210" class="">i</a></span></span></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#1fe17e4fd81b8a2ec75a3412a583fdf0">&lt;-</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#F:205">F</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#1fe17e4fd81b8a2ec75a3412a583fdf0">|</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#P:206">P</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:208">i</a></span>) <span class="id"><a href="mathcomp.analysis.esum.html#f:204">f</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:208">i</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.sequences.html#ffadba069702e9e7be8bc2674b4cdf45">\sum_</a></span>(<span id="i:213" class="id"><span id="i:212" class="id"><span id="i:211" class="id"><a name="i:213" class="">i</a></span></span></span> <span class="id"><a href="mathcomp.analysis.sequences.html#ffadba069702e9e7be8bc2674b4cdf45">&lt;oo</a></span> <span class="id">|</span> <span class="id"><a href="mathcomp.analysis.esum.html#P:206">P</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:211">i</a></span>) <span class="id"><a href="mathcomp.analysis.esum.html#f:204">f</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:211">i</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof20')">Proof.</span></div>
<div class="proofscript" id="proof20">
<span class="id">move=&gt;</span> <span class="id">f0;</span> <span class="id">pose</span> <span class="id">n</span> <span class="id">:=</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.bigop.html#14bf6b825fa7c225eab7220105f1e946">\max_</a></span>(<span id="k:216" class="id"><span id="k:215" class="id"><span id="k:214" class="id"><a name="k:216" class="">k</a></span></span></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.bigop.html#14bf6b825fa7c225eab7220105f1e946">&lt;-</a></span> <span class="id">F</span>) <span class="id"><a href="mathcomp.analysis.esum.html#k:214">k</a></span>).<span class="id">+1</span>.<br/>
<span class="id">rewrite</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans</a></span> (<span class="id"><a href="mathcomp.analysis.esum.html#lee_sum_fset_nat">lee_sum_fset_nat</a></span> <span class="id">F</span> <span class="id">n</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>))<span class="id">//;</span> <span class="id">last</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.sequences.html#nneseries_lim_ge">nneseries_lim_ge</a></span>.<br/>
<span class="id">move=&gt;</span> <span class="id">k</span> <span class="id">/=</span> <span class="id">kF;</span> <span class="id">rewrite</span> <span class="id">/n</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.finmap.finmap#big_seq_fsetE">big_seq_fsetE/=</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-[k]/</span>(<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#val">val</a></span> <span class="id"><a href="NOTFOUND the module url for mathcomp.finmap.finmap#393a191f3f76041cf64196c8e06a1cbf">[`kF]%fset</a></span>) <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.ssrnat.html#ltnS">ltnS</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.bigop.html#leq_bigmax">leq_bigmax</a></span>.<br/>
Qed.</div>
<span class="vernacular">Arguments</span> <span class="id"><a href="mathcomp.analysis.esum.html#lee_sum_fset_lim">lee_sum_fset_lim</a></span> <span class="id">{R</span> <span class="id">f}</span> <span class="id">F</span> <span class="id">P</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="nneseries_esum" class="id"><a name="nneseries_esum" class="">nneseries_esum</a></span> (<span id="R:217" class="id"><a name="R:217" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) (<span id="a:218" class="id"><a name="a:218" class="">a</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#R:217">R</a></span>) (<span id="P:219" class="id"><a name="P:219" class="">P</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#pred">pred</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="n:220" class="id"><a name="n:220" class="">n,</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#P:219">P</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#n:220">n</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#a:218">a</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#n:220">n</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.sequences.html#ffadba069702e9e7be8bc2674b4cdf45">\sum_</a></span>(<span id="i:223" class="id"><span id="i:222" class="id"><span id="i:221" class="id"><a name="i:223" class="">i</a></span></span></span> <span class="id"><a href="mathcomp.analysis.sequences.html#ffadba069702e9e7be8bc2674b4cdf45">&lt;oo</a></span> <span class="id">|</span> <span class="id"><a href="mathcomp.analysis.esum.html#P:219">P</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:221">i</a></span>) <span class="id"><a href="mathcomp.analysis.esum.html#a:218">a</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:221">i</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#bfafafade7d3e202dbbc3dbf50606eb1">\esum_</a></span>(<span id="i:225" class="id"><a name="i:225" class="">i</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">[set</a></span> <span id="x:224" class="id"><a name="x:224" class="">x</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">|</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#P:219">P</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#x:224">x]</a></span>) <span class="id"><a href="mathcomp.analysis.esum.html#a:218">a</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:225">i</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof21')">Proof.</span></div>
<div class="proofscript" id="proof21">
<span class="id">move=&gt;</span> <span class="id">a0;</span> <span class="id">apply/eqP;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.eq_le">eq_le;</a></span> <span class="id">apply/andP;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> (<span class="id"><a href="mathcomp.analysis.normedtype.html#lime_le">lime_le</a></span> (<span class="id"><a href="mathcomp.analysis.sequences.html#is_cvg_nneseries_cond">is_cvg_nneseries_cond</a></span> <span class="id">a0</span>))<span class="id">;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.topology.html#nearW">nearW</a></span> <span class="id">=&gt;</span> <span class="id">n</span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup_ub">ereal_sup_ub</a></span> <span class="id">=&gt;</span> <span class="id">/=;</span> <span class="gallina-kwd">exists</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#fd1315670760bbd104fd4b87ca2730c7">[set`</a></span> <span class="id"><a href="NOTFOUND the module url for mathcomp.finmap.finmap#cc6f9823b919c0577accd546a53862d6">[fset</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#val">val</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:226">i</a></span> <span class="id"><a href="NOTFOUND the module url for mathcomp.finmap.finmap#cc6f9823b919c0577accd546a53862d6">|</a></span> <span id="i:233" class="id"><span id="i:232" class="id"><span id="i:231" class="id"><span id="i:230" class="id"><span id="i:229" class="id"><span id="i:228" class="id"><span id="i:227" class="id"><span id="i:226" class="id"><a name="i:233" class="">i</a></span></span></span></span></span></span></span></span> <span class="gallina-kwd">in</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.fintype.html#:::'''I_'_x">'I_n</a></span> <span class="id"><a href="NOTFOUND the module url for mathcomp.finmap.finmap#cc6f9823b919c0577accd546a53862d6">&amp;</a></span> <span class="id">P</span> <span class="id"><a href="mathcomp.analysis.esum.html#i:227">i]%fset]</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">split;</span> <span class="id">first</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.classical.cardinality.html#finite_fset">finite_fset</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">/=</span> <span class="id">k</span> <span class="id">/imfsetP[/=</span> <span class="id">i];</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> <span class="id">=&gt;</span> <span class="id">+</span> <span class="id">-&gt;</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.fsbigop.html#fsbig_finite">fsbig_finite//=</a></span> <span class="id"><a href="mathcomp.classical.cardinality.html#set_fsetK">set_fsetK</a></span> <span class="id"><a href="NOTFOUND the module url for mathcomp.finmap.finmap#big_imfset">big_imfset/=;</a></span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">?</span> <span class="id">?</span> <span class="id">?</span> <span class="id">?</span> <span class="id">/val_inj</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.bigop.html#big_filter">big_filter</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.bigop.html#big_enum_cond">big_enum_cond/=</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.bigop.html#big_mkord">big_mkord</a></span>.<br/>
<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ub_ereal_sup">ub_ereal_sup</a></span> <span class="id">=&gt;</span> <span class="id">_</span> <span class="id">[/=</span> <span class="id">F</span> <span class="id">[finF</span> <span class="id">PF]</span> <span class="id">&lt;-]</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.fsbigop.html#fsbig_finite">fsbig_finite//=</a></span> <span class="id">-</span>(<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.bigop.html#big_rmcond_in">big_rmcond_in</a></span> <span class="id">P</span>)<span class="id">/=;</span> <span class="id">first</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.esum.html#lee_sum_fset_lim">lee_sum_fset_lim</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">k;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.cardinality.html#in_fset_set">in_fset_set//</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> <span class="id">=&gt;</span> <span class="id">/PF</span> <span class="id">-&gt;</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="reindex_esum" class="id"><a name="reindex_esum" class="">reindex_esum</a></span> (<span id="R:234" class="id"><a name="R:234" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) (<span id="T:235" class="id"><a name="T:235" class="">T</a></span> <span id="T':236" class="id"><a name="T':236" class="">T'</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.choice.html#Choice.Exports.choiceType">choiceType</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="P:237" class="id"><a name="P:237" class="">P</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#T:235">T</a></span>) (<span id="Q:238" class="id"><a name="Q:238" class="">Q</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#T':236">T'</a></span>) (<span id="e:239" class="id"><a name="e:239" class="">e</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.esum.html#T:235">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#T':236">T'</a></span>) (<span id="a:240" class="id"><a name="a:240" class="">a</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.esum.html#T':236">T'</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#R:234">R</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#set_bij">set_bij</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#P:237">P</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#Q:238">Q</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#e:239">e</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.esum.html#bfafafade7d3e202dbbc3dbf50606eb1">\esum_</a></span>(<span id="j:241" class="id"><a name="j:241" class="">j</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.esum.html#Q:238">Q</a></span>) <span class="id"><a href="mathcomp.analysis.esum.html#a:240">a</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#j:241">j</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#bfafafade7d3e202dbbc3dbf50606eb1">\esum_</a></span>(<span id="i:242" class="id"><a name="i:242" class="">i</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.esum.html#P:237">P</a></span>) <span class="id"><a href="mathcomp.analysis.esum.html#a:240">a</a></span> (<span class="id"><a href="mathcomp.analysis.esum.html#e:239">e</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:242">i</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof22')">Proof.</span></div>
<div class="proofscript" id="proof22">
<span class="id">elim/choicePpointed:</span> <span class="id">T</span> <span class="id">=&gt;</span> <span class="id">T</span> <span class="gallina-kwd">in</span> <span class="id">e</span> <span class="id">P</span> <span class="id">*</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">!emptyE</span> <span class="id">=&gt;</span> <span class="id">/Pbij[{}e</span> <span class="id">-&gt;]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-[in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.LHS">LHS]</a></span>(<span class="id"><a href="mathcomp.classical.functions.html#image_eq">image_eq</a></span> <span class="id">e</span>) <span class="id"><a href="mathcomp.classical.classical_sets.html#image_set0">image_set0</a></span> <span class="id">!esum_set0</span>.<br/>
<span class="id">elim/choicePpointed:</span> <span class="id">T'</span> <span class="id">=&gt;</span> <span class="id">T'</span> <span class="gallina-kwd">in</span> <span class="id">a</span> <span class="id">e</span> <span class="id">Q</span> <span class="id">*;</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">have</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#no">no</a></span> (<span class="id">e</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#point">point</a></span>).<br/>
<span class="id">move=&gt;</span> <span class="id">/</span>(<span class="id">@pPbij</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>)<span class="id">[{}e</span> <span class="id">-&gt;]</span>.<br/>
<span class="id">gen</span> <span class="id">have</span> <span class="id">le_esum</span> <span class="id">:</span> <span class="id">T</span> <span class="id">T'</span> <span class="id">a</span> <span class="id">P</span> <span class="id">Q</span> <span class="id">e</span> <span class="id">/</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.esum.html#bfafafade7d3e202dbbc3dbf50606eb1">\esum_</a></span>(<span id="j:243" class="id"><a name="j:243" class="">j</a></span> <span class="gallina-kwd">in</span> <span class="id">Q</span>) <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.esum.html#j:243">j</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#bfafafade7d3e202dbbc3dbf50606eb1">\esum_</a></span>(<span id="i:244" class="id"><a name="i:244" class="">i</a></span> <span class="gallina-kwd">in</span> <span class="id">P</span>) <span class="id">a</span> (<span class="id">e</span> <span class="id"><a href="mathcomp.analysis.esum.html#i:244">i</a></span>)<span class="id">;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">apply/eqP;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.eq_le">eq_le</a></span> <span class="id">le_esum//=</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">[leRHS]</span>(<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#bfafafade7d3e202dbbc3dbf50606eb1">\esum_</a></span>(<span id="j:247" class="id"><span id="j:246" class="id"><span id="j:245" class="id"><a name="j:247" class="">j</a></span></span></span> <span class="gallina-kwd">in</span> <span class="id">Q</span>) <span class="id">a</span> (<span class="id">e</span> (<span class="id">e^-1%FUN</span> <span class="id"><a href="mathcomp.analysis.esum.html#j:245">j</a></span>)))<span class="id">;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.esum.html#eq_esum">eq_esum</a></span> <span class="id">=&gt;</span> <span class="id">i</span> <span class="id">Qi;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#invK">invK</a></span> <span class="id">?inE</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">le_esum</span> <span class="id">=&gt;</span> <span class="id">//=</span> <span class="id">i</span> <span class="id">Qi;</span> <span class="id">rewrite</span> <span class="id">a_ge0//;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.classical.functions.html#funS">funS</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ub_ereal_sup">ub_ereal_sup</a></span> <span class="id">=&gt;</span> <span class="id">//=</span> <span class="id">_</span> <span class="id">[X</span> <span class="id">[finX</span> <span class="id">XQ]</span> <span class="id">&lt;-];</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup_ub">ereal_sup_ub</a></span> <span class="id">=&gt;</span> <span class="id">//=</span>.<br/>
<span class="gallina-kwd">exists</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#fd1315670760bbd104fd4b87ca2730c7">[set`</a></span> (<span class="id">e^-1</span> <span class="id">@`</span> (<span class="id"><a href="mathcomp.classical.cardinality.html#fset_set">fset_set</a></span> <span class="id">X</span>))<span class="id">%fset]</span>.<br/>
&nbsp;&nbsp;<span class="id">split=&gt;</span> <span class="id">[|t</span> <span class="id">/=</span> <span class="id">/imfsetP[t'/=]];</span> <span class="id">first</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.classical.cardinality.html#finite_fset">finite_fset</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.cardinality.html#in_fset_set">in_fset_set//</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> <span class="id">=&gt;</span> <span class="id">/XQ</span> <span class="id">Qt'</span> <span class="id">-&gt;;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.classical.functions.html#funS">funS</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.fsbigop.html#fsbig_finite">fsbig_finite//=</a></span> <span class="id"><a href="mathcomp.classical.cardinality.html#set_fsetK">set_fsetK</a></span> <span class="id"><a href="NOTFOUND the module url for mathcomp.finmap.finmap#big_imfset">big_imfset</a></span> <span class="id">=&gt;</span> <span class="id">//=;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">x</span> <span class="id">y;</span> <span class="id">rewrite</span> <span class="id">!in_fset_set//</span> <span class="id">!inE</span> <span class="id">=&gt;</span> <span class="id">/XQ</span> <span class="id">?</span> <span class="id">/XQ</span> <span class="id">?</span> <span class="id">/</span>(<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#congr1">congr1</a></span> <span class="id">e</span>).<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">!invK</span> <span class="id">?inE</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-fsbig_finite//;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.classical.fsbigop.html#eq_fsbigr">eq_fsbigr=&gt;</a></span> <span class="id">x</span> <span class="id">/[!inE]/XQ</span> <span class="id">?;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#invK">invK</a></span> <span class="id">?inE</span>.<br/>
Qed.</div>
<span class="vernacular">Arguments</span> <span class="id"><a href="mathcomp.analysis.esum.html#reindex_esum">reindex_esum</a></span> <span class="id">{R</span> <span class="id">T</span> <span class="id">T'}</span> <span class="id">P</span> <span class="id">Q</span> <span class="id">e</span> <span class="id">a</span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="nneseries_interchange" class="id"><a name="nneseries_interchange" class="">nneseries_interchange</a></span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">ereal_scope</span>.<br/>
<br/>
<span class="vernacular">Let</span> <span id="nneseries_interchange.nneseries_esum_prod" class="id"><a name="nneseries_interchange.nneseries_esum_prod" class="">nneseries_esum_prod</a></span> (<span id="R:248" class="id"><a name="R:248" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) (<span id="a:249" class="id"><a name="a:249" class="">a</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#R:248">R</a></span>)<br/>
&nbsp;&nbsp;(<span id="P:250" class="id"><a name="P:250" class="">P</a></span> <span id="Q:251" class="id"><a name="Q:251" class="">Q</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#pred">pred</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span>) <span class="id">:</span> (<span class="gallina-kwd">forall</span> <span id="i:252" class="id"><a name="i:252" class="">i</a></span> <span id="j:253" class="id"><a name="j:253" class="">j,</a></span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#a:249">a</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:252">i</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#j:253">j</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.sequences.html#ffadba069702e9e7be8bc2674b4cdf45">\sum_</a></span>(<span id="i:256" class="id"><span id="i:255" class="id"><span id="i:254" class="id"><a name="i:256" class="">i</a></span></span></span> <span class="id"><a href="mathcomp.analysis.sequences.html#ffadba069702e9e7be8bc2674b4cdf45">&lt;oo</a></span> <span class="id">|</span> <span class="id"><a href="mathcomp.analysis.esum.html#P:250">P</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:254">i</a></span>) <span class="id"><a href="mathcomp.analysis.sequences.html#ffadba069702e9e7be8bc2674b4cdf45">\sum_</a></span>(<span id="j:259" class="id"><span id="j:258" class="id"><span id="j:257" class="id"><a name="j:259" class="">j</a></span></span></span> <span class="id"><a href="mathcomp.analysis.sequences.html#ffadba069702e9e7be8bc2674b4cdf45">&lt;oo</a></span> <span class="id">|</span> <span class="id"><a href="mathcomp.analysis.esum.html#Q:251">Q</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#j:257">j</a></span>) <span class="id"><a href="mathcomp.analysis.esum.html#a:249">a</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:254">i</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#j:257">j</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.esum.html#bfafafade7d3e202dbbc3dbf50606eb1">\esum_</a></span>(<span id="i:260" class="id"><a name="i:260" class="">i</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.esum.html#P:250">P</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#3bd2d3ba5f22ac825c14018530a2318c">`*`</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#Q:251">Q</a></span>) <span class="id"><a href="mathcomp.analysis.esum.html#a:249">a</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:260">i</a></span>.<span class="id">1</span> <span class="id"><a href="mathcomp.analysis.esum.html#i:260">i</a></span>.<span class="id">2</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof23')">Proof.</span></div>
<div class="proofscript" id="proof23">
<span class="id">move=&gt;</span> <span class="id">a0;</span> <span class="id">rewrite</span> <span class="id">-</span>(<span class="id">@esum_esum</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">P</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#94502d422d70bbaf4f390946d9885b7c">fun=&gt;</a></span> <span class="id">Q</span>))<span class="id">//</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.esum.html#nneseries_esum">nneseries_esum//;</a></span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">n</span> <span class="id">_;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.sequences.html#nneseries_ge0">nneseries_ge0</a></span>.<br/>
<span class="id">rewrite</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">[set</a></span> <span id="x:263" class="id"><span id="x:262" class="id"><span id="x:261" class="id"><a name="x:263" class="">x</a></span></span></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">|</a></span> <span class="id">P</span> <span class="id"><a href="mathcomp.analysis.esum.html#x:261">x]</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">P</span>)<span class="id">;</span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">apply/seteqP;</span> <span class="id">split</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">apply</span> <span class="id"><a href="mathcomp.analysis.esum.html#eq_esum">eq_esum</a></span> <span class="id">=&gt;</span> <span class="id">i</span> <span class="id">Pi;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.esum.html#nneseries_esum">nneseries_esum</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="nneseries_interchange" class="id"><a name="nneseries_interchange" class="">nneseries_interchange</a></span> (<span id="R:264" class="id"><a name="R:264" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) (<span id="a:265" class="id"><a name="a:265" class="">a</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#R:264">R</a></span>)<br/>
&nbsp;&nbsp;(<span id="P:266" class="id"><a name="P:266" class="">P</a></span> <span id="Q:267" class="id"><a name="Q:267" class="">Q</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#pred">pred</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span>) <span class="id">:</span> (<span class="gallina-kwd">forall</span> <span id="i:268" class="id"><a name="i:268" class="">i</a></span> <span id="j:269" class="id"><a name="j:269" class="">j,</a></span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#a:265">a</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:268">i</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#j:269">j</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.sequences.html#ffadba069702e9e7be8bc2674b4cdf45">\sum_</a></span>(<span id="i:272" class="id"><span id="i:271" class="id"><span id="i:270" class="id"><a name="i:272" class="">i</a></span></span></span> <span class="id"><a href="mathcomp.analysis.sequences.html#ffadba069702e9e7be8bc2674b4cdf45">&lt;oo</a></span> <span class="id">|</span> <span class="id"><a href="mathcomp.analysis.esum.html#P:266">P</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:270">i</a></span>) <span class="id"><a href="mathcomp.analysis.sequences.html#ffadba069702e9e7be8bc2674b4cdf45">\sum_</a></span>(<span id="j:275" class="id"><span id="j:274" class="id"><span id="j:273" class="id"><a name="j:275" class="">j</a></span></span></span> <span class="id"><a href="mathcomp.analysis.sequences.html#ffadba069702e9e7be8bc2674b4cdf45">&lt;oo</a></span> <span class="id">|</span> <span class="id"><a href="mathcomp.analysis.esum.html#Q:267">Q</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#j:273">j</a></span>) <span class="id"><a href="mathcomp.analysis.esum.html#a:265">a</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:270">i</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#j:273">j</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.sequences.html#ffadba069702e9e7be8bc2674b4cdf45">\sum_</a></span>(<span id="j:278" class="id"><span id="j:277" class="id"><span id="j:276" class="id"><a name="j:278" class="">j</a></span></span></span> <span class="id"><a href="mathcomp.analysis.sequences.html#ffadba069702e9e7be8bc2674b4cdf45">&lt;oo</a></span> <span class="id">|</span> <span class="id"><a href="mathcomp.analysis.esum.html#Q:267">Q</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#j:276">j</a></span>) <span class="id"><a href="mathcomp.analysis.sequences.html#ffadba069702e9e7be8bc2674b4cdf45">\sum_</a></span>(<span id="i:281" class="id"><span id="i:280" class="id"><span id="i:279" class="id"><a name="i:281" class="">i</a></span></span></span> <span class="id"><a href="mathcomp.analysis.sequences.html#ffadba069702e9e7be8bc2674b4cdf45">&lt;oo</a></span> <span class="id">|</span> <span class="id"><a href="mathcomp.analysis.esum.html#P:266">P</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:279">i</a></span>) <span class="id"><a href="mathcomp.analysis.esum.html#a:265">a</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:279">i</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#j:276">j</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof24')">Proof.</span></div>
<div class="proofscript" id="proof24">
<span class="id">move=&gt;</span> <span class="id">a0;</span> <span class="id">rewrite</span> <span class="id">!nneseries_esum_prod//</span>.<br/>
<span class="id">rewrite</span> (<span class="id"><a href="mathcomp.analysis.esum.html#reindex_esum">reindex_esum</a></span> (<span class="id">Q</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#3bd2d3ba5f22ac825c14018530a2318c">`*`</a></span> <span class="id">P</span>) <span class="id">_</span> (<span class="gallina-kwd">fun</span> <span id="x:284" class="id"><span id="x:283" class="id"><span id="x:282" class="id"><a name="x:284" class="">x</a></span></span></span> <span class="id">=&gt;</span> (<span class="id"><a href="mathcomp.analysis.esum.html#x:282">x</a></span>.<span class="id">2,</span> <span class="id"><a href="mathcomp.analysis.esum.html#x:282">x</a></span>.<span class="id">1</span>)))<span class="id">//;</span> <span class="id">split=&gt;</span> <span class="id">//=</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">[i</span> <span class="id">j]</span> <span class="id">[/=]</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">[i1</span> <span class="id">i2]</span> <span class="id">[j1</span> <span class="id">j2]</span> <span class="id">/=</span> <span class="id">_</span> <span class="id">_</span> <span class="id">[]</span> <span class="id">-&gt;</span> <span class="id">-&gt;</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">[i1</span> <span class="id">i2]</span> <span class="id">[Pi1</span> <span class="id">Qi2]</span> <span class="id">/=;</span> <span class="gallina-kwd">exists</span> (<span class="id">i2,</span> <span class="id">i1</span>).<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.esum.html#nneseries_interchange">nneseries_interchange</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="esum_image" class="id"><a name="esum_image" class="">esum_image</a></span> (<span id="R:285" class="id"><a name="R:285" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) (<span id="T:286" class="id"><a name="T:286" class="">T</a></span> <span id="T':287" class="id"><a name="T':287" class="">T'</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.choice.html#Choice.Exports.choiceType">choiceType</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="P:288" class="id"><a name="P:288" class="">P</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#T:286">T</a></span>) (<span id="e:289" class="id"><a name="e:289" class="">e</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.esum.html#T:286">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#T':287">T'</a></span>) (<span id="a:290" class="id"><a name="a:290" class="">a</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.esum.html#T':287">T'</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#R:285">R</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#set_inj">set_inj</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#P:288">P</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#e:289">e</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.esum.html#bfafafade7d3e202dbbc3dbf50606eb1">\esum_</a></span>(<span id="j:291" class="id"><a name="j:291" class="">j</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.esum.html#e:289">e</a></span> <span class="id">@`</span> <span class="id"><a href="mathcomp.analysis.esum.html#P:288">P</a></span>) <span class="id"><a href="mathcomp.analysis.esum.html#a:290">a</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#j:291">j</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#bfafafade7d3e202dbbc3dbf50606eb1">\esum_</a></span>(<span id="i:292" class="id"><a name="i:292" class="">i</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.esum.html#P:288">P</a></span>) <span class="id"><a href="mathcomp.analysis.esum.html#a:290">a</a></span> (<span class="id"><a href="mathcomp.analysis.esum.html#e:289">e</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:292">i</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof25')">Proof.</span></div>
<div class="proofscript" id="proof25">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">/inj_bij;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.esum.html#reindex_esum">reindex_esum</a></span>. Qed.</div>
<span class="vernacular">Arguments</span> <span class="id"><a href="mathcomp.analysis.esum.html#esum_image">esum_image</a></span> <span class="id">{R</span> <span class="id">T</span> <span class="id">T'}</span> <span class="id">P</span> <span class="id">e</span> <span class="id">a</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="esum_pred_image" class="id"><a name="esum_pred_image" class="">esum_pred_image</a></span> (<span id="R:293" class="id"><a name="R:293" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) (<span id="T:294" class="id"><a name="T:294" class="">T</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.choice.html#Choice.Exports.choiceType">choiceType</a></span>) (<span id="a:295" class="id"><a name="a:295" class="">a</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.esum.html#T:294">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#R:293">R</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="e:296" class="id"><a name="e:296" class="">e</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#T:294">T</a></span>) (<span id="P:297" class="id"><a name="P:297" class="">P</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#pred">pred</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="n:298" class="id"><a name="n:298" class="">n,</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#P:297">P</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#n:298">n</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#a:295">a</a></span> (<span class="id"><a href="mathcomp.analysis.esum.html#e:296">e</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#n:298">n</a></span>)) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#set_inj">set_inj</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#P:297">P</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#e:296">e</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.esum.html#bfafafade7d3e202dbbc3dbf50606eb1">\esum_</a></span>(<span id="i:299" class="id"><a name="i:299" class="">i</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.esum.html#e:296">e</a></span> <span class="id">@`</span> <span class="id"><a href="mathcomp.analysis.esum.html#P:297">P</a></span>) <span class="id"><a href="mathcomp.analysis.esum.html#a:295">a</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:299">i</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.sequences.html#ffadba069702e9e7be8bc2674b4cdf45">\sum_</a></span>(<span id="i:302" class="id"><span id="i:301" class="id"><span id="i:300" class="id"><a name="i:302" class="">i</a></span></span></span> <span class="id"><a href="mathcomp.analysis.sequences.html#ffadba069702e9e7be8bc2674b4cdf45">&lt;oo</a></span> <span class="id">|</span> <span class="id"><a href="mathcomp.analysis.esum.html#P:297">P</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:300">i</a></span>) <span class="id"><a href="mathcomp.analysis.esum.html#a:295">a</a></span> (<span class="id"><a href="mathcomp.analysis.esum.html#e:296">e</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:300">i</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof26')">Proof.</span></div>
<div class="proofscript" id="proof26">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">a0</span> <span class="id">einj;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.esum.html#esum_image">esum_image//</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#nneseries_esum">nneseries_esum</a></span>. Qed.</div>
<span class="vernacular">Arguments</span> <span class="id"><a href="mathcomp.analysis.esum.html#esum_pred_image">esum_pred_image</a></span> <span class="id">{R</span> <span class="id">T}</span> <span class="id">a</span> <span class="id">e</span> <span class="id">P</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="esum_set_image" class="id"><a name="esum_set_image" class="">esum_set_image</a></span>  <span class="id">[R</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType]</a></span> <span class="id">[T</span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.choice.html#Choice.Exports.choiceType">choiceType]</a></span> <span class="id">[a</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.esum.html#T:304">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#R:303">R]</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">[e</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#T:304">T]</a></span> <span class="id">[P</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat]</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="n:308" class="id"><a name="n:308" class="">n</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat,</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#P:307">P</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#n:308">n</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#a:305">a</a></span> (<span class="id"><a href="mathcomp.analysis.esum.html#e:306">e</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#n:308">n</a></span>)) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#set_inj">set_inj</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#P:307">P</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#e:306">e</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.esum.html#bfafafade7d3e202dbbc3dbf50606eb1">\esum_</a></span>(<span id="i:310" class="id"><a name="i:310" class="">i</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#7e4573e059f309ba0ef27b7fc70cc4df">[set</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#e:306">e</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#x:309">x</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#7e4573e059f309ba0ef27b7fc70cc4df">|</a></span> <span id="x:309" class="id"><a name="x:309" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.esum.html#P:307">P]</a></span>) <span class="id"><a href="mathcomp.analysis.esum.html#a:305">a</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:310">i</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.sequences.html#ffadba069702e9e7be8bc2674b4cdf45">\sum_</a></span>(<span id="i:313" class="id"><span id="i:312" class="id"><span id="i:311" class="id"><a name="i:313" class="">i</a></span></span></span> <span class="id"><a href="mathcomp.analysis.sequences.html#ffadba069702e9e7be8bc2674b4cdf45">&lt;oo</a></span> <span class="id">|</span> <span class="id"><a href="mathcomp.analysis.esum.html#i:311">i</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7">\in</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#P:307">P</a></span>) <span class="id"><a href="mathcomp.analysis.esum.html#a:305">a</a></span> (<span class="id"><a href="mathcomp.analysis.esum.html#e:306">e</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:311">i</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof27')">Proof.</span></div>
<div class="proofscript" id="proof27">
<span class="id">move=&gt;</span> <span class="id">a0</span> <span class="id">einj;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.esum.html#esum_image">esum_image//</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#nneseries_esum">nneseries_esum</a></span> <span class="id">?set_mem_set//</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">n;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> <span class="id">=&gt;</span> <span class="id">/a0</span>.<br/>
Qed.</div>
<span class="vernacular">Arguments</span> <span class="id"><a href="mathcomp.analysis.esum.html#esum_set_image">esum_set_image</a></span> <span class="id">{R</span> <span class="id">T}</span> <span class="id">a</span> <span class="id">e</span> <span class="id">P</span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="esum_bigcup" class="id"><a name="esum_bigcup" class="">esum_bigcup</a></span>.<br/>
<span class="vernacular">Variables</span> (<span id="esum_bigcup.R" class="id"><a name="esum_bigcup.R" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) (<span id="esum_bigcup.T" class="id"><a name="esum_bigcup.T" class="">T</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.choice.html#Choice.Exports.choiceType">choiceType</a></span>) (<span id="esum_bigcup.K" class="id"><a name="esum_bigcup.K" class="">K</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span>).<br/>
<span class="vernacular">Implicit</span> <span class="id">Types</span> (<span class="id">J</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#esum_bigcup.T">T</a></span>) (<span class="id">a</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.esum.html#esum_bigcup.T">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#esum_bigcup.R">R</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="esum_bigcupT" class="id"><a name="esum_bigcupT" class="">esum_bigcupT</a></span> <span id="J:317" class="id"><a name="J:317" class="">J</a></span> <span id="a:318" class="id"><a name="a:318" class="">a</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#trivIset">trivIset</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#J:317">J</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> (<span class="gallina-kwd">forall</span> <span id="x:319" class="id"><a name="x:319" class="">x,</a></span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#a:318">a</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#x:319">x</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.esum.html#bfafafade7d3e202dbbc3dbf50606eb1">\esum_</a></span>(<span id="i:321" class="id"><a name="i:321" class="">i</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#6c1866a3b78974b64276da9cd4d63a55">\bigcup_</a></span>(<span id="k:320" class="id"><a name="k:320" class="">k</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.esum.html#esum_bigcup.K">K</a></span>) (<span class="id"><a href="mathcomp.analysis.esum.html#J:317">J</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#k:320">k</a></span>)) <span class="id"><a href="mathcomp.analysis.esum.html#a:318">a</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:321">i</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.esum.html#bfafafade7d3e202dbbc3dbf50606eb1">\esum_</a></span>(<span id="i:322" class="id"><a name="i:322" class="">i</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.esum.html#esum_bigcup.K">K</a></span>) <span class="id"><a href="mathcomp.analysis.esum.html#bfafafade7d3e202dbbc3dbf50606eb1">\esum_</a></span>(<span id="j:323" class="id"><a name="j:323" class="">j</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.esum.html#J:317">J</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:322">i</a></span>) <span class="id"><a href="mathcomp.analysis.esum.html#a:318">a</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#j:323">j</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof28')">Proof.</span></div>
<div class="proofscript" id="proof28">
<span class="id">move=&gt;</span> <span class="id">tJ</span> <span class="id">a0;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.esum.html#esum_esum">esum_esum//;</a></span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.esum.html#reindex_esum">reindex_esum</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">split</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">[/=</span> <span class="id">i</span> <span class="id">j]</span> <span class="id">[Ki</span> <span class="id">Jij];</span> <span class="gallina-kwd">exists</span> <span class="id">i</span>.<br/>
<span class="id">-</span> <span class="id">move=&gt;</span> <span class="id">[/=</span> <span class="id">i1</span> <span class="id">j1]</span> <span class="id">[/=</span> <span class="id">i2</span> <span class="id">j2];</span> <span class="id">rewrite</span> <span class="id">?inE/=</span>.<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">[K1</span> <span class="id">J1]</span> <span class="id">[K2</span> <span class="id">J2]</span> <span class="id">j12;</span> <span class="id">congr</span> (<span class="id">_,</span> <span class="id">_</span>) <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> (<span class="id">@tJ</span> <span class="id">i1</span> <span class="id">i2</span>) <span class="id">=&gt;</span> <span class="id">//;</span> <span class="gallina-kwd">exists</span> <span class="id">j1;</span> <span class="id">split=&gt;</span> <span class="id">//;</span> <span class="id">rewrite</span> <span class="id">j12</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">j</span> <span class="id">[i</span> <span class="id">Ki</span> <span class="id">Jij]/=;</span> <span class="gallina-kwd">exists</span> (<span class="id">i,</span> <span class="id">j</span>).<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="esum_bigcup" class="id"><a name="esum_bigcup" class="">esum_bigcup</a></span> <span id="J:324" class="id"><a name="J:324" class="">J</a></span> <span id="a:325" class="id"><a name="a:325" class="">a</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#trivIset">trivIset</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">[set</a></span> <span id="i:326" class="id"><a name="i:326" class="">i</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">|</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#a:325">a</a></span> <span class="id">@`</span> <span class="id"><a href="mathcomp.analysis.esum.html#J:324">J</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:326">i</a></span> <span class="id">!=</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#29c78c22490f2dae838b1b504eb858a2">[set</a></span> <span class="id">0]]</span> <span class="id"><a href="mathcomp.analysis.esum.html#J:324">J</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="x:327" class="id"><a name="x:327" class="">x</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.esum.html#esum_bigcup.T">T,</a></span> (<span class="id">\bigcup_</span>(<span id="k:328" class="id"><a name="k:328" class="">k</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.esum.html#esum_bigcup.K">K</a></span>) <span class="id"><a href="mathcomp.analysis.esum.html#J:324">J</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#k:328">k</a></span>) <span class="id"><a href="mathcomp.analysis.esum.html#x:327">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#a:325">a</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#x:327">x</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.esum.html#bfafafade7d3e202dbbc3dbf50606eb1">\esum_</a></span>(<span id="i:330" class="id"><a name="i:330" class="">i</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#6c1866a3b78974b64276da9cd4d63a55">\bigcup_</a></span>(<span id="k:329" class="id"><a name="k:329" class="">k</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.esum.html#esum_bigcup.K">K</a></span>) <span class="id"><a href="mathcomp.analysis.esum.html#J:324">J</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#k:329">k</a></span>) <span class="id"><a href="mathcomp.analysis.esum.html#a:325">a</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:330">i</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#bfafafade7d3e202dbbc3dbf50606eb1">\esum_</a></span>(<span id="k:331" class="id"><a name="k:331" class="">k</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.esum.html#esum_bigcup.K">K</a></span>) <span class="id"><a href="mathcomp.analysis.esum.html#bfafafade7d3e202dbbc3dbf50606eb1">\esum_</a></span>(<span id="j:332" class="id"><a name="j:332" class="">j</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.esum.html#J:324">J</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#k:331">k</a></span>) <span class="id"><a href="mathcomp.analysis.esum.html#a:325">a</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#j:332">j</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof29')">Proof.</span></div>
<div class="proofscript" id="proof29">
<span class="id">move=&gt;</span> <span class="id">Jtriv</span> <span class="id">a_ge0</span>.<br/>
<span class="id">pose</span> <span class="id">J'</span> <span id="i:333" class="id"><a name="i:333" class="">i</a></span> <span class="id">:=</span> <span class="gallina-kwd">if</span> <span class="id">a</span> <span class="id">@`</span> <span class="id">J</span> <span class="id"><a href="mathcomp.analysis.esum.html#i:333">i</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#df45e8c2e8370fd4f0f7c4fdaf208180">==</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#29c78c22490f2dae838b1b504eb858a2">[set</a></span> <span class="id">0]</span> <span class="gallina-kwd">then</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span> <span class="gallina-kwd">else</span> <span class="id">J</span> <span class="id"><a href="mathcomp.analysis.esum.html#i:333">i</a></span>.<br/>
<span class="id">pose</span> <span class="id">a'</span> <span id="x:334" class="id"><a name="x:334" class="">x</a></span> <span class="id">:=</span> <span class="gallina-kwd">if</span> <span class="id"><a href="mathcomp.analysis.esum.html#x:334">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7">\in</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#6c1866a3b78974b64276da9cd4d63a55">\bigcup_</a></span>(<span id="k:335" class="id"><a name="k:335" class="">k</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.esum.html#esum_bigcup.K">K</a></span>) <span class="id">J</span> <span class="id"><a href="mathcomp.analysis.esum.html#k:335">k</a></span> <span class="gallina-kwd">then</span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.esum.html#x:334">x</a></span> <span class="gallina-kwd">else</span> <span class="id">0</span>.<br/>
<span class="id">have</span> <span class="id">a'E</span> <span class="id">k</span> <span class="id">x</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.esum.html#esum_bigcup.K">K</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#k:336">k</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">J</span> <span class="id"><a href="mathcomp.analysis.esum.html#k:336">k</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#x:337">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">a'</span> <span class="id"><a href="mathcomp.analysis.esum.html#x:337">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.esum.html#x:337">x</a></span>.<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">Kk</span> <span class="id">Jkx;</span> <span class="id">rewrite</span> <span class="id">/a';</span> <span class="id">case:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn;</a></span> <span class="id">rewrite</span> <span class="id">?</span>(<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE,</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#notin_set">notin_set</a></span>)<span class="id">//=</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">case;</span> <span class="gallina-kwd">exists</span> <span class="id">k</span>.<br/>
<span class="id">have</span> <span class="id">a'_ge0</span> <span class="id">x</span> <span class="id">:</span> <span class="id">a'</span> <span class="id"><a href="mathcomp.analysis.esum.html#x:338">x</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#92160d99f87da4bf2648609e0f89da8e">&gt;=</a></span> <span class="id">0</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/a';</span> <span class="id">case:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn;</a></span> <span class="id">rewrite</span> <span class="id">//</span> <span class="id">?inE</span> <span class="id">=&gt;</span> <span class="id">/a_ge0</span>.<br/>
<span class="id">transitivity</span> (<span class="id"><a href="mathcomp.analysis.esum.html#bfafafade7d3e202dbbc3dbf50606eb1">\esum_</a></span>(<span id="i:342" class="id"><span id="i:340" class="id"><a name="i:342" class="">i</a></span></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#6c1866a3b78974b64276da9cd4d63a55">\bigcup_</a></span>(<span id="k:341" class="id"><span id="k:339" class="id"><a name="k:341" class="">k</a></span></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.esum.html#esum_bigcup.K">K</a></span>) <span class="id">J'</span> <span class="id"><a href="mathcomp.analysis.esum.html#k:339">k</a></span>) <span class="id">a'</span> <span class="id"><a href="mathcomp.analysis.esum.html#i:340">i</a></span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.esum.html#esum_mkcond">esum_mkcond</a></span> <span class="id">[RHS]esum_mkcond</span> <span class="id">/a';</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.esum.html#eq_esum">eq_esum</a></span> <span class="id">=&gt;</span> <span class="id">x</span> <span class="id">_</span>.<br/>
&nbsp;&nbsp;<span class="id">do</span> <span class="id">2!case:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn;</a></span> <span class="id">rewrite</span> <span class="id">?</span>(<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE,</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#notin_set">notin_set</a></span>)<span class="id">//=</span> <span class="id">=&gt;</span> <span class="id">J'x</span> <span class="id">Jx</span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#contra_not_eq">contra_not_eq</a></span> <span class="id">J'x</span> <span class="id">=&gt;</span> <span class="id">Nax</span>.<br/>
&nbsp;&nbsp;<span class="id">move:</span> <span class="id">Jx</span> <span class="id">=&gt;</span> <span class="id">[k</span> <span class="id">kK</span> <span class="id">Jkx];</span> <span class="gallina-kwd">exists</span> <span class="id">k=&gt;</span> <span class="id">//;</span> <span class="id">rewrite</span> <span class="id">/J'/=;</span> <span class="id">case:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn=&gt;</a></span> <span class="id">//=</span>.<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">/eqP/</span>(<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#congr1">congr1</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#5cbd6ae91bf17c0262dd6b8ac77aca7b">@^~</a></span> (<span class="id">a</span> <span class="id">x</span>)))<span class="id">/=;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#propeqE">propeqE</a></span> <span class="id">=&gt;</span> <span class="id">-[+</span> <span class="id">_]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#contra_neq_not">contra_neq_not</a></span> <span class="id">Nax;</span> <span class="id">apply;</span> <span class="gallina-kwd">exists</span> <span class="id">x</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.esum.html#esum_bigcupT">esum_bigcupT//;</a></span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">i</span> <span class="id">j</span> <span class="id">_</span> <span class="id">_</span> <span class="id">[x</span> <span class="id">[]];</span> <span class="id">rewrite</span> <span class="id">/J'/=</span>.<br/>
&nbsp;&nbsp;<span class="id">case:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#eqVneq">eqVneq</a></span> <span class="id">=&gt;</span> <span class="id">//=</span> <span class="id">Ai0</span> <span class="id">Jix;</span> <span class="id">case:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#eqVneq">eqVneq</a></span> <span class="id">=&gt;</span> <span class="id">//=</span> <span class="id">Aj0</span> <span class="id">Jjx</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">have</span> <span class="id">:=</span> <span class="id">Jtriv</span> <span class="id">i</span> <span class="id">j</span> <span class="id">Ai0</span> <span class="id">Aj0;</span> <span class="id">apply;</span> <span class="gallina-kwd">exists</span> <span class="id">x</span>.<br/>
<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.esum.html#eq_esum">eq_esum</a></span> <span class="id">=&gt;</span> <span class="id">i</span> <span class="id">Ki</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.esum.html#esum_mkcond">esum_mkcond</a></span> <span class="id">[RHS]esum_mkcond;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.esum.html#eq_esum">eq_esum</a></span> <span class="id">=&gt;</span> <span class="id">x</span> <span class="id">_</span>.<br/>
<span class="id">do</span> <span class="id">2!case:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn;</a></span> <span class="id">rewrite</span> <span class="id">?</span>(<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE,</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#notin_set">notin_set</a></span>)<span class="id">//=</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">/a'E-&gt;//</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/J';</span> <span class="id">case:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
<span class="id">move=&gt;</span> <span class="id">Jix;</span> <span class="id">rewrite</span> <span class="id">/J';</span> <span class="id">case:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn=&gt;</a></span> <span class="id">//=</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">/eqP/</span>(<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#congr1">congr1</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#5cbd6ae91bf17c0262dd6b8ac77aca7b">@^~</a></span> (<span class="id">a</span> <span class="id">x</span>)))<span class="id">/=;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#propeqE">propeqE</a></span> <span class="id">=&gt;</span> <span class="id">-[-&gt;]//;</span> <span class="gallina-kwd">exists</span> <span class="id">x</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.esum.html#esum_bigcup">esum_bigcup</a></span>.<br/>
<br/>
<span class="vernacular">Arguments</span> <span class="id"><a href="mathcomp.analysis.esum.html#esum_bigcupT">esum_bigcupT</a></span> <span class="id">{R</span> <span class="id">T</span> <span class="id">K}</span> <span class="id">J</span> <span class="id">a</span>.<br/>
<span class="vernacular">Arguments</span> <span class="id"><a href="mathcomp.analysis.esum.html#esum_bigcup">esum_bigcup</a></span> <span class="id">{R</span> <span class="id">T</span> <span class="id">K}</span> <span class="id">J</span> <span class="id">a</span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="summable" class="id"><a name="summable" class="">summable</a></span> (<span id="T:343" class="id"><a name="T:343" class="">T</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.choice.html#Choice.Exports.choiceType">choiceType</a></span>) (<span id="R:344" class="id"><a name="R:344" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) (<span id="D:345" class="id"><a name="D:345" class="">D</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#T:343">T</a></span>)<br/>
&nbsp;&nbsp;(<span id="f:346" class="id"><a name="f:346" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.esum.html#T:343">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#R:344">R</a></span>) <span class="id">:=</span> (<span class="id"><a href="mathcomp.analysis.esum.html#bfafafade7d3e202dbbc3dbf50606eb1">\esum_</a></span>(<span id="x:347" class="id"><a name="x:347" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.esum.html#D:345">D</a></span>) <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#baaea4d1d2e6cce26f49e2f830fd4e9f">`|</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#f:346">f</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#x:347">x</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#baaea4d1d2e6cce26f49e2f830fd4e9f">|</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d5becfdd26043e7de5a21e6270f35a00">+oo</a></span>)<span class="id">%E</span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="summable_lemmas" class="id"><a name="summable_lemmas" class="">summable_lemmas</a></span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="vernacular">Variables</span> (<span id="summable_lemmas.T" class="id"><a name="summable_lemmas.T" class="">T</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.choice.html#Choice.Exports.choiceType">choiceType</a></span>) (<span id="summable_lemmas.R" class="id"><a name="summable_lemmas.R" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="vernacular">Implicit</span> <span class="id">Types</span> (<span class="id">D</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#summable_lemmas.T">T</a></span>) (<span class="id">f</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.esum.html#summable_lemmas.T">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#summable_lemmas.R">R</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="summable_pinfty" class="id"><a name="summable_pinfty" class="">summable_pinfty</a></span> <span id="D:350" class="id"><a name="D:350" class="">D</a></span> <span id="f:351" class="id"><a name="f:351" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.esum.html#summable">summable</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#D:350">D</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#f:351">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="gallina-kwd">forall</span> <span id="x:352" class="id"><a name="x:352" class="">x,</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#D:350">D</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#x:352">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#baaea4d1d2e6cce26f49e2f830fd4e9f">`|</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#f:351">f</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#x:352">x</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#baaea4d1d2e6cce26f49e2f830fd4e9f">|</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d5becfdd26043e7de5a21e6270f35a00">+oo</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof30')">Proof.</span></div>
<div class="proofscript" id="proof30">
<span class="id">move=&gt;</span> <span class="id">Dfoo</span> <span class="id">x</span> <span class="id">Dx;</span> <span class="id">apply:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_lt_trans">le_lt_trans</a></span> <span class="id">Dfoo</span>.<br/>
<span class="id">rewrite</span> (<span class="id"><a href="mathcomp.analysis.esum.html#esumID">esumID</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#29c78c22490f2dae838b1b504eb858a2">[set</a></span> <span class="id">x]</span>)<span class="id">//</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setI1">setI1</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#mem_set">mem_set//</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#esum_set1">esum_set1//</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_addl">lee_addl//</a></span>.<br/>
<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.esum.html#esum_ge0">esum_ge0</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="summableE" class="id"><a name="summableE" class="">summableE</a></span> <span id="D:353" class="id"><a name="D:353" class="">D</a></span> <span id="f:354" class="id"><a name="f:354" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.esum.html#summable">summable</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#D:353">D</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#f:354">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> (<span class="id"><a href="mathcomp.analysis.esum.html#bfafafade7d3e202dbbc3dbf50606eb1">\esum_</a></span>(<span id="x:355" class="id"><a name="x:355" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.esum.html#D:353">D</a></span>) <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#baaea4d1d2e6cce26f49e2f830fd4e9f">`|</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#f:354">f</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#x:355">x</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#baaea4d1d2e6cce26f49e2f830fd4e9f">|</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#f6c65697fefaf4504de1d4d641cd4409">\is</a></span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof31')">Proof.</span></div>
<div class="proofscript" id="proof31">
<span class="id">rewrite</span> <span class="id">/summable</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_numElt">fin_numElt;</a></span> <span class="id">apply/idP/idP</span> <span class="id">=&gt;</span> <span class="id">[-&gt;|/andP[]//]</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.lt_le_trans">lt_le_trans</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ltNyr">ltNyr</a></span> <span class="id">0</span>))<span class="id">//;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.esum.html#esum_ge0">esum_ge0</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="summableD" class="id"><a name="summableD" class="">summableD</a></span> <span id="D:356" class="id"><a name="D:356" class="">D</a></span> <span id="f:357" class="id"><a name="f:357" class="">f</a></span> <span id="g:358" class="id"><a name="g:358" class="">g</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.esum.html#summable">summable</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#D:356">D</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#f:357">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#summable">summable</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#D:356">D</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#g:358">g</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#summable">summable</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#D:356">D</a></span> (<span class="id"><a href="mathcomp.analysis.esum.html#f:357">f</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#a03b5d62fe4ea52edbfd5608db7ebe2f">\+</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#g:358">g</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof32')">Proof.</span></div>
<div class="proofscript" id="proof32">
<span class="id">move=&gt;</span> <span class="id">Df</span> <span class="id">Dg;</span> <span class="id">apply:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_lt_trans">le_lt_trans</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_add_pinfty">lte_add_pinfty</a></span> <span class="id">Df</span> <span class="id">Dg</span>).<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-esumD//;</span> <span class="id">apply</span> <span class="id"><a href="mathcomp.analysis.esum.html#le_esum">le_esum</a></span> <span class="id">=&gt;</span> <span class="id">t</span> <span class="id">Dt;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_abs_add">lee_abs_add</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="summableN" class="id"><a name="summableN" class="">summableN</a></span> <span id="D:359" class="id"><a name="D:359" class="">D</a></span> <span id="f:360" class="id"><a name="f:360" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.esum.html#summable">summable</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#D:359">D</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#f:360">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#summable">summable</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#D:359">D</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#bf80dd271000fa448e03c4c14365c369">\-</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#f:360">f</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof33')">Proof.</span></div>
<div class="proofscript" id="proof33">
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/summable;</span> <span class="id">congr</span> (<span class="id">_</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d5becfdd26043e7de5a21e6270f35a00">+oo</a></span>)<span class="id">;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.esum.html#eq_esum">eq_esum</a></span> <span class="id">=&gt;</span> <span class="id">t</span> <span class="id">Dt;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#abseN">abseN</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="summableB" class="id"><a name="summableB" class="">summableB</a></span> <span id="D:361" class="id"><a name="D:361" class="">D</a></span> <span id="f:362" class="id"><a name="f:362" class="">f</a></span> <span id="g:363" class="id"><a name="g:363" class="">g</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.esum.html#summable">summable</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#D:361">D</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#f:362">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#summable">summable</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#D:361">D</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#g:363">g</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#summable">summable</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#D:361">D</a></span> (<span class="id"><a href="mathcomp.analysis.esum.html#f:362">f</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#413a754bf74f3e306cb2b48b8fe944d4">\-</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#g:363">g</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof34')">Proof.</span></div>
<div class="proofscript" id="proof34">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">Df;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.esum.html#summableN">summableN;</a></span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.esum.html#summableD">summableD</a></span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="summable_funepos" class="id"><a name="summable_funepos" class="">summable_funepos</a></span> <span id="D:364" class="id"><a name="D:364" class="">D</a></span> <span id="f:365" class="id"><a name="f:365" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.esum.html#summable">summable</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#D:364">D</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#f:365">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#summable">summable</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#D:364">D</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#f:365">f^\+</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof35')">Proof.</span></div>
<div class="proofscript" id="proof35">
<span class="id">apply:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_lt_trans">le_lt_trans;</a></span> <span class="id">apply</span> <span class="id"><a href="mathcomp.analysis.esum.html#le_esum">le_esum</a></span> <span class="id">=&gt;</span> <span class="id">t</span> <span class="id">Dt</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-/</span>((<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#abse">abse</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id">f</span>) <span class="id">t</span>) <span class="id"><a href="mathcomp.analysis.numfun.html#fune_abse">fune_abse</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#gee0_abs">gee0_abs//</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_addl">lee_addl</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="summable_funeneg" class="id"><a name="summable_funeneg" class="">summable_funeneg</a></span> <span id="D:366" class="id"><a name="D:366" class="">D</a></span> <span id="f:367" class="id"><a name="f:367" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.esum.html#summable">summable</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#D:366">D</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#f:367">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#summable">summable</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#D:366">D</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#f:367">f^\-</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof36')">Proof.</span></div>
<div class="proofscript" id="proof36">
<span class="id">apply:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_lt_trans">le_lt_trans;</a></span> <span class="id">apply</span> <span class="id"><a href="mathcomp.analysis.esum.html#le_esum">le_esum</a></span> <span class="id">=&gt;</span> <span class="id">t</span> <span class="id">Dt</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-/</span>((<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#abse">abse</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id">f</span>) <span class="id">t</span>) <span class="id"><a href="mathcomp.analysis.numfun.html#fune_abse">fune_abse</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#gee0_abs">gee0_abs//</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_addr">lee_addr</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.esum.html#summable_lemmas">summable_lemmas</a></span>.<br/>
<br/>
<span class="vernacular">Import</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#numFieldNormedType.Exports">numFieldNormedType.Exports</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="summable_nat" class="id"><a name="summable_nat" class="">summable_nat</a></span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="vernacular">Variable</span> <span id="summable_nat.R" class="id"><a name="summable_nat.R" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="summable_fine_sum" class="id"><a name="summable_fine_sum" class="">summable_fine_sum</a></span> <span id="r:369" class="id"><a name="r:369" class="">r</a></span> (<span id="P:370" class="id"><a name="P:370" class="">P</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#pred">pred</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span id="f:371" class="id"><a name="f:371" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#summable_nat.R">R</a></span>) <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.esum.html#summable">summable</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#P:370">P</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#f:371">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;(<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#23e63ed3c136421c46b0fc4d518dd1fb">\sum_</a></span>(<span class="id">0</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#23e63ed3c136421c46b0fc4d518dd1fb">&lt;=</a></span> <span id="k:374" class="id"><span id="k:373" class="id"><span id="k:372" class="id"><a name="k:374" class="">k</a></span></span></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#23e63ed3c136421c46b0fc4d518dd1fb">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#r:369">r</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#23e63ed3c136421c46b0fc4d518dd1fb">|</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#P:370">P</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#k:372">k</a></span>) <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (<span class="id"><a href="mathcomp.analysis.esum.html#f:371">f</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#k:372">k</a></span>))<span class="id">%R</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#70ba15326de3f03c0d37931858832682">\sum_</a></span>(<span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#70ba15326de3f03c0d37931858832682">&lt;=</a></span> <span id="k:377" class="id"><span id="k:376" class="id"><span id="k:375" class="id"><a name="k:377" class="">k</a></span></span></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#70ba15326de3f03c0d37931858832682">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#r:369">r</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#70ba15326de3f03c0d37931858832682">|</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#P:370">P</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#k:375">k</a></span>) <span class="id"><a href="mathcomp.analysis.esum.html#f:371">f</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#k:375">k</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof37')">Proof.</span></div>
<div class="proofscript" id="proof37">
<span class="id">move=&gt;</span> <span class="id">Pf;</span> <span class="id">elim:</span> <span class="id">r</span> <span class="id">=&gt;</span> <span class="id">[|r</span> <span class="id">ih];</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">!big_nil</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.bigop.html#big_mkcond">big_mkcond/=</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.bigop.html#big_nat_recr">big_nat_recr//</a></span> <span class="id">[in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS]big_mkcond/=</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.bigop.html#big_nat_recr">big_nat_recr//=</a></span>.<br/>
<span class="id">rewrite</span> <span class="id">-!big_mkcond/=</span> <span class="id">ih;</span> <span class="id">case:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span> <span class="id">=&gt;</span> <span class="id">Pr</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#adde0">adde0</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.addr0">addr0</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineD">fineD//;</a></span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num_abs">fin_num_abs</a></span> (<span class="id"><a href="mathcomp.analysis.esum.html#summable_pinfty">summable_pinfty</a></span> <span class="id">Pf</span>).<br/>
<span class="gallina-kwd">by</span> <span class="id">apply/sum_fin_numP</span> <span class="id">=&gt;</span> <span class="id">i</span> <span class="id">ir</span> <span class="id">Pi;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num_abs">fin_num_abs</a></span> (<span class="id"><a href="mathcomp.analysis.esum.html#summable_pinfty">summable_pinfty</a></span> <span class="id">Pf</span>).<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="summable_cvg" class="id"><a name="summable_cvg" class="">summable_cvg</a></span> (<span id="P:378" class="id"><a name="P:378" class="">P</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#pred">pred</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span id="f:379" class="id"><a name="f:379" class="">f</a></span> <span class="id">:</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#summable_nat.R">R</a></span>)<span class="id">^nat</span>) <span class="id">:</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="i:380" class="id"><a name="i:380" class="">i,</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#P:378">P</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:380">i</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#f:379">f</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:380">i</a></span>)<span class="id">%E</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#summable">summable</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#P:378">P</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#f:379">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.topology.html#cvg">cvg</a></span> ((<span class="gallina-kwd">fun</span> <span id="n:385" class="id"><span id="n:381" class="id"><a name="n:385" class="">n</a></span></span> <span class="id">=&gt;</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#23e63ed3c136421c46b0fc4d518dd1fb">\sum_</a></span>(<span class="id">0</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#23e63ed3c136421c46b0fc4d518dd1fb">&lt;=</a></span> <span id="k:388" class="id"><span id="k:387" class="id"><span id="k:386" class="id"><span id="k:384" class="id"><span id="k:383" class="id"><span id="k:382" class="id"><a name="k:388" class="">k</a></span></span></span></span></span></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#23e63ed3c136421c46b0fc4d518dd1fb">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#n:381">n</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#23e63ed3c136421c46b0fc4d518dd1fb">|</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#P:378">P</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#k:382">k</a></span>) <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (<span class="id"><a href="mathcomp.analysis.esum.html#f:379">f</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#k:382">k</a></span>))<span class="id">%R</span> <span class="id">@</span> <span class="id"><a href="mathcomp.analysis.topology.html#228a5fbd8d7ef28f21231bccff88d0b0">\oo</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof38')">Proof.</span></div>
<div class="proofscript" id="proof38">
<span class="id">move=&gt;</span> <span class="id">f0</span> <span class="id">Pf;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.sequences.html#nondecreasing_is_cvgn">nondecreasing_is_cvgn</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.sequences.html#nondecreasing_series">nondecreasing_series</a></span> <span class="id">=&gt;</span> <span class="id">n</span> <span class="id">Pn;</span> <span class="id">exact/fine_ge0/f0</span>.<br/>
<span class="gallina-kwd">exists</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (<span class="id"><a href="mathcomp.analysis.sequences.html#ffadba069702e9e7be8bc2674b4cdf45">\sum_</a></span>(<span id="i:394" class="id"><span id="i:393" class="id"><span id="i:392" class="id"><span id="i:391" class="id"><span id="i:390" class="id"><span id="i:389" class="id"><a name="i:394" class="">i</a></span></span></span></span></span></span> <span class="id"><a href="mathcomp.analysis.sequences.html#ffadba069702e9e7be8bc2674b4cdf45">&lt;oo</a></span> <span class="id">|</span> <span class="id">P</span> <span class="id"><a href="mathcomp.analysis.esum.html#i:389">i</a></span>) <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#baaea4d1d2e6cce26f49e2f830fd4e9f">`|f</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:389">i|</a></span>)) <span class="id">=&gt;</span> <span class="id">x</span> <span class="id">/=</span> <span class="id">[n</span> <span class="id">_</span> <span class="id">&lt;-]</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.esum.html#summable_fine_sum">summable_fine_sum//</a></span> <span class="id">-lee_fin</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK//;</a></span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply/sum_fin_numP</span> <span class="id">=&gt;</span> <span class="id">i</span> <span class="id">ni</span> <span class="id">Pi;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num_abs">fin_num_abs</a></span> (<span class="id"><a href="mathcomp.analysis.esum.html#summable_pinfty">summable_pinfty</a></span> <span class="id">Pf</span>).<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK//;</a></span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.esum.html#nneseries_esum">nneseries_esum//</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_numElt">fin_numElt;</a></span> <span class="id">apply/andP;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id">@lt_le_trans</span> <span class="id">_</span> <span class="id">_</span> <span class="id">0</span>)<span class="id">//</span> <span class="id">?lte_ninfty//;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.esum.html#esum_ge0">esum_ge0</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_lt_trans">le_lt_trans</a></span> <span class="id">Pf;</span> <span class="id">apply</span> <span class="id"><a href="mathcomp.analysis.esum.html#le_esum">le_esum</a></span>.<br/>
<span class="id">apply:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans</a></span> (<span class="id"><a href="mathcomp.analysis.sequences.html#nneseries_lim_ge">nneseries_lim_ge</a></span> <span class="id">n</span> <span class="id">_</span>) <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_sum">lee_sum</a></span> <span class="id">=&gt;</span> <span class="id">i</span> <span class="id">_</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_abs">lee_abs</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="summable_nneseries_lim" class="id"><a name="summable_nneseries_lim" class="">summable_nneseries_lim</a></span> (<span id="P:395" class="id"><a name="P:395" class="">P</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#pred">pred</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span id="f:396" class="id"><a name="f:396" class="">f</a></span> <span class="id">:</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#summable_nat.R">R</a></span>)<span class="id">^nat</span>) <span class="id">:</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="i:397" class="id"><a name="i:397" class="">i,</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#P:395">P</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:397">i</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#f:396">f</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:397">i</a></span>)<span class="id">%E</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#summable">summable</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#P:395">P</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#f:396">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.sequences.html#ffadba069702e9e7be8bc2674b4cdf45">\sum_</a></span>(<span id="i:400" class="id"><span id="i:399" class="id"><span id="i:398" class="id"><a name="i:400" class="">i</a></span></span></span> <span class="id"><a href="mathcomp.analysis.sequences.html#ffadba069702e9e7be8bc2674b4cdf45">&lt;oo</a></span> <span class="id">|</span> <span class="id"><a href="mathcomp.analysis.esum.html#P:395">P</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:398">i</a></span>) <span class="id"><a href="mathcomp.analysis.esum.html#f:396">f</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:398">i</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span><br/>
&nbsp;&nbsp;(<span class="id"><a href="mathcomp.analysis.topology.html#lim">lim</a></span> ((<span class="gallina-kwd">fun</span> <span id="n:401" class="id"><a name="n:401" class="">n</a></span> <span class="id">=&gt;</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#23e63ed3c136421c46b0fc4d518dd1fb">\sum_</a></span>(<span class="id">0</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#23e63ed3c136421c46b0fc4d518dd1fb">&lt;=</a></span> <span id="k:404" class="id"><span id="k:403" class="id"><span id="k:402" class="id"><a name="k:404" class="">k</a></span></span></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#23e63ed3c136421c46b0fc4d518dd1fb">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#n:401">n</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#23e63ed3c136421c46b0fc4d518dd1fb">|</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#P:395">P</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#k:402">k</a></span>) <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (<span class="id"><a href="mathcomp.analysis.esum.html#f:396">f</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#k:402">k</a></span>))<span class="id">%R</span>) <span class="id">@</span> <span class="id"><a href="mathcomp.analysis.topology.html#228a5fbd8d7ef28f21231bccff88d0b0">\oo</a></span>))<span class="id">%:E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof39')">Proof.</span></div>
<div class="proofscript" id="proof39">
<span class="id">move=&gt;</span> <span class="id">f0</span> <span class="id">Pf;</span> <span class="id">pose</span> <span class="id">A_</span> <span id="n:405" class="id"><a name="n:405" class="">n</a></span> <span class="id">:=</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#23e63ed3c136421c46b0fc4d518dd1fb">\sum_</a></span>(<span class="id">0</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#23e63ed3c136421c46b0fc4d518dd1fb">&lt;=</a></span> <span id="k:408" class="id"><span id="k:407" class="id"><span id="k:406" class="id"><a name="k:408" class="">k</a></span></span></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#23e63ed3c136421c46b0fc4d518dd1fb">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#n:405">n</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#23e63ed3c136421c46b0fc4d518dd1fb">|</a></span> <span class="id">P</span> <span class="id"><a href="mathcomp.analysis.esum.html#k:406">k</a></span>) <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (<span class="id">f</span> <span class="id"><a href="mathcomp.analysis.esum.html#k:406">k</a></span>))<span class="id">%R</span>.<br/>
<span class="id">transitivity</span> (<span class="id"><a href="mathcomp.analysis.topology.html#lim">lim</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id">A_</span> <span class="id">@</span> <span class="id"><a href="mathcomp.analysis.topology.html#228a5fbd8d7ef28f21231bccff88d0b0">\oo</a></span>)).<br/>
&nbsp;&nbsp;<span class="id">apply/congr_lim/funext</span> <span class="id">=&gt;</span> <span class="id">/=</span> <span class="id">n;</span> <span class="id">rewrite</span> <span class="id">/A_</span> <span class="id">/=</span> <span class="id">-sumEFin</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.bigop.html#eq_bigr">eq_bigr</a></span> <span class="id">=&gt;</span> <span class="id">i</span> <span class="id">Pi/=;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK//</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num_abs">fin_num_abs</a></span> (<span class="id">@summable_pinfty</span> <span class="id">_</span> <span class="id">_</span> <span class="id">P</span>).<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#EFin_lim">EFin_lim//;</a></span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.esum.html#summable_cvg">summable_cvg</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="summable_eseries" class="id"><a name="summable_eseries" class="">summable_eseries</a></span> (<span id="f:409" class="id"><a name="f:409" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#summable_nat.R">R</a></span>) (<span id="P:410" class="id"><a name="P:410" class="">P</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#pred">pred</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span>) <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.esum.html#summable">summable</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#P:410">P</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#f:409">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.sequences.html#ffadba069702e9e7be8bc2674b4cdf45">\sum_</a></span>(<span id="i:413" class="id"><span id="i:412" class="id"><span id="i:411" class="id"><a name="i:413" class="">i</a></span></span></span> <span class="id"><a href="mathcomp.analysis.sequences.html#ffadba069702e9e7be8bc2674b4cdf45">&lt;oo</a></span> <span class="id">|</span> <span class="id"><a href="mathcomp.analysis.esum.html#P:410">P</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:411">i</a></span>) (<span class="id"><a href="mathcomp.analysis.esum.html#f:409">f</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:411">i</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.sequences.html#ffadba069702e9e7be8bc2674b4cdf45">\sum_</a></span>(<span id="i:416" class="id"><span id="i:415" class="id"><span id="i:414" class="id"><a name="i:416" class="">i</a></span></span></span> <span class="id"><a href="mathcomp.analysis.sequences.html#ffadba069702e9e7be8bc2674b4cdf45">&lt;oo</a></span> <span class="id">|</span> <span class="id"><a href="mathcomp.analysis.esum.html#P:410">P</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:414">i</a></span>) <span class="id"><a href="mathcomp.analysis.esum.html#f:409">f^\+</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:414">i</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'-'_x">-</a></span> <span class="id"><a href="mathcomp.analysis.sequences.html#ffadba069702e9e7be8bc2674b4cdf45">\sum_</a></span>(<span id="i:419" class="id"><span id="i:418" class="id"><span id="i:417" class="id"><a name="i:419" class="">i</a></span></span></span> <span class="id"><a href="mathcomp.analysis.sequences.html#ffadba069702e9e7be8bc2674b4cdf45">&lt;oo</a></span> <span class="id">|</span> <span class="id"><a href="mathcomp.analysis.esum.html#P:410">P</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:417">i</a></span>) <span class="id"><a href="mathcomp.analysis.esum.html#f:409">f^\-</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:417">i</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof40')">Proof.</span></div>
<div class="proofscript" id="proof40">
<span class="id">move=&gt;</span> <span class="id">Pf</span>.<br/>
<span class="id">pose</span> <span class="id">A_</span> <span id="n:420" class="id"><a name="n:420" class="">n</a></span> <span class="id">:=</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#23e63ed3c136421c46b0fc4d518dd1fb">\sum_</a></span>(<span class="id">0</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#23e63ed3c136421c46b0fc4d518dd1fb">&lt;=</a></span> <span id="k:423" class="id"><span id="k:422" class="id"><span id="k:421" class="id"><a name="k:423" class="">k</a></span></span></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#23e63ed3c136421c46b0fc4d518dd1fb">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#n:420">n</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#23e63ed3c136421c46b0fc4d518dd1fb">|</a></span> <span class="id">P</span> <span class="id"><a href="mathcomp.analysis.esum.html#k:421">k</a></span>) <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (<span class="id">f^\+</span> <span class="id"><a href="mathcomp.analysis.esum.html#k:421">k</a></span>))<span class="id">%R</span>.<br/>
<span class="id">pose</span> <span class="id">B_</span> <span id="n:424" class="id"><a name="n:424" class="">n</a></span> <span class="id">:=</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#23e63ed3c136421c46b0fc4d518dd1fb">\sum_</a></span>(<span class="id">0</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#23e63ed3c136421c46b0fc4d518dd1fb">&lt;=</a></span> <span id="k:427" class="id"><span id="k:426" class="id"><span id="k:425" class="id"><a name="k:427" class="">k</a></span></span></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#23e63ed3c136421c46b0fc4d518dd1fb">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#n:424">n</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#23e63ed3c136421c46b0fc4d518dd1fb">|</a></span> <span class="id">P</span> <span class="id"><a href="mathcomp.analysis.esum.html#k:425">k</a></span>) <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (<span class="id">f^\-</span> <span class="id"><a href="mathcomp.analysis.esum.html#k:425">k</a></span>))<span class="id">%R</span>.<br/>
<span class="id">pose</span> <span class="id">C_</span> <span id="n:428" class="id"><a name="n:428" class="">n</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#70ba15326de3f03c0d37931858832682">\sum_</a></span>(<span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#70ba15326de3f03c0d37931858832682">&lt;=</a></span> <span id="k:431" class="id"><span id="k:430" class="id"><span id="k:429" class="id"><a name="k:431" class="">k</a></span></span></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#70ba15326de3f03c0d37931858832682">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#n:428">n</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#70ba15326de3f03c0d37931858832682">|</a></span> <span class="id">P</span> <span class="id"><a href="mathcomp.analysis.esum.html#k:429">k</a></span>) <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.esum.html#k:429">k</a></span>).<br/>
<span class="id">pose</span> <span class="id">A</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.topology.html#lim">lim</a></span> (<span class="id">A_</span> <span class="id">@</span> <span class="id"><a href="mathcomp.analysis.topology.html#228a5fbd8d7ef28f21231bccff88d0b0">\oo</a></span>).<br/>
<span class="id">pose</span> <span class="id">B</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.topology.html#lim">lim</a></span> (<span class="id">B_</span> <span class="id">@</span> <span class="id"><a href="mathcomp.analysis.topology.html#228a5fbd8d7ef28f21231bccff88d0b0">\oo</a></span>).<br/>
<span class="id">suff:</span> ((<span class="gallina-kwd">fun</span> <span id="n:432" class="id"><a name="n:432" class="">n</a></span> <span class="id">=&gt;</span> <span class="id">C_</span> <span class="id"><a href="mathcomp.analysis.esum.html#n:432">n</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'-'_x">-</a></span> (<span class="id">A</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'-'_x">-</a></span> <span class="id">B</span>)) <span class="id">@</span> <span class="id"><a href="mathcomp.analysis.topology.html#228a5fbd8d7ef28f21231bccff88d0b0">\oo</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'--&gt;'_x">--&gt;</a></span> (<span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#summable_nat.R">R^o</a></span>))<span class="id">%R</span>.<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">CAB</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">[X</span> <span class="gallina-kwd">in</span>  <span class="id"><a href="mathcomp.analysis.esum.html#X:433">X</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'-'_x">-</a></span> <span class="id">_]summable_nneseries_lim//;</span> <span class="id">last</span> <span class="id">exact/summable_funepos</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">[X</span> <span class="gallina-kwd">in</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'-'_x">-</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#X:434">X]summable_nneseries_lim//;</a></span> <span class="id">last</span> <span class="id">exact/summable_funeneg</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-EFinB;</span> <span class="id">apply/cvg_lim</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">apply/fine_cvgP;</span> <span class="id">split;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> (<span class="id">@cvg_sub0</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> (<span class="id">A</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'-'_x">-</a></span> <span class="id">B</span>)<span class="id">%R</span>) <span class="id">_</span> <span class="id">CAB</span>) <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.topology.html#cvg_cst">cvg_cst</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.topology.html#nearW">nearW</a></span> <span class="id">=&gt;</span> <span class="id">n;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num_abs">fin_num_abs;</a></span> <span class="id">apply:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_lt_trans">le_lt_trans</a></span> <span class="id">Pf</span> <span class="id">=&gt;</span> <span class="id">/=</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-nneseries_esum//</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_abs_sum">lee_abs_sum</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>))<span class="id">//</span> <span class="id"><a href="mathcomp.analysis.sequences.html#nneseries_lim_ge">nneseries_lim_ge</a></span>.<br/>
<span class="id">have</span> <span class="id">:</span> ((<span class="gallina-kwd">fun</span> <span id="x:435" class="id"><a name="x:435" class="">x</a></span> <span class="id">=&gt;</span> <span class="id">A_</span> <span class="id"><a href="mathcomp.analysis.esum.html#x:435">x</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'-'_x">-</a></span> <span class="id">B_</span> <span class="id"><a href="mathcomp.analysis.esum.html#x:435">x</a></span>) <span class="id">@</span> <span class="id"><a href="mathcomp.analysis.topology.html#228a5fbd8d7ef28f21231bccff88d0b0">\oo</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'--&gt;'_x">--&gt;</a></span> <span class="id">A</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'-'_x">-</a></span> <span class="id">B</span>)<span class="id">%R</span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#cvgD">cvgD</a></span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.esum.html#summable_cvg">summable_cvg</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact/summable_funepos</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#cvgN">cvgN;</a></span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.esum.html#summable_cvg">summable_cvg</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact/summable_funeneg</span>.<br/>
<span class="id">move=&gt;</span> <span class="id">/cvgrPdist_lt</span> <span class="id">cvgAB;</span> <span class="id">apply/cvgrPdist_lt</span> <span class="id">=&gt;</span> <span class="id">e</span> <span class="id">e0</span>.<br/>
<span class="id">move:</span> <span class="id">cvgAB</span> <span class="id">=&gt;</span> <span class="id">/</span>(<span class="id">_</span> <span class="id">_</span> <span class="id">e0</span>) <span class="id">[N</span> <span class="id">_/=</span> <span class="id">hN]</span> <span class="id">/=</span>.<br/>
<span class="id">near=&gt;</span> <span class="id">n</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.distrC">distrC</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.subr0">subr0</a></span>.<br/>
<span class="id">have</span> <span class="id">-&gt;</span> <span class="id">:</span> (<span class="id">C_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">A_</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#0bb5d11fe8761db1e6494d75cb45a3cb">\-</a></span> <span class="id">B_</span>)<span class="id">%R</span>.<br/>
&nbsp;&nbsp;<span class="id">apply/funext</span> <span class="id">=&gt;</span> <span class="id">k</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">/=</span> <span class="id">/A_</span> <span class="id">/C_</span> <span class="id">/B_</span> <span class="id">-sumrN</span> <span class="id">-big_split/=</span> <span class="id">-summable_fine_sum//</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.bigop.html#eq_bigr">eq_bigr</a></span> <span class="id">=&gt;</span> <span class="id">i</span> <span class="id">Pi;</span> <span class="id">rewrite</span> <span class="id">-fineB//</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">[in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.LHS">LHS]</a></span>(<span class="id"><a href="mathcomp.analysis.numfun.html#funeposneg">funeposneg</a></span> <span class="id">f</span>).<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num_abs">fin_num_abs</a></span> (<span class="id">@summable_pinfty</span> <span class="id">_</span> <span class="id">_</span> <span class="id">P</span>) <span class="id">//;</span> <span class="id">exact/summable_funepos</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num_abs">fin_num_abs</a></span> (<span class="id">@summable_pinfty</span> <span class="id">_</span> <span class="id">_</span> <span class="id">P</span>) <span class="id">//;</span> <span class="id">exact/summable_funeneg</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.distrC">distrC;</a></span> <span class="id">apply:</span> <span class="id">hN;</span> <span class="id">near:</span> <span class="id">n;</span> <span class="gallina-kwd">exists</span> <span class="id">N</span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all:</span> <span class="gallina-kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="summable_eseries_esum" class="id"><a name="summable_eseries_esum" class="">summable_eseries_esum</a></span>  (<span id="f:436" class="id"><a name="f:436" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#summable_nat.R">R</a></span>) (<span id="P:437" class="id"><a name="P:437" class="">P</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#pred">pred</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.esum.html#summable">summable</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#P:437">P</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#f:436">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.sequences.html#ffadba069702e9e7be8bc2674b4cdf45">\sum_</a></span>(<span id="i:440" class="id"><span id="i:439" class="id"><span id="i:438" class="id"><a name="i:440" class="">i</a></span></span></span> <span class="id"><a href="mathcomp.analysis.sequences.html#ffadba069702e9e7be8bc2674b4cdf45">&lt;oo</a></span> <span class="id">|</span> <span class="id"><a href="mathcomp.analysis.esum.html#P:437">P</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:438">i</a></span>) <span class="id"><a href="mathcomp.analysis.esum.html#f:436">f</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:438">i</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#esum">esum</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#P:437">P</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#f:436">f^\+</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'-'_x">-</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#esum">esum</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#P:437">P</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#f:436">f^\-</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof41')">Proof.</span></div>
<div class="proofscript" id="proof41">
<span class="id">move=&gt;</span> <span class="id">Pfoo;</span> <span class="id">rewrite</span> <span class="id">-nneseries_esum;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">n</span> <span class="id">Pn;</span> <span class="id">rewrite</span> <span class="id">/maxe;</span> <span class="id">case:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">rewrite</span> <span class="id">-leNgt</span>.<br/>
<span class="id">rewrite</span> <span class="id">-nneseries_esum</span> <span class="id">?[LHS]summable_eseries//</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">n</span> <span class="id">Pn;</span> <span class="id">rewrite</span> <span class="id">/maxe;</span> <span class="id">case:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.TotalTheory.leNgt">leNgt</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.esum.html#summable_nat">summable_nat</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="esumB" class="id"><a name="esumB" class="">esumB</a></span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="vernacular">Variables</span> (<span id="esumB.R" class="id"><a name="esumB.R" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) (<span id="esumB.T" class="id"><a name="esumB.T" class="">T</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.choice.html#Choice.Exports.choiceType">choiceType</a></span>).<br/>
<span class="vernacular">Implicit</span> <span class="id">Types</span> (<span class="id">D</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#esumB.T">T</a></span>) (<span class="id">f</span> <span class="id">g</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.esum.html#esumB.T">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#esumB.R">R</a></span>).<br/>
<br/>
<span class="vernacular">Let</span> <span id="esumB.esum_posneg" class="id"><a name="esumB.esum_posneg" class="">esum_posneg</a></span> <span id="D:443" class="id"><a name="D:443" class="">D</a></span> <span id="f:444" class="id"><a name="f:444" class="">f</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.esum.html#esum">esum</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#D:443">D</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#f:444">f^\+</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'-'_x">-</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#esum">esum</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#D:443">D</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#f:444">f^\-</a></span>.<br/>
<br/>
<span class="vernacular">Let</span> <span id="esumB.ge0_esum_posneg" class="id"><a name="esumB.ge0_esum_posneg" class="">ge0_esum_posneg</a></span> <span id="D:445" class="id"><a name="D:445" class="">D</a></span> <span id="f:446" class="id"><a name="f:446" class="">f</a></span> <span class="id">:</span> (<span class="gallina-kwd">forall</span> <span id="x:447" class="id"><a name="x:447" class="">x,</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#D:445">D</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#x:447">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#f:446">f</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#x:447">x</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.esum.html#esumB.esum_posneg">esum_posneg</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#D:445">D</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#f:446">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#bfafafade7d3e202dbbc3dbf50606eb1">\esum_</a></span>(<span id="x:448" class="id"><a name="x:448" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.esum.html#D:445">D</a></span>) <span class="id"><a href="mathcomp.analysis.esum.html#f:446">f</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#x:448">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof42')">Proof.</span></div>
<div class="proofscript" id="proof42">
<span class="id">move=&gt;</span> <span class="id">Sa;</span> <span class="id">rewrite</span> <span class="id">/esum_posneg</span> <span class="id">[X</span> <span class="gallina-kwd">in</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'-'_x">-</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#X:449">X]</a></span>(<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">0</span>) <span class="id">?sube0;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.esum.html#esum1">esum1//</a></span> <span class="id">=&gt;</span> <span class="id">x</span> <span class="id">Sx;</span> <span class="id">rewrite</span> <span class="id">-[LHS]/</span>(<span class="id">f^\-</span> <span class="id">x</span>) (<span class="id"><a href="mathcomp.analysis.numfun.html#ge0_funenegE">ge0_funenegE</a></span> <span class="id">Sa</span>)<span class="id">//</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.esum.html#eq_esum">eq_esum</a></span> <span class="id">=&gt;</span> <span class="id">t</span> <span class="id">St;</span> <span class="id">apply/max_idPl;</span> <span class="id">exact:</span> <span class="id">Sa</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="esumB" class="id"><a name="esumB" class="">esumB</a></span> <span id="D:450" class="id"><a name="D:450" class="">D</a></span> <span id="f:451" class="id"><a name="f:451" class="">f</a></span> <span id="g:452" class="id"><a name="g:452" class="">g</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.esum.html#summable">summable</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#D:450">D</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#f:451">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#summable">summable</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#D:450">D</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#g:452">g</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="i:453" class="id"><a name="i:453" class="">i,</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#D:450">D</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:453">i</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#f:451">f</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:453">i</a></span>) <span class="id">-&gt;</span> (<span class="gallina-kwd">forall</span> <span id="i:454" class="id"><a name="i:454" class="">i,</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#D:450">D</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:454">i</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#g:452">g</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:454">i</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.esum.html#bfafafade7d3e202dbbc3dbf50606eb1">\esum_</a></span>(<span id="i:455" class="id"><a name="i:455" class="">i</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.esum.html#D:450">D</a></span>) (<span class="id"><a href="mathcomp.analysis.esum.html#f:451">f</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#413a754bf74f3e306cb2b48b8fe944d4">\-</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#g:452">g</a></span>)<span class="id">^\+</span> <span class="id"><a href="mathcomp.analysis.esum.html#i:455">i</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'-'_x">-</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#bfafafade7d3e202dbbc3dbf50606eb1">\esum_</a></span>(<span id="i:456" class="id"><a name="i:456" class="">i</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.esum.html#D:450">D</a></span>) (<span class="id"><a href="mathcomp.analysis.esum.html#f:451">f</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#413a754bf74f3e306cb2b48b8fe944d4">\-</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#g:452">g</a></span>)<span class="id">^\-</span> <span class="id"><a href="mathcomp.analysis.esum.html#i:456">i</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.esum.html#bfafafade7d3e202dbbc3dbf50606eb1">\esum_</a></span>(<span id="i:457" class="id"><a name="i:457" class="">i</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.esum.html#D:450">D</a></span>) <span class="id"><a href="mathcomp.analysis.esum.html#f:451">f</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:457">i</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'-'_x">-</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#bfafafade7d3e202dbbc3dbf50606eb1">\esum_</a></span>(<span id="i:458" class="id"><a name="i:458" class="">i</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.esum.html#D:450">D</a></span>) <span class="id"><a href="mathcomp.analysis.esum.html#g:452">g</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#i:458">i</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof43')">Proof.</span></div>
<div class="proofscript" id="proof43">
<span class="id">move=&gt;</span> <span class="id">Df</span> <span class="id">Dg</span> <span class="id">f0</span> <span class="id">g0</span>.<br/>
<span class="id">have</span> <span class="id">/eqP</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.esum.html#esum">esum</a></span> <span class="id">D</span> (<span class="id">f</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#413a754bf74f3e306cb2b48b8fe944d4">\-</a></span> <span class="id">g</span>)<span class="id">^\+</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d4965da372b2485934ec33867ee5fbe7">+</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#esumB.esum_posneg">esum_posneg</a></span> <span class="id">D</span> <span class="id">g</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#esum">esum</a></span> <span class="id">D</span> (<span class="id">f</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#413a754bf74f3e306cb2b48b8fe944d4">\-</a></span> <span class="id">g</span>)<span class="id">^\-</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d4965da372b2485934ec33867ee5fbe7">+</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#esumB.esum_posneg">esum_posneg</a></span> <span class="id">D</span> <span class="id">f</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">!ge0_esum_posneg//</span> <span class="id">-!esumD//;</span> <span class="id">last</span> <span class="id">2</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">t</span> <span class="id">Dt;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.TotalTheory.le_maxr">le_maxr</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.lexx">lexx</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#orbT">orbT</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">t</span> <span class="id">Dt;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.TotalTheory.le_maxr">le_maxr</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.lexx">lexx</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#orbT">orbT</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="mathcomp.analysis.esum.html#eq_esum">eq_esum</a></span> <span class="id">=&gt;</span> <span class="id">i</span> <span class="id">Di;</span> <span class="id">have</span> <span class="id">[fg|fg]</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.TotalTheory.leP">leP</a></span> <span class="id">0</span> (<span class="id">f</span> <span class="id">i</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'-'_x">-</a></span> <span class="id">g</span> <span class="id">i</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.max_r">max_r</a></span> <span class="id">1?lee_oppl</span> <span class="id">?oppe0//</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#add0e">add0e</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#subeK">subeK//</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num_abs">fin_num_abs</a></span> (<span class="id"><a href="mathcomp.analysis.esum.html#summable_pinfty">summable_pinfty</a></span> <span class="id">Dg</span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#add0e">add0e</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.max_l">max_l;</a></span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_oppr">lee_oppr</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#oppe0">oppe0</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.ltW">ltW</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num_oppeB">fin_num_oppeB//;</a></span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num_abs">fin_num_abs</a></span> (<span class="id"><a href="mathcomp.analysis.esum.html#summable_pinfty">summable_pinfty</a></span> <span class="id">Dg</span>).<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-addeA</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#addeCA">addeCA</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#addeA">addeA</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#subeK">subeK//</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num_abs">fin_num_abs</a></span> (<span class="id"><a href="mathcomp.analysis.esum.html#summable_pinfty">summable_pinfty</a></span> <span class="id">Df</span>).<br/>
<span class="id">rewrite</span> <span class="id">[X</span> <span class="gallina-kwd">in</span> <span class="id">_</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#df45e8c2e8370fd4f0f7c4fdaf208180">==</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#X:459">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">_]addeC</span> <span class="id">-sube_eq;</span> <span class="id">last</span> <span class="id">2</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_numD">fin_numD;</a></span> <span class="id">apply/andP;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id">@eq_esum</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#abse">abse</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> (<span class="id">f</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#413a754bf74f3e306cb2b48b8fe944d4">\-</a></span> <span class="id">g</span>)<span class="id">^\+</span>))<span class="id">//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-summableE;</span> <span class="id">exact/summable_funepos/summableB</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">t</span> <span class="id">Dt;</span> <span class="id">rewrite</span> <span class="id">/=</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#gee0_abs">gee0_abs</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move:</span> <span class="id">Dg;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.esum.html#summableE">summableE</a></span> (<span class="id">@eq_esum</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">g</span>)<span class="id">//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.esum.html#esumB.ge0_esum_posneg">ge0_esum_posneg//</a></span> <span class="id">=&gt;</span> <span class="id">t</span> <span class="id">Tt;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#gee0_abs">gee0_abs//</a></span> <span class="id">g0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">t</span> <span class="id">Tt;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#gee0_abs">gee0_abs//</a></span> <span class="id">g0</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num_adde_defr">fin_num_adde_defr//</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#esumB.ge0_esum_posneg">ge0_esum_posneg//</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id">@eq_esum</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#abse">abse</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id">f</span>))<span class="id">//</span> <span class="id">-?summableE//</span> <span class="id">=&gt;</span> <span class="id">i</span> <span class="id">Di</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/=</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#gee0_abs">gee0_abs//</a></span> <span class="id">f0</span>.<br/>
<span class="id">rewrite</span> <span class="id">-addeA</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#addeCA">addeCA</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#eq_sym">eq_sym</a></span> <span class="id">[X</span> <span class="gallina-kwd">in</span> <span class="id">_</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#df45e8c2e8370fd4f0f7c4fdaf208180">==</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#X:460">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">_]addeC</span> <span class="id">-sube_eq;</span> <span class="id">last</span> <span class="id">2</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.esum.html#esumB.ge0_esum_posneg">ge0_esum_posneg//</a></span> (<span class="id">@eq_esum</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#abse">abse</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id">f</span>))<span class="id">//</span> <span class="id">-?summableE//</span> <span class="id">=&gt;</span> <span class="id">i</span> <span class="id">Di</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/=</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#gee0_abs">gee0_abs//</a></span> <span class="id">f0</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num_adde_defl">fin_num_adde_defl//</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#esumB.ge0_esum_posneg">ge0_esum_posneg//</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id">@eq_esum</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#abse">abse</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id">g</span>))<span class="id">//</span> <span class="id">-?summableE//</span> <span class="id">=&gt;</span> <span class="id">i</span> <span class="id">Di</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/=</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#gee0_abs">gee0_abs//</a></span> <span class="id">g0</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.esum.html#esumB.ge0_esum_posneg">ge0_esum_posneg//</a></span> <span class="id"><a href="mathcomp.analysis.esum.html#esumB.ge0_esum_posneg">ge0_esum_posneg//</a></span> <span class="id">=&gt;</span> <span class="id">/eqP</span> <span class="id">-&gt;</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.esum.html#esumB">esumB</a></span>.<br/>

</div>
<div class="footer"><hr/>Generated by <a href="https://github.com/yoshihiro503/coq2html/">a fork of coq2html</a></div>
</body>
</html>
