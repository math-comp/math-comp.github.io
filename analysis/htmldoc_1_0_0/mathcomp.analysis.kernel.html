
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Module mathcomp.analysis.kernel</title>
<meta name="description" content="Documentation of Coq module mathcomp.analysis.kernel" />
<link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.css">
<script src="https://cdn.jsdelivr.net/npm/markdown-it/dist/markdown-it.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/markdown-it-texmath/texmath.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/darkmode-js@1.5.7/lib/darkmode-js.min.js"></script>
<link href="coq2html.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="coq2html.js"> </script>
</head>

<body onload="init('proofscript')">
<h1 class="title">Module mathcomp.analysis.kernel</h1>
<div class="coq">
<span class="vernacular">From</span> <span class="id">HB</span> <span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="NOTFOUND the module url for HB.structures">structures</a></span>.<br/>
<span class="vernacular">From</span> <span class="id">mathcomp</span> <span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.all_ssreflect.html">all_ssreflect</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html">ssralg</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html">ssrnum</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrint.html">ssrint</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html">interval</a></span> <span class="id"><a href="NOTFOUND the module url for mathcomp.finmap.finmap">finmap</a></span>.<br/>
<span class="vernacular">From</span> <span class="id">mathcomp</span> <span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="mathcomp.classical.mathcomp_extra.html">mathcomp_extra</a></span> <span class="id"><a href="mathcomp.classical.boolp.html">boolp</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html">classical_sets</a></span> <span class="id"><a href="mathcomp.classical.functions.html">functions</a></span>.<br/>
<span class="vernacular">From</span> <span class="id">mathcomp</span> <span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="mathcomp.classical.cardinality.html">cardinality</a></span> <span class="id"><a href="mathcomp.classical.fsbigop.html">fsbigop</a></span>.<br/>
<span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="mathcomp.analysis.reals.html">reals</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html">ereal</a></span> <span class="id"><a href="mathcomp.analysis.signed.html">signed</a></span> <span class="id"><a href="mathcomp.analysis.topology.html">topology</a></span> <span class="id"><a href="mathcomp.analysis.normedtype.html">normedtype</a></span> <span class="id"><a href="mathcomp.analysis.sequences.html">sequences</a></span> <span class="id"><a href="mathcomp.analysis.esum.html">esum</a></span> <span class="id"><a href="mathcomp.analysis.measure.html">measure</a></span>.<br/>
<span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="mathcomp.analysis.numfun.html">numfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html">lebesgue_measure</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html">lebesgue_integral</a></span>.<br/>
<br/>
<div class="ssrdoc md">
# Kernels                                                                  
                                                                           
This file provides a formation of kernels, s-finite kernels, finite        
kernels, subprobability kernels, and probability kernels. The main         
formalized result is the fact that s-finite kernels are stable by          
composition.                                                               
Reference:                                                                 
- R. Affeldt, C. Cohen, A. Saito. Semantics of probabilistic programs      
  using s-finite kernels in Coq. CPP 2023                                  
                                                                           
```                                                                        
      R.-ker X ~&gt; Y == kernel from X to Y where X and Y are of type        
                       measurableType                                      
                       The HB class is Kernel.                             
  measure_fam_uub k == the kernel k is uniformly upper-bounded             
    R.-sfker X ~&gt; Y == s-finite kernel                                     
                       The HB class is SFiniteKernel.                      
     R.-fker X ~&gt; Y == finite kernel                                       
                       The HB class is FiniteKernel.                       
    R.-spker X ~&gt; Y == subprobability kernel                               
                       The HB class is SubProbabilityKernel.               
     R.-pker X ~&gt; Y == probability kernel                                  
                       The HB class is ProbabilityKernel.                  
            kseries == countable sum of kernels                            
                       It is declared as an instance of the structure      
                       Kernel. It is also an instance of the structure     
                       SFiniteKernel if the sum is over s-finite kernels.  
              kzero == kernel defined using the mzero measure              
          kdirac mf == kernel defined by a measurable function             
           mset U r == the set of probability measures mu such that        
                       mu U &lt; r                                            
               pset == the sets mset U r with U measurable and r \in [0,1] 
       pprobability == the measurable type generated by pset               
     kprobability m == kernel defined by a probability measure             
         kadd k1 k2 == lifting of the addition of measures to kernels      
             l \; k == composition of kernels                              
```                                                                        
                                                                           
</div>
<br/>
<span class="gallina-kwd">Set</span> <span class="vernacular">Implicit</span> <span class="vernacular">Arguments</span>.<br/>
<span class="vernacular">Unset</span> <span class="vernacular">Strict</span> <span class="vernacular">Implicit</span>.<br/>
<span class="vernacular">Unset</span> <span class="vernacular">Printing</span> <span class="vernacular">Implicit</span> <span class="vernacular">Defensive</span>.<br/>
<span class="vernacular">Import</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.TTheory">Order.TTheory</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory">GRing.Theory</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Def">Num.Def</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory">Num.Theory</a></span>.<br/>
<span class="vernacular">Import</span> <span class="id"><a href="mathcomp.analysis.topology.html#numFieldTopology.Exports">numFieldTopology.Exports</a></span>.<br/>
<br/>
<span class="vernacular">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">classical_set_scope</span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">ring_scope</span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">ereal_scope</span>.<br/>
<br/>
<span class="vernacular">Reserved</span> <span class="vernacular">Notation</span> <span class="id">&quot;R .-ker X ~&gt; Y&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span> <span class="id">level</span> <span class="id">42,</span> <span class="id">format</span> <span class="id">&quot;R .-ker  X  ~&gt;  Y&quot;</span>).<br/>
<span class="vernacular">Reserved</span> <span class="vernacular">Notation</span> <span class="id">&quot;R .-sfker X ~&gt; Y&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span> <span class="id">level</span> <span class="id">42,</span> <span class="id">format</span> <span class="id">&quot;R .-sfker  X  ~&gt;  Y&quot;</span>).<br/>
<span class="vernacular">Reserved</span> <span class="vernacular">Notation</span> <span class="id">&quot;R .-fker X ~&gt; Y&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span> <span class="id">level</span> <span class="id">42,</span> <span class="id">format</span> <span class="id">&quot;R .-fker  X  ~&gt;  Y&quot;</span>).<br/>
<span class="vernacular">Reserved</span> <span class="vernacular">Notation</span> <span class="id">&quot;R .-spker X ~&gt; Y&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span> <span class="id">level</span> <span class="id">42,</span> <span class="id">format</span> <span class="id">&quot;R .-spker  X  ~&gt;  Y&quot;</span>).<br/>
<span class="vernacular">Reserved</span> <span class="vernacular">Notation</span> <span class="id">&quot;R .-pker X ~&gt; Y&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span> <span class="id">level</span> <span class="id">42,</span> <span class="id">format</span> <span class="id">&quot;R .-pker  X  ~&gt;  Y&quot;</span>).<br/>
<br/>
<span id="isKernel.Exports" class="id"><span id="isKernel.identity_builder" class="id"><span id="isKernel.phant_axioms" class="id"><span id="isKernel.phant_Build" class="id"><span id="isKernel.measurable_kernel" class="id"><span id="isKernel.axioms_" class="id"><span id="isKernel.isKernel.k" class="id"><span id="isKernel.isKernel.R" class="id"><span id="isKernel.isKernel.Y" class="id"><span id="isKernel.isKernel.X" class="id"><span id="isKernel.isKernel.d'" class="id"><span id="isKernel.isKernel.d" class="id"><span id="isKernel.isKernel" class="id"><span id="isKernel" class="id"><a name="isKernel.Exports" class="hierarchy-builder">HB.mixin</a></span></span></span></span></span></span></span></span></span></span></span></span></span></span> <span class="vernacular">Record</span> <span class="id">isKernel</span> <span id="d:1" class="id"><a name="d:1" class="">d</a></span> <span id="d':2" class="id"><a name="d':2" class="">d'</a></span> (<span id="X:3" class="id"><a name="X:3" class="">X</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:1">d</a></span>) (<span id="Y:4" class="id"><a name="Y:4" class="">Y</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':2">d'</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="R:5" class="id"><a name="R:5" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) (<span id="k:6" class="id"><a name="k:6" class="">k</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#X:3">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.kernel.html#Y:4">Y</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.kernel.html#R:5">R}</a></span>) <span class="id">:=</span> <span class="id">{</span><br/>
&nbsp;&nbsp;<span id="measurable_kernel:8" class="id"><a name="measurable_kernel:8" class="">measurable_kernel</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="U:7" class="id"><a name="U:7" class="">U,</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:7">U</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#36b9f1631384d2c3b944cb9d5855cd98">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#X:3">X]</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#k:6">k</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#d89396f990d6b54d736cfe259e498cf4">^~</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:7">U</a></span>) <span class="id">}</span>.<br/>
<br/>
<span id="ElpiOperations1" class="id"><span id="measurable_kernel" class="id"><span id="Kernel.phant_on_" class="id"><span id="Kernel.Exports" class="id"><span id="Kernel.pack_" class="id"><span id="Kernel.phant_clone" class="id"><span id="Kernel.class" class="id"><span id="Kernel.sort" class="id"><span id="Kernel.type" class="id"><span id="Kernel.kernel_isKernel_mixin" class="id"><span id="Kernel.axioms_" class="id"><span id="Kernel" class="id"><a name="ElpiOperations1" class="">#[short</a></span></span></span></span></span></span></span></span></span></span></span></span>(<span class="id">type=kernel</span>)<span class="id">]</span><br/>
<span class="id">HB.structure</span> <span class="vernacular">Definition</span> <span class="id">Kernel</span> <span id="d:15" class="id"><a name="d:15" class="">d</a></span> <span id="d':16" class="id"><a name="d':16" class="">d'</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="X:17" class="id"><a name="X:17" class="">X</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:15">d</a></span>) (<span id="Y:18" class="id"><a name="Y:18" class="">Y</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':16">d'</a></span>) (<span id="R:19" class="id"><a name="R:19" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#e6a434cae860987d1c5f61b342cc9e57">{</a></span> <span id="k:20" class="id"><a name="k:20" class="">k</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#e6a434cae860987d1c5f61b342cc9e57">&amp;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#isKernel">isKernel</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#X:17">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Y:18">Y</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#R:19">R</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#k:20">k</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#e6a434cae860987d1c5f61b342cc9e57">}</a></span>.<br/>
<span class="vernacular">Notation</span> <span id="c4a502042c2f67c701729be5ec5cf362" class="id"><a name="c4a502042c2f67c701729be5ec5cf362" class="">&quot;R .-ker X ~&gt; Y&quot;</a></span> <span class="id">:=</span> (<span class="id"><a href="mathcomp.analysis.kernel.html#kernel">kernel</a></span> <span class="id">X%type</span> <span class="id">Y</span> <span class="id">R</span>).<br/>
<br/>
<span class="vernacular">Arguments</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_kernel">measurable_kernel</a></span> <span class="id">{_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_}</span> <span class="id">_</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="kernel_measurable_eq_cst" class="id"><a name="kernel_measurable_eq_cst" class="">kernel_measurable_eq_cst</a></span> <span id="d:22" class="id"><a name="d:22" class="">d</a></span> <span id="d':23" class="id"><a name="d':23" class="">d'</a></span> (<span id="T:24" class="id"><a name="T:24" class="">T</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:22">d</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="T':25" class="id"><a name="T':25" class="">T'</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':23">d'</a></span>) (<span id="R:26" class="id"><a name="R:26" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) (<span id="f:27" class="id"><a name="f:27" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#R:26">R</a></span>.<span class="id">-ker</span> <span class="id"><a href="mathcomp.analysis.kernel.html#T:24">T</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#c4a502042c2f67c701729be5ec5cf362">~&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#T':25">T'</a></span>) <span id="k:28" class="id"><a name="k:28" class="">k</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">[set</a></span> <span id="t:29" class="id"><a name="t:29" class="">t</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">|</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#f:27">f</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#t:29">t</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#36b9f1631384d2c3b944cb9d5855cd98">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#T':25">T']</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#df45e8c2e8370fd4f0f7c4fdaf208180">==</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#k:28">k]</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof1')">Proof.</span></div>
<div class="proofscript" id="proof1">
<span class="id">rewrite</span> <span class="id">[X</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#X:30">X]</a></span>(<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> (<span class="id">f</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#d89396f990d6b54d736cfe259e498cf4">^~</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span>) <span class="id">@^-1`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#29c78c22490f2dae838b1b504eb858a2">[set</a></span> <span class="id">k]</span>)<span class="id">;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply/seteqP;</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">t/=</span> <span class="id">/eqP</span>.<br/>
<span class="id">have</span> <span class="id">/</span>(<span class="id">_</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT">measurableT</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#29c78c22490f2dae838b1b504eb858a2">[set</a></span> <span class="id">k]</span>) <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_kernel">measurable_kernel</a></span> <span class="id">f</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT">measurableT</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setTI">setTI;</a></span> <span class="id">exact</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="kernel_measurable_neq_cst" class="id"><a name="kernel_measurable_neq_cst" class="">kernel_measurable_neq_cst</a></span> <span id="d:31" class="id"><a name="d:31" class="">d</a></span> <span id="d':32" class="id"><a name="d':32" class="">d'</a></span> (<span id="T:33" class="id"><a name="T:33" class="">T</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:31">d</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="T':34" class="id"><a name="T':34" class="">T'</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':32">d'</a></span>) (<span id="R:35" class="id"><a name="R:35" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>)  (<span id="f:36" class="id"><a name="f:36" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#R:35">R</a></span>.<span class="id">-ker</span> <span class="id"><a href="mathcomp.analysis.kernel.html#T:33">T</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#c4a502042c2f67c701729be5ec5cf362">~&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#T':34">T'</a></span>) <span id="k:37" class="id"><a name="k:37" class="">k</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">[set</a></span> <span id="t:38" class="id"><a name="t:38" class="">t</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">|</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#f:36">f</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#t:38">t</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#36b9f1631384d2c3b944cb9d5855cd98">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#T':34">T']</a></span> <span class="id">!=</span> <span class="id"><a href="mathcomp.analysis.kernel.html#k:37">k]</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof2')">Proof.</span></div>
<div class="proofscript" id="proof2">
<span class="id">rewrite</span> <span class="id">[X</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#X:39">X]</a></span>(<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> (<span class="id">f</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#d89396f990d6b54d736cfe259e498cf4">^~</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span>) <span class="id">@^-1`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#3dde060273a7d21198e50a79e780aafd">[set~</a></span> <span class="id">k]</span>)<span class="id">;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply/seteqP;</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">t</span> <span class="id">/eqP</span>.<br/>
<span class="id">have</span> <span class="id">/</span>(<span class="id">_</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT">measurableT</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#3dde060273a7d21198e50a79e780aafd">[set~</a></span> <span class="id">k]</span>) <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_kernel">measurable_kernel</a></span> <span class="id">f</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT">measurableT</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setTI">setTI;</a></span> <span class="id">apply</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableC">measurableC</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="kernel_measurable_fun_eq_cst" class="id"><a name="kernel_measurable_fun_eq_cst" class="">kernel_measurable_fun_eq_cst</a></span> <span id="d:40" class="id"><a name="d:40" class="">d</a></span> <span id="d':41" class="id"><a name="d':41" class="">d'</a></span> (<span id="T:42" class="id"><a name="T:42" class="">T</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:40">d</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="T':43" class="id"><a name="T':43" class="">T'</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':41">d'</a></span>) (<span id="R:44" class="id"><a name="R:44" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) (<span id="f:45" class="id"><a name="f:45" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#R:44">R</a></span>.<span class="id">-ker</span> <span class="id"><a href="mathcomp.analysis.kernel.html#T:42">T</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#c4a502042c2f67c701729be5ec5cf362">~&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#T':43">T'</a></span>) <span id="k:46" class="id"><a name="k:46" class="">k</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#36b9f1631384d2c3b944cb9d5855cd98">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#T:42">T]</a></span> (<span class="gallina-kwd">fun</span> <span id="t:47" class="id"><a name="t:47" class="">t</a></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.kernel.html#f:45">f</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#t:47">t</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#36b9f1631384d2c3b944cb9d5855cd98">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#T':43">T']</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#df45e8c2e8370fd4f0f7c4fdaf208180">==</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#k:46">k</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof3')">Proof.</span></div>
<div class="proofscript" id="proof3">
<span class="id">move=&gt;</span> <span class="id">_</span> <span class="id">/=</span> <span class="id">B</span> <span class="id">mB;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setTI">setTI</a></span>.<br/>
<span class="id">have</span> <span class="id">[/eqP-&gt;|/eqP-&gt;|/eqP-&gt;|/eqP-&gt;]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set_bool">set_bool</a></span> <span class="id">B</span>.<br/>
<span class="id">-</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kernel_measurable_eq_cst">kernel_measurable_eq_cst</a></span>.<br/>
<span class="id">-</span> <span class="id">rewrite</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id">_</span> <span class="id">@^-1`</span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">[set</a></span> <span id="b:50" class="id"><span id="b:49" class="id"><span id="b:48" class="id"><a name="b:50" class="">b</a></span></span></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">|</a></span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.kernel.html#b:48">b</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id">!=</span> <span class="id">k]</span>)<span class="id">;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply/seteqP;</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">[t</span> <span class="id">/negbT//|t</span> <span class="id">/negbTE]</span>.<br/>
&nbsp;&nbsp;<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kernel_measurable_neq_cst">kernel_measurable_neq_cst</a></span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#preimage_set0">preimage_set0</a></span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#preimage_setT">preimage_setT</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="eq_kernel" class="id"><a name="eq_kernel" class="">eq_kernel</a></span> <span id="d:51" class="id"><a name="d:51" class="">d</a></span> <span id="d':52" class="id"><a name="d':52" class="">d'</a></span> (<span id="T:53" class="id"><a name="T:53" class="">T</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:51">d</a></span>) (<span id="T':54" class="id"><a name="T':54" class="">T'</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':52">d'</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="R:55" class="id"><a name="R:55" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) (<span id="k1:56" class="id"><a name="k1:56" class="">k1</a></span> <span id="k2:57" class="id"><a name="k2:57" class="">k2</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#R:55">R</a></span>.<span class="id">-ker</span> <span class="id"><a href="mathcomp.analysis.kernel.html#T:53">T</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#c4a502042c2f67c701729be5ec5cf362">~&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#T':54">T'</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="x:58" class="id"><a name="x:58" class="">x</a></span> <span id="U:59" class="id"><a name="U:59" class="">U,</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#k1:56">k1</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:58">x</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:59">U</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#k2:57">k2</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:58">x</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:59">U</a></span>) <span class="id">-&gt;</span> <span class="id"><a href="mathcomp.analysis.kernel.html#k1:56">k1</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#k2:57">k2</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof4')">Proof.</span></div>
<div class="proofscript" id="proof4">
<span class="id">move:</span> <span class="id">k1</span> <span class="id">k2</span> <span class="id">=&gt;</span> <span class="id">[m1</span> <span class="id">[[?]]]</span> <span class="id">[m2</span> <span class="id">[[?]]]</span> <span class="id">/=</span> <span class="id">k12</span>.<br/>
<span class="id">have</span> <span class="id">?</span> <span class="id">:</span> <span class="id">m1</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">m2</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply/funext</span> <span class="id">=&gt;</span> <span class="id">t;</span> <span class="id">apply/eq_measure;</span> <span class="id">apply/funext</span> <span class="id">=&gt;</span> <span class="id">U;</span> <span class="id">rewrite</span> <span class="id">k12</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">subst</span> <span class="id">m1;</span> <span class="id">f_equal;</span> <span class="id">f_equal;</span> <span class="id">f_equal;</span> <span class="id">apply/Prop_irrelevance</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Section</span> <span id="kseries" class="id"><a name="kseries" class="">kseries</a></span>.<br/>
<span class="vernacular">Context</span> <span id="d:60" class="id"><a name="d:60" class="">d</a></span> <span id="d':61" class="id"><a name="d':61" class="">d'</a></span> (<span id="X:62" class="id"><a name="X:62" class="">X</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:60">d</a></span>) (<span id="Y:63" class="id"><a name="Y:63" class="">Y</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':61">d'</a></span>) (<span id="R:64" class="id"><a name="R:64" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="vernacular">Variable</span> <span id="kseries.k" class="id"><a name="kseries.k" class="">k</a></span> <span class="id">:</span> (<span class="id"><a href="mathcomp.analysis.kernel.html#kseries.R">R</a></span>.<span class="id">-ker</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kseries.X">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#c4a502042c2f67c701729be5ec5cf362">~&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kseries.Y">Y</a></span>)<span class="id">^nat</span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="kseries" class="id"><a name="kseries" class="">kseries</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kseries.X">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kseries.Y">Y</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kseries.R">R}</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">fun</span> <span id="x:66" class="id"><a name="x:66" class="">x</a></span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#Measure.Exports.measure">measure</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.measure.html#mseries">mseries</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#kseries.k">k</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#d89396f990d6b54d736cfe259e498cf4">^~</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:66">x</a></span>) <span class="id">0]</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="measurable_fun_kseries" class="id"><a name="measurable_fun_kseries" class="">measurable_fun_kseries</a></span> (<span id="U:67" class="id"><a name="U:67" class="">U</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kseries.Y">Y</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:67">U</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#36b9f1631384d2c3b944cb9d5855cd98">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kseries.X">X]</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#kseries">kseries</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#d89396f990d6b54d736cfe259e498cf4">^~</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:67">U</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof5')">Proof.</span></div>
<div class="proofscript" id="proof5">
<span class="id">move=&gt;</span> <span class="id">mU</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_emeasurable_fun_sum">ge0_emeasurable_fun_sum</a></span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">n;</span> <span class="id">exact/measurable_kernel</span>.<br/>
Qed.</div>
<br/>
<span id="kernel_kseries__canonical__kernel_Kernel" class="id"><span id="HB_unnamed_factory_2" class="id"><a name="kernel_kseries__canonical__kernel_Kernel" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.kernel.html#Build">isKernel.Build</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kseries">kseries</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_kseries">measurable_fun_kseries</a></span>.<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kseries">kseries</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="integral_kseries" class="id"><a name="integral_kseries" class="">integral_kseries</a></span> <span id="d:68" class="id"><a name="d:68" class="">d</a></span> <span id="d':69" class="id"><a name="d':69" class="">d'</a></span> (<span id="X:70" class="id"><a name="X:70" class="">X</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:68">d</a></span>) (<span id="Y:71" class="id"><a name="Y:71" class="">Y</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':69">d'</a></span>)<br/>
&nbsp;&nbsp;(<span id="R:72" class="id"><a name="R:72" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) (<span id="k:73" class="id"><a name="k:73" class="">k</a></span> <span class="id">:</span> (<span class="id"><a href="mathcomp.analysis.kernel.html#R:72">R</a></span>.<span class="id">-ker</span> <span class="id"><a href="mathcomp.analysis.kernel.html#X:70">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#c4a502042c2f67c701729be5ec5cf362">~&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Y:71">Y</a></span>)<span class="id">^nat</span>) (<span id="f:74" class="id"><a name="f:74" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#Y:71">Y</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#R:72">R</a></span>) <span id="x:75" class="id"><a name="x:75" class="">x</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="y:76" class="id"><a name="y:76" class="">y,</a></span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#f:74">f</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#y:76">y</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#36b9f1631384d2c3b944cb9d5855cd98">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Y:71">Y]</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#f:74">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[kseries</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#k:73">k</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:75">x]_y</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#f:74">f</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#y:77">y</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.sequences.html#acaaf5f54a6a8a222320424b6e0ccad5">\sum_</a></span>(<span id="i:80" class="id"><span id="i:79" class="id"><span id="i:78" class="id"><a name="i:80" class="">i</a></span></span></span> <span class="id"><a href="mathcomp.analysis.sequences.html#acaaf5f54a6a8a222320424b6e0ccad5">&lt;oo</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[k</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#i:78">i</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:75">x]_y</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#f:74">f</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#y:81">y</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof6')">Proof.</span></div>
<div class="proofscript" id="proof6">
<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">f0</span> <span class="id">mf;</span> <span class="id">rewrite</span> <span class="id">/kseries/=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_measure_series">ge0_integral_measure_series</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Section</span> <span id="measure_fam_uub" class="id"><a name="measure_fam_uub" class="">measure_fam_uub</a></span>.<br/>
<span class="vernacular">Context</span> <span id="d:82" class="id"><a name="d:82" class="">d</a></span> <span id="d':83" class="id"><a name="d':83" class="">d'</a></span> (<span id="X:84" class="id"><a name="X:84" class="">X</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:82">d</a></span>) (<span id="Y:85" class="id"><a name="Y:85" class="">Y</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':83">d'</a></span>) (<span id="R:86" class="id"><a name="R:86" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.NumField.Exports.numFieldType">numFieldType</a></span>).<br/>
<span class="vernacular">Variable</span> <span id="measure_fam_uub.k" class="id"><a name="measure_fam_uub.k" class="">k</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measure_fam_uub.X">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measure_fam_uub.Y">Y</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measure_fam_uub.R">R}</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="measure_fam_uub" class="id"><a name="measure_fam_uub" class="">measure_fam_uub</a></span> <span class="id">:=</span> <span class="gallina-kwd">exists</span> <span id="r:88" class="id"><a name="r:88" class="">r,</a></span> <span class="gallina-kwd">forall</span> <span id="x:89" class="id"><a name="x:89" class="">x,</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measure_fam_uub.k">k</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:89">x</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#36b9f1631384d2c3b944cb9d5855cd98">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measure_fam_uub.Y">Y]</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#r:88">r%:E</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="measure_fam_uubP" class="id"><a name="measure_fam_uubP" class="">measure_fam_uubP</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measure_fam_uub">measure_fam_uub</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x">&lt;-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="r:90" class="id"><a name="r:90" class="">r</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.signed.html#dbe4e9c6d047a7b9bacd3b6dee92ccb8">{posnum</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measure_fam_uub.R">R},</a></span> <span class="gallina-kwd">forall</span> <span id="x:91" class="id"><a name="x:91" class="">x,</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measure_fam_uub.k">k</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:91">x</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#36b9f1631384d2c3b944cb9d5855cd98">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measure_fam_uub.Y">Y]</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#r:90">r%:num%:E</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof7')">Proof.</span></div>
<div class="proofscript" id="proof7">
<span class="id">split</span> <span class="id">=&gt;</span> <span class="id">[|]</span> <span class="id">[r</span> <span class="id">kr];</span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> <span class="id">r%:num</span>.<br/>
<span class="id">suff</span> <span class="id">r_gt0</span> <span class="id">:</span> (<span class="id">0</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'&lt;'_x">&lt;</a></span> <span class="id">r</span>)<span class="id">%R</span> <span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> (<span class="id"><a href="mathcomp.analysis.signed.html#PosNum">PosNum</a></span> <span class="id">r_gt0</span>).<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-lte_fin;</span> <span class="id">apply:</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_lt_trans">le_lt_trans</a></span> <span class="id">_</span> (<span class="id">kr</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#point">point</a></span>)).<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measure_fam_uub">measure_fam_uub</a></span>.<br/>
<br/>
<span id="Kernel_isSFinite_subdef.Exports" class="id"><span id="Kernel_isSFinite_subdef.identity_builder" class="id"><span id="Kernel_isSFinite_subdef.phant_axioms" class="id"><span id="Kernel_isSFinite_subdef.phant_Build" class="id"><span id="Kernel_isSFinite_subdef.sfinite_kernel_subdef" class="id"><span id="Kernel_isSFinite_subdef.axioms_" class="id"><span id="Kernel_isSFinite_subdef.Kernel_isSFinite_subdef.k" class="id"><span id="Kernel_isSFinite_subdef.Kernel_isSFinite_subdef.R" class="id"><span id="Kernel_isSFinite_subdef.Kernel_isSFinite_subdef.Y" class="id"><span id="Kernel_isSFinite_subdef.Kernel_isSFinite_subdef.X" class="id"><span id="Kernel_isSFinite_subdef.Kernel_isSFinite_subdef.d'" class="id"><span id="Kernel_isSFinite_subdef.Kernel_isSFinite_subdef.d" class="id"><span id="Kernel_isSFinite_subdef.Kernel_isSFinite_subdef" class="id"><span id="Kernel_isSFinite_subdef" class="id"><a name="Kernel_isSFinite_subdef.Exports" class="hierarchy-builder">HB.mixin</a></span></span></span></span></span></span></span></span></span></span></span></span></span></span> <span class="vernacular">Record</span> <span class="id">Kernel_isSFinite_subdef</span> <span id="d:92" class="id"><a name="d:92" class="">d</a></span> <span id="d':93" class="id"><a name="d':93" class="">d'</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="X:94" class="id"><a name="X:94" class="">X</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:92">d</a></span>) (<span id="Y:95" class="id"><a name="Y:95" class="">Y</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':93">d'</a></span>) (<span id="R:96" class="id"><a name="R:96" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="k:97" class="id"><a name="k:97" class="">k</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#X:94">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.kernel.html#Y:95">Y</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.kernel.html#R:96">R}</a></span>) <span class="id">:=</span> <span class="id">{</span><br/>
&nbsp;&nbsp;<span id="sfinite_kernel_subdef:103" class="id"><a name="sfinite_kernel_subdef:103" class="">sfinite_kernel_subdef</a></span> <span class="id">:</span> <span class="gallina-kwd">exists2</span> <span id="s:100" class="id"><span id="s:98" class="id"><a name="s:100" class="">s</a></span></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#59ba2b47d2814e66f8210a649ae6e6bc">:</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#R:96">R</a></span>.<span class="id">-ker</span> <span class="id"><a href="mathcomp.analysis.kernel.html#X:94">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#c4a502042c2f67c701729be5ec5cf362">~&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Y:95">Y</a></span>)<span class="id">^nat,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="n:99" class="id"><a name="n:99" class="">n,</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measure_fam_uub">measure_fam_uub</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#s:98">s</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#n:99">n</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#59ba2b47d2814e66f8210a649ae6e6bc">&amp;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:101" class="id"><a name="x:101" class="">x</a></span> <span id="U:102" class="id"><a name="U:102" class="">U,</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:102">U</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#k:97">k</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:101">x</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:102">U</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kseries">kseries</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#s:100">s</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:101">x</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:102">U</a></span> <span class="id">}</span>.<br/>
<br/>
<span id="ElpiOperations4" class="id"><span id="sfinite_kernel_subdef" class="id"><span id="SFiniteKernel.phant_on_" class="id"><span id="SFiniteKernel.Exports.kernel_SFiniteKernel__to__kernel_Kernel" class="id"><span id="SFiniteKernel.Exports.kernel_SFiniteKernel_class__to__kernel_Kernel_class" class="id"><span id="SFiniteKernel.Exports" class="id"><span id="SFiniteKernel.pack_" class="id"><span id="SFiniteKernel.phant_clone" class="id"><span id="SFiniteKernel.class" class="id"><span id="SFiniteKernel.sort" class="id"><span id="SFiniteKernel.type" class="id"><span id="SFiniteKernel.kernel_Kernel_isSFinite_subdef_mixin" class="id"><span id="SFiniteKernel.kernel_isKernel_mixin" class="id"><span id="SFiniteKernel.axioms_" class="id"><span id="SFiniteKernel" class="id"><a name="ElpiOperations4" class="hierarchy-builder">HB.structure</a></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span> <span class="vernacular">Definition</span> <span class="id">SFiniteKernel</span> <span id="d:110" class="id"><a name="d:110" class="">d</a></span> <span id="d':111" class="id"><a name="d':111" class="">d'</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="X:112" class="id"><a name="X:112" class="">X</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:110">d</a></span>) (<span id="Y:113" class="id"><a name="Y:113" class="">Y</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':111">d'</a></span>) (<span id="R:114" class="id"><a name="R:114" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="NOTFOUND the module url for HB.structures#07a2fe97f630e8e0c2d8d753544c8c8c">{</a></span> <span id="k:115" class="id"><a name="k:115" class="">k</a></span> <span class="id">of</span> <span class="id">@Kernel</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#R:114">R</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#k:115">k</a></span> <span class="id"><a href="NOTFOUND the module url for HB.structures#07a2fe97f630e8e0c2d8d753544c8c8c">&amp;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.kernel.html#Kernel_isSFinite_subdef">Kernel_isSFinite_subdef</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#X:112">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Y:113">Y</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#R:114">R</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#k:115">k</a></span> <span class="id"><a href="NOTFOUND the module url for HB.structures#07a2fe97f630e8e0c2d8d753544c8c8c">}</a></span>.<br/>
<span class="vernacular">Notation</span> <span id="2f2bb8476188c3521c5dd8e5760dc6ab" class="id"><a name="2f2bb8476188c3521c5dd8e5760dc6ab" class="">&quot;R .-sfker X ~&gt; Y&quot;</a></span> <span class="id">:=</span> (<span class="id"><a href="mathcomp.analysis.kernel.html#type">SFiniteKernel.type</a></span> <span class="id">X%type</span> <span class="id">Y</span> <span class="id">R</span>).<br/>
<span class="vernacular">Arguments</span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfinite_kernel_subdef">sfinite_kernel_subdef</a></span> <span class="id">{_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_}</span> <span class="id">_</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="eq_sfkernel" class="id"><a name="eq_sfkernel" class="">eq_sfkernel</a></span> <span id="d:117" class="id"><a name="d:117" class="">d</a></span> <span id="d':118" class="id"><a name="d':118" class="">d'</a></span> (<span id="T:119" class="id"><a name="T:119" class="">T</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:117">d</a></span>) (<span id="T':120" class="id"><a name="T':120" class="">T'</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':118">d'</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="R:121" class="id"><a name="R:121" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) (<span id="k1:122" class="id"><a name="k1:122" class="">k1</a></span> <span id="k2:123" class="id"><a name="k2:123" class="">k2</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#R:121">R</a></span>.<span class="id">-sfker</span> <span class="id"><a href="mathcomp.analysis.kernel.html#T:119">T</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#2f2bb8476188c3521c5dd8e5760dc6ab">~&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#T':120">T'</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="x:124" class="id"><a name="x:124" class="">x</a></span> <span id="U:125" class="id"><a name="U:125" class="">U,</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#k1:122">k1</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:124">x</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:125">U</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#k2:123">k2</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:124">x</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:125">U</a></span>) <span class="id">-&gt;</span> <span class="id"><a href="mathcomp.analysis.kernel.html#k1:122">k1</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#k2:123">k2</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof8')">Proof.</span></div>
<div class="proofscript" id="proof8">
<span class="id">move:</span> <span class="id">k1</span> <span class="id">k2</span> <span class="id">=&gt;</span> <span class="id">[m1</span> <span class="id">[[?]</span> <span class="id">[?]]]</span> <span class="id">[m2</span> <span class="id">[[?]</span> <span class="id">[?]]]</span> <span class="id">/=</span> <span class="id">k12</span>.<br/>
<span class="id">have</span> <span class="id">?</span> <span class="id">:</span> <span class="id">m1</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">m2</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply/funext</span> <span class="id">=&gt;</span> <span class="id">t;</span> <span class="id">apply/eq_measure;</span> <span class="id">apply/funext</span> <span class="id">=&gt;</span> <span class="id">U;</span> <span class="id">rewrite</span> <span class="id">k12</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">subst</span> <span class="id">m1;</span> <span class="id">f_equal;</span> <span class="id">f_equal;</span> <span class="id">f_equal;</span> <span class="id">apply/Prop_irrelevance</span>.<br/>
Qed.</div>
<br/>
<span id="SFiniteKernel_isFinite.Exports" class="id"><span id="SFiniteKernel_isFinite.identity_builder" class="id"><span id="SFiniteKernel_isFinite.phant_axioms" class="id"><span id="SFiniteKernel_isFinite.phant_Build" class="id"><span id="SFiniteKernel_isFinite.measure_uub" class="id"><span id="SFiniteKernel_isFinite.axioms_" class="id"><span id="SFiniteKernel_isFinite.SFiniteKernel_isFinite.k" class="id"><span id="SFiniteKernel_isFinite.SFiniteKernel_isFinite.R" class="id"><span id="SFiniteKernel_isFinite.SFiniteKernel_isFinite.Y" class="id"><span id="SFiniteKernel_isFinite.SFiniteKernel_isFinite.X" class="id"><span id="SFiniteKernel_isFinite.SFiniteKernel_isFinite.d'" class="id"><span id="SFiniteKernel_isFinite.SFiniteKernel_isFinite.d" class="id"><span id="SFiniteKernel_isFinite.SFiniteKernel_isFinite" class="id"><span id="SFiniteKernel_isFinite" class="id"><a name="SFiniteKernel_isFinite.Exports" class="hierarchy-builder">HB.mixin</a></span></span></span></span></span></span></span></span></span></span></span></span></span></span> <span class="vernacular">Record</span> <span class="id">SFiniteKernel_isFinite</span> <span id="d:126" class="id"><a name="d:126" class="">d</a></span> <span id="d':127" class="id"><a name="d':127" class="">d'</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="X:128" class="id"><a name="X:128" class="">X</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:126">d</a></span>) (<span id="Y:129" class="id"><a name="Y:129" class="">Y</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':127">d'</a></span>) (<span id="R:130" class="id"><a name="R:130" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="k:131" class="id"><a name="k:131" class="">k</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#X:128">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.kernel.html#Y:129">Y</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.kernel.html#R:130">R}</a></span>) <span class="id">:=</span> <span class="id">{</span><br/>
&nbsp;&nbsp;<span id="measure_uub:132" class="id"><a name="measure_uub:132" class="">measure_uub</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measure_fam_uub">measure_fam_uub</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#k:131">k</a></span> <span class="id">}</span>.<br/>
<br/>
<span id="ElpiOperations5" class="id"><span id="measure_uub" class="id"><span id="FiniteKernel.phant_on_" class="id"><span id="FiniteKernel.Exports.kernel_FiniteKernel__to__kernel_SFiniteKernel" class="id"><span id="FiniteKernel.Exports.kernel_FiniteKernel_class__to__kernel_SFiniteKernel_class" class="id"><span id="FiniteKernel.Exports.kernel_FiniteKernel__to__kernel_Kernel" class="id"><span id="FiniteKernel.Exports.kernel_FiniteKernel_class__to__kernel_Kernel_class" class="id"><span id="FiniteKernel.Exports" class="id"><span id="FiniteKernel.pack_" class="id"><span id="FiniteKernel.phant_clone" class="id"><span id="FiniteKernel.class" class="id"><span id="FiniteKernel.sort" class="id"><span id="FiniteKernel.type" class="id"><span id="FiniteKernel.kernel_SFiniteKernel_isFinite_mixin" class="id"><span id="FiniteKernel.kernel_Kernel_isSFinite_subdef_mixin" class="id"><span id="FiniteKernel.kernel_isKernel_mixin" class="id"><span id="FiniteKernel.axioms_" class="id"><span id="FiniteKernel" class="id"><a name="ElpiOperations5" class="">#[short</a></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span>(<span class="id">type=finite_kernel</span>)<span class="id">]</span><br/>
<span class="id">HB.structure</span> <span class="vernacular">Definition</span> <span class="id">FiniteKernel</span> <span id="d:139" class="id"><a name="d:139" class="">d</a></span> <span id="d':140" class="id"><a name="d':140" class="">d'</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="X:141" class="id"><a name="X:141" class="">X</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:139">d</a></span>) (<span id="Y:142" class="id"><a name="Y:142" class="">Y</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':140">d'</a></span>) (<span id="R:143" class="id"><a name="R:143" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="NOTFOUND the module url for HB.structures#07a2fe97f630e8e0c2d8d753544c8c8c">{</a></span> <span id="k:144" class="id"><a name="k:144" class="">k</a></span> <span class="id">of</span> <span class="id">@SFiniteKernel</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#k:144">k</a></span> <span class="id"><a href="NOTFOUND the module url for HB.structures#07a2fe97f630e8e0c2d8d753544c8c8c">&amp;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.kernel.html#SFiniteKernel_isFinite">SFiniteKernel_isFinite</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#X:141">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Y:142">Y</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#R:143">R</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#k:144">k</a></span> <span class="id"><a href="NOTFOUND the module url for HB.structures#07a2fe97f630e8e0c2d8d753544c8c8c">}</a></span>.<br/>
<span class="vernacular">Notation</span> <span id="a630ad86ffa8dd82d98f88052283a61f" class="id"><a name="a630ad86ffa8dd82d98f88052283a61f" class="">&quot;R .-fker X ~&gt; Y&quot;</a></span> <span class="id">:=</span> (<span class="id"><a href="mathcomp.analysis.kernel.html#finite_kernel">finite_kernel</a></span> <span class="id">X%type</span> <span class="id">Y</span> <span class="id">R</span>).<br/>
<span class="vernacular">Arguments</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measure_uub">measure_uub</a></span> <span class="id">{_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_}</span> <span class="id">_</span>.<br/>
<br/>
<span id="Kernel_isFinite.Exports" class="id"><span id="Kernel_isFinite.phant_axioms" class="id"><span id="Kernel_isFinite.phant_Build" class="id"><span id="Kernel_isFinite.measure_uub" class="id"><span id="Kernel_isFinite.axioms_" class="id"><span id="Kernel_isFinite.Kernel_isFinite_k__canonical__kernel_Kernel" class="id"><span id="Kernel_isFinite.Kernel_isFinite.local_mixin_kernel_isKernel" class="id"><span id="Kernel_isFinite.Kernel_isFinite.k" class="id"><span id="Kernel_isFinite.Kernel_isFinite.R" class="id"><span id="Kernel_isFinite.Kernel_isFinite.Y" class="id"><span id="Kernel_isFinite.Kernel_isFinite.X" class="id"><span id="Kernel_isFinite.Kernel_isFinite.d'" class="id"><span id="Kernel_isFinite.Kernel_isFinite.d" class="id"><span id="Kernel_isFinite.Kernel_isFinite" class="id"><span id="Kernel_isFinite" class="id"><a name="Kernel_isFinite.Exports" class="hierarchy-builder">HB.factory</a></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span> <span class="vernacular">Record</span> <span class="id">Kernel_isFinite</span> <span id="d:146" class="id"><a name="d:146" class="">d</a></span> <span id="d':147" class="id"><a name="d':147" class="">d'</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="X:148" class="id"><a name="X:148" class="">X</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:146">d</a></span>) (<span id="Y:149" class="id"><a name="Y:149" class="">Y</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':147">d'</a></span>) (<span id="R:150" class="id"><a name="R:150" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="k:151" class="id"><a name="k:151" class="">k</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#X:148">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.kernel.html#Y:149">Y</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.kernel.html#R:150">R}</a></span>) <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.kernel.html#isKernel">isKernel</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#k:151">k</a></span> <span class="id">:=</span> <span class="id">{</span><br/>
&nbsp;&nbsp;<span id="measure_uub:152" class="id"><a name="measure_uub:152" class="">measure_uub</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measure_fam_uub">measure_fam_uub</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#k:151">k</a></span> <span class="id">}</span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="kzero" class="id"><a name="kzero" class="">kzero</a></span>.<br/>
<span class="vernacular">Context</span> <span id="d:159" class="id"><a name="d:159" class="">d</a></span> <span id="d':160" class="id"><a name="d':160" class="">d'</a></span> (<span id="X:161" class="id"><a name="X:161" class="">X</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:159">d</a></span>) (<span id="Y:162" class="id"><a name="Y:162" class="">Y</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':160">d'</a></span>) (<span id="R:163" class="id"><a name="R:163" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="kzero" class="id"><a name="kzero" class="">kzero</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kzero.X">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kzero.Y">Y</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kzero.R">R}</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">fun</span> <span class="id">_</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kzero.X">X</a></span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#Measure.Exports.measure">measure</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.measure.html#mzero">mzero]</a></span>.<br/>
<br/>
<span class="vernacular">Let</span> <span id="kzero.measurable_fun_kzero" class="id"><a name="kzero.measurable_fun_kzero" class="">measurable_fun_kzero</a></span> <span id="U:164" class="id"><a name="U:164" class="">U</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:164">U</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#36b9f1631384d2c3b944cb9d5855cd98">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kzero.X">X]</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#kzero">kzero</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#d89396f990d6b54d736cfe259e498cf4">^~</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:164">U</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof9')">Proof.</span></div>
<div class="proofscript" id="proof9">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">?/=;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_cst">measurable_cst</a></span>. Qed.</div>
<br/>
<span id="kernel_kzero__canonical__kernel_Kernel" class="id"><span id="HB_unnamed_factory_6" class="id"><a name="kernel_kzero__canonical__kernel_Kernel" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id">@isKernel</span>.<span class="id">Build</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kzero.X">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kzero.Y">Y</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kzero.R">R</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kzero">kzero</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kzero.measurable_fun_kzero">measurable_fun_kzero</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="kzero_uub" class="id"><a name="kzero_uub" class="">kzero_uub</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measure_fam_uub">measure_fam_uub</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kzero">kzero</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof10')">Proof.</span></div>
<div class="proofscript" id="proof10">
 <span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> <span class="id">1%R</span> <span class="id">=&gt;</span> <span class="id">/=</span> <span class="id">t;</span> <span class="id">rewrite</span> <span class="id">/mzero/=</span>. Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kzero">kzero</a></span>.<br/>
<br/>
<span id="Builders_8.Builders_8.fresh_name_9" class="id"><span id="Builders_8.Builders_8_k__canonical__kernel_Kernel" class="id"><span id="Builders_8.Builders_8.local_mixin_kernel_isKernel" class="id"><span id="Builders_8.Builders_8.k" class="id"><span id="Builders_8.Builders_8.R" class="id"><span id="Builders_8.Builders_8.Y" class="id"><span id="Builders_8.Builders_8.X" class="id"><span id="Builders_8.Builders_8.d'" class="id"><span id="Builders_8.Builders_8.d" class="id"><span id="Builders_8.Builders_8" class="id"><span id="Builders_8" class="id"><a name="Builders_8.Builders_8.fresh_name_9" class="hierarchy-builder">HB.builders</a></span></span></span></span></span></span></span></span></span></span></span> <span class="vernacular">Context</span> <span id="d:165" class="id"><a name="d:165" class="">d</a></span> <span id="d':166" class="id"><a name="d':166" class="">d'</a></span> (<span id="X:167" class="id"><a name="X:167" class="">X</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:165">d</a></span>) (<span id="Y:168" class="id"><a name="Y:168" class="">Y</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':166">d'</a></span>)<br/>
&nbsp;&nbsp;(<span id="R:169" class="id"><a name="R:169" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) <span id="k:170" class="id"><a name="k:170" class="">k</a></span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.kernel.html#Kernel_isFinite">Kernel_isFinite</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:165">d</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':166">d'</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#X:167">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Y:168">Y</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#R:169">R</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#k:170">k</a></span>.<br/>
<br/>
<span class="vernacular">Let</span> <span id="Builders_8.Builders_8.sfinite_finite" class="id"><a name="Builders_8.Builders_8.sfinite_finite" class="">sfinite_finite</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists2</span> <span id="k_:179" class="id"><span id="k_:177" class="id"><a name="k_:179" class="">k_</a></span></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#59ba2b47d2814e66f8210a649ae6e6bc">:</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#Builders_8.Builders_8.R">R</a></span>.<span class="id">-ker</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#c4a502042c2f67c701729be5ec5cf362">~&gt;</a></span> <span class="id">_</span>)<span class="id">^nat,</span> <span class="gallina-kwd">forall</span> <span id="n:178" class="id"><a name="n:178" class="">n,</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measure_fam_uub">measure_fam_uub</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#k_:177">k_</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#n:178">n</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#59ba2b47d2814e66f8210a649ae6e6bc">&amp;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:180" class="id"><a name="x:180" class="">x</a></span> <span id="U:181" class="id"><a name="U:181" class="">U,</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:181">U</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_8.Builders_8.k">k</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:180">x</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:181">U</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#mseries">mseries</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#k_:179">k_</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#d89396f990d6b54d736cfe259e498cf4">^~</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:180">x</a></span>) <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:181">U</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof11')">Proof.</span></div>
<div class="proofscript" id="proof11">
<span class="gallina-kwd">exists</span> (<span class="gallina-kwd">fun</span> <span id="n:184" class="id"><span id="n:182" class="id"><a name="n:184" class="">n</a></span></span> <span class="id">=&gt;</span> <span class="gallina-kwd">if</span> <span class="id"><a href="mathcomp.analysis.kernel.html#n:182">n</a></span> <span class="id">is</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#O">O</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id">_</span>.<span class="id">-ker</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#c4a502042c2f67c701729be5ec5cf362">~&gt;</a></span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_8.Builders_8.k">k]</a></span> <span class="gallina-kwd">else</span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id">_</span>.<span class="id">-ker</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#c4a502042c2f67c701729be5ec5cf362">~&gt;</a></span> <span class="id">_</span> <span class="id">of</span> <span class="id">@kzero</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_8.Builders_8.X">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_8.Builders_8.Y">Y</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_8.Builders_8.R">R]</a></span>).<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">case</span> <span class="id">=&gt;</span> <span class="id">[|_];</span> <span class="id">[exact:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_8.measure_uub">measure_uub|exact:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kzero_uub">kzero_uub]</a></span>.<br/>
<span class="id">move=&gt;</span> <span class="id">t</span> <span class="id">U</span> <span class="id">mU/=;</span> <span class="id">rewrite</span> <span class="id">/mseries</span>.<br/>
<span class="id">rewrite</span> (<span class="id"><a href="mathcomp.analysis.sequences.html#nneseries_split">nneseries_split</a></span> <span class="id">1%N</span>)<span class="id">//</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.bigop.html#big_ord_recl">big_ord_recl/=</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.bigop.html#big_ord0">big_ord0</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#adde0">adde0</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.sequences.html#ereal_series">ereal_series</a></span> (<span class="id">@eq_eseriesr</span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#94502d422d70bbaf4f390946d9885b7c">fun=&gt;</a></span> <span class="id">0%E</span>))<span class="id">;</span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">case</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.sequences.html#eseries0">eseries0//</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#adde0">adde0</a></span>.<br/>
Qed.</div>
<br/>
<span id="Builders_8.Builders_8_k__canonical__kernel_SFiniteKernel" class="id"><span id="Builders_8.HB_unnamed_factory_10" class="id"><a name="Builders_8.Builders_8_k__canonical__kernel_SFiniteKernel" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id">@Kernel_isSFinite_subdef</span>.<span class="id">Build</span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_8.Builders_8.d">d</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_8.Builders_8.d'">d'</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_8.Builders_8.X">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_8.Builders_8.Y">Y</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_8.Builders_8.R">R</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_8.Builders_8.k">k</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_8.Builders_8.sfinite_finite">sfinite_finite</a></span>.<br/>
<br/>
<span id="Builders_8.Builders_8_k__canonical__kernel_FiniteKernel" class="id"><span id="Builders_8.HB_unnamed_factory_12" class="id"><a name="Builders_8.Builders_8_k__canonical__kernel_FiniteKernel" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id">@SFiniteKernel_isFinite</span>.<span class="id">Build</span>  <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_8.Builders_8.d">d</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_8.Builders_8.d'">d'</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_8.Builders_8.X">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_8.Builders_8.Y">Y</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_8.Builders_8.R">R</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_8.Builders_8.k">k</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_8.measure_uub">measure_uub</a></span>.<br/>
<br/>
<span id="Builders_8.Kernel_isFinite_Exports" class="id"><a name="Builders_8.Kernel_isFinite_Exports" class="hierarchy-builder">HB.end</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="sfinite" class="id"><a name="sfinite" class="">sfinite</a></span>.<br/>
<span class="vernacular">Context</span> <span id="d:186" class="id"><a name="d:186" class="">d</a></span> <span id="d':187" class="id"><a name="d':187" class="">d'</a></span> (<span id="X:188" class="id"><a name="X:188" class="">X</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:186">d</a></span>) (<span id="Y:189" class="id"><a name="Y:189" class="">Y</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':187">d'</a></span>).<br/>
<span class="vernacular">Variables</span> (<span id="sfinite.R" class="id"><a name="sfinite.R" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) (<span id="sfinite.k" class="id"><a name="sfinite.k" class="">k</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#R:190">R</a></span>.<span class="id">-sfker</span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfinite.X">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#2f2bb8476188c3521c5dd8e5760dc6ab">~&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfinite.Y">Y</a></span>).<br/>
<br/>
<span class="vernacular">Let</span> <span id="sfinite.s" class="id"><a name="sfinite.s" class="">s</a></span> <span class="id">:</span> (<span class="id"><a href="mathcomp.analysis.kernel.html#sfinite.X">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfinite.Y">Y</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfinite.R">R}</a></span>)<span class="id">^nat</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id">let:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#exist2">exist2</a></span> <span class="id">x</span> <span class="id">_</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.boolp.html#cid2">cid2</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#sfinite_kernel_subdef">sfinite_kernel_subdef</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfinite.k">k</a></span>) <span class="gallina-kwd">in</span> <span class="id">x</span>.<br/>
<br/>
<span class="vernacular">Let</span> <span id="sfinite.ms" class="id"><a name="sfinite.ms" class="">ms</a></span> <span id="n:192" class="id"><a name="n:192" class="">n</a></span> <span class="id">:</span> <span class="id">@isKernel</span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfinite.d">d</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfinite.d'">d'</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfinite.X">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfinite.Y">Y</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfinite.R">R</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#sfinite.s">s</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#n:192">n</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof12')">Proof.</span></div>
<div class="proofscript" id="proof12">
<span class="id">split;</span> <span class="id">rewrite</span> <span class="id">/s;</span> <span class="id">case:</span> <span class="id"><a href="mathcomp.classical.boolp.html#cid2">cid2</a></span> <span class="id">=&gt;</span> <span class="id">/=</span> <span class="id">s'</span> <span class="id">s'_uub</span> <span class="id">kE</span>.<br/>
<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_kernel">measurable_kernel</a></span>.<br/>
Qed.</div>
<br/>
<span id="kernel_s__canonical__kernel_Kernel" class="id"><span id="HB_unnamed_factory_15" class="id"><span id="sfinite.hb_instance_14.n" class="id"><span id="sfinite.hb_instance_14" class="id"><a name="kernel_s__canonical__kernel_Kernel" class="hierarchy-builder">HB.instance</a></span></span></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span id="n:193" class="id"><a name="n:193" class="">n</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfinite.ms">ms</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#n:193">n</a></span>.<br/>
<br/>
<span class="vernacular">Let</span> <span id="sfinite.s_uub" class="id"><a name="sfinite.s_uub" class="">s_uub</a></span> <span id="n:194" class="id"><a name="n:194" class="">n</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measure_fam_uub">measure_fam_uub</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#sfinite.s">s</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#n:194">n</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof13')">Proof.</span></div>
<div class="proofscript" id="proof13">
 <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/s;</span> <span class="id">case:</span> <span class="id"><a href="mathcomp.classical.boolp.html#cid2">cid2</a></span>. Qed.</div>
<br/>
<span id="kernel_s__canonical__kernel_FiniteKernel" class="id"><span id="HB_unnamed_mixin_22" class="id"><span id="kernel_s__canonical__kernel_SFiniteKernel" class="id"><span id="HB_unnamed_mixin_21" class="id"><span id="kernel_Kernel_isFinite__to__kernel_Kernel_isSFinite_subdef" class="id"><span id="kernel_Kernel_isFinite__to__kernel_SFiniteKernel_isFinite" class="id"><span id="HB_unnamed_factory_18" class="id"><span id="sfinite.hb_instance_17.n" class="id"><span id="sfinite.hb_instance_17" class="id"><a name="kernel_s__canonical__kernel_FiniteKernel" class="hierarchy-builder">HB.instance</a></span></span></span></span></span></span></span></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span id="n:195" class="id"><a name="n:195" class="">n</a></span> <span class="id">:=</span> <span class="id">@Kernel_isFinite</span>.<span class="id">Build</span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfinite.d">d</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfinite.d'">d'</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfinite.X">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfinite.Y">Y</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfinite.R">R</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#sfinite.s">s</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#n:195">n</a></span>) (<span class="id"><a href="mathcomp.analysis.kernel.html#sfinite.s_uub">s_uub</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#n:195">n</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="sfinite_kernel" class="id"><a name="sfinite_kernel" class="">sfinite_kernel</a></span> <span class="id">:</span> <span class="gallina-kwd">exists</span> <span id="s:196" class="id"><a name="s:196" class="">s</a></span> <span class="id">:</span> (<span class="id"><a href="mathcomp.analysis.kernel.html#sfinite.R">R</a></span>.<span class="id">-fker</span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfinite.X">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#a630ad86ffa8dd82d98f88052283a61f">~&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfinite.Y">Y</a></span>)<span class="id">^nat,</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:197" class="id"><a name="x:197" class="">x</a></span> <span id="U:198" class="id"><a name="U:198" class="">U,</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:198">U</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfinite.k">k</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:197">x</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:198">U</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kseries">kseries</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#s:196">s</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:197">x</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:198">U</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof14')">Proof.</span></div>
<div class="proofscript" id="proof14">
<span class="gallina-kwd">exists</span> (<span class="gallina-kwd">fun</span> <span id="n:200" class="id"><span id="n:199" class="id"><a name="n:200" class="">n</a></span></span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id">_</span>.<span class="id">-fker</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#a630ad86ffa8dd82d98f88052283a61f">~&gt;</a></span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfinite.s">s</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#n:199">n]</a></span>) <span class="id">=&gt;</span> <span class="id">x</span> <span class="id">U</span> <span class="id">mU</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/s</span> <span class="id">/=</span> <span class="id">/s;</span> <span class="gallina-kwd">by</span> <span class="id">case:</span> <span class="id"><a href="mathcomp.classical.boolp.html#cid2">cid2</a></span> <span class="id">=&gt;</span> <span class="id">?</span> <span class="id">?</span> <span class="id">-&gt;</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfinite">sfinite</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="sfinite_kernel_measure" class="id"><a name="sfinite_kernel_measure" class="">sfinite_kernel_measure</a></span> <span id="d:201" class="id"><a name="d:201" class="">d</a></span> <span id="d':202" class="id"><a name="d':202" class="">d'</a></span> (<span id="Z:203" class="id"><a name="Z:203" class="">Z</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:201">d</a></span>) (<span id="X:204" class="id"><a name="X:204" class="">X</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':202">d'</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="R:205" class="id"><a name="R:205" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) (<span id="k:206" class="id"><a name="k:206" class="">k</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#R:205">R</a></span>.<span class="id">-sfker</span> <span class="id"><a href="mathcomp.analysis.kernel.html#Z:203">Z</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#2f2bb8476188c3521c5dd8e5760dc6ab">~&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#X:204">X</a></span>) (<span id="z:207" class="id"><a name="z:207" class="">z</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#Z:203">Z</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#sfinite_measure">sfinite_measure</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#k:206">k</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#z:207">z</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof15')">Proof.</span></div>
<div class="proofscript" id="proof15">
<span class="id">have</span> <span class="id">[s</span> <span class="id">ks]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfinite_kernel">sfinite_kernel</a></span> <span class="id">k</span>.<br/>
<span class="gallina-kwd">exists</span> (<span class="id">s</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#d89396f990d6b54d736cfe259e498cf4">^~</a></span> <span class="id">z</span>).<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">n;</span> <span class="id">have</span> <span class="id">[r</span> <span class="id">snr]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measure_uub">measure_uub</a></span> (<span class="id">s</span> <span class="id">n</span>).<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#lty_fin_num_fun">lty_fin_num_fun;</a></span> <span class="id">rewrite</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.lt_le_trans">lt_le_trans</a></span> (<span class="id">snr</span> <span class="id">_</span>))<span class="id">//</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leey">leey</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">U</span> <span class="id">mU;</span> <span class="id">rewrite</span> <span class="id">ks</span>.<br/>
Qed.</div>
<br/>
<span id="kernel_kzero__canonical__kernel_FiniteKernel" class="id"><span id="HB_unnamed_mixin_30" class="id"><span id="kernel_kzero__canonical__kernel_SFiniteKernel" class="id"><span id="HB_unnamed_mixin_29" class="id"><span id="kernel_Kernel_isFinite__to__kernel_Kernel_isSFinite_subdef__28" class="id"><span id="kernel_Kernel_isFinite__to__kernel_SFiniteKernel_isFinite__26" class="id"><span id="HB_unnamed_factory_24" class="id"><span id="hb_instance_23.R" class="id"><span id="hb_instance_23.Y" class="id"><span id="hb_instance_23.X" class="id"><span id="hb_instance_23.d'" class="id"><span id="hb_instance_23.d" class="id"><span id="hb_instance_23" class="id"><a name="kernel_kzero__canonical__kernel_FiniteKernel" class="hierarchy-builder">HB.instance</a></span></span></span></span></span></span></span></span></span></span></span></span></span> <span class="vernacular">Definition</span> <span class="id">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span id="d:208" class="id"><a name="d:208" class="">d</a></span> <span id="d':209" class="id"><a name="d':209" class="">d'</a></span> (<span id="X:210" class="id"><a name="X:210" class="">X</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:208">d</a></span>) (<span id="Y:211" class="id"><a name="Y:211" class="">Y</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':209">d'</a></span>) (<span id="R:212" class="id"><a name="R:212" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id">@Kernel_isFinite</span>.<span class="id">Build</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#R:212">R</a></span> (<span class="id">@kzero</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#X:210">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Y:211">Y</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#R:212">R</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">@kzero_uub</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#X:210">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Y:211">Y</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#R:212">R</a></span>).<br/>
<br/>
<span id="Kernel_isSFinite.Exports" class="id"><span id="Kernel_isSFinite.phant_axioms" class="id"><span id="Kernel_isSFinite.phant_Build" class="id"><span id="Kernel_isSFinite.sfinite" class="id"><span id="Kernel_isSFinite.axioms_" class="id"><span id="Kernel_isSFinite.Kernel_isSFinite_k__canonical__kernel_Kernel" class="id"><span id="Kernel_isSFinite.Kernel_isSFinite.local_mixin_kernel_isKernel" class="id"><span id="Kernel_isSFinite.Kernel_isSFinite.k" class="id"><span id="Kernel_isSFinite.Kernel_isSFinite.R" class="id"><span id="Kernel_isSFinite.Kernel_isSFinite.Y" class="id"><span id="Kernel_isSFinite.Kernel_isSFinite.X" class="id"><span id="Kernel_isSFinite.Kernel_isSFinite.d'" class="id"><span id="Kernel_isSFinite.Kernel_isSFinite.d" class="id"><span id="Kernel_isSFinite.Kernel_isSFinite" class="id"><span id="Kernel_isSFinite" class="id"><a name="Kernel_isSFinite.Exports" class="hierarchy-builder">HB.factory</a></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span> <span class="vernacular">Record</span> <span class="id">Kernel_isSFinite</span> <span id="d:213" class="id"><a name="d:213" class="">d</a></span> <span id="d':214" class="id"><a name="d':214" class="">d'</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="X:215" class="id"><a name="X:215" class="">X</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:213">d</a></span>) (<span id="Y:216" class="id"><a name="Y:216" class="">Y</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':214">d'</a></span>) (<span id="R:217" class="id"><a name="R:217" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="k:218" class="id"><a name="k:218" class="">k</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#X:215">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.kernel.html#Y:216">Y</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.kernel.html#R:217">R}</a></span>) <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.kernel.html#isKernel">isKernel</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#k:218">k</a></span> <span class="id">:=</span> <span class="id">{</span><br/>
&nbsp;&nbsp;<span id="sfinite:222" class="id"><a name="sfinite:222" class="">sfinite</a></span> <span class="id">:</span> <span class="gallina-kwd">exists</span> <span id="s:219" class="id"><a name="s:219" class="">s</a></span> <span class="id">:</span> (<span class="id"><a href="mathcomp.analysis.kernel.html#R:217">R</a></span>.<span class="id">-fker</span> <span class="id"><a href="mathcomp.analysis.kernel.html#X:215">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#a630ad86ffa8dd82d98f88052283a61f">~&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Y:216">Y</a></span>)<span class="id">^nat,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:220" class="id"><a name="x:220" class="">x</a></span> <span id="U:221" class="id"><a name="U:221" class="">U,</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:221">U</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#k:218">k</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:220">x</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:221">U</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kseries">kseries</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#s:219">s</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:220">x</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:221">U</a></span> <span class="id">}</span>.<br/>
<br/>
<span id="Builders_31.Builders_31.fresh_name_32" class="id"><span id="Builders_31.Builders_31_k__canonical__kernel_Kernel" class="id"><span id="Builders_31.Builders_31.local_mixin_kernel_isKernel" class="id"><span id="Builders_31.Builders_31.k" class="id"><span id="Builders_31.Builders_31.R" class="id"><span id="Builders_31.Builders_31.Y" class="id"><span id="Builders_31.Builders_31.X" class="id"><span id="Builders_31.Builders_31.d'" class="id"><span id="Builders_31.Builders_31.d" class="id"><span id="Builders_31.Builders_31" class="id"><span id="Builders_31" class="id"><a name="Builders_31.Builders_31.fresh_name_32" class="hierarchy-builder">HB.builders</a></span></span></span></span></span></span></span></span></span></span></span> <span class="vernacular">Context</span> <span id="d:229" class="id"><a name="d:229" class="">d</a></span> <span id="d':230" class="id"><a name="d':230" class="">d'</a></span> (<span id="X:231" class="id"><a name="X:231" class="">X</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:229">d</a></span>) (<span id="Y:232" class="id"><a name="Y:232" class="">Y</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':230">d'</a></span>)<br/>
&nbsp;&nbsp;(<span id="R:233" class="id"><a name="R:233" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) <span id="k:234" class="id"><a name="k:234" class="">k</a></span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.kernel.html#Kernel_isSFinite">Kernel_isSFinite</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:229">d</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':230">d'</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#X:231">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Y:232">Y</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#R:233">R</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#k:234">k</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="Builders_31.sfinite_subdef" class="id"><a name="Builders_31.sfinite_subdef" class="">sfinite_subdef</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#Kernel_isSFinite_subdef">Kernel_isSFinite_subdef</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_31.Builders_31.d">d</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_31.Builders_31.d'">d'</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_31.Builders_31.X">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_31.Builders_31.Y">Y</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_31.Builders_31.R">R</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_31.Builders_31.k">k</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof16')">Proof.</span></div>
<div class="proofscript" id="proof16">
<span class="id">split;</span> <span class="id">have</span> <span class="id">[s</span> <span class="id">sE]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_31.sfinite">sfinite;</a></span> <span class="gallina-kwd">exists</span> <span class="id">s</span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">n;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measure_uub">measure_uub</a></span>.<br/>
Qed.</div>
<br/>
<span id="Builders_31.Builders_31_k__canonical__kernel_SFiniteKernel" class="id"><span id="Builders_31.HB_unnamed_factory_33" class="id"><a name="Builders_31.Builders_31_k__canonical__kernel_SFiniteKernel" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span>  <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_31.sfinite_subdef">sfinite_subdef</a></span>.<br/>
<br/>
<span id="Builders_31.Kernel_isSFinite_Exports" class="id"><a name="Builders_31.Kernel_isSFinite_Exports" class="hierarchy-builder">HB.end</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="sfkseries" class="id"><a name="sfkseries" class="">sfkseries</a></span>.<br/>
<span class="vernacular">Context</span> <span id="d:241" class="id"><a name="d:241" class="">d</a></span> <span id="d':242" class="id"><a name="d':242" class="">d'</a></span> (<span id="X:243" class="id"><a name="X:243" class="">X</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:241">d</a></span>) (<span id="Y:244" class="id"><a name="Y:244" class="">Y</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':242">d'</a></span>) (<span id="R:245" class="id"><a name="R:245" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="vernacular">Variables</span> <span id="sfkseries.k" class="id"><a name="sfkseries.k" class="">k</a></span> <span class="id">:</span> (<span class="id"><a href="mathcomp.analysis.kernel.html#sfkseries.R">R</a></span>.<span class="id">-sfker</span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfkseries.X">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#2f2bb8476188c3521c5dd8e5760dc6ab">~&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfkseries.Y">Y</a></span>)<span class="id">^nat</span>.<br/>
<br/>
<span class="vernacular">Let</span> <span id="sfkseries.sfinite_kseries" class="id"><a name="sfkseries.sfinite_kseries" class="">sfinite_kseries</a></span> <span class="id">:</span> <span class="gallina-kwd">exists2</span> <span id="k_:249" class="id"><span id="k_:247" class="id"><a name="k_:249" class="">k_</a></span></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#59ba2b47d2814e66f8210a649ae6e6bc">:</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#sfkseries.R">R</a></span>.<span class="id">-ker</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#c4a502042c2f67c701729be5ec5cf362">~&gt;</a></span> <span class="id">_</span>)<span class="id">^nat,</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="n:248" class="id"><a name="n:248" class="">n,</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measure_fam_uub">measure_fam_uub</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#k_:247">k_</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#n:248">n</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#59ba2b47d2814e66f8210a649ae6e6bc">&amp;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:250" class="id"><a name="x:250" class="">x</a></span> <span id="U:251" class="id"><a name="U:251" class="">U,</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:251">U</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kseries">kseries</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfkseries.k">k</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:250">x</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:251">U</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#mseries">mseries</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#k_:249">k_</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#d89396f990d6b54d736cfe259e498cf4">^~</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:250">x</a></span>) <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:251">U</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof17')">Proof.</span></div>
<div class="proofscript" id="proof17">
<span class="id">have</span> <span class="id">/ppcard_eqP[f]</span> <span class="id">:</span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#36b9f1631384d2c3b944cb9d5855cd98">[set:</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat]</a></span> <span class="id"><a href="mathcomp.classical.cardinality.html#75c3eadbb3fd356da27f1f2e697bb40b">#=</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#36b9f1631384d2c3b944cb9d5855cd98">[set:</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat]</a></span>)<span class="id">%card</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.cardinality.html#card_eq_sym">card_eq_sym;</a></span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.classical.cardinality.html#card_nat2">card_nat2</a></span>.<br/>
<span class="id">pose</span> <span class="id">p</span> <span id="n:253" class="id"><span id="n:252" class="id"><a name="n:253" class="">n</a></span></span> <span class="id">:</span> (<span class="id"><a href="mathcomp.analysis.kernel.html#sfkseries.R">R</a></span>.<span class="id">-fker</span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfkseries.X">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#a630ad86ffa8dd82d98f88052283a61f">~&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfkseries.Y">Y</a></span>)<span class="id">^nat</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.ssrfun.html#sval">sval</a></span> (<span class="id"><a href="mathcomp.classical.boolp.html#cid">cid</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#sfinite_kernel">sfinite_kernel</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#sfkseries.k">k</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#n:253">n</a></span>))).<br/>
<span class="gallina-kwd">exists</span> (<span class="gallina-kwd">fun</span> <span id="i:255" class="id"><span id="i:254" class="id"><a name="i:255" class="">i</a></span></span> <span class="id">=&gt;</span> <span class="id">p</span> (<span class="id">f</span> <span class="id"><a href="mathcomp.analysis.kernel.html#i:254">i</a></span>).<span class="id">1</span> (<span class="id">f</span> <span class="id"><a href="mathcomp.analysis.kernel.html#i:254">i</a></span>).<span class="id">2</span>).<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">n;</span> <span class="id">have</span> <span class="id">[r</span> <span class="id">Hr]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measure_uub">measure_uub</a></span> (<span class="id">p</span> (<span class="id">f</span> <span class="id">n</span>).<span class="id">1</span> (<span class="id">f</span> <span class="id">n</span>).<span class="id">2</span>).<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> <span class="id">r</span> <span class="id">=&gt;</span> <span class="id">x</span> <span class="id">/=;</span> <span class="id">exact:</span> <span class="id">Hr</span>.<br/>
<span class="id">move=&gt;</span> <span class="id">x</span> <span class="id">U</span> <span class="id">mU;</span> <span class="id">rewrite</span> <span class="id">/kseries</span> <span class="id">/mseries/=</span> <span class="id">/mseries/=</span>.<br/>
<span class="id">have</span> <span class="id">kE</span> <span class="id">i</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfkseries.k">k</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#i:256">i</a></span> <span class="id">x</span> <span class="id">U</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.sequences.html#acaaf5f54a6a8a222320424b6e0ccad5">\sum_</a></span>(<span id="j:259" class="id"><span id="j:258" class="id"><span id="j:257" class="id"><a name="j:259" class="">j</a></span></span></span> <span class="id"><a href="mathcomp.analysis.sequences.html#acaaf5f54a6a8a222320424b6e0ccad5">&lt;oo</a></span>) <span class="id">p</span> <span class="id"><a href="mathcomp.analysis.kernel.html#i:256">i</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#j:257">j</a></span> <span class="id">x</span> <span class="id">U</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/p</span> <span class="id">/sval/=;</span> <span class="id">case:</span> <span class="id"><a href="mathcomp.classical.boolp.html#cid">cid</a></span> <span class="id">=&gt;</span> <span class="id">k_</span> <span class="id">-&gt;</span>.<br/>
<span class="id">transitivity</span> (<span class="id"><a href="mathcomp.analysis.esum.html#bfafafade7d3e202dbbc3dbf50606eb1">\esum_</a></span>(<span id="l:261" class="id"><span id="l:260" class="id"><a name="l:261" class="">l</a></span></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#36b9f1631384d2c3b944cb9d5855cd98">[set:</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat]</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#3bd2d3ba5f22ac825c14018530a2318c">`*`</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#36b9f1631384d2c3b944cb9d5855cd98">[set:</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat]</a></span>) <span class="id">p</span> <span class="id"><a href="mathcomp.analysis.kernel.html#l:260">l</a></span>.<span class="id">1</span> <span class="id"><a href="mathcomp.analysis.kernel.html#l:260">l</a></span>.<span class="id">2</span> <span class="id">x</span> <span class="id">U</span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#3bd2d3ba5f22ac825c14018530a2318c">`*`</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#8f8ce0ffd4fcb1cabbac77bb467a750e">`*``</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#94502d422d70bbaf4f390946d9885b7c">fun=&gt;</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span>))<span class="id">;</span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">apply/seteqP;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-</span>(<span class="id">@esum_esum</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (<span class="gallina-kwd">fun</span> <span id="i:266" class="id"><span id="i:264" class="id"><span id="i:262" class="id"><a name="i:266" class="">i</a></span></span></span> <span id="j:267" class="id"><span id="j:265" class="id"><span id="j:263" class="id"><a name="j:267" class="">j</a></span></span></span> <span class="id">=&gt;</span> <span class="id">p</span> <span class="id"><a href="mathcomp.analysis.kernel.html#i:262">i</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#j:263">j</a></span> <span class="id">x</span> <span class="id">U</span>))<span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.esum.html#nneseries_esum">nneseries_esum//</a></span> <span class="id">-fun_true;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.esum.html#eq_esum">eq_esum</a></span> <span class="id">=&gt;</span> <span class="id">i</span> <span class="id">_</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">kE//</span> <span class="id"><a href="mathcomp.analysis.esum.html#nneseries_esum">nneseries_esum</a></span>.<br/>
<span class="id">rewrite</span> (<span class="id"><a href="mathcomp.analysis.esum.html#reindex_esum">reindex_esum</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#36b9f1631384d2c3b944cb9d5855cd98">[set:</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat]</a></span> <span class="id">_</span> <span class="id">f</span>)<span class="id">//;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">:=</span> <span class="id">@bijTT</span> <span class="id">_</span> <span class="id">_</span> <span class="id">f</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-setTT_bijective/=</span> <span class="id">-[in</span> <span class="id">X</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.classical.functions.html#set_bij">set_bij</a></span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfkseries.X">X</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">_]</span>(<span class="id">@setMTT</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span>).<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.esum.html#nneseries_esum">nneseries_esum//</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#fun_true">fun_true;</a></span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.esum.html#eq_esum">eq_esum</a></span>.<br/>
Qed.</div>
<br/>
<span id="kernel_kseries__canonical__kernel_SFiniteKernel" class="id"><span id="HB_unnamed_factory_35" class="id"><a name="kernel_kseries__canonical__kernel_SFiniteKernel" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.kernel.html#Build">Kernel_isSFinite_subdef.Build</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfkseries.R">R</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#kseries">kseries</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfkseries.k">k</a></span>) <span class="id"><a href="mathcomp.analysis.kernel.html#sfkseries.sfinite_kseries">sfinite_kseries</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfkseries">sfkseries</a></span>.<br/>
<br/>
<span id="FiniteKernel_isSubProbability.Exports" class="id"><span id="FiniteKernel_isSubProbability.identity_builder" class="id"><span id="FiniteKernel_isSubProbability.phant_axioms" class="id"><span id="FiniteKernel_isSubProbability.phant_Build" class="id"><span id="FiniteKernel_isSubProbability.sprob_kernel" class="id"><span id="FiniteKernel_isSubProbability.axioms_" class="id"><span id="FiniteKernel_isSubProbability.FiniteKernel_isSubProbability.k" class="id"><span id="FiniteKernel_isSubProbability.FiniteKernel_isSubProbability.R" class="id"><span id="FiniteKernel_isSubProbability.FiniteKernel_isSubProbability.Y" class="id"><span id="FiniteKernel_isSubProbability.FiniteKernel_isSubProbability.X" class="id"><span id="FiniteKernel_isSubProbability.FiniteKernel_isSubProbability.d'" class="id"><span id="FiniteKernel_isSubProbability.FiniteKernel_isSubProbability.d" class="id"><span id="FiniteKernel_isSubProbability.FiniteKernel_isSubProbability" class="id"><span id="FiniteKernel_isSubProbability" class="id"><a name="FiniteKernel_isSubProbability.Exports" class="hierarchy-builder">HB.mixin</a></span></span></span></span></span></span></span></span></span></span></span></span></span></span> <span class="vernacular">Record</span> <span class="id">FiniteKernel_isSubProbability</span> <span id="d:269" class="id"><a name="d:269" class="">d</a></span> <span id="d':270" class="id"><a name="d':270" class="">d'</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="X:271" class="id"><a name="X:271" class="">X</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:269">d</a></span>) (<span id="Y:272" class="id"><a name="Y:272" class="">Y</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':270">d'</a></span>) (<span id="R:273" class="id"><a name="R:273" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="k:274" class="id"><a name="k:274" class="">k</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#X:271">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.kernel.html#Y:272">Y</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.kernel.html#R:273">R}</a></span>) <span class="id">:=</span> <span class="id">{</span><br/>
&nbsp;&nbsp;<span id="sprob_kernel:276" class="id"><a name="sprob_kernel:276" class="">sprob_kernel</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup">ereal_sup</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#7e4573e059f309ba0ef27b7fc70cc4df">[set</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#k:274">k</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:275">x</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#36b9f1631384d2c3b944cb9d5855cd98">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Y:272">Y]</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#7e4573e059f309ba0ef27b7fc70cc4df">|</a></span> <span id="x:275" class="id"><a name="x:275" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#36b9f1631384d2c3b944cb9d5855cd98">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#X:271">X]]</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id">1</span> <span class="id">}</span>.<br/>
<br/>
<span id="ElpiOperations37" class="id"><span id="sprob_kernel" class="id"><span id="SubProbabilityKernel.phant_on_" class="id"><span id="SubProbabilityKernel.Exports.kernel_SubProbabilityKernel__to__kernel_FiniteKernel" class="id"><span id="SubProbabilityKernel.Exports.kernel_SubProbabilityKernel_class__to__kernel_FiniteKernel_class" class="id"><span id="SubProbabilityKernel.Exports.kernel_SubProbabilityKernel__to__kernel_SFiniteKernel" class="id"><span id="SubProbabilityKernel.Exports.kernel_SubProbabilityKernel_class__to__kernel_SFiniteKernel_class" class="id"><span id="SubProbabilityKernel.Exports.kernel_SubProbabilityKernel__to__kernel_Kernel" class="id"><span id="SubProbabilityKernel.Exports.kernel_SubProbabilityKernel_class__to__kernel_Kernel_class" class="id"><span id="SubProbabilityKernel.Exports" class="id"><span id="SubProbabilityKernel.pack_" class="id"><span id="SubProbabilityKernel.phant_clone" class="id"><span id="SubProbabilityKernel.class" class="id"><span id="SubProbabilityKernel.sort" class="id"><span id="SubProbabilityKernel.type" class="id"><span id="SubProbabilityKernel.kernel_FiniteKernel_isSubProbability_mixin" class="id"><span id="SubProbabilityKernel.kernel_SFiniteKernel_isFinite_mixin" class="id"><span id="SubProbabilityKernel.kernel_Kernel_isSFinite_subdef_mixin" class="id"><span id="SubProbabilityKernel.kernel_isKernel_mixin" class="id"><span id="SubProbabilityKernel.axioms_" class="id"><span id="SubProbabilityKernel" class="id"><a name="ElpiOperations37" class="">#[short</a></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span>(<span class="id">type=sprobability_kernel</span>)<span class="id">]</span><br/>
<span class="id">HB.structure</span> <span class="vernacular">Definition</span> <span class="id">SubProbabilityKernel</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span id="d:283" class="id"><a name="d:283" class="">d</a></span> <span id="d':284" class="id"><a name="d':284" class="">d'</a></span> (<span id="X:285" class="id"><a name="X:285" class="">X</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:283">d</a></span>) (<span id="Y:286" class="id"><a name="Y:286" class="">Y</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':284">d'</a></span>) (<span id="R:287" class="id"><a name="R:287" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="NOTFOUND the module url for HB.structures#07a2fe97f630e8e0c2d8d753544c8c8c">{</a></span> <span id="k:288" class="id"><a name="k:288" class="">k</a></span> <span class="id">of</span> <span class="id">@FiniteKernel</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#k:288">k</a></span> <span class="id"><a href="NOTFOUND the module url for HB.structures#07a2fe97f630e8e0c2d8d753544c8c8c">&amp;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.kernel.html#FiniteKernel_isSubProbability">FiniteKernel_isSubProbability</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#X:285">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Y:286">Y</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#R:287">R</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#k:288">k</a></span> <span class="id"><a href="NOTFOUND the module url for HB.structures#07a2fe97f630e8e0c2d8d753544c8c8c">}</a></span>.<br/>
<span class="vernacular">Notation</span> <span id="898f9485751baaae1367fc74232bbf0b" class="id"><a name="898f9485751baaae1367fc74232bbf0b" class="">&quot;R .-spker X ~&gt; Y&quot;</a></span> <span class="id">:=</span> (<span class="id"><a href="mathcomp.analysis.kernel.html#sprobability_kernel">sprobability_kernel</a></span> <span class="id">X%type</span> <span class="id">Y</span> <span class="id">R</span>).<br/>
<br/>
<span id="Kernel_isSubProbability.Exports" class="id"><span id="Kernel_isSubProbability.phant_axioms" class="id"><span id="Kernel_isSubProbability.phant_Build" class="id"><span id="Kernel_isSubProbability.sprob_kernel" class="id"><span id="Kernel_isSubProbability.axioms_" class="id"><span id="Kernel_isSubProbability.Kernel_isSubProbability_k__canonical__kernel_Kernel" class="id"><span id="Kernel_isSubProbability.Kernel_isSubProbability.local_mixin_kernel_isKernel" class="id"><span id="Kernel_isSubProbability.Kernel_isSubProbability.k" class="id"><span id="Kernel_isSubProbability.Kernel_isSubProbability.R" class="id"><span id="Kernel_isSubProbability.Kernel_isSubProbability.Y" class="id"><span id="Kernel_isSubProbability.Kernel_isSubProbability.X" class="id"><span id="Kernel_isSubProbability.Kernel_isSubProbability.d'" class="id"><span id="Kernel_isSubProbability.Kernel_isSubProbability.d" class="id"><span id="Kernel_isSubProbability.Kernel_isSubProbability" class="id"><span id="Kernel_isSubProbability" class="id"><a name="Kernel_isSubProbability.Exports" class="hierarchy-builder">HB.factory</a></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span> <span class="vernacular">Record</span> <span class="id">Kernel_isSubProbability</span> <span id="d:290" class="id"><a name="d:290" class="">d</a></span> <span id="d':291" class="id"><a name="d':291" class="">d'</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="X:292" class="id"><a name="X:292" class="">X</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:290">d</a></span>) (<span id="Y:293" class="id"><a name="Y:293" class="">Y</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':291">d'</a></span>) (<span id="R:294" class="id"><a name="R:294" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="k:295" class="id"><a name="k:295" class="">k</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#X:292">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.kernel.html#Y:293">Y</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.kernel.html#R:294">R}</a></span>) <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.kernel.html#isKernel">isKernel</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#X:292">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Y:293">Y</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#R:294">R</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#k:295">k</a></span> <span class="id">:=</span> <span class="id">{</span><br/>
&nbsp;&nbsp;<span id="sprob_kernel:297" class="id"><a name="sprob_kernel:297" class="">sprob_kernel</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup">ereal_sup</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#7e4573e059f309ba0ef27b7fc70cc4df">[set</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#k:295">k</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:296">x</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#36b9f1631384d2c3b944cb9d5855cd98">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Y:293">Y]</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#7e4573e059f309ba0ef27b7fc70cc4df">|</a></span> <span id="x:296" class="id"><a name="x:296" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#36b9f1631384d2c3b944cb9d5855cd98">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#X:292">X]]</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id">1</span> <span class="id">}</span>.<br/>
<br/>
<span id="Builders_38.Builders_38.fresh_name_39" class="id"><span id="Builders_38.Builders_38_k__canonical__kernel_Kernel" class="id"><span id="Builders_38.Builders_38.local_mixin_kernel_isKernel" class="id"><span id="Builders_38.Builders_38.k" class="id"><span id="Builders_38.Builders_38.R" class="id"><span id="Builders_38.Builders_38.Y" class="id"><span id="Builders_38.Builders_38.X" class="id"><span id="Builders_38.Builders_38.d'" class="id"><span id="Builders_38.Builders_38.d" class="id"><span id="Builders_38.Builders_38" class="id"><span id="Builders_38" class="id"><a name="Builders_38.Builders_38.fresh_name_39" class="hierarchy-builder">HB.builders</a></span></span></span></span></span></span></span></span></span></span></span> <span class="vernacular">Context</span> <span id="d:304" class="id"><a name="d:304" class="">d</a></span> <span id="d':305" class="id"><a name="d':305" class="">d'</a></span> (<span id="X:306" class="id"><a name="X:306" class="">X</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:304">d</a></span>) (<span id="Y:307" class="id"><a name="Y:307" class="">Y</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':305">d'</a></span>)<br/>
&nbsp;&nbsp;(<span id="R:308" class="id"><a name="R:308" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) <span id="k:309" class="id"><a name="k:309" class="">k</a></span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.kernel.html#Kernel_isSubProbability">Kernel_isSubProbability</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:304">d</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':305">d'</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#X:306">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Y:307">Y</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#R:308">R</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#k:309">k</a></span>.<br/>
<br/>
<span class="vernacular">Let</span> <span id="Builders_38.Builders_38.finite" class="id"><a name="Builders_38.Builders_38.finite" class="">finite</a></span> <span class="id">:</span> <span class="id">@Kernel_isFinite</span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_38.Builders_38.d">d</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_38.Builders_38.d'">d'</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_38.Builders_38.X">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_38.Builders_38.Y">Y</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_38.Builders_38.R">R</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_38.Builders_38.k">k</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof18')">Proof.</span></div>
<div class="proofscript" id="proof18">
<span class="id">split;</span> <span class="gallina-kwd">exists</span> <span class="id">2%R</span> <span class="id">=&gt;</span> <span class="id">/=</span> <span class="id">?;</span> <span class="id">rewrite</span> (<span class="id">@le_lt_trans</span> <span class="id">_</span> <span class="id">_</span> <span class="id">1%:E</span>) <span class="id">?lte_fin</span> <span class="id">?ltr1n//</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans</a></span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_38.sprob_kernel">sprob_kernel</a></span>)<span class="id">//;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup_ub">ereal_sup_ub</a></span>.<br/>
Qed.</div>
<br/>
<span id="Builders_38.Builders_38_k__canonical__kernel_FiniteKernel" class="id"><span id="Builders_38.Builders_38_k__canonical__kernel_SFiniteKernel" class="id"><span id="Builders_38.kernel_Kernel_isSubProbability__to__kernel_Kernel_isSFinite_subdef" class="id"><span id="Builders_38.kernel_Kernel_isSubProbability__to__kernel_SFiniteKernel_isFinite" class="id"><span id="Builders_38.HB_unnamed_factory_40" class="id"><a name="Builders_38.Builders_38_k__canonical__kernel_FiniteKernel" class="hierarchy-builder">HB.instance</a></span></span></span></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_38.Builders_38.finite">finite</a></span>.<br/>
<br/>
<span id="Builders_38.Builders_38_k__canonical__kernel_SubProbabilityKernel" class="id"><span id="Builders_38.HB_unnamed_factory_43" class="id"><a name="Builders_38.Builders_38_k__canonical__kernel_SubProbabilityKernel" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id">@FiniteKernel_isSubProbability</span>.<span class="id">Build</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_38.Builders_38.k">k</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_38.sprob_kernel">sprob_kernel</a></span>.<br/>
<br/>
<span id="Builders_38.Kernel_isSubProbability_Exports" class="id"><a name="Builders_38.Kernel_isSubProbability_Exports" class="hierarchy-builder">HB.end</a></span>.<br/>
<br/>
<span id="SubProbability_isProbability.Exports" class="id"><span id="SubProbability_isProbability.identity_builder" class="id"><span id="SubProbability_isProbability.phant_axioms" class="id"><span id="SubProbability_isProbability.phant_Build" class="id"><span id="SubProbability_isProbability.prob_kernel" class="id"><span id="SubProbability_isProbability.axioms_" class="id"><span id="SubProbability_isProbability.SubProbability_isProbability.k" class="id"><span id="SubProbability_isProbability.SubProbability_isProbability.R" class="id"><span id="SubProbability_isProbability.SubProbability_isProbability.Y" class="id"><span id="SubProbability_isProbability.SubProbability_isProbability.X" class="id"><span id="SubProbability_isProbability.SubProbability_isProbability.d'" class="id"><span id="SubProbability_isProbability.SubProbability_isProbability.d" class="id"><span id="SubProbability_isProbability.SubProbability_isProbability" class="id"><span id="SubProbability_isProbability" class="id"><a name="SubProbability_isProbability.Exports" class="hierarchy-builder">HB.mixin</a></span></span></span></span></span></span></span></span></span></span></span></span></span></span> <span class="vernacular">Record</span> <span class="id">SubProbability_isProbability</span> <span id="d:316" class="id"><a name="d:316" class="">d</a></span> <span id="d':317" class="id"><a name="d':317" class="">d'</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="X:318" class="id"><a name="X:318" class="">X</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:316">d</a></span>) (<span id="Y:319" class="id"><a name="Y:319" class="">Y</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':317">d'</a></span>) (<span id="R:320" class="id"><a name="R:320" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="k:321" class="id"><a name="k:321" class="">k</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#X:318">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.kernel.html#Y:319">Y</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.kernel.html#R:320">R}</a></span>) <span class="id">:=</span> <span class="id">{</span><br/>
&nbsp;&nbsp;<span id="prob_kernel:323" class="id"><a name="prob_kernel:323" class="">prob_kernel</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="x:322" class="id"><a name="x:322" class="">x,</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#k:321">k</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:322">x</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#36b9f1631384d2c3b944cb9d5855cd98">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Y:319">Y]</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">1</span> <span class="id">}</span>.<br/>
<br/>
<span id="ElpiOperations45" class="id"><span id="prob_kernel" class="id"><span id="ProbabilityKernel.phant_on_" class="id"><span id="ProbabilityKernel.Exports.kernel_ProbabilityKernel__to__kernel_SubProbabilityKernel" class="id"><span id="ProbabilityKernel.Exports.kernel_ProbabilityKernel_class__to__kernel_SubProbabilityKernel_class" class="id"><span id="ProbabilityKernel.Exports.kernel_ProbabilityKernel__to__kernel_FiniteKernel" class="id"><span id="ProbabilityKernel.Exports.kernel_ProbabilityKernel_class__to__kernel_FiniteKernel_class" class="id"><span id="ProbabilityKernel.Exports.kernel_ProbabilityKernel__to__kernel_SFiniteKernel" class="id"><span id="ProbabilityKernel.Exports.kernel_ProbabilityKernel_class__to__kernel_SFiniteKernel_class" class="id"><span id="ProbabilityKernel.Exports.kernel_ProbabilityKernel__to__kernel_Kernel" class="id"><span id="ProbabilityKernel.Exports.kernel_ProbabilityKernel_class__to__kernel_Kernel_class" class="id"><span id="ProbabilityKernel.Exports" class="id"><span id="ProbabilityKernel.pack_" class="id"><span id="ProbabilityKernel.phant_clone" class="id"><span id="ProbabilityKernel.class" class="id"><span id="ProbabilityKernel.sort" class="id"><span id="ProbabilityKernel.type" class="id"><span id="ProbabilityKernel.kernel_SubProbability_isProbability_mixin" class="id"><span id="ProbabilityKernel.kernel_FiniteKernel_isSubProbability_mixin" class="id"><span id="ProbabilityKernel.kernel_SFiniteKernel_isFinite_mixin" class="id"><span id="ProbabilityKernel.kernel_Kernel_isSFinite_subdef_mixin" class="id"><span id="ProbabilityKernel.kernel_isKernel_mixin" class="id"><span id="ProbabilityKernel.axioms_" class="id"><span id="ProbabilityKernel" class="id"><a name="ElpiOperations45" class="">#[short</a></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span>(<span class="id">type=probability_kernel</span>)<span class="id">]</span><br/>
<span class="id">HB.structure</span> <span class="vernacular">Definition</span> <span class="id">ProbabilityKernel</span> <span id="d:330" class="id"><a name="d:330" class="">d</a></span> <span id="d':331" class="id"><a name="d':331" class="">d'</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="X:332" class="id"><a name="X:332" class="">X</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:330">d</a></span>) (<span id="Y:333" class="id"><a name="Y:333" class="">Y</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':331">d'</a></span>) (<span id="R:334" class="id"><a name="R:334" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="NOTFOUND the module url for HB.structures#07a2fe97f630e8e0c2d8d753544c8c8c">{</a></span> <span id="k:335" class="id"><a name="k:335" class="">k</a></span> <span class="id">of</span> <span class="id">@SubProbabilityKernel</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#k:335">k</a></span> <span class="id"><a href="NOTFOUND the module url for HB.structures#07a2fe97f630e8e0c2d8d753544c8c8c">&amp;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.kernel.html#SubProbability_isProbability">SubProbability_isProbability</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#X:332">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Y:333">Y</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#R:334">R</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#k:335">k</a></span> <span class="id"><a href="NOTFOUND the module url for HB.structures#07a2fe97f630e8e0c2d8d753544c8c8c">}</a></span>.<br/>
<span class="vernacular">Notation</span> <span id="6ce5e90cd022b925e0c49d37baca27fb" class="id"><a name="6ce5e90cd022b925e0c49d37baca27fb" class="">&quot;R .-pker X ~&gt; Y&quot;</a></span> <span class="id">:=</span> (<span class="id"><a href="mathcomp.analysis.kernel.html#probability_kernel">probability_kernel</a></span> <span class="id">X%type</span> <span class="id">Y</span> <span class="id">R</span>).<br/>
<br/>
<span id="Kernel_isProbability.Exports" class="id"><span id="Kernel_isProbability.phant_axioms" class="id"><span id="Kernel_isProbability.phant_Build" class="id"><span id="Kernel_isProbability.prob_kernel" class="id"><span id="Kernel_isProbability.axioms_" class="id"><span id="Kernel_isProbability.Kernel_isProbability_k__canonical__kernel_Kernel" class="id"><span id="Kernel_isProbability.Kernel_isProbability.local_mixin_kernel_isKernel" class="id"><span id="Kernel_isProbability.Kernel_isProbability.k" class="id"><span id="Kernel_isProbability.Kernel_isProbability.R" class="id"><span id="Kernel_isProbability.Kernel_isProbability.Y" class="id"><span id="Kernel_isProbability.Kernel_isProbability.X" class="id"><span id="Kernel_isProbability.Kernel_isProbability.d'" class="id"><span id="Kernel_isProbability.Kernel_isProbability.d" class="id"><span id="Kernel_isProbability.Kernel_isProbability" class="id"><span id="Kernel_isProbability" class="id"><a name="Kernel_isProbability.Exports" class="hierarchy-builder">HB.factory</a></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span> <span class="vernacular">Record</span> <span class="id">Kernel_isProbability</span> <span id="d:337" class="id"><a name="d:337" class="">d</a></span> <span id="d':338" class="id"><a name="d':338" class="">d'</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="X:339" class="id"><a name="X:339" class="">X</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:337">d</a></span>) (<span id="Y:340" class="id"><a name="Y:340" class="">Y</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':338">d'</a></span>) (<span id="R:341" class="id"><a name="R:341" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="k:342" class="id"><a name="k:342" class="">k</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#X:339">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.kernel.html#Y:340">Y</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.kernel.html#R:341">R}</a></span>) <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.kernel.html#isKernel">isKernel</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#X:339">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Y:340">Y</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#R:341">R</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#k:342">k</a></span> <span class="id">:=</span> <span class="id">{</span><br/>
&nbsp;&nbsp;<span id="prob_kernel:344" class="id"><a name="prob_kernel:344" class="">prob_kernel</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="x:343" class="id"><a name="x:343" class="">x,</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#k:342">k</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:343">x</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#36b9f1631384d2c3b944cb9d5855cd98">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Y:340">Y]</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">1</span> <span class="id">}</span>.<br/>
<br/>
<span id="Builders_46.Builders_46.fresh_name_47" class="id"><span id="Builders_46.Builders_46_k__canonical__kernel_Kernel" class="id"><span id="Builders_46.Builders_46.local_mixin_kernel_isKernel" class="id"><span id="Builders_46.Builders_46.k" class="id"><span id="Builders_46.Builders_46.R" class="id"><span id="Builders_46.Builders_46.Y" class="id"><span id="Builders_46.Builders_46.X" class="id"><span id="Builders_46.Builders_46.d'" class="id"><span id="Builders_46.Builders_46.d" class="id"><span id="Builders_46.Builders_46" class="id"><span id="Builders_46" class="id"><a name="Builders_46.Builders_46.fresh_name_47" class="hierarchy-builder">HB.builders</a></span></span></span></span></span></span></span></span></span></span></span> <span class="vernacular">Context</span> <span id="d:351" class="id"><a name="d:351" class="">d</a></span> <span id="d':352" class="id"><a name="d':352" class="">d'</a></span> (<span id="X:353" class="id"><a name="X:353" class="">X</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:351">d</a></span>) (<span id="Y:354" class="id"><a name="Y:354" class="">Y</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':352">d'</a></span>)<br/>
&nbsp;&nbsp;(<span id="R:355" class="id"><a name="R:355" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) <span id="k:356" class="id"><a name="k:356" class="">k</a></span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.kernel.html#Kernel_isProbability">Kernel_isProbability</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:351">d</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':352">d'</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#X:353">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Y:354">Y</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#R:355">R</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#k:356">k</a></span>.<br/>
<br/>
<span class="vernacular">Let</span> <span id="Builders_46.Builders_46.sprob_kernel" class="id"><a name="Builders_46.Builders_46.sprob_kernel" class="">sprob_kernel</a></span> <span class="id">:</span> <span class="id">@Kernel_isSubProbability</span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_46.Builders_46.d">d</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_46.Builders_46.d'">d'</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_46.Builders_46.X">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_46.Builders_46.Y">Y</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_46.Builders_46.R">R</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_46.Builders_46.k">k</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof19')">Proof.</span></div>
<div class="proofscript" id="proof19">
<span class="gallina-kwd">by</span> <span class="id">split;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ub_ereal_sup">ub_ereal_sup</a></span> <span class="id">=&gt;</span> <span class="id">x</span> <span class="id">[y</span> <span class="id">_</span> <span class="id">&lt;-{x}];</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_46.prob_kernel">prob_kernel</a></span>.<br/>
Qed.</div>
<br/>
<span id="Builders_46.Builders_46_k__canonical__kernel_SubProbabilityKernel" class="id"><span id="Builders_46.Builders_46_k__canonical__kernel_FiniteKernel" class="id"><span id="Builders_46.Builders_46_k__canonical__kernel_SFiniteKernel" class="id"><span id="Builders_46.kernel_Kernel_isProbability__to__kernel_SFiniteKernel_isFinite" class="id"><span id="Builders_46.kernel_Kernel_isProbability__to__kernel_Kernel_isSFinite_subdef" class="id"><span id="Builders_46.kernel_Kernel_isProbability__to__kernel_FiniteKernel_isSubProbability" class="id"><span id="Builders_46.HB_unnamed_factory_48" class="id"><a name="Builders_46.Builders_46_k__canonical__kernel_SubProbabilityKernel" class="hierarchy-builder">HB.instance</a></span></span></span></span></span></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_46.Builders_46.sprob_kernel">sprob_kernel</a></span>.<br/>
<br/>
<span id="Builders_46.Builders_46_k__canonical__kernel_ProbabilityKernel" class="id"><span id="Builders_46.HB_unnamed_factory_52" class="id"><a name="Builders_46.Builders_46_k__canonical__kernel_ProbabilityKernel" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id">@SubProbability_isProbability</span>.<span class="id">Build</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_46.Builders_46.k">k</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_46.prob_kernel">prob_kernel</a></span>.<br/>
<br/>
<span id="Builders_46.Kernel_isProbability_Exports" class="id"><a name="Builders_46.Kernel_isProbability_Exports" class="hierarchy-builder">HB.end</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="finite_kernel_measure" class="id"><a name="finite_kernel_measure" class="">finite_kernel_measure</a></span> <span id="d:363" class="id"><a name="d:363" class="">d</a></span> <span id="d':364" class="id"><a name="d':364" class="">d'</a></span> (<span id="X:365" class="id"><a name="X:365" class="">X</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:363">d</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="Y:366" class="id"><a name="Y:366" class="">Y</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':364">d'</a></span>) (<span id="R:367" class="id"><a name="R:367" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) (<span id="k:368" class="id"><a name="k:368" class="">k</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#R:367">R</a></span>.<span class="id">-fker</span> <span class="id"><a href="mathcomp.analysis.kernel.html#X:365">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#a630ad86ffa8dd82d98f88052283a61f">~&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Y:366">Y</a></span>) (<span id="x:369" class="id"><a name="x:369" class="">x</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#X:365">X</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#fin_num_fun">fin_num_fun</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#k:368">k</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:369">x</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof20')">Proof.</span></div>
<div class="proofscript" id="proof20">
<span class="id">have</span> <span class="id">[r</span> <span class="id">k_r]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measure_uub">measure_uub</a></span> <span class="id">k</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#lty_fin_num_fun">lty_fin_num_fun;</a></span> <span class="id">rewrite</span> (<span class="id">@lt_trans</span> <span class="id">_</span> <span class="id">_</span> <span class="id">r%:E</span>) <span class="id">?ltey</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Section</span> <span id="measurable_prod_subset_kernel" class="id"><a name="measurable_prod_subset_kernel" class="">measurable_prod_subset_kernel</a></span>.<br/>
<span class="vernacular">Context</span> <span id="d:370" class="id"><a name="d:370" class="">d</a></span> <span id="d':371" class="id"><a name="d':371" class="">d'</a></span> (<span id="X:372" class="id"><a name="X:372" class="">X</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:370">d</a></span>) (<span id="Y:373" class="id"><a name="Y:373" class="">Y</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':371">d'</a></span>) (<span id="R:374" class="id"><a name="R:374" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="vernacular">Implicit</span> <span class="id">Types</span> <span class="id">A</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#measurable_prod_subset_kernel.X">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_prod_subset_kernel.Y">Y</a></span>).<br/>
<br/>
<span class="vernacular">Section</span> <span id="measurable_prod_subset_kernel.xsection_kernel" class="id"><a name="measurable_prod_subset_kernel.xsection_kernel" class="">xsection_kernel</a></span>.<br/>
<span class="vernacular">Variable</span> (<span id="measurable_prod_subset_kernel.xsection_kernel.k" class="id"><a name="measurable_prod_subset_kernel.xsection_kernel.k" class="">k</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_prod_subset_kernel.R">R</a></span>.<span class="id">-ker</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_prod_subset_kernel.X">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#c4a502042c2f67c701729be5ec5cf362">~&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_prod_subset_kernel.Y">Y</a></span>) (<span id="measurable_prod_subset_kernel.xsection_kernel.D" class="id"><a name="measurable_prod_subset_kernel.xsection_kernel.D" class="">D</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_prod_subset_kernel.Y">Y</a></span>) (<span id="measurable_prod_subset_kernel.xsection_kernel.mD" class="id"><a name="measurable_prod_subset_kernel.xsection_kernel.mD" class="">mD</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#D:376">D</a></span>).<br/>
<span class="vernacular">Let</span> <span id="measurable_prod_subset_kernel.xsection_kernel.kD" class="id"><a name="measurable_prod_subset_kernel.xsection_kernel.kD" class="">kD</a></span> <span id="x:378" class="id"><a name="x:378" class="">x</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.measure.html#mrestr">mrestr</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#measurable_prod_subset_kernel.xsection_kernel.k">k</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:378">x</a></span>) <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_prod_subset_kernel.xsection_kernel.mD">mD</a></span>.<br/>
<span id="kernel_kD__canonical__measure_Measure" class="id"><span id="HB_unnamed_mixin_59" class="id"><span id="kernel_kD__canonical__measure_Content" class="id"><span id="HB_unnamed_mixin_58" class="id"><span id="measure_Measure__to__measure_Content_isMeasure" class="id"><span id="measure_Measure__to__measure_isContent" class="id"><span id="HB_unnamed_factory_55" class="id"><span id="measurable_prod_subset_kernel.xsection_kernel.hb_instance_54.x" class="id"><span id="measurable_prod_subset_kernel.xsection_kernel.hb_instance_54" class="id"><a name="kernel_kD__canonical__measure_Measure" class="hierarchy-builder">HB.instance</a></span></span></span></span></span></span></span></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span id="x:379" class="id"><a name="x:379" class="">x</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measure.on">Measure.on</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#measurable_prod_subset_kernel.xsection_kernel.kD">kD</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:379">x</a></span>).<br/>
<span class="vernacular">Let</span> <span id="measurable_prod_subset_kernel.xsection_kernel.phi" class="id"><a name="measurable_prod_subset_kernel.xsection_kernel.phi" class="">phi</a></span> <span id="A:380" class="id"><a name="A:380" class="">A</a></span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="x:381" class="id"><a name="x:381" class="">x</a></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_prod_subset_kernel.xsection_kernel.kD">kD</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:381">x</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#xsection">xsection</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#A:380">A</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:381">x</a></span>).<br/>
<span class="vernacular">Let</span> <span id="measurable_prod_subset_kernel.xsection_kernel.XY" class="id"><a name="measurable_prod_subset_kernel.xsection_kernel.XY" class="">XY</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">[set</a></span> <span id="A:382" class="id"><a name="A:382" class="">A</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">|</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#A:382">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#36b9f1631384d2c3b944cb9d5855cd98">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_prod_subset_kernel.X">X]</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#measurable_prod_subset_kernel.xsection_kernel.phi">phi</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#A:382">A</a></span>)<span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">]</a></span>.<br/>
<br/>
<span class="vernacular">Let</span> <span id="measurable_prod_subset_kernel.xsection_kernel.phiM" class="id"><a name="measurable_prod_subset_kernel.xsection_kernel.phiM" class="">phiM</a></span> (<span id="A:383" class="id"><a name="A:383" class="">A</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_prod_subset_kernel.X">X</a></span>) <span id="B:384" class="id"><a name="B:384" class="">B</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_prod_subset_kernel.xsection_kernel.phi">phi</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#A:383">A</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#3bd2d3ba5f22ac825c14018530a2318c">`*`</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#B:384">B</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> (<span class="gallina-kwd">fun</span> <span id="x:385" class="id"><a name="x:385" class="">x</a></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_prod_subset_kernel.xsection_kernel.kD">kD</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:385">x</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#B:384">B</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#f1c2ddfea282f8f8d7539f61e14c08e4">*</a></span> (<span class="id"><a href="mathcomp.analysis.numfun.html#e353122e03268a6eab33cb5af81dd3c6">\1_A</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:385">x</a></span>)<span class="id">%:E</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof21')">Proof.</span></div>
<div class="proofscript" id="proof21">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE</a></span> <span class="id">=&gt;</span> <span class="id">x;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.numfun.html#indicE">indicE</a></span> <span class="id">/phi/=</span>.<br/>
<span class="id">have</span> <span class="id">[xA|xA]</span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#boolP">boolP</a></span> (<span class="id">x</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7">\in</a></span> <span class="id">A</span>)<span class="id">;</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule1">mule1</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#in_xsectionM">in_xsectionM</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule0">mule0</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#notin_xsectionM">notin_xsectionM//</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set0I">set0I</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measure0">measure0</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="measurable_prod_subset_xsection_kernel" class="id"><a name="measurable_prod_subset_xsection_kernel" class="">measurable_prod_subset_xsection_kernel</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="x:386" class="id"><a name="x:386" class="">x,</a></span> <span class="gallina-kwd">exists</span> <span id="M:387" class="id"><a name="M:387" class="">M,</a></span> <span class="gallina-kwd">forall</span> <span id="X:388" class="id"><a name="X:388" class="">X,</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#X:388">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_prod_subset_kernel.xsection_kernel.kD">kD</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:386">x</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#X:388">X</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#M:387">M%:E</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#e19db46c1d4073266228fb7781521a56">`&lt;=`</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_prod_subset_kernel.xsection_kernel.XY">XY</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof22')">Proof.</span></div>
<div class="proofscript" id="proof22">
<span class="id">move=&gt;</span> <span class="id">kD_ub;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_prod_measurableType">measurable_prod_measurableType</a></span>.<br/>
<span class="id">set</span> <span class="id">C</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#6163cf1e40717c42afb9c2a42ba754ab">[set</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#A:389">A</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#3bd2d3ba5f22ac825c14018530a2318c">`*`</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#B:390">B</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#6163cf1e40717c42afb9c2a42ba754ab">|</a></span> <span id="A:393" class="id"><span id="A:391" class="id"><span id="A:389" class="id"><a name="A:393" class="">A</a></span></span></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#6163cf1e40717c42afb9c2a42ba754ab">&amp;</a></span> <span id="B:394" class="id"><span id="B:392" class="id"><span id="B:390" class="id"><a name="B:394" class="">B</a></span></span></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable]</a></span>.<br/>
<span class="id">have</span> <span class="id">CI</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#setI_closed">setI_closed</a></span> <span class="id">C</span>.<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">_</span> <span class="id">_</span> <span class="id">[X1</span> <span class="id">mX1</span> <span class="id">[X2</span> <span class="id">mX2</span> <span class="id">&lt;-]]</span> <span class="id">[Y1</span> <span class="id">mY1</span> <span class="id">[Y2</span> <span class="id">mY2</span> <span class="id">&lt;-]]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> (<span class="id">X1</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#c7636f45aa1745dbf533da3d408cece1">`&amp;`</a></span> <span class="id">Y1</span>)<span class="id">;</span> <span class="id">first</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableI">measurableI</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> (<span class="id">X2</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#c7636f45aa1745dbf533da3d408cece1">`&amp;`</a></span> <span class="id">Y2</span>)<span class="id">;</span> <span class="id">[exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableI">measurableI|rewrite</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setMI">setMI]</a></span>.<br/>
<span class="id">have</span> <span class="id">CT</span> <span class="id">:</span> <span class="id">C</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="gallina-kwd">exists</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setMTT">setMTT</a></span>.<br/>
<span class="id">have</span> <span class="id">CXY</span> <span class="id">:</span> <span class="id">C</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#e19db46c1d4073266228fb7781521a56">`&lt;=`</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_prod_subset_kernel.xsection_kernel.XY">XY</a></span>.<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">_</span> <span class="id">[A</span> <span class="id">mA</span> <span class="id">[B</span> <span class="id">mB</span> <span class="id">&lt;-]];</span> <span class="id">split;</span> <span class="id">first</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableM">measurableM</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_prod_subset_kernel.xsection_kernel.phiM">phiM</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_funM">emeasurable_funM</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">first</span> <span class="id">exact/measurable_kernel/measurableI</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply/EFin_measurable_fun;</span> <span class="id">rewrite</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#e353122e03268a6eab33cb5af81dd3c6">\1_</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mindic">mindic</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_prod_subset_kernel.R">R</a></span> <span class="id">mA</span>).<br/>
<span class="id">suff</span> <span class="id">monoB</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#monotone_class">monotone_class</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_prod_subset_kernel.xsection_kernel.XY">XY</a></span> <span class="gallina-kwd">by</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#monotone_class_subset">monotone_class_subset</a></span>.<br/>
<span class="id">split</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">[exact:</span> <span class="id">CXY|</span> <span class="id">|exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#xsection_ndseq_closed">xsection_ndseq_closed]</a></span>.<br/>
<span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">B</span> <span class="id">BA</span> <span class="id">[mA</span> <span class="id">mphiA]</span> <span class="id">[mB</span> <span class="id">mphiB];</span> <span class="id">split;</span> <span class="id">first</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableD">measurableD</a></span>.<br/>
<span class="id">suff</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_prod_subset_kernel.xsection_kernel.phi">phi</a></span> (<span class="id">A</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#cf50465a73dc8072abef3845b643e512">`\`</a></span> <span class="id">B</span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> (<span class="gallina-kwd">fun</span> <span id="x:395" class="id"><a name="x:395" class="">x</a></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_prod_subset_kernel.xsection_kernel.phi">phi</a></span> <span class="id">A</span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:395">x</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'-'_x">-</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_prod_subset_kernel.xsection_kernel.phi">phi</a></span> <span class="id">B</span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:395">x</a></span>).<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">-&gt;;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_funB">emeasurable_funB</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE</a></span> <span class="id">=&gt;</span> <span class="id">x;</span> <span class="id">rewrite</span> <span class="id">/phi/=</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#xsectionD">xsectionD//</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measureD">measureD</a></span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setIidr">setIidr//;</a></span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#le_xsection">le_xsection</a></span>.<br/>
<span class="id">-</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_xsection">measurable_xsection</a></span>.<br/>
<span class="id">-</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_xsection">measurable_xsection</a></span>.<br/>
<span class="id">-</span> <span class="id">have</span> <span class="id">[M</span> <span class="id">kM]</span> <span class="id">:=</span> <span class="id">kD_ub</span> <span class="id">x</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.lt_le_trans">lt_le_trans</a></span> (<span class="id">kM</span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#xsection">xsection</a></span> <span class="id">A</span> <span class="id">x</span>) <span class="id">_</span>)) <span class="id">?leey//</span>.<br/>
&nbsp;&nbsp;<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_xsection">measurable_xsection</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_prod_subset_kernel.xsection_kernel">xsection_kernel</a></span>.<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_prod_subset_kernel">measurable_prod_subset_kernel</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="measurable_fun_xsection_finite_kernel" class="id"><a name="measurable_fun_xsection_finite_kernel" class="">measurable_fun_xsection_finite_kernel</a></span>.<br/>
<span class="vernacular">Context</span> <span id="d:396" class="id"><a name="d:396" class="">d</a></span> <span id="d':397" class="id"><a name="d':397" class="">d'</a></span> (<span id="X:398" class="id"><a name="X:398" class="">X</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:396">d</a></span>) (<span id="Y:399" class="id"><a name="Y:399" class="">Y</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':397">d'</a></span>) (<span id="R:400" class="id"><a name="R:400" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="vernacular">Variable</span> <span id="measurable_fun_xsection_finite_kernel.k" class="id"><a name="measurable_fun_xsection_finite_kernel.k" class="">k</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_xsection_finite_kernel.R">R</a></span>.<span class="id">-fker</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_xsection_finite_kernel.X">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#a630ad86ffa8dd82d98f88052283a61f">~&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_xsection_finite_kernel.Y">Y</a></span>.<br/>
<span class="vernacular">Implicit</span> <span class="id">Types</span> <span class="id">A</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_xsection_finite_kernel.X">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_xsection_finite_kernel.Y">Y</a></span>).<br/>
<br/>
<span class="vernacular">Let</span> <span id="measurable_fun_xsection_finite_kernel.phi" class="id"><a name="measurable_fun_xsection_finite_kernel.phi" class="">phi</a></span> <span id="A:402" class="id"><a name="A:402" class="">A</a></span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="x:403" class="id"><a name="x:403" class="">x</a></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_xsection_finite_kernel.k">k</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:403">x</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#xsection">xsection</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#A:402">A</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:403">x</a></span>).<br/>
<span class="vernacular">Let</span> <span id="measurable_fun_xsection_finite_kernel.XY" class="id"><a name="measurable_fun_xsection_finite_kernel.XY" class="">XY</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">[set</a></span> <span id="A:404" class="id"><a name="A:404" class="">A</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">|</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#A:404">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#36b9f1631384d2c3b944cb9d5855cd98">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_xsection_finite_kernel.X">X]</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_xsection_finite_kernel.phi">phi</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#A:404">A</a></span>)<span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">]</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="measurable_fun_xsection_finite_kernel" class="id"><a name="measurable_fun_xsection_finite_kernel" class="">measurable_fun_xsection_finite_kernel</a></span> <span id="A:405" class="id"><a name="A:405" class="">A</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.kernel.html#A:405">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7">\in</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#36b9f1631384d2c3b944cb9d5855cd98">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_xsection_finite_kernel.X">X]</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_xsection_finite_kernel.phi">phi</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#A:405">A</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof23')">Proof.</span></div>
<div class="proofscript" id="proof23">
<span class="id">move:</span> <span class="id">A;</span> <span class="id">suff</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#e19db46c1d4073266228fb7781521a56">`&lt;=`</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_xsection_finite_kernel.XY">XY</a></span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">+</span> <span class="id">A;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> <span class="id">=&gt;</span> <span class="id">/[apply]</span> <span class="id">-[]</span>.<br/>
<span class="id">move=&gt;</span> <span class="id">/=</span> <span class="id">A</span> <span class="id">mA;</span> <span class="id">rewrite</span> <span class="id">/XY/=;</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">rewrite</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_xsection_finite_kernel.phi">phi</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="gallina-kwd">fun</span> <span id="x:408" class="id"><span id="x:407" class="id"><span id="x:406" class="id"><a name="x:408" class="">x</a></span></span></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.measure.html#mrestr">mrestr</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_xsection_finite_kernel.k">k</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:406">x</a></span>) <span class="id"><a href="mathcomp.analysis.measure.html#measurableT">measurableT</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#xsection">xsection</a></span> <span class="id">A</span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:406">x</a></span>)))<span class="id">;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply/funext</span> <span class="id">=&gt;</span> <span class="id">x//=;</span> <span class="id">rewrite</span> <span class="id">/mrestr</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setIT">setIT</a></span>.<br/>
<span class="id">apply</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_prod_subset_xsection_kernel">measurable_prod_subset_xsection_kernel</a></span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">x</span>.<br/>
<span class="id">have</span> <span class="id">[r</span> <span class="id">hr]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measure_uub">measure_uub</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_xsection_finite_kernel.k">k;</a></span> <span class="gallina-kwd">exists</span> <span class="id">r</span> <span class="id">=&gt;</span> <span class="id">B</span> <span class="id">mB</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_lt_trans">le_lt_trans</a></span> <span class="id">_</span> (<span class="id">hr</span> <span class="id">x</span>)) <span class="id">//</span> <span class="id">/mrestr</span> <span class="id">/=</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setIT">setIT</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#le_measure">le_measure//</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_xsection_finite_kernel">measurable_fun_xsection_finite_kernel</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="measurable_fun_integral_finite_sfinite" class="id"><a name="measurable_fun_integral_finite_sfinite" class="">measurable_fun_integral_finite_sfinite</a></span>.<br/>
<span class="vernacular">Context</span> <span id="d:409" class="id"><a name="d:409" class="">d</a></span> <span id="d':410" class="id"><a name="d':410" class="">d'</a></span> (<span id="X:411" class="id"><a name="X:411" class="">X</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:409">d</a></span>) (<span id="Y:412" class="id"><a name="Y:412" class="">Y</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':410">d'</a></span>) (<span id="R:413" class="id"><a name="R:413" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="vernacular">Variable</span> <span id="measurable_fun_integral_finite_sfinite.k" class="id"><a name="measurable_fun_integral_finite_sfinite.k" class="">k</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_integral_finite_sfinite.X">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_integral_finite_sfinite.Y">Y</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_integral_finite_sfinite.R">R</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="measurable_fun_xsection_integral" class="id"><a name="measurable_fun_xsection_integral" class="">measurable_fun_xsection_integral</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="l:415" class="id"><a name="l:415" class="">l</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_integral_finite_sfinite.X">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_integral_finite_sfinite.Y">Y</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_integral_finite_sfinite.R">R}</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="k_:416" class="id"><a name="k_:416" class="">k_</a></span> <span class="id">:</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#62b1f9be67dbf6239bec964ff9de3502">{nnsfun</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_integral_finite_sfinite.X">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_integral_finite_sfinite.Y">Y]</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#62b1f9be67dbf6239bec964ff9de3502">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_integral_finite_sfinite.R">R}</a></span>)<span class="id">^nat</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="ndk_:417" class="id"><a name="ndk_:417" class="">ndk_</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.sequences.html#:::'nondecreasing_seq'_x">nondecreasing_seq</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#k_:416">k_</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_integral_finite_sfinite.X">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_integral_finite_sfinite.Y">Y</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_integral_finite_sfinite.R">R</a></span>)<span class="id">^nat</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="k_k:420" class="id"><a name="k_k:420" class="">k_k</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="z:418" class="id"><a name="z:418" class="">z,</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#k_:416">k_</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#n:419">n</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#z:418">z</a></span>)<span class="id">%:E</span> <span class="id">@[n</span> <span class="id"><a href="mathcomp.analysis.topology.html#9ae20bc67dba0e37ea0806b2f353bb2f">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#228a5fbd8d7ef28f21231bccff88d0b0">\oo]</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'--&gt;'_x">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_integral_finite_sfinite.k">k</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#z:418">z</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="n:421" class="id"><a name="n:421" class="">n</a></span> <span id="r:422" class="id"><a name="r:422" class="">r,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#36b9f1631384d2c3b944cb9d5855cd98">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_integral_finite_sfinite.X">X]</a></span> (<span class="gallina-kwd">fun</span> <span id="x:423" class="id"><a name="x:423" class="">x</a></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.kernel.html#l:415">l</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:423">x</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#xsection">xsection</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#k_:416">k_</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#n:421">n</a></span> <span class="id">@^-1`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#29c78c22490f2dae838b1b504eb858a2">[set</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#r:422">r]</a></span>) <span class="id"><a href="mathcomp.analysis.kernel.html#x:423">x</a></span>))) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#36b9f1631384d2c3b944cb9d5855cd98">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_integral_finite_sfinite.X">X]</a></span> (<span class="gallina-kwd">fun</span> <span id="x:424" class="id"><a name="x:424" class="">x</a></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[l</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:424">x]_y</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_integral_finite_sfinite.k">k</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#x:424">x,</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#y:425">y</a></span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof24')">Proof.</span></div>
<div class="proofscript" id="proof24">
<span class="id">move=&gt;</span> <span class="id">h</span>.<br/>
<span class="id">rewrite</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> (<span class="gallina-kwd">fun</span> <span id="x:434" class="id"><span id="x:430" class="id"><span id="x:426" class="id"><a name="x:434" class="">x</a></span></span></span> <span class="id">=&gt;</span> <span class="id">_</span>) <span class="id">=</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="gallina-kwd">fun</span> <span id="x:435" class="id"><span id="x:431" class="id"><span id="x:427" class="id"><a name="x:435" class="">x</a></span></span></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.sequences.html#limn_esup">limn_esup</a></span> (<span class="gallina-kwd">fun</span> <span id="n:436" class="id"><span id="n:432" class="id"><span id="n:428" class="id"><a name="n:436" class="">n</a></span></span></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[l</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:427">x]_y</a></span> (<span class="id">k_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#n:428">n</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#x:427">x,</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#y:429">y</a></span>))<span class="id">%:E</span>)))<span class="id">;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">apply/funext</span> <span class="id">=&gt;</span> <span class="id">x</span>.<br/>
&nbsp;&nbsp;<span class="id">transitivity</span> (<span class="id"><a href="mathcomp.analysis.topology.html#lim">lim</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[l</a></span> <span class="id">x]_y</span> (<span class="id">k_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#n:438">n</a></span> (<span class="id">x,</span> <span class="id"><a href="mathcomp.analysis.kernel.html#y:439">y</a></span>))<span class="id">%:E</span> <span class="id">@[n</span> <span class="id"><a href="mathcomp.analysis.topology.html#9ae20bc67dba0e37ea0806b2f353bb2f">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#228a5fbd8d7ef28f21231bccff88d0b0">\oo]</a></span>))<span class="id">;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.sequences.html#is_cvg_limn_esupE">is_cvg_limn_esupE//</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.sequences.html#ereal_nondecreasing_is_cvgn">ereal_nondecreasing_is_cvgn</a></span> <span class="id">=&gt;</span> <span class="id">m</span> <span class="id">n</span> <span class="id">mn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_le_integral">ge0_le_integral</a></span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">y</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">-</span> <span class="id">exact/EFin_measurable_fun/measurableT_comp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">y</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">-</span> <span class="id">exact/EFin_measurable_fun/measurableT_comp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">y</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin;</a></span> <span class="id">exact/lefP/ndk_</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-monotone_convergence//</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> <span class="id">=&gt;</span> <span class="id">y</span> <span class="id">_;</span> <span class="id">apply/esym/cvg_lim</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> <span class="id">k_k</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">n;</span> <span class="id">exact/EFin_measurable_fun/measurableT_comp</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">n</span> <span class="id">y</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">y</span> <span class="id">_</span> <span class="id">m</span> <span class="id">n</span> <span class="id">mn;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin;</a></span> <span class="id">exact/lefP/ndk_</span>.<br/>
<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_fun_limn_esup">measurable_fun_limn_esup</a></span> <span class="id">=&gt;</span> <span class="id">n</span>.<br/>
<span class="id">rewrite</span> <span class="id">[X</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_integral_finite_sfinite.X">X]</a></span>(<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> (<span class="gallina-kwd">fun</span> <span id="x:455" class="id"><span id="x:448" class="id"><span id="x:442" class="id"><a name="x:455" class="">x</a></span></span></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[l</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:442">x]_y</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="mathcomp.classical.fsbigop.html#66bb639f4673920039e1c5f4f74ee386">\sum_</a></span>(<span id="r:460" class="id"><span id="r:459" class="id"><span id="r:458" class="id"><span id="r:457" class="id"><span id="r:453" class="id"><span id="r:452" class="id"><span id="r:451" class="id"><span id="r:450" class="id"><span id="r:447" class="id"><span id="r:446" class="id"><span id="r:445" class="id"><span id="r:444" class="id"><a name="r:460" class="">r</a></span></span></span></span></span></span></span></span></span></span></span></span> <span class="id"><a href="mathcomp.classical.fsbigop.html#66bb639f4673920039e1c5f4f74ee386">\in</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#range">range</a></span> (<span class="id">k_</span> <span class="id">n</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.kernel.html#r:444">r</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#2d0cfb150261028f4ebd2ba355623dcc">*</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#e353122e03268a6eab33cb5af81dd3c6">\1_</a></span>(<span class="id">k_</span> <span class="id">n</span> <span class="id">@^-1`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#29c78c22490f2dae838b1b504eb858a2">[set</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#r:444">r]</a></span>) (<span class="id"><a href="mathcomp.analysis.kernel.html#x:442">x,</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#y:443">y</a></span>))<span class="id">%:E</span>))<span class="id">;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply/funext</span> <span class="id">=&gt;</span> <span class="id">x;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> <span class="id">=&gt;</span> <span class="id">y</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fimfunE">fimfunE</a></span>.<br/>
<span class="id">rewrite</span> <span class="id">[X</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_integral_finite_sfinite.X">X]</a></span>(<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> (<span class="gallina-kwd">fun</span> <span id="x:476" class="id"><span id="x:468" class="id"><span id="x:461" class="id"><a name="x:476" class="">x</a></span></span></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.ereal.html#6d081607cbe896cec5e830da47315b77">\sum_</a></span>(<span id="r:481" class="id"><span id="r:480" class="id"><span id="r:479" class="id"><span id="r:477" class="id"><span id="r:473" class="id"><span id="r:472" class="id"><span id="r:471" class="id"><span id="r:469" class="id"><span id="r:466" class="id"><span id="r:465" class="id"><span id="r:464" class="id"><span id="r:462" class="id"><a name="r:481" class="">r</a></span></span></span></span></span></span></span></span></span></span></span></span> <span class="id"><a href="mathcomp.analysis.ereal.html#6d081607cbe896cec5e830da47315b77">\in</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#range">range</a></span> (<span class="id">k_</span> <span class="id">n</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[l</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:461">x]_y</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#r:462">r</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#2d0cfb150261028f4ebd2ba355623dcc">*</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#e353122e03268a6eab33cb5af81dd3c6">\1_</a></span>(<span class="id">k_</span> <span class="id">n</span> <span class="id">@^-1`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#29c78c22490f2dae838b1b504eb858a2">[set</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#r:462">r]</a></span>) (<span class="id"><a href="mathcomp.analysis.kernel.html#x:461">x,</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#y:463">y</a></span>))<span class="id">%:E</span>)))<span class="id">;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">apply/funext</span> <span class="id">=&gt;</span> <span class="id">x;</span> <span class="id">rewrite</span> <span class="id">-ge0_integral_fsum//</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> <span class="id">=&gt;</span> <span class="id">y</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id">-fsumEFin</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">move=&gt;</span> <span class="id">r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply/EFin_measurable_fun/measurableT_comp</span> <span class="id">=&gt;</span> <span class="id">[//|]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact/measurableT_comp</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">m</span> <span class="id">y</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnfun_muleindic_ge0">nnfun_muleindic_ge0</a></span>.<br/>
<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_fun_fsum">emeasurable_fun_fsum</a></span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">r</span>.<br/>
<span class="id">rewrite</span> <span class="id">[X</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_integral_finite_sfinite.X">X]</a></span>(<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> (<span class="gallina-kwd">fun</span> <span id="x:488" class="id"><span id="x:485" class="id"><span id="x:483" class="id"><a name="x:488" class="">x</a></span></span></span> <span class="id">=&gt;</span> <span class="id">r%:E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#f1c2ddfea282f8f8d7539f61e14c08e4">*</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[l</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:483">x]_y</a></span> (<span class="id"><a href="mathcomp.analysis.numfun.html#e353122e03268a6eab33cb5af81dd3c6">\1_</a></span>(<span class="id">k_</span> <span class="id">n</span> <span class="id">@^-1`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#29c78c22490f2dae838b1b504eb858a2">[set</a></span> <span class="id">r]</span>) (<span class="id"><a href="mathcomp.analysis.kernel.html#x:483">x,</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#y:484">y</a></span>))<span class="id">%:E</span>))<span class="id">;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">apply/funext</span> <span class="id">=&gt;</span> <span class="id">x;</span> <span class="id">under</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinM">EFinM</a></span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">[r0|r0]</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.TotalTheory.leP">leP</a></span> <span class="id">0%R</span> <span class="id">r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralZl">ge0_integralZl//;</a></span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">y</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact/EFin_measurable_fun/measurableT_comp</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral0_eq">integral0_eq;</a></span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">y</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#preimage_nnfun0">preimage_nnfun0//</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#indic0">indic0</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule0">mule0</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral0_eq">integral0_eq</a></span> <span class="id">?mule0//</span> <span class="id">=&gt;</span> <span class="id">y</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#preimage_nnfun0">preimage_nnfun0//</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#indic0">indic0</a></span>.<br/>
<span class="id">apply/measurable_funeM</span>.<br/>
<span class="id">rewrite</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> (<span class="gallina-kwd">fun</span> <span id="x:494" class="id"><span id="x:492" class="id"><span id="x:490" class="id"><a name="x:494" class="">x</a></span></span></span> <span class="id">=&gt;</span> <span class="id">_</span>) <span class="id">=</span> (<span class="gallina-kwd">fun</span> <span id="x:495" class="id"><span id="x:493" class="id"><span id="x:491" class="id"><a name="x:495" class="">x</a></span></span></span> <span class="id">=&gt;</span> <span class="id">l</span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:491">x</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#xsection">xsection</a></span> (<span class="id">k_</span> <span class="id">n</span> <span class="id">@^-1`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#29c78c22490f2dae838b1b504eb858a2">[set</a></span> <span class="id">r]</span>) <span class="id"><a href="mathcomp.analysis.kernel.html#x:491">x</a></span>))).<br/>
&nbsp;&nbsp;<span class="id">exact/h</span>.<br/>
<span class="id">apply/funext</span> <span class="id">=&gt;</span> <span class="id">x;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_indic">integral_indic//;</a></span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> (<span class="gallina-kwd">fun</span> <span id="x:498" class="id"><span id="x:497" class="id"><span id="x:496" class="id"><a name="x:498" class="">x</a></span></span></span> <span class="id">=&gt;</span> <span class="id">_</span>) <span class="id">=</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#xsection">xsection</a></span> (<span class="id">k_</span> <span class="id">n</span> <span class="id">@^-1`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#29c78c22490f2dae838b1b504eb858a2">[set</a></span> <span class="id">r]</span>) <span class="id">x</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_xsection">measurable_xsection</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/xsection;</span> <span class="id">apply/seteqP;</span> <span class="id">split=&gt;</span> <span class="id">y/=</span> <span class="id">/[!inE]</span>.<br/>
<span class="id">congr</span> (<span class="id">l</span> <span class="id">x</span> <span class="id">_</span>)<span class="id">;</span> <span class="id">apply/funext</span> <span class="id">=&gt;</span> <span class="id">y1/=;</span> <span class="id">rewrite</span> <span class="id">/xsection/=</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">apply/propext;</span> <span class="id">tauto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="measurable_fun_integral_finite_kernel" class="id"><a name="measurable_fun_integral_finite_kernel" class="">measurable_fun_integral_finite_kernel</a></span> (<span id="l:499" class="id"><a name="l:499" class="">l</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_integral_finite_sfinite.R">R</a></span>.<span class="id">-fker</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_integral_finite_sfinite.X">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#a630ad86ffa8dd82d98f88052283a61f">~&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_integral_finite_sfinite.Y">Y</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="k0:501" class="id"><a name="k0:501" class="">k0</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="z:500" class="id"><a name="z:500" class="">z,</a></span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_integral_finite_sfinite.k">k</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#z:500">z</a></span>) (<span id="mk:502" class="id"><a name="mk:502" class="">mk</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#36b9f1631384d2c3b944cb9d5855cd98">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_integral_finite_sfinite.X">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_integral_finite_sfinite.Y">Y]</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_integral_finite_sfinite.k">k</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#36b9f1631384d2c3b944cb9d5855cd98">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_integral_finite_sfinite.X">X]</a></span> (<span class="gallina-kwd">fun</span> <span id="x:503" class="id"><a name="x:503" class="">x</a></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[l</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:503">x]_y</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_integral_finite_sfinite.k">k</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#x:503">x,</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#y:504">y</a></span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof25')">Proof.</span></div>
<div class="proofscript" id="proof25">
<span class="id">have</span> <span class="id">[k_</span> <span class="id">[ndk_</span> <span class="id">k_k]]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation">approximation</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT">measurableT</a></span> <span class="id">mk</span> (<span class="gallina-kwd">fun</span> <span id="x:505" class="id"><a name="x:505" class="">x</a></span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id">k0</span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:505">x</a></span>).<br/>
<span class="id">apply:</span> (<span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_xsection_integral">measurable_fun_xsection_integral</a></span> <span class="id">ndk_</span> (<span class="id">k_k</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#d89396f990d6b54d736cfe259e498cf4">^~</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#I">Logic.I</a></span>)) <span class="id">=&gt;</span> <span class="id">n</span> <span class="id">r</span>.<br/>
<span class="id">have</span> <span class="id">[l_</span> <span class="id">hl_]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measure_uub">measure_uub</a></span> <span class="id">l</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_xsection_finite_kernel">measurable_fun_xsection_finite_kernel</a></span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">/[!inE]</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="measurable_fun_integral_sfinite_kernel" class="id"><a name="measurable_fun_integral_sfinite_kernel" class="">measurable_fun_integral_sfinite_kernel</a></span> (<span id="l:506" class="id"><a name="l:506" class="">l</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_integral_finite_sfinite.R">R</a></span>.<span class="id">-sfker</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_integral_finite_sfinite.X">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#2f2bb8476188c3521c5dd8e5760dc6ab">~&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_integral_finite_sfinite.Y">Y</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="k0:508" class="id"><a name="k0:508" class="">k0</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="t:507" class="id"><a name="t:507" class="">t,</a></span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_integral_finite_sfinite.k">k</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#t:507">t</a></span>) (<span id="mk:509" class="id"><a name="mk:509" class="">mk</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#36b9f1631384d2c3b944cb9d5855cd98">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_integral_finite_sfinite.X">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_integral_finite_sfinite.Y">Y]</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_integral_finite_sfinite.k">k</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#36b9f1631384d2c3b944cb9d5855cd98">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_integral_finite_sfinite.X">X]</a></span> (<span class="gallina-kwd">fun</span> <span id="x:510" class="id"><a name="x:510" class="">x</a></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[l</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:510">x]_y</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_integral_finite_sfinite.k">k</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#x:510">x,</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#y:511">y</a></span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof26')">Proof.</span></div>
<div class="proofscript" id="proof26">
<span class="id">have</span> <span class="id">[k_</span> <span class="id">[ndk_</span> <span class="id">k_k]]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation">approximation</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT">measurableT</a></span> <span class="id">mk</span> (<span class="gallina-kwd">fun</span> <span id="xy:512" class="id"><a name="xy:512" class="">xy</a></span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id">k0</span> <span class="id"><a href="mathcomp.analysis.kernel.html#xy:512">xy</a></span>).<br/>
<span class="id">apply:</span> (<span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_xsection_integral">measurable_fun_xsection_integral</a></span> <span class="id">ndk_</span> (<span class="id">k_k</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#d89396f990d6b54d736cfe259e498cf4">^~</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#I">Logic.I</a></span>)) <span class="id">=&gt;</span> <span class="id">n</span> <span class="id">r</span>.<br/>
<span class="id">have</span> <span class="id">[l_</span> <span class="id">hl_]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfinite_kernel">sfinite_kernel</a></span> <span class="id">l</span>.<br/>
<span class="id">rewrite</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> (<span class="gallina-kwd">fun</span> <span id="x:517" class="id"><span id="x:515" class="id"><span id="x:513" class="id"><a name="x:517" class="">x</a></span></span></span> <span class="id">=&gt;</span> <span class="id">_</span>) <span class="id">=</span> (<span class="gallina-kwd">fun</span> <span id="x:518" class="id"><span id="x:516" class="id"><span id="x:514" class="id"><a name="x:518" class="">x</a></span></span></span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#mseries">mseries</a></span> (<span class="id">l_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#d89396f990d6b54d736cfe259e498cf4">^~</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:514">x</a></span>) <span class="id">0</span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#xsection">xsection</a></span> (<span class="id">k_</span> <span class="id">n</span> <span class="id">@^-1`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#29c78c22490f2dae838b1b504eb858a2">[set</a></span> <span class="id">r]</span>) <span class="id"><a href="mathcomp.analysis.kernel.html#x:514">x</a></span>)))<span class="id">;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply/funext</span> <span class="id">=&gt;</span> <span class="id">x;</span> <span class="id">rewrite</span> <span class="id">hl_//;</span> <span class="id">exact/measurable_xsection</span>.<br/>
<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_emeasurable_fun_sum">ge0_emeasurable_fun_sum</a></span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">m</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_xsection_finite_kernel">measurable_fun_xsection_finite_kernel</a></span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">/[!inE]</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_integral_finite_sfinite">measurable_fun_integral_finite_sfinite</a></span>.<br/>
<span class="vernacular">Arguments</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_xsection_integral">measurable_fun_xsection_integral</a></span> <span class="id">{_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_}</span> <span class="id">k</span> <span class="id">l</span>.<br/>
<span class="vernacular">Arguments</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_integral_finite_kernel">measurable_fun_integral_finite_kernel</a></span> <span class="id">{_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_}</span> <span class="id">k</span> <span class="id">l</span>.<br/>
<span class="vernacular">Arguments</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_integral_sfinite_kernel">measurable_fun_integral_sfinite_kernel</a></span> <span class="id">{_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_}</span> <span class="id">k</span> <span class="id">l</span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="kdirac" class="id"><a name="kdirac" class="">kdirac</a></span>.<br/>
<span class="vernacular">Context</span> <span id="d:519" class="id"><a name="d:519" class="">d</a></span> <span id="d':520" class="id"><a name="d':520" class="">d'</a></span> (<span id="X:521" class="id"><a name="X:521" class="">X</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:519">d</a></span>) (<span id="Y:522" class="id"><a name="Y:522" class="">Y</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':520">d'</a></span>) (<span id="R:523" class="id"><a name="R:523" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="vernacular">Variable</span> <span id="kdirac.f" class="id"><a name="kdirac.f" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kdirac.X">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kdirac.Y">Y</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="kdirac" class="id"><a name="kdirac" class="">kdirac</a></span> (<span id="mf:525" class="id"><a name="mf:525" class="">mf</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#36b9f1631384d2c3b944cb9d5855cd98">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kdirac.X">X]</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kdirac.f">f</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kdirac.X">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kdirac.Y">Y</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kdirac.R">R}</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">fun</span> <span id="x:526" class="id"><a name="x:526" class="">x</a></span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#Measure.Exports.measure">measure</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.measure.html#dirac">dirac</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#kdirac.f">f</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:526">x</a></span>)<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">]</a></span>.<br/>
<br/>
<span class="vernacular">Hypothesis</span> <span id="kdirac.mf" class="id"><a name="kdirac.mf" class="">mf</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#36b9f1631384d2c3b944cb9d5855cd98">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kdirac.X">X]</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kdirac.f">f</a></span>.<br/>
<br/>
<span class="vernacular">Let</span> <span id="kdirac.measurable_fun_kdirac" class="id"><a name="kdirac.measurable_fun_kdirac" class="">measurable_fun_kdirac</a></span> <span id="U:528" class="id"><a name="U:528" class="">U</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:528">U</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#36b9f1631384d2c3b944cb9d5855cd98">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kdirac.X">X]</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#kdirac">kdirac</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kdirac.mf">mf</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#d89396f990d6b54d736cfe259e498cf4">^~</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:528">U</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof27')">Proof.</span></div>
<div class="proofscript" id="proof27">
<span class="id">move=&gt;</span> <span class="id">mU;</span> <span class="id">apply/EFin_measurable_fun</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> (<span class="gallina-kwd">fun</span> <span id="x:531" class="id"><span id="x:530" class="id"><span id="x:529" class="id"><a name="x:531" class="">x</a></span></span></span> <span class="id">=&gt;</span> <span class="id">_</span>) <span class="id">=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mindic">mindic</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kdirac.R">R</a></span> <span class="id">mU</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kdirac.f">f</a></span>)<span class="id">//;</span> <span class="id">exact/measurableT_comp</span>.<br/>
Qed.</div>
<br/>
<span id="kernel_kdirac__canonical__kernel_Kernel" class="id"><span id="HB_unnamed_factory_60" class="id"><a name="kernel_kdirac__canonical__kernel_Kernel" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.kernel.html#Build">isKernel.Build</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.kernel.html#kdirac">kdirac</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kdirac.mf">mf</a></span>)<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.kernel.html#kdirac.measurable_fun_kdirac">measurable_fun_kdirac</a></span>.<br/>
<br/>
<span class="vernacular">Let</span> <span id="kdirac.kdirac_prob" class="id"><a name="kdirac.kdirac_prob" class="">kdirac_prob</a></span> <span id="x:532" class="id"><a name="x:532" class="">x</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kdirac">kdirac</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kdirac.mf">mf</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:532">x</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">1</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof28')">Proof.</span></div>
<div class="proofscript" id="proof28">
 <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/kdirac/=</span> <span class="id"><a href="mathcomp.analysis.measure.html#diracT">diracT</a></span>. Qed.</div>
<br/>
<span id="kernel_kdirac__canonical__kernel_ProbabilityKernel" class="id"><span id="HB_unnamed_mixin_70" class="id"><span id="kernel_kdirac__canonical__kernel_SubProbabilityKernel" class="id"><span id="HB_unnamed_mixin_69" class="id"><span id="kernel_kdirac__canonical__kernel_FiniteKernel" class="id"><span id="HB_unnamed_mixin_68" class="id"><span id="kernel_kdirac__canonical__kernel_SFiniteKernel" class="id"><span id="HB_unnamed_mixin_67" class="id"><span id="kernel_Kernel_isProbability__to__kernel_Kernel_isSFinite_subdef" class="id"><span id="kernel_Kernel_isProbability__to__kernel_FiniteKernel_isSubProbability" class="id"><span id="kernel_Kernel_isProbability__to__kernel_SFiniteKernel_isFinite" class="id"><span id="kernel_Kernel_isProbability__to__kernel_SubProbability_isProbability" class="id"><span id="HB_unnamed_factory_62" class="id"><a name="kernel_kdirac__canonical__kernel_ProbabilityKernel" class="hierarchy-builder">HB.instance</a></span></span></span></span></span></span></span></span></span></span></span></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.kernel.html#Build">Kernel_isProbability.Build</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span><br/>
&nbsp;&nbsp;(<span class="id"><a href="mathcomp.analysis.kernel.html#kdirac">kdirac</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kdirac.mf">mf</a></span>) <span class="id"><a href="mathcomp.analysis.kernel.html#kdirac.kdirac_prob">kdirac_prob</a></span>.<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kdirac">kdirac</a></span>.<br/>
<span class="vernacular">Arguments</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kdirac">kdirac</a></span> <span class="id">{d</span> <span class="id">d'</span> <span class="id">X</span> <span class="id">Y</span> <span class="id">R</span> <span class="id">f}</span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="dist_salgebra_instance" class="id"><a name="dist_salgebra_instance" class="">dist_salgebra_instance</a></span>.<br/>
<span class="vernacular">Context</span> <span id="d:533" class="id"><a name="d:533" class="">d</a></span> (<span id="T:534" class="id"><a name="T:534" class="">T</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:533">d</a></span>) (<span id="R:535" class="id"><a name="R:535" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<br/>
<span class="vernacular">Let</span> <span id="dist_salgebra_instance.p0" class="id"><a name="dist_salgebra_instance.p0" class="">p0</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Probability.Exports.probability">probability</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#dist_salgebra_instance.T">T</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#dist_salgebra_instance.R">R</a></span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#Probability.Exports.probability">probability</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.measure.html#dirac">dirac</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#point">point]</a></span>.<br/>
<br/>
<span id="Probability_type__canonical__eqtype_Equality" class="id"><span id="HB_unnamed_factory_71" class="id"><a name="Probability_type__canonical__eqtype_Equality" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.boolp.html#gen_eqMixin">gen_eqMixin</a></span> (<span class="id"><a href="mathcomp.analysis.measure.html#Probability.Exports.probability">probability</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#dist_salgebra_instance.T">T</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#dist_salgebra_instance.R">R</a></span>).<br/>
<span id="Probability_type__canonical__choice_Choice" class="id"><span id="HB_unnamed_factory_73" class="id"><a name="Probability_type__canonical__choice_Choice" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.boolp.html#gen_choiceMixin">gen_choiceMixin</a></span> (<span class="id"><a href="mathcomp.analysis.measure.html#Probability.Exports.probability">probability</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#dist_salgebra_instance.T">T</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#dist_salgebra_instance.R">R</a></span>).<br/>
<span id="Probability_type__canonical__classical_sets_Pointed" class="id"><span id="HB_unnamed_factory_75" class="id"><a name="Probability_type__canonical__classical_sets_Pointed" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#isPointed.Build">isPointed.Build</a></span> (<span class="id"><a href="mathcomp.analysis.measure.html#Probability.Exports.probability">probability</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#dist_salgebra_instance.T">T</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#dist_salgebra_instance.R">R</a></span>) <span class="id"><a href="mathcomp.analysis.kernel.html#dist_salgebra_instance.p0">p0</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="mset" class="id"><a name="mset" class="">mset</a></span> (<span id="U:536" class="id"><a name="U:536" class="">U</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#dist_salgebra_instance.T">T</a></span>) (<span id="r:537" class="id"><a name="r:537" class="">r</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#dist_salgebra_instance.R">R</a></span>) <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#b4e6034ee20673e7601398ff7b1b7d1b">[set</a></span> <span id="mu:538" class="id"><a name="mu:538" class="">mu</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#b4e6034ee20673e7601398ff7b1b7d1b">:</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#Probability.Exports.probability">probability</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#dist_salgebra_instance.T">T</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#dist_salgebra_instance.R">R</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#b4e6034ee20673e7601398ff7b1b7d1b">|</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#mu:538">mu</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:536">U</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#r:537">r%:E]</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="lt0_mset" class="id"><a name="lt0_mset" class="">lt0_mset</a></span> (<span id="U:539" class="id"><a name="U:539" class="">U</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#dist_salgebra_instance.T">T</a></span>) (<span id="r:540" class="id"><a name="r:540" class="">r</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#dist_salgebra_instance.R">R</a></span>) <span class="id">:</span> (<span class="id"><a href="mathcomp.analysis.kernel.html#r:540">r</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'&lt;'_x">&lt;</a></span> <span class="id">0</span>)<span class="id">%R</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#mset">mset</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:539">U</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#r:540">r</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof29')">Proof.</span></div>
<div class="proofscript" id="proof29">
<span class="id">move=&gt;</span> <span class="id">r0;</span> <span class="id">apply/seteqP;</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">x/=</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">apply/negP;</span> <span class="id">rewrite</span> <span class="id">-leNgt</span> (<span class="id">@le_trans</span> <span class="id">_</span> <span class="id">_</span> <span class="id">0</span>)<span class="id">//</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.ltW">ltW</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="gt1_mset" class="id"><a name="gt1_mset" class="">gt1_mset</a></span> (<span id="U:541" class="id"><a name="U:541" class="">U</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#dist_salgebra_instance.T">T</a></span>) (<span id="r:542" class="id"><a name="r:542" class="">r</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#dist_salgebra_instance.R">R</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:541">U</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> (<span class="id">1</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#r:542">r</a></span>)<span class="id">%R</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#mset">mset</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:541">U</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#r:542">r</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#36b9f1631384d2c3b944cb9d5855cd98">[set:</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#Probability.Exports.probability">probability</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#dist_salgebra_instance.T">T</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#dist_salgebra_instance.R">R]</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof30')">Proof.</span></div>
<div class="proofscript" id="proof30">
<span class="id">move=&gt;</span> <span class="id">mU</span> <span class="id">r1;</span> <span class="id">apply/seteqP;</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">x/=</span> <span class="id">_</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/mset/=</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_lt_trans">le_lt_trans</a></span> (<span class="id"><a href="mathcomp.analysis.measure.html#probability_le1">probability_le1</a></span> <span class="id">_</span> <span class="id">_</span>)).<br/>
Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span id="pset" class="id"><a name="pset" class="">pset</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> (<span class="id"><a href="mathcomp.analysis.measure.html#Probability.Exports.probability">probability</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#dist_salgebra_instance.T">T</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#dist_salgebra_instance.R">R</a></span>)) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.classical_sets.html#6163cf1e40717c42afb9c2a42ba754ab">[set</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#mset">mset</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:544">U</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#r:543">r</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#6163cf1e40717c42afb9c2a42ba754ab">|</a></span> <span id="r:543" class="id"><a name="r:543" class="">r</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#0d46aeacdf83c1ab2ebf3404fa8daa4b">`[0%R,1%R]</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#6163cf1e40717c42afb9c2a42ba754ab">&amp;</a></span> <span id="U:544" class="id"><a name="U:544" class="">U</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable]</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="pprobability" class="id"><a name="pprobability" class="">pprobability</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#pset">pset</a></span>.<span class="id">-sigma</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.measure.html#salgebraType">salgebraType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#pset">pset]</a></span>.<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.kernel.html#dist_salgebra_instance">dist_salgebra_instance</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="kprobability" class="id"><a name="kprobability" class="">kprobability</a></span>.<br/>
<span class="vernacular">Context</span> <span id="d:545" class="id"><a name="d:545" class="">d</a></span> <span id="d':546" class="id"><a name="d':546" class="">d'</a></span> (<span id="X:547" class="id"><a name="X:547" class="">X</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:545">d</a></span>) (<span id="Y:548" class="id"><a name="Y:548" class="">Y</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':546">d'</a></span>) (<span id="R:549" class="id"><a name="R:549" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="vernacular">Variable</span> <span id="kprobability.P" class="id"><a name="kprobability.P" class="">P</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kprobability.X">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#pprobability">pprobability</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kprobability.Y">Y</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kprobability.R">R</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="kprobability" class="id"><a name="kprobability" class="">kprobability</a></span> (<span id="mP:551" class="id"><a name="mP:551" class="">mP</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#36b9f1631384d2c3b944cb9d5855cd98">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kprobability.X">X]</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kprobability.P">P</a></span>)<br/>
&nbsp;&nbsp;<span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kprobability.X">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kprobability.Y">Y</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kprobability.R">R}</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kprobability.P">P</a></span>.<br/>
<br/>
<span class="vernacular">Hypothesis</span> <span id="kprobability.mP" class="id"><a name="kprobability.mP" class="">mP</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#36b9f1631384d2c3b944cb9d5855cd98">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kprobability.X">X]</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kprobability.P">P</a></span>.<br/>
<br/>
<span class="vernacular">Let</span> <span id="kprobability.measurable_fun_kprobability" class="id"><a name="kprobability.measurable_fun_kprobability" class="">measurable_fun_kprobability</a></span> <span id="U:553" class="id"><a name="U:553" class="">U</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:553">U</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#36b9f1631384d2c3b944cb9d5855cd98">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kprobability.X">X]</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#kprobability">kprobability</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kprobability.mP">mP</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#d89396f990d6b54d736cfe259e498cf4">^~</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:553">U</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof31')">Proof.</span></div>
<div class="proofscript" id="proof31">
<span class="id">move=&gt;</span> <span class="id">mU</span>.<br/>
<span class="id">apply:</span> (<span class="id"><a href="mathcomp.analysis.measure.html#measurability">measurability</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#ErealGenInftyO.measurableE">ErealGenInftyO.measurableE</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kprobability.R">R</a></span>)) <span class="id">=&gt;</span> <span class="id">_</span> <span class="id">/=</span> <span class="id">-[_</span> <span class="id">[r</span> <span class="id">-&gt;]</span> <span class="id">&lt;-]</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setTI">setTI</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#preimage_itv_infty_o">preimage_itv_infty_o</a></span> <span class="id">-/</span>(<span class="id"><a href="mathcomp.analysis.kernel.html#kprobability.P">P</a></span> <span class="id">@^-1`</span> <span class="id"><a href="mathcomp.analysis.kernel.html#mset">mset</a></span> <span class="id">U</span> <span class="id">r</span>).<br/>
<span class="id">have</span> <span class="id">[r0|r0]</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.TotalTheory.leP">leP</a></span> <span class="id">0%R</span> <span class="id">r;</span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.kernel.html#lt0_mset">lt0_mset//</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#preimage_set0">preimage_set0</a></span>.<br/>
<span class="id">have</span> <span class="id">[r1|r1]</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.TotalTheory.leP">leP</a></span> <span class="id">r</span> <span class="id">1%R;</span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.kernel.html#gt1_mset">gt1_mset//</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#preimage_setT">preimage_setT</a></span>.<br/>
<span class="id">move:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kprobability.mP">mP</a></span> <span class="id">=&gt;</span> <span class="id">/</span>(<span class="id">_</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT">measurableT</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#mset">mset</a></span> <span class="id">U</span> <span class="id">r</span>))<span class="id">;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setTI">setTI;</a></span> <span class="id">apply</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#sub_sigma_algebra">sub_sigma_algebra;</a></span> <span class="gallina-kwd">exists</span> <span class="id">r</span> <span class="id">=&gt;</span> <span class="id">/=;</span> <span class="id">[rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#in_itv">in_itv/=</a></span> <span class="id">r0|exists</span> <span class="id">U]</span>.<br/>
Qed.</div>
<br/>
<span id="kernel_kprobability__canonical__kernel_Kernel" class="id"><span id="HB_unnamed_factory_77" class="id"><a name="kernel_kprobability__canonical__kernel_Kernel" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id">@isKernel</span>.<span class="id">Build</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kprobability.X">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kprobability.Y">Y</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kprobability.R">R</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#kprobability">kprobability</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kprobability.mP">mP</a></span>) <span class="id"><a href="mathcomp.analysis.kernel.html#kprobability.measurable_fun_kprobability">measurable_fun_kprobability</a></span>.<br/>
<br/>
<span class="vernacular">Let</span> <span id="kprobability.kprobability_prob" class="id"><a name="kprobability.kprobability_prob" class="">kprobability_prob</a></span> <span id="x:554" class="id"><a name="x:554" class="">x</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kprobability">kprobability</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kprobability.mP">mP</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:554">x</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#36b9f1631384d2c3b944cb9d5855cd98">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kprobability.Y">Y]</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">1</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof32')">Proof.</span></div>
<div class="proofscript" id="proof32">
 <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/kprobability/=</span> <span class="id"><a href="mathcomp.analysis.measure.html#probability_setT">probability_setT</a></span>. Qed.</div>
<br/>
<span id="kernel_kprobability__canonical__kernel_ProbabilityKernel" class="id"><span id="HB_unnamed_mixin_91" class="id"><span id="kernel_kprobability__canonical__kernel_SubProbabilityKernel" class="id"><span id="HB_unnamed_mixin_90" class="id"><span id="kernel_kprobability__canonical__kernel_FiniteKernel" class="id"><span id="HB_unnamed_mixin_89" class="id"><span id="kernel_kprobability__canonical__kernel_SFiniteKernel" class="id"><span id="HB_unnamed_mixin_88" class="id"><span id="kernel_Kernel_isProbability__to__kernel_Kernel_isSFinite_subdef__87" class="id"><span id="kernel_Kernel_isProbability__to__kernel_FiniteKernel_isSubProbability__85" class="id"><span id="kernel_Kernel_isProbability__to__kernel_SFiniteKernel_isFinite__83" class="id"><span id="kernel_Kernel_isProbability__to__kernel_SubProbability_isProbability__81" class="id"><span id="HB_unnamed_factory_79" class="id"><a name="kernel_kprobability__canonical__kernel_ProbabilityKernel" class="hierarchy-builder">HB.instance</a></span></span></span></span></span></span></span></span></span></span></span></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id">@Kernel_isProbability</span>.<span class="id">Build</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kprobability.X">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kprobability.Y">Y</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kprobability.R">R</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#kprobability">kprobability</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kprobability.mP">mP</a></span>) <span class="id"><a href="mathcomp.analysis.kernel.html#kprobability.kprobability_prob">kprobability_prob</a></span>.<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kprobability">kprobability</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="kadd" class="id"><a name="kadd" class="">kadd</a></span>.<br/>
<span class="vernacular">Context</span> <span id="d:555" class="id"><a name="d:555" class="">d</a></span> <span id="d':556" class="id"><a name="d':556" class="">d'</a></span> (<span id="X:557" class="id"><a name="X:557" class="">X</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:555">d</a></span>) (<span id="Y:558" class="id"><a name="Y:558" class="">Y</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':556">d'</a></span>) (<span id="R:559" class="id"><a name="R:559" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="vernacular">Variables</span> <span id="kadd.k1" class="id"><a name="kadd.k1" class="">k1</a></span> <span id="kadd.k2" class="id"><a name="kadd.k2" class="">k2</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kadd.R">R</a></span>.<span class="id">-ker</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kadd.X">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#c4a502042c2f67c701729be5ec5cf362">~&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kadd.Y">Y</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="kadd" class="id"><a name="kadd" class="">kadd</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kadd.X">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kadd.Y">Y</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kadd.R">R}</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">fun</span> <span id="x:562" class="id"><a name="x:562" class="">x</a></span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#Measure.Exports.measure">measure</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.measure.html#measure_add">measure_add</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#kadd.k1">k1</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:562">x</a></span>) (<span class="id"><a href="mathcomp.analysis.kernel.html#kadd.k2">k2</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:562">x</a></span>)<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">]</a></span>.<br/>
<br/>
<span class="vernacular">Let</span> <span id="kadd.measurable_fun_kadd" class="id"><a name="kadd.measurable_fun_kadd" class="">measurable_fun_kadd</a></span> <span id="U:563" class="id"><a name="U:563" class="">U</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:563">U</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#36b9f1631384d2c3b944cb9d5855cd98">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kadd.X">X]</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#kadd">kadd</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#d89396f990d6b54d736cfe259e498cf4">^~</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:563">U</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof33')">Proof.</span></div>
<div class="proofscript" id="proof33">
<span class="id">move=&gt;</span> <span class="id">mU;</span> <span class="id">rewrite</span> <span class="id">/kadd</span>.<br/>
<span class="id">rewrite</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> (<span class="gallina-kwd">fun</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id">_</span>) <span class="id">=</span> (<span class="gallina-kwd">fun</span> <span id="x:566" class="id"><span id="x:565" class="id"><span id="x:564" class="id"><a name="x:566" class="">x</a></span></span></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kadd.k1">k1</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:564">x</a></span> <span class="id">U</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d4965da372b2485934ec33867ee5fbe7">+</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kadd.k2">k2</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:564">x</a></span> <span class="id">U</span>))<span class="id">;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply/funext</span> <span class="id">=&gt;</span> <span class="id">x;</span> <span class="id">rewrite</span> <span class="id">-measure_addE</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_funD">emeasurable_funD;</a></span> <span class="id">exact/measurable_kernel</span>.<br/>
Qed.</div>
<br/>
<span id="kernel_kadd__canonical__kernel_Kernel" class="id"><span id="HB_unnamed_factory_92" class="id"><a name="kernel_kadd__canonical__kernel_Kernel" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id">@isKernel</span>.<span class="id">Build</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kadd">kadd</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kadd.measurable_fun_kadd">measurable_fun_kadd</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kadd">kadd</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="sfkadd" class="id"><a name="sfkadd" class="">sfkadd</a></span>.<br/>
<span class="vernacular">Context</span> <span id="d:567" class="id"><a name="d:567" class="">d</a></span> <span id="d':568" class="id"><a name="d':568" class="">d'</a></span> (<span id="X:569" class="id"><a name="X:569" class="">X</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:567">d</a></span>) (<span id="Y:570" class="id"><a name="Y:570" class="">Y</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':568">d'</a></span>) (<span id="R:571" class="id"><a name="R:571" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="vernacular">Variables</span> <span id="sfkadd.k1" class="id"><a name="sfkadd.k1" class="">k1</a></span> <span id="sfkadd.k2" class="id"><a name="sfkadd.k2" class="">k2</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfkadd.R">R</a></span>.<span class="id">-sfker</span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfkadd.X">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#2f2bb8476188c3521c5dd8e5760dc6ab">~&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfkadd.Y">Y</a></span>.<br/>
<br/>
<span class="vernacular">Let</span> <span id="sfkadd.sfinite_kadd" class="id"><a name="sfkadd.sfinite_kadd" class="">sfinite_kadd</a></span> <span class="id">:</span> <span class="gallina-kwd">exists2</span> <span id="k_:576" class="id"><span id="k_:574" class="id"><a name="k_:576" class="">k_</a></span></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#59ba2b47d2814e66f8210a649ae6e6bc">:</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#sfkadd.R">R</a></span>.<span class="id">-ker</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#c4a502042c2f67c701729be5ec5cf362">~&gt;</a></span> <span class="id">_</span>)<span class="id">^nat,</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="n:575" class="id"><a name="n:575" class="">n,</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measure_fam_uub">measure_fam_uub</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#k_:574">k_</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#n:575">n</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#59ba2b47d2814e66f8210a649ae6e6bc">&amp;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:577" class="id"><a name="x:577" class="">x</a></span> <span id="U:578" class="id"><a name="U:578" class="">U,</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:578">U</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.kernel.html#kadd">kadd</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfkadd.k1">k1</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfkadd.k2">k2</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:577">x</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:578">U</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#mseries">mseries</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#k_:576">k_</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#d89396f990d6b54d736cfe259e498cf4">^~</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:577">x</a></span>) <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:578">U</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof34')">Proof.</span></div>
<div class="proofscript" id="proof34">
<span class="id">have</span> <span class="id">[f1</span> <span class="id">hk1]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfinite_kernel">sfinite_kernel</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfkadd.k1">k1;</a></span> <span class="id">have</span> <span class="id">[f2</span> <span class="id">hk2]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfinite_kernel">sfinite_kernel</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfkadd.k2">k2</a></span>.<br/>
<span class="gallina-kwd">exists</span> (<span class="gallina-kwd">fun</span> <span id="n:580" class="id"><span id="n:579" class="id"><a name="n:580" class="">n</a></span></span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id">_</span>.<span class="id">-ker</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#c4a502042c2f67c701729be5ec5cf362">~&gt;</a></span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kadd">kadd</a></span> (<span class="id">f1</span> <span class="id"><a href="mathcomp.analysis.kernel.html#n:579">n</a></span>) (<span class="id">f2</span> <span class="id"><a href="mathcomp.analysis.kernel.html#n:579">n</a></span>)<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">]</a></span>).<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">n</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">[r1</span> <span class="id">f1r1]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measure_uub">measure_uub</a></span> (<span class="id">f1</span> <span class="id">n</span>).<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">[r2</span> <span class="id">f2r2]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measure_uub">measure_uub</a></span> (<span class="id">f2</span> <span class="id">n</span>).<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> (<span class="id">r1</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#c7f78cf1f6a5e4f664654f7d671ca752">+</a></span> <span class="id">r2</span>)<span class="id">%R</span> <span class="id">=&gt;</span> <span class="id">x/=</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/msum</span> <span class="id">!big_ord_recr/=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.bigop.html#big_ord0">big_ord0</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#add0e">add0e</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinD">EFinD</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_add">lte_add</a></span>.<br/>
<span class="id">move=&gt;</span> <span class="id">x</span> <span class="id">U</span> <span class="id">mU</span>.<br/>
<span class="id">rewrite</span> <span class="id">/kadd/=</span> <span class="id">-/</span>(<span class="id"><a href="mathcomp.analysis.measure.html#measure_add">measure_add</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#sfkadd.k1">k1</a></span> <span class="id">x</span>) (<span class="id"><a href="mathcomp.analysis.kernel.html#sfkadd.k2">k2</a></span> <span class="id">x</span>)) <span class="id"><a href="mathcomp.analysis.measure.html#measure_addE">measure_addE</a></span> <span class="id">hk1//=</span> <span class="id">hk2//=</span>.<br/>
<span class="id">rewrite</span> <span class="id">/mseries</span> <span class="id">-nneseriesD//;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.sequences.html#eq_eseriesr">eq_eseriesr</a></span> <span class="id">=&gt;</span> <span class="id">n</span> <span class="id">_</span> <span class="id">/=</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-/</span>(<span class="id"><a href="mathcomp.analysis.measure.html#measure_add">measure_add</a></span> (<span class="id">f1</span> <span class="id">n</span> <span class="id">x</span>) (<span class="id">f2</span> <span class="id">n</span> <span class="id">x</span>)) <span class="id"><a href="mathcomp.analysis.measure.html#measure_addE">measure_addE</a></span>.<br/>
Qed.</div>
<br/>
<span id="kernel_kadd__canonical__kernel_SFiniteKernel" class="id"><span id="HB_unnamed_factory_95" class="id"><span id="sfkadd.hb_instance_94.t" class="id"><span id="sfkadd.hb_instance_94" class="id"><a name="kernel_kadd__canonical__kernel_SFiniteKernel" class="hierarchy-builder">HB.instance</a></span></span></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span id="t:581" class="id"><a name="t:581" class="">t</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.kernel.html#Build">Kernel_isSFinite_subdef.Build</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfkadd.R">R</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#kadd">kadd</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfkadd.k1">k1</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfkadd.k2">k2</a></span>) <span class="id"><a href="mathcomp.analysis.kernel.html#sfkadd.sfinite_kadd">sfinite_kadd</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfkadd">sfkadd</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="fkadd" class="id"><a name="fkadd" class="">fkadd</a></span>.<br/>
<span class="vernacular">Context</span> <span id="d:582" class="id"><a name="d:582" class="">d</a></span> <span id="d':583" class="id"><a name="d':583" class="">d'</a></span> (<span id="X:584" class="id"><a name="X:584" class="">X</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:582">d</a></span>) (<span id="Y:585" class="id"><a name="Y:585" class="">Y</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':583">d'</a></span>) (<span id="R:586" class="id"><a name="R:586" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="vernacular">Variables</span> <span id="fkadd.k1" class="id"><a name="fkadd.k1" class="">k1</a></span> <span id="fkadd.k2" class="id"><a name="fkadd.k2" class="">k2</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#fkadd.R">R</a></span>.<span class="id">-fker</span> <span class="id"><a href="mathcomp.analysis.kernel.html#fkadd.X">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#a630ad86ffa8dd82d98f88052283a61f">~&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#fkadd.Y">Y</a></span>.<br/>
<br/>
<span class="vernacular">Let</span> <span id="fkadd.kadd_finite_uub" class="id"><a name="fkadd.kadd_finite_uub" class="">kadd_finite_uub</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measure_fam_uub">measure_fam_uub</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#kadd">kadd</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#fkadd.k1">k1</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#fkadd.k2">k2</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof35')">Proof.</span></div>
<div class="proofscript" id="proof35">
<span class="id">have</span> <span class="id">[f1</span> <span class="id">hk1]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measure_uub">measure_uub</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#fkadd.k1">k1;</a></span> <span class="id">have</span> <span class="id">[f2</span> <span class="id">hk2]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measure_uub">measure_uub</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#fkadd.k2">k2</a></span>.<br/>
<span class="gallina-kwd">exists</span> (<span class="id">f1</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#c7f78cf1f6a5e4f664654f7d671ca752">+</a></span> <span class="id">f2</span>)<span class="id">%R</span> <span class="id">=&gt;</span> <span class="id">x;</span> <span class="id">rewrite</span> <span class="id">/kadd</span> <span class="id">/=</span>.<br/>
<span class="id">rewrite</span> <span class="id">-/</span>(<span class="id"><a href="mathcomp.analysis.measure.html#measure_add">measure_add</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#fkadd.k1">k1</a></span> <span class="id">x</span>) (<span class="id"><a href="mathcomp.analysis.kernel.html#fkadd.k2">k2</a></span> <span class="id">x</span>)).<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.measure.html#measure_addE">measure_addE</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinD">EFinD;</a></span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_add">lte_add</a></span>.<br/>
Qed.</div>
<br/>
<span id="kernel_kadd__canonical__kernel_FiniteKernel" class="id"><span id="HB_unnamed_mixin_103" class="id"><span id="kernel_Kernel_isFinite__to__kernel_Kernel_isSFinite_subdef__102" class="id"><span id="kernel_Kernel_isFinite__to__kernel_SFiniteKernel_isFinite__100" class="id"><span id="HB_unnamed_factory_98" class="id"><span id="fkadd.hb_instance_97.t" class="id"><span id="fkadd.hb_instance_97" class="id"><a name="kernel_kadd__canonical__kernel_FiniteKernel" class="hierarchy-builder">HB.instance</a></span></span></span></span></span></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span id="t:589" class="id"><a name="t:589" class="">t</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.kernel.html#Build">Kernel_isFinite.Build</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#fkadd.R">R</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#kadd">kadd</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#fkadd.k1">k1</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#fkadd.k2">k2</a></span>) <span class="id"><a href="mathcomp.analysis.kernel.html#fkadd.kadd_finite_uub">kadd_finite_uub</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.kernel.html#fkadd">fkadd</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="measurable_fun_mnormalize" class="id"><a name="measurable_fun_mnormalize" class="">measurable_fun_mnormalize</a></span> <span id="d:590" class="id"><a name="d:590" class="">d</a></span> <span id="d':591" class="id"><a name="d':591" class="">d'</a></span> (<span id="X:592" class="id"><a name="X:592" class="">X</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:590">d</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="Y:593" class="id"><a name="Y:593" class="">Y</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':591">d'</a></span>) (<span id="R:594" class="id"><a name="R:594" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) (<span id="k:595" class="id"><a name="k:595" class="">k</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#R:594">R</a></span>.<span class="id">-ker</span> <span class="id"><a href="mathcomp.analysis.kernel.html#X:592">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#c4a502042c2f67c701729be5ec5cf362">~&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Y:593">Y</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#36b9f1631384d2c3b944cb9d5855cd98">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#X:592">X]</a></span> (<span class="gallina-kwd">fun</span> <span id="x:596" class="id"><a name="x:596" class="">x</a></span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#Probability.Exports.probability">probability</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.measure.html#mnormalize">mnormalize</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#k:595">k</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:596">x</a></span>) <span class="id"><a href="mathcomp.classical.classical_sets.html#point">point]</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#pprobability">pprobability</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Y:593">Y</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#R:594">R</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof36')">Proof.</span></div>
<div class="proofscript" id="proof36">
<span class="id">apply:</span> (<span class="id">@measurability</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span><br/>
&nbsp;&nbsp;(<span class="id">@pset</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#pprobability">pprobability</a></span> <span class="id">Y</span> <span class="id">R</span>)))) <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
<span class="id">move=&gt;</span> <span class="id">_</span> <span class="id">-[_</span> <span class="id">[r</span> <span class="id">r01]</span> <span class="id">[Ys</span> <span class="id">mYs</span> <span class="id">&lt;-]]</span> <span class="id">&lt;-</span>.<br/>
<span class="id">rewrite</span> <span class="id">/mnormalize</span> <span class="id">/mset</span> <span class="id">/preimage/=</span>.<br/>
<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#emeasurable_fun_infty_o">emeasurable_fun_infty_o</a></span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
<span class="id">rewrite</span> <span class="id">/mnormalize/=</span>.<br/>
<span class="id">rewrite</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> (<span class="gallina-kwd">fun</span> <span id="x:601" class="id"><span id="x:599" class="id"><span id="x:597" class="id"><a name="x:601" class="">x</a></span></span></span> <span class="id">=&gt;</span> <span class="id">_</span>) <span class="id">=</span> (<span class="gallina-kwd">fun</span> <span id="x:602" class="id"><span id="x:600" class="id"><span id="x:598" class="id"><a name="x:602" class="">x</a></span></span></span> <span class="id">=&gt;</span> <span class="gallina-kwd">if</span> (<span class="id">k</span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:598">x</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#df45e8c2e8370fd4f0f7c4fdaf208180">==</a></span> <span class="id">0</span>) <span class="id">||</span> (<span class="id">k</span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:598">x</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#df45e8c2e8370fd4f0f7c4fdaf208180">==</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d5becfdd26043e7de5a21e6270f35a00">+oo</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">then</span> <span class="id"><a href="mathcomp.analysis.measure.html#beb404b4c6e52afbdfec2979598a2318">\d_point</a></span> <span class="id">Ys</span> <span class="gallina-kwd">else</span> <span class="id">k</span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:598">x</a></span> <span class="id">Ys</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#f1c2ddfea282f8f8d7539f61e14c08e4">*</a></span> ((<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (<span class="id">k</span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:598">x</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span>))<span class="id">^-1</span>)<span class="id">%:E</span>))<span class="id">;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply/funext</span> <span class="id">=&gt;</span> <span class="id">x/=;</span> <span class="id">case:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span>.<br/>
<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun_if">measurable_fun_if</a></span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
<span class="id">-</span> <span class="id">apply:</span> (<span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun_bool">measurable_fun_bool</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#true">true</a></span>) <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id">_</span> <span class="id">@^-1`</span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">[set</a></span> <span id="t:607" class="id"><span id="t:605" class="id"><span id="t:603" class="id"><a name="t:607" class="">t</a></span></span></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">|</a></span> <span class="id">k</span> <span class="id"><a href="mathcomp.analysis.kernel.html#t:603">t</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#df45e8c2e8370fd4f0f7c4fdaf208180">==</a></span> <span class="id">0]</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#f0f4f4a06533e5eeff19ee265a896441">`|`</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">[set</a></span> <span id="t:608" class="id"><span id="t:606" class="id"><span id="t:604" class="id"><a name="t:608" class="">t</a></span></span></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">|</a></span> <span class="id">k</span> <span class="id"><a href="mathcomp.analysis.kernel.html#t:604">t</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#df45e8c2e8370fd4f0f7c4fdaf208180">==</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d5becfdd26043e7de5a21e6270f35a00">+oo]</a></span>)<span class="id">;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply/seteqP;</span> <span class="id">split=&gt;</span> <span class="id">x</span> <span class="id">/=</span> <span class="id">/orP//</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableU">measurableU;</a></span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kernel_measurable_eq_cst">kernel_measurable_eq_cst</a></span>.<br/>
<span class="id">-</span> <span class="id">apply/emeasurable_funM;</span> <span class="id">first</span> <span class="id">exact/measurable_funTS/measurable_kernel</span>.<br/>
&nbsp;&nbsp;<span class="id">apply/EFin_measurable_fun;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setTI">setTI</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> (<span class="id">@measurable_comp</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#b4e6034ee20673e7601398ff7b1b7d1b">[set</a></span> <span id="r:610" class="id"><span id="r:609" class="id"><a name="r:610" class="">r</a></span></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#b4e6034ee20673e7601398ff7b1b7d1b">:</a></span> <span class="id">R</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#b4e6034ee20673e7601398ff7b1b7d1b">|</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#r:609">r</a></span> <span class="id">!=</span> <span class="id">0%R]</span>).<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#open_measurable">open_measurable</a></span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">/=</span> <span class="id">_</span> <span class="id">[x</span> <span class="id">/norP[s0</span> <span class="id">soo]]</span> <span class="id">&lt;-;</span> <span class="id">rewrite</span> <span class="id">-eqe</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK</a></span> <span class="id">?ge0_fin_numE</span> <span class="id">?ltey</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#open_continuous_measurable_fun">open_continuous_measurable_fun</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">apply/in_setP</span> <span class="id">=&gt;</span> <span class="id">x</span> <span class="id">/=</span> <span class="id">x0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#inv_continuous">inv_continuous</a></span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact/measurable_funS/measurable_kernel</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Section</span> <span id="knormalize" class="id"><a name="knormalize" class="">knormalize</a></span>.<br/>
<span class="vernacular">Context</span> <span id="d:611" class="id"><a name="d:611" class="">d</a></span> <span id="d':612" class="id"><a name="d':612" class="">d'</a></span> (<span id="X:613" class="id"><a name="X:613" class="">X</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:611">d</a></span>) (<span id="Y:614" class="id"><a name="Y:614" class="">Y</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':612">d'</a></span>) (<span id="R:615" class="id"><a name="R:615" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="vernacular">Variable</span> <span id="knormalize.f" class="id"><a name="knormalize.f" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#knormalize.R">R</a></span>.<span class="id">-ker</span> <span class="id"><a href="mathcomp.analysis.kernel.html#knormalize.X">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#c4a502042c2f67c701729be5ec5cf362">~&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#knormalize.Y">Y</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="knormalize" class="id"><a name="knormalize" class="">knormalize</a></span> (<span id="P:617" class="id"><a name="P:617" class="">P</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Probability.Exports.probability">probability</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#knormalize.Y">Y</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#knormalize.R">R</a></span>) <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#knormalize.X">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.kernel.html#knormalize.Y">Y</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.kernel.html#knormalize.R">R}</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">fun</span> <span id="x:618" class="id"><a name="x:618" class="">x</a></span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#Measure.Exports.measure">measure</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.measure.html#mnormalize">mnormalize</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#knormalize.f">f</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:618">x</a></span>) <span class="id"><a href="mathcomp.analysis.kernel.html#P:617">P]</a></span>.<br/>
<br/>
<span class="vernacular">Variable</span> <span id="knormalize.P" class="id"><a name="knormalize.P" class="">P</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Probability.Exports.probability">probability</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#knormalize.Y">Y</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#knormalize.R">R</a></span>.<br/>
<br/>
<span class="vernacular">Let</span> <span id="knormalize.measurable_fun_knormalize" class="id"><a name="knormalize.measurable_fun_knormalize" class="">measurable_fun_knormalize</a></span> <span id="U:620" class="id"><a name="U:620" class="">U</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:620">U</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#36b9f1631384d2c3b944cb9d5855cd98">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#knormalize.X">X]</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#knormalize">knormalize</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#knormalize.P">P</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#d89396f990d6b54d736cfe259e498cf4">^~</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:620">U</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof37')">Proof.</span></div>
<div class="proofscript" id="proof37">
<span class="id">move=&gt;</span> <span class="id">mU;</span> <span class="id">rewrite</span> <span class="id">/knormalize/=</span> <span class="id">/mnormalize</span> <span class="id">/=</span>.<br/>
<span class="id">rewrite</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> (<span class="gallina-kwd">fun</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id">_</span>) <span class="id">=</span> (<span class="gallina-kwd">fun</span> <span id="x:623" class="id"><span id="x:622" class="id"><span id="x:621" class="id"><a name="x:623" class="">x</a></span></span></span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">if</span> <span class="id"><a href="mathcomp.analysis.kernel.html#knormalize.f">f</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:621">x</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#df45e8c2e8370fd4f0f7c4fdaf208180">==</a></span> <span class="id">0</span> <span class="gallina-kwd">then</span> <span class="id"><a href="mathcomp.analysis.kernel.html#knormalize.P">P</a></span> <span class="id">U</span> <span class="gallina-kwd">else</span> <span class="gallina-kwd">if</span> <span class="id"><a href="mathcomp.analysis.kernel.html#knormalize.f">f</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:621">x</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#df45e8c2e8370fd4f0f7c4fdaf208180">==</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d5becfdd26043e7de5a21e6270f35a00">+oo</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="mathcomp.analysis.kernel.html#knormalize.P">P</a></span> <span class="id">U</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">else</span> <span class="id"><a href="mathcomp.analysis.kernel.html#knormalize.f">f</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:621">x</a></span> <span class="id">U</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#f1c2ddfea282f8f8d7539f61e14c08e4">*</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#knormalize.f">f</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:621">x</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span>))<span class="id">^-1%:E</span>))<span class="id">;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">apply/funext</span> <span class="id">=&gt;</span> <span class="id">x;</span> <span class="id">case:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span> <span class="id">=&gt;</span> <span class="id">[/orP[-&gt;//|-&gt;]|];</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">case:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negb_or">negb_or=&gt;</a></span> <span class="id">/andP[/negbTE</span> <span class="id">-&gt;</span> <span class="id">/negbTE</span> <span class="id">-&gt;]</span>.<br/>
<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun_if">measurable_fun_if</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">[exact:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kernel_measurable_fun_eq_cst">kernel_measurable_fun_eq_cst|]</a></span>.<br/>
<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun_if">measurable_fun_if</a></span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
<span class="id">-</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setTI">setTI</a></span> <span class="id">[X</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#knormalize.X">X]</a></span>(<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">[set</a></span> <span id="t:627" class="id"><span id="t:625" class="id"><span id="t:624" class="id"><a name="t:627" class="">t</a></span></span></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">|</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#knormalize.f">f</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#t:624">t</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id">!=</span> <span class="id">0]</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kernel_measurable_neq_cst">kernel_measurable_neq_cst</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply/seteqP;</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">[x</span> <span class="id">/negbT//|x</span> <span class="id">/negbTE]</span>.<br/>
<span class="id">-</span> <span class="id">apply:</span> (<span class="id">@measurable_funS</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span>) <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kernel_measurable_fun_eq_cst">kernel_measurable_fun_eq_cst</a></span>.<br/>
<span class="id">-</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_funM">emeasurable_funM</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">have</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_kernel">measurable_kernel</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#knormalize.f">f</a></span> <span class="id">U</span> <span class="id">mU;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_funS">measurable_funS</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply/EFin_measurable_fun</span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> (<span class="id">@measurable_comp</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#b4e6034ee20673e7601398ff7b1b7d1b">[set</a></span> <span id="r:629" class="id"><span id="r:628" class="id"><a name="r:629" class="">r</a></span></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#b4e6034ee20673e7601398ff7b1b7d1b">:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#knormalize.R">R</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#b4e6034ee20673e7601398ff7b1b7d1b">|</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#r:628">r</a></span> <span class="id">!=</span> <span class="id">0%R]</span>) <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#open_measurable">open_measurable</a></span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">move=&gt;</span> <span class="id">/=</span> <span class="id">r</span> <span class="id">[t]</span> <span class="id">[]</span> <span class="id">[_</span> <span class="id">ft0]</span> <span class="id">ftoo</span> <span class="id">ftr;</span> <span class="id">apply/eqP</span> <span class="id">=&gt;</span> <span class="id">r0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move:</span> (<span class="id">ftr</span>)<span class="id">;</span> <span class="id">rewrite</span> <span class="id">r0</span> <span class="id">=&gt;</span> <span class="id">/eqP;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine_eq0">fine_eq0</a></span> <span class="id">?ft0//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ge0_fin_numE">ge0_fin_numE//</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.lt_neqAle">lt_neqAle</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leey">leey</a></span> <span class="id">ftoo</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#open_continuous_measurable_fun">open_continuous_measurable_fun</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">apply/in_setP</span> <span class="id">=&gt;</span> <span class="id">x</span> <span class="id">/=</span> <span class="id">x0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#inv_continuous">inv_continuous</a></span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span> <span class="id">=&gt;</span> <span class="id">//=</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">have</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_kernel">measurable_kernel</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#knormalize.f">f</a></span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT">measurableT;</a></span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_funS">measurable_funS</a></span>.<br/>
Qed.</div>
<br/>
<span id="kernel_knormalize__canonical__kernel_Kernel" class="id"><span id="HB_unnamed_factory_104" class="id"><a name="kernel_knormalize__canonical__kernel_Kernel" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.kernel.html#Build">isKernel.Build</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#knormalize.R">R</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#knormalize">knormalize</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#knormalize.P">P</a></span>)<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.kernel.html#knormalize.measurable_fun_knormalize">measurable_fun_knormalize</a></span>.<br/>
<br/>
<span class="vernacular">Let</span> <span id="knormalize.knormalize1" class="id"><a name="knormalize.knormalize1" class="">knormalize1</a></span> <span id="x:630" class="id"><a name="x:630" class="">x</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#knormalize">knormalize</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#knormalize.P">P</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:630">x</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#36b9f1631384d2c3b944cb9d5855cd98">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#knormalize.Y">Y]</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">1</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof38')">Proof.</span></div>
<div class="proofscript" id="proof38">
 <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/knormalize/=</span> <span class="id"><a href="mathcomp.analysis.measure.html#probability_setT">probability_setT</a></span>. Qed.</div>
<br/>
<span id="kernel_knormalize__canonical__kernel_ProbabilityKernel" class="id"><span id="HB_unnamed_mixin_118" class="id"><span id="kernel_knormalize__canonical__kernel_SubProbabilityKernel" class="id"><span id="HB_unnamed_mixin_117" class="id"><span id="kernel_knormalize__canonical__kernel_FiniteKernel" class="id"><span id="HB_unnamed_mixin_116" class="id"><span id="kernel_knormalize__canonical__kernel_SFiniteKernel" class="id"><span id="HB_unnamed_mixin_115" class="id"><span id="kernel_Kernel_isProbability__to__kernel_Kernel_isSFinite_subdef__114" class="id"><span id="kernel_Kernel_isProbability__to__kernel_FiniteKernel_isSubProbability__112" class="id"><span id="kernel_Kernel_isProbability__to__kernel_SFiniteKernel_isFinite__110" class="id"><span id="kernel_Kernel_isProbability__to__kernel_SubProbability_isProbability__108" class="id"><span id="HB_unnamed_factory_106" class="id"><a name="kernel_knormalize__canonical__kernel_ProbabilityKernel" class="hierarchy-builder">HB.instance</a></span></span></span></span></span></span></span></span></span></span></span></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id">@Kernel_isProbability</span>.<span class="id">Build</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.kernel.html#knormalize">knormalize</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#knormalize.P">P</a></span>) <span class="id"><a href="mathcomp.analysis.kernel.html#knormalize.knormalize1">knormalize1</a></span>.<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.kernel.html#knormalize">knormalize</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="kcomp_def" class="id"><a name="kcomp_def" class="">kcomp_def</a></span>.<br/>
<span class="vernacular">Context</span> <span id="d1:631" class="id"><a name="d1:631" class="">d1</a></span> <span id="d2:632" class="id"><a name="d2:632" class="">d2</a></span> <span id="d3:633" class="id"><a name="d3:633" class="">d3</a></span> (<span id="X:634" class="id"><a name="X:634" class="">X</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d1:631">d1</a></span>) (<span id="Y:635" class="id"><a name="Y:635" class="">Y</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d2:632">d2</a></span>)<br/>
&nbsp;&nbsp;(<span id="Z:636" class="id"><a name="Z:636" class="">Z</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d3:633">d3</a></span>) (<span id="R:637" class="id"><a name="R:637" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="vernacular">Variable</span> <span id="kcomp_def.l" class="id"><a name="kcomp_def.l" class="">l</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_def.X">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_def.Y">Y</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_def.R">R}</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="kcomp_def.k" class="id"><a name="kcomp_def.k" class="">k</a></span> <span class="id">:</span> (<span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_def.X">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_def.Y">Y</a></span>)<span class="id">%type</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_def.Z">Z</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_def.R">R}</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="kcomp" class="id"><a name="kcomp" class="">kcomp</a></span> <span id="x:640" class="id"><a name="x:640" class="">x</a></span> <span id="U:641" class="id"><a name="U:641" class="">U</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[l</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:640">x]_y</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_def.k">k</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#x:640">x,</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#y:642">y</a></span>) <span class="id"><a href="mathcomp.analysis.kernel.html#U:641">U</a></span>.<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_def">kcomp_def</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="kcomp_is_measure" class="id"><a name="kcomp_is_measure" class="">kcomp_is_measure</a></span>.<br/>
<span class="vernacular">Context</span> <span id="d1:643" class="id"><a name="d1:643" class="">d1</a></span> <span id="d2:644" class="id"><a name="d2:644" class="">d2</a></span> <span id="d3:645" class="id"><a name="d3:645" class="">d3</a></span> (<span id="X:646" class="id"><a name="X:646" class="">X</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d1:643">d1</a></span>) (<span id="Y:647" class="id"><a name="Y:647" class="">Y</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d2:644">d2</a></span>)<br/>
&nbsp;(<span id="Z:648" class="id"><a name="Z:648" class="">Z</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d3:645">d3</a></span>) (<span id="R:649" class="id"><a name="R:649" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="vernacular">Variable</span> <span id="kcomp_is_measure.l" class="id"><a name="kcomp_is_measure.l" class="">l</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_is_measure.R">R</a></span>.<span class="id">-ker</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_is_measure.X">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#c4a502042c2f67c701729be5ec5cf362">~&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_is_measure.Y">Y</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="kcomp_is_measure.k" class="id"><a name="kcomp_is_measure.k" class="">k</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_is_measure.R">R</a></span>.<span class="id">-ker</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_is_measure.X">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_is_measure.Y">Y]</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#c4a502042c2f67c701729be5ec5cf362">~&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_is_measure.Z">Z</a></span>.<br/>
<br/>
<span class="vernacular">Let</span> <span id="kcomp_is_measure.kcomp0" class="id"><a name="kcomp_is_measure.kcomp0" class="">kcomp0</a></span> <span id="x:652" class="id"><a name="x:652" class="">x</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp">kcomp</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_is_measure.l">l</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_is_measure.k">k</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:652">x</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">0</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof39')">Proof.</span></div>
<div class="proofscript" id="proof39">
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/kcomp</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> <span class="id">0</span>)) <span class="id">?integral0//</span> <span class="id">=&gt;</span> <span class="id">y</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.measure.html#measure0">measure0</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="kcomp_is_measure.kcomp_ge0" class="id"><a name="kcomp_is_measure.kcomp_ge0" class="">kcomp_ge0</a></span> <span id="x:653" class="id"><a name="x:653" class="">x</a></span> <span id="U:654" class="id"><a name="U:654" class="">U</a></span> <span class="id">:</span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp">kcomp</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_is_measure.l">l</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_is_measure.k">k</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:653">x</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:654">U</a></span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof40')">Proof.</span></div>
<div class="proofscript" id="proof40">
 <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ge0">integral_ge0</a></span>. Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="kcomp_is_measure.kcomp_sigma_additive" class="id"><a name="kcomp_is_measure.kcomp_sigma_additive" class="">kcomp_sigma_additive</a></span> <span id="x:655" class="id"><a name="x:655" class="">x</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#semi_sigma_additive">semi_sigma_additive</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#kcomp">kcomp</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_is_measure.l">l</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_is_measure.k">k</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:655">x</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof41')">Proof.</span></div>
<div class="proofscript" id="proof41">
<span class="id">move=&gt;</span> <span class="id">U</span> <span class="id">mU</span> <span class="id">tU</span> <span class="id">mUU;</span> <span class="id">rewrite</span> <span class="id">[X</span> <span class="gallina-kwd">in</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'--&gt;'_x">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_is_measure.X">X]</a></span>(<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[l</a></span> <span class="id">x]_y</span> (<span class="id"><a href="mathcomp.analysis.sequences.html#acaaf5f54a6a8a222320424b6e0ccad5">\sum_</a></span>(<span id="n:668" class="id"><span id="n:667" class="id"><span id="n:666" class="id"><span id="n:663" class="id"><span id="n:662" class="id"><span id="n:661" class="id"><span id="n:659" class="id"><span id="n:658" class="id"><span id="n:657" class="id"><a name="n:668" class="">n</a></span></span></span></span></span></span></span></span></span> <span class="id"><a href="mathcomp.analysis.sequences.html#acaaf5f54a6a8a222320424b6e0ccad5">&lt;oo</a></span>) <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_is_measure.k">k</a></span> (<span class="id">x,</span> <span class="id"><a href="mathcomp.analysis.kernel.html#y:656">y</a></span>) (<span class="id">U</span> <span class="id"><a href="mathcomp.analysis.kernel.html#n:657">n</a></span>)))<span class="id">;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> <span class="id">=&gt;</span> <span class="id">V</span> <span class="id">_</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply/esym/cvg_lim</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact/measure_semi_sigma_additive</span>.<br/>
<span class="id">apply/cvg_closeP;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.sequences.html#is_cvg_nneseries">is_cvg_nneseries</a></span> <span class="id">=&gt;</span> <span class="id">n</span> <span class="id">_;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ge0">integral_ge0</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.topology.html#closeE">closeE//</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_nneseries">integral_nneseries//</a></span> <span class="id">=&gt;</span> <span class="id">n</span>.<br/>
<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#measurable_kernel">measurable_kernel</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_is_measure.k">k</a></span> <span class="id">_</span> (<span class="id">mU</span> <span class="id">n</span>)) <span class="id">_</span>.<br/>
Qed.</div>
<br/>
<span id="kernel_kcomp__canonical__measure_Measure" class="id"><span id="HB_unnamed_mixin_124" class="id"><span id="kernel_kcomp__canonical__measure_Content" class="id"><span id="HB_unnamed_mixin_123" class="id"><span id="measure_isMeasure__to__measure_isContent" class="id"><span id="measure_isMeasure__to__measure_Content_isMeasure" class="id"><span id="HB_unnamed_factory_120" class="id"><span id="kcomp_is_measure.hb_instance_119.x" class="id"><span id="kcomp_is_measure.hb_instance_119" class="id"><a name="kernel_kcomp__canonical__measure_Measure" class="hierarchy-builder">HB.instance</a></span></span></span></span></span></span></span></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span id="x:669" class="id"><a name="x:669" class="">x</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.measure.html#isMeasure.Build">isMeasure.Build</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_is_measure.R">R</a></span><br/>
&nbsp;&nbsp;(<span class="id"><a href="mathcomp.analysis.kernel.html#kcomp">kcomp</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_is_measure.l">l</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_is_measure.k">k</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:669">x</a></span>) (<span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_is_measure.kcomp0">kcomp0</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:669">x</a></span>) (<span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_is_measure.kcomp_ge0">kcomp_ge0</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:669">x</a></span>) (<span class="id">@kcomp_sigma_additive</span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:669">x</a></span>).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="mkcomp" class="id"><a name="mkcomp" class="">mkcomp</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_is_measure.X">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_is_measure.Z">Z</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_is_measure.R">R}</a></span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="x:670" class="id"><a name="x:670" class="">x</a></span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#Measure.Exports.measure">measure</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp">kcomp</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_is_measure.l">l</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_is_measure.k">k</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:670">x]</a></span>.<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_is_measure">kcomp_is_measure</a></span>.<br/>
<br/>
<span class="vernacular">Notation</span> <span id="66c7375a6c32319fd0ed81255931693f" class="id"><a name="66c7375a6c32319fd0ed81255931693f" class="">&quot;l \; k&quot;</a></span> <span class="id">:=</span> (<span class="id"><a href="mathcomp.analysis.kernel.html#mkcomp">mkcomp</a></span> <span class="id">l</span> <span class="id">k</span>) <span class="id">:</span> <span class="id">ereal_scope</span>.<br/>
<br/>
<span class="vernacular">Module</span> <span id="KCOMP_FINITE_KERNEL" class="id"><a name="KCOMP_FINITE_KERNEL" class="">KCOMP_FINITE_KERNEL</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="KCOMP_FINITE_KERNEL.kcomp_finite_kernel_kernel" class="id"><a name="KCOMP_FINITE_KERNEL.kcomp_finite_kernel_kernel" class="">kcomp_finite_kernel_kernel</a></span>.<br/>
<span class="vernacular">Context</span> <span id="d:671" class="id"><a name="d:671" class="">d</a></span> <span id="d':672" class="id"><a name="d':672" class="">d'</a></span> <span id="d3:673" class="id"><a name="d3:673" class="">d3</a></span> (<span id="X:674" class="id"><a name="X:674" class="">X</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:671">d</a></span>) (<span id="Y:675" class="id"><a name="Y:675" class="">Y</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':672">d'</a></span>)<br/>
&nbsp;&nbsp;(<span id="Z:676" class="id"><a name="Z:676" class="">Z</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d3:673">d3</a></span>) (<span id="R:677" class="id"><a name="R:677" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) (<span id="l:678" class="id"><a name="l:678" class="">l</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#R:677">R</a></span>.<span class="id">-fker</span> <span class="id"><a href="mathcomp.analysis.kernel.html#X:674">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#a630ad86ffa8dd82d98f88052283a61f">~&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Y:675">Y</a></span>)<br/>
&nbsp;&nbsp;(<span id="k:679" class="id"><a name="k:679" class="">k</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#R:677">R</a></span>.<span class="id">-ker</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.kernel.html#X:674">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Y:675">Y]</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#c4a502042c2f67c701729be5ec5cf362">~&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Z:676">Z</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="KCOMP_FINITE_KERNEL.measurable_fun_kcomp_finite" class="id"><a name="KCOMP_FINITE_KERNEL.measurable_fun_kcomp_finite" class="">measurable_fun_kcomp_finite</a></span> <span id="U:680" class="id"><a name="U:680" class="">U</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:680">U</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#36b9f1631384d2c3b944cb9d5855cd98">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_FINITE_KERNEL.kcomp_finite_kernel_kernel.X">X]</a></span> ((<span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_FINITE_KERNEL.kcomp_finite_kernel_kernel.l">l</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#66c7375a6c32319fd0ed81255931693f">\;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_FINITE_KERNEL.kcomp_finite_kernel_kernel.k">k</a></span>) <span class="id">^~</span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:680">U</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof42')">Proof.</span></div>
<div class="proofscript" id="proof42">
<span class="id">move=&gt;</span> <span class="id">mU;</span> <span class="id">apply:</span> (<span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_integral_finite_kernel">measurable_fun_integral_finite_kernel</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_FINITE_KERNEL.kcomp_finite_kernel_kernel.k">k</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#d89396f990d6b54d736cfe259e498cf4">^~</a></span> <span class="id">U</span>)) <span class="id">=&gt;</span> <span class="id">//=</span>.<br/>
<span class="id">exact/measurable_kernel</span>.<br/>
Qed.</div>
<br/>
<span id="KCOMP_FINITE_KERNEL.kernel_mkcomp__canonical__kernel_Kernel" class="id"><span id="KCOMP_FINITE_KERNEL.HB_unnamed_factory_125" class="id"><a name="KCOMP_FINITE_KERNEL.kernel_mkcomp__canonical__kernel_Kernel" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.kernel.html#isKernel.Build">isKernel.Build</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_FINITE_KERNEL.kcomp_finite_kernel_kernel.X">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_FINITE_KERNEL.kcomp_finite_kernel_kernel.Z">Z</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_FINITE_KERNEL.kcomp_finite_kernel_kernel.R">R</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_FINITE_KERNEL.kcomp_finite_kernel_kernel.l">l</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#66c7375a6c32319fd0ed81255931693f">\;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_FINITE_KERNEL.kcomp_finite_kernel_kernel.k">k</a></span>) <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_FINITE_KERNEL.measurable_fun_kcomp_finite">measurable_fun_kcomp_finite</a></span>.<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_FINITE_KERNEL.kcomp_finite_kernel_kernel">kcomp_finite_kernel_kernel</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="KCOMP_FINITE_KERNEL.kcomp_finite_kernel_finite" class="id"><a name="KCOMP_FINITE_KERNEL.kcomp_finite_kernel_finite" class="">kcomp_finite_kernel_finite</a></span>.<br/>
<span class="vernacular">Context</span> <span id="d:681" class="id"><a name="d:681" class="">d</a></span> <span id="d':682" class="id"><a name="d':682" class="">d'</a></span> <span id="d3:683" class="id"><a name="d3:683" class="">d3</a></span> (<span id="X:684" class="id"><a name="X:684" class="">X</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:681">d</a></span>) (<span id="Y:685" class="id"><a name="Y:685" class="">Y</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':682">d'</a></span>)<br/>
&nbsp;&nbsp;(<span id="Z:686" class="id"><a name="Z:686" class="">Z</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d3:683">d3</a></span>) (<span id="R:687" class="id"><a name="R:687" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="vernacular">Variable</span> <span id="KCOMP_FINITE_KERNEL.kcomp_finite_kernel_finite.l" class="id"><a name="KCOMP_FINITE_KERNEL.kcomp_finite_kernel_finite.l" class="">l</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_FINITE_KERNEL.kcomp_finite_kernel_finite.R">R</a></span>.<span class="id">-fker</span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_FINITE_KERNEL.kcomp_finite_kernel_finite.X">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#a630ad86ffa8dd82d98f88052283a61f">~&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_FINITE_KERNEL.kcomp_finite_kernel_finite.Y">Y</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="KCOMP_FINITE_KERNEL.kcomp_finite_kernel_finite.k" class="id"><a name="KCOMP_FINITE_KERNEL.kcomp_finite_kernel_finite.k" class="">k</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_FINITE_KERNEL.kcomp_finite_kernel_finite.R">R</a></span>.<span class="id">-fker</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_FINITE_KERNEL.kcomp_finite_kernel_finite.X">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_FINITE_KERNEL.kcomp_finite_kernel_finite.Y">Y]</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#a630ad86ffa8dd82d98f88052283a61f">~&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_FINITE_KERNEL.kcomp_finite_kernel_finite.Z">Z</a></span>.<br/>
<br/>
<span class="vernacular">Let</span> <span id="KCOMP_FINITE_KERNEL.kcomp_finite_kernel_finite.mkcomp_finite" class="id"><a name="KCOMP_FINITE_KERNEL.kcomp_finite_kernel_finite.mkcomp_finite" class="">mkcomp_finite</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measure_fam_uub">measure_fam_uub</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#kcomp">kcomp</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_FINITE_KERNEL.kcomp_finite_kernel_finite.l">l</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_FINITE_KERNEL.kcomp_finite_kernel_finite.k">k</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof43')">Proof.</span></div>
<div class="proofscript" id="proof43">
<span class="id">have</span> <span class="id">/measure_fam_uubP[r</span> <span class="id">hr]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measure_uub">measure_uub</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_FINITE_KERNEL.kcomp_finite_kernel_finite.k">k</a></span>.<br/>
<span class="id">have</span> <span class="id">/measure_fam_uubP[s</span> <span class="id">hs]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measure_uub">measure_uub</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_FINITE_KERNEL.kcomp_finite_kernel_finite.l">l</a></span>.<br/>
<span class="id">apply/measure_fam_uubP;</span> <span class="gallina-kwd">exists</span> (<span class="id"><a href="mathcomp.analysis.signed.html#PosNum">PosNum</a></span> <span class="id"><a href="mathcomp.analysis.signed.html#abaaa7ace396c67daec735802349f5d9">[gt0</a></span> <span class="id">of</span> (<span class="id">r%:num</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#2d0cfb150261028f4ebd2ba355623dcc">*</a></span> <span class="id">s%:num</span>)<span class="id">%R]</span>) <span class="id">=&gt;</span> <span class="id">x</span> <span class="id">/=</span>.<br/>
<span class="id">apply:</span> (<span class="id">@le_lt_trans</span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[l</a></span> <span class="id">x]__</span> <span class="id">r%:num%:E</span>)).<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_le_integral">ge0_le_integral</a></span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#measurable_kernel">measurable_kernel</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_FINITE_KERNEL.kcomp_finite_kernel_finite.k">k</a></span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT">measurableT</a></span>) <span class="id">_</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">y</span> <span class="id">_;</span> <span class="id">exact/ltW/hr</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_cst">integral_cst//=</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinM">EFinM</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_pmul2l">lte_pmul2l</a></span>.<br/>
Qed.</div>
<br/>
<span id="KCOMP_FINITE_KERNEL.kernel_mkcomp__canonical__kernel_FiniteKernel" class="id"><span id="KCOMP_FINITE_KERNEL.HB_unnamed_mixin_131" class="id"><span id="KCOMP_FINITE_KERNEL.kernel_mkcomp__canonical__kernel_SFiniteKernel" class="id"><span id="KCOMP_FINITE_KERNEL.HB_unnamed_mixin_130" class="id"><span id="KCOMP_FINITE_KERNEL.kernel_Kernel_isFinite__to__kernel_Kernel_isSFinite_subdef" class="id"><span id="KCOMP_FINITE_KERNEL.kernel_Kernel_isFinite__to__kernel_SFiniteKernel_isFinite" class="id"><span id="KCOMP_FINITE_KERNEL.HB_unnamed_factory_127" class="id"><a name="KCOMP_FINITE_KERNEL.kernel_mkcomp__canonical__kernel_FiniteKernel" class="hierarchy-builder">HB.instance</a></span></span></span></span></span></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.kernel.html#Kernel_isFinite.Build">Kernel_isFinite.Build</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_FINITE_KERNEL.kcomp_finite_kernel_finite.X">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_FINITE_KERNEL.kcomp_finite_kernel_finite.Z">Z</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_FINITE_KERNEL.kcomp_finite_kernel_finite.R">R</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_FINITE_KERNEL.kcomp_finite_kernel_finite.l">l</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#66c7375a6c32319fd0ed81255931693f">\;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_FINITE_KERNEL.kcomp_finite_kernel_finite.k">k</a></span>) <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_FINITE_KERNEL.kcomp_finite_kernel_finite.mkcomp_finite">mkcomp_finite</a></span>.<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_FINITE_KERNEL.kcomp_finite_kernel_finite">kcomp_finite_kernel_finite</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_FINITE_KERNEL">KCOMP_FINITE_KERNEL</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="kcomp_sfinite_kernel" class="id"><a name="kcomp_sfinite_kernel" class="">kcomp_sfinite_kernel</a></span>.<br/>
<span class="vernacular">Context</span> <span id="d:690" class="id"><a name="d:690" class="">d</a></span> <span id="d':691" class="id"><a name="d':691" class="">d'</a></span> <span id="d3:692" class="id"><a name="d3:692" class="">d3</a></span> (<span id="X:693" class="id"><a name="X:693" class="">X</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:690">d</a></span>) (<span id="Y:694" class="id"><a name="Y:694" class="">Y</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':691">d'</a></span>)<br/>
&nbsp;&nbsp;(<span id="Z:695" class="id"><a name="Z:695" class="">Z</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d3:692">d3</a></span>) (<span id="R:696" class="id"><a name="R:696" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="vernacular">Variable</span> <span id="kcomp_sfinite_kernel.l" class="id"><a name="kcomp_sfinite_kernel.l" class="">l</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_sfinite_kernel.R">R</a></span>.<span class="id">-sfker</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_sfinite_kernel.X">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#2f2bb8476188c3521c5dd8e5760dc6ab">~&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_sfinite_kernel.Y">Y</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="kcomp_sfinite_kernel.k" class="id"><a name="kcomp_sfinite_kernel.k" class="">k</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_sfinite_kernel.R">R</a></span>.<span class="id">-sfker</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_sfinite_kernel.X">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_sfinite_kernel.Y">Y]</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#2f2bb8476188c3521c5dd8e5760dc6ab">~&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_sfinite_kernel.Z">Z</a></span>.<br/>
<br/>
<span class="vernacular">Import</span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_FINITE_KERNEL">KCOMP_FINITE_KERNEL</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="mkcomp_sfinite" class="id"><a name="mkcomp_sfinite" class="">mkcomp_sfinite</a></span> <span class="id">:</span> <span class="gallina-kwd">exists</span> <span id="k_:699" class="id"><a name="k_:699" class="">k_</a></span> <span class="id">:</span> (<span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_sfinite_kernel.R">R</a></span>.<span class="id">-fker</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_sfinite_kernel.X">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#a630ad86ffa8dd82d98f88052283a61f">~&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_sfinite_kernel.Z">Z</a></span>)<span class="id">^nat,</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:700" class="id"><a name="x:700" class="">x</a></span> <span id="U:701" class="id"><a name="U:701" class="">U,</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:701">U</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_sfinite_kernel.l">l</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#66c7375a6c32319fd0ed81255931693f">\;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_sfinite_kernel.k">k</a></span>) <span class="id"><a href="mathcomp.analysis.kernel.html#x:700">x</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:701">U</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kseries">kseries</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#k_:699">k_</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:700">x</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:701">U</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof44')">Proof.</span></div>
<div class="proofscript" id="proof44">
<span class="id">have</span> <span class="id">[k_</span> <span class="id">hk_]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfinite_kernel">sfinite_kernel</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_sfinite_kernel.k">k;</a></span> <span class="id">have</span> <span class="id">[l_</span> <span class="id">hl_]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfinite_kernel">sfinite_kernel</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_sfinite_kernel.l">l</a></span>.<br/>
<span class="id">have</span> <span class="id">[kl</span> <span class="id">hkl]</span> <span class="id">:</span> <span class="gallina-kwd">exists</span> <span id="kl:702" class="id"><a name="kl:702" class="">kl</a></span> <span class="id">:</span> (<span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_sfinite_kernel.R">R</a></span>.<span class="id">-fker</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_sfinite_kernel.X">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#a630ad86ffa8dd82d98f88052283a61f">~&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_sfinite_kernel.Z">Z</a></span>) <span class="id">^nat,</span> <span class="gallina-kwd">forall</span> <span id="x:703" class="id"><a name="x:703" class="">x</a></span> <span id="U:704" class="id"><a name="U:704" class="">U,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.esum.html#bfafafade7d3e202dbbc3dbf50606eb1">\esum_</a></span>(<span id="i:705" class="id"><a name="i:705" class="">i</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span>) (<span class="id">l_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#i:705">i</a></span>.<span class="id">2</span> <span class="id"><a href="mathcomp.analysis.kernel.html#66c7375a6c32319fd0ed81255931693f">\;</a></span> <span class="id">k_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#i:705">i</a></span>.<span class="id">1</span>) <span class="id"><a href="mathcomp.analysis.kernel.html#x:703">x</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:704">U</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.sequences.html#acaaf5f54a6a8a222320424b6e0ccad5">\sum_</a></span>(<span id="i:708" class="id"><span id="i:707" class="id"><span id="i:706" class="id"><a name="i:708" class="">i</a></span></span></span> <span class="id"><a href="mathcomp.analysis.sequences.html#acaaf5f54a6a8a222320424b6e0ccad5">&lt;oo</a></span>) <span class="id"><a href="mathcomp.analysis.kernel.html#kl:702">kl</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#i:706">i</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:703">x</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:704">U</a></span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">/ppcard_eqP[f]</span> <span class="id">:</span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#36b9f1631384d2c3b944cb9d5855cd98">[set:</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat]</a></span> <span class="id"><a href="mathcomp.classical.cardinality.html#75c3eadbb3fd356da27f1f2e697bb40b">#=</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#36b9f1631384d2c3b944cb9d5855cd98">[set:</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat]</a></span>)<span class="id">%card</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.cardinality.html#card_eq_sym">card_eq_sym;</a></span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.classical.cardinality.html#card_nat2">card_nat2</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> (<span class="gallina-kwd">fun</span> <span id="i:710" class="id"><span id="i:709" class="id"><a name="i:710" class="">i</a></span></span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id">_</span>.<span class="id">-fker</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#a630ad86ffa8dd82d98f88052283a61f">~&gt;</a></span> <span class="id">_</span> <span class="id">of</span> <span class="id">l_</span> (<span class="id">f</span> <span class="id"><a href="mathcomp.analysis.kernel.html#i:709">i</a></span>).<span class="id">2</span> <span class="id"><a href="mathcomp.analysis.kernel.html#66c7375a6c32319fd0ed81255931693f">\;</a></span> <span class="id">k_</span> (<span class="id">f</span> <span class="id"><a href="mathcomp.analysis.kernel.html#i:709">i</a></span>).<span class="id">1]</span>) <span class="id">=&gt;</span> <span class="id">x</span> <span class="id">U</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id"><a href="mathcomp.analysis.esum.html#reindex_esum">reindex_esum</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#36b9f1631384d2c3b944cb9d5855cd98">[set:</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat]</a></span> <span class="id">_</span> <span class="id">f</span>)<span class="id">//</span> <span class="id"><a href="mathcomp.analysis.esum.html#nneseries_esum">nneseries_esum//</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#fun_true">fun_true</a></span>.<br/>
<span class="gallina-kwd">exists</span> <span class="id">kl</span> <span class="id">=&gt;</span> <span class="id">x</span> <span class="id">U</span> <span class="id">mU</span>.<br/>
<span class="id">transitivity</span> ((<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id">_</span>.<span class="id">-ker</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#c4a502042c2f67c701729be5ec5cf362">~&gt;</a></span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kseries">kseries</a></span> <span class="id">l_]</span> <span class="id"><a href="mathcomp.analysis.kernel.html#66c7375a6c32319fd0ed81255931693f">\;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id">_</span>.<span class="id">-ker</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#c4a502042c2f67c701729be5ec5cf362">~&gt;</a></span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kseries">kseries</a></span> <span class="id">k_]</span>) <span class="id">x</span> <span class="id">U</span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">/=</span> <span class="id">/kcomp</span> <span class="id">[in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS]</a></span>(<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_measure_integral">eq_measure_integral</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_sfinite_kernel.l">l</a></span> <span class="id">x</span>))<span class="id">;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">*;</span> <span class="id">rewrite</span> <span class="id">hl_</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> <span class="id">=&gt;</span> <span class="id">y</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id">hk_</span>.<br/>
<span class="id">rewrite</span> <span class="id">/=</span> <span class="id">/kcomp/=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_nneseries">integral_nneseries//=;</a></span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">n;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#measurable_kernel">measurable_kernel</a></span> (<span class="id">k_</span> <span class="id">n</span>) <span class="id">_</span> <span class="id">mU</span>) <span class="id">_</span>.<br/>
<span class="id">transitivity</span> (<span class="id"><a href="mathcomp.analysis.sequences.html#acaaf5f54a6a8a222320424b6e0ccad5">\sum_</a></span>(<span id="i:719" class="id"><span id="i:718" class="id"><span id="i:717" class="id"><span id="i:713" class="id"><span id="i:712" class="id"><span id="i:711" class="id"><a name="i:719" class="">i</a></span></span></span></span></span></span> <span class="id"><a href="mathcomp.analysis.sequences.html#acaaf5f54a6a8a222320424b6e0ccad5">&lt;oo</a></span>) <span class="id"><a href="mathcomp.analysis.sequences.html#acaaf5f54a6a8a222320424b6e0ccad5">\sum_</a></span>(<span id="j:722" class="id"><span id="j:721" class="id"><span id="j:720" class="id"><span id="j:716" class="id"><span id="j:715" class="id"><span id="j:714" class="id"><a name="j:722" class="">j</a></span></span></span></span></span></span> <span class="id"><a href="mathcomp.analysis.sequences.html#acaaf5f54a6a8a222320424b6e0ccad5">&lt;oo</a></span>) (<span class="id">l_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#j:714">j</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#66c7375a6c32319fd0ed81255931693f">\;</a></span> <span class="id">k_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#i:711">i</a></span>) <span class="id">x</span> <span class="id">U</span>).<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.sequences.html#eq_eseriesr">eq_eseriesr</a></span> <span class="id">=&gt;</span> <span class="id">i</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.kernel.html#integral_kseries">integral_kseries//</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#measurable_kernel">measurable_kernel</a></span> (<span class="id">k_</span> <span class="id">i</span>) <span class="id">_</span> <span class="id">mU</span>) <span class="id">_</span>.<br/>
<span class="id">rewrite</span> <span class="id">/mseries</span> <span class="id">-hkl/=</span>.<br/>
<span class="id">rewrite</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#8f8ce0ffd4fcb1cabbac77bb467a750e">`*``</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#94502d422d70bbaf4f390946d9885b7c">fun=&gt;</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span>))<span class="id">;</span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">apply/seteqP;</span> <span class="id">split</span>.<br/>
<span class="id">rewrite</span> <span class="id">-</span>(<span class="id">@esum_esum</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (<span class="gallina-kwd">fun</span> <span id="i:727" class="id"><span id="i:725" class="id"><span id="i:723" class="id"><a name="i:727" class="">i</a></span></span></span> <span id="j:728" class="id"><span id="j:726" class="id"><span id="j:724" class="id"><a name="j:728" class="">j</a></span></span></span> <span class="id">=&gt;</span> (<span class="id">l_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#j:724">j</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#66c7375a6c32319fd0ed81255931693f">\;</a></span> <span class="id">k_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#i:723">i</a></span>) <span class="id">x</span> <span class="id">U</span>))<span class="id">//</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.esum.html#nneseries_esum">nneseries_esum;</a></span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">n</span> <span class="id">_;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.sequences.html#nneseries_ge0">nneseries_ge0</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#fun_true">fun_true;</a></span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.esum.html#eq_esum">eq_esum</a></span> <span class="id">=&gt;</span> <span class="id">/=</span> <span class="id">i</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.esum.html#nneseries_esum">nneseries_esum//</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#fun_true">fun_true</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="measurable_fun_mkcomp_sfinite" class="id"><a name="measurable_fun_mkcomp_sfinite" class="">measurable_fun_mkcomp_sfinite</a></span> <span id="U:729" class="id"><a name="U:729" class="">U</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:729">U</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#36b9f1631384d2c3b944cb9d5855cd98">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_sfinite_kernel.X">X]</a></span> ((<span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_sfinite_kernel.l">l</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#66c7375a6c32319fd0ed81255931693f">\;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_sfinite_kernel.k">k</a></span>) <span class="id">^~</span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:729">U</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof45')">Proof.</span></div>
<div class="proofscript" id="proof45">
<span class="id">move=&gt;</span> <span class="id">mU;</span> <span class="id">apply:</span> (<span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_integral_sfinite_kernel">measurable_fun_integral_sfinite_kernel</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_sfinite_kernel.k">k</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#d89396f990d6b54d736cfe259e498cf4">^~</a></span> <span class="id">U</span>)) <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
<span class="id">exact/measurable_kernel</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_sfinite_kernel">kcomp_sfinite_kernel</a></span>.<br/>
<br/>
<span class="vernacular">Module</span> <span id="KCOMP_SFINITE_KERNEL" class="id"><a name="KCOMP_SFINITE_KERNEL" class="">KCOMP_SFINITE_KERNEL</a></span>.<br/>
<span class="vernacular">Section</span> <span id="KCOMP_SFINITE_KERNEL.kcomp_sfinite_kernel" class="id"><a name="KCOMP_SFINITE_KERNEL.kcomp_sfinite_kernel" class="">kcomp_sfinite_kernel</a></span>.<br/>
<span class="vernacular">Context</span> <span id="d:730" class="id"><a name="d:730" class="">d</a></span> <span id="d':731" class="id"><a name="d':731" class="">d'</a></span> <span id="d3:732" class="id"><a name="d3:732" class="">d3</a></span> (<span id="X:733" class="id"><a name="X:733" class="">X</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:730">d</a></span>) (<span id="Y:734" class="id"><a name="Y:734" class="">Y</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':731">d'</a></span>)<br/>
&nbsp;&nbsp;(<span id="Z:735" class="id"><a name="Z:735" class="">Z</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d3:732">d3</a></span>) (<span id="R:736" class="id"><a name="R:736" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="vernacular">Variable</span> <span id="KCOMP_SFINITE_KERNEL.kcomp_sfinite_kernel.l" class="id"><a name="KCOMP_SFINITE_KERNEL.kcomp_sfinite_kernel.l" class="">l</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_SFINITE_KERNEL.kcomp_sfinite_kernel.R">R</a></span>.<span class="id">-sfker</span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_SFINITE_KERNEL.kcomp_sfinite_kernel.X">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#2f2bb8476188c3521c5dd8e5760dc6ab">~&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_SFINITE_KERNEL.kcomp_sfinite_kernel.Y">Y</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="KCOMP_SFINITE_KERNEL.kcomp_sfinite_kernel.k" class="id"><a name="KCOMP_SFINITE_KERNEL.kcomp_sfinite_kernel.k" class="">k</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_SFINITE_KERNEL.kcomp_sfinite_kernel.R">R</a></span>.<span class="id">-sfker</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_SFINITE_KERNEL.kcomp_sfinite_kernel.X">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_SFINITE_KERNEL.kcomp_sfinite_kernel.Y">Y]</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#2f2bb8476188c3521c5dd8e5760dc6ab">~&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_SFINITE_KERNEL.kcomp_sfinite_kernel.Z">Z</a></span>.<br/>
<br/>
<span id="KCOMP_SFINITE_KERNEL.kernel_mkcomp__canonical__kernel_Kernel" class="id"><span id="KCOMP_SFINITE_KERNEL.HB_unnamed_factory_132" class="id"><a name="KCOMP_SFINITE_KERNEL.kernel_mkcomp__canonical__kernel_Kernel" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.kernel.html#isKernel.Build">isKernel.Build</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_SFINITE_KERNEL.kcomp_sfinite_kernel.X">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_SFINITE_KERNEL.kcomp_sfinite_kernel.Z">Z</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_SFINITE_KERNEL.kcomp_sfinite_kernel.R">R</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_SFINITE_KERNEL.kcomp_sfinite_kernel.l">l</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#66c7375a6c32319fd0ed81255931693f">\;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_SFINITE_KERNEL.kcomp_sfinite_kernel.k">k</a></span>) (<span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_mkcomp_sfinite">measurable_fun_mkcomp_sfinite</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_SFINITE_KERNEL.kcomp_sfinite_kernel.l">l</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_SFINITE_KERNEL.kcomp_sfinite_kernel.k">k</a></span>).<br/>
<br/>
<span id="KCOMP_SFINITE_KERNEL.kernel_mkcomp__canonical__kernel_SFiniteKernel" class="id"><span id="KCOMP_SFINITE_KERNEL.HB_unnamed_mixin_136" class="id"><span id="KCOMP_SFINITE_KERNEL.kernel_Kernel_isSFinite__to__kernel_Kernel_isSFinite_subdef" class="id"><span id="KCOMP_SFINITE_KERNEL.HB_unnamed_factory_134" class="id"><a name="KCOMP_SFINITE_KERNEL.kernel_mkcomp__canonical__kernel_SFiniteKernel" class="">#[export]</a></span></span></span></span><br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.kernel.html#Kernel_isSFinite.Build">Kernel_isSFinite.Build</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_SFINITE_KERNEL.kcomp_sfinite_kernel.X">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_SFINITE_KERNEL.kcomp_sfinite_kernel.Z">Z</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_SFINITE_KERNEL.kcomp_sfinite_kernel.R">R</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_SFINITE_KERNEL.kcomp_sfinite_kernel.l">l</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#66c7375a6c32319fd0ed81255931693f">\;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_SFINITE_KERNEL.kcomp_sfinite_kernel.k">k</a></span>) (<span class="id"><a href="mathcomp.analysis.kernel.html#mkcomp_sfinite">mkcomp_sfinite</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_SFINITE_KERNEL.kcomp_sfinite_kernel.l">l</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_SFINITE_KERNEL.kcomp_sfinite_kernel.k">k</a></span>).<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_SFINITE_KERNEL.kcomp_sfinite_kernel">kcomp_sfinite_kernel</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_SFINITE_KERNEL">KCOMP_SFINITE_KERNEL</a></span>.<br/>
<span class="id">HB.export</span> <span class="id">KCOMP_SFINITE_KERNEL</span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="measurable_fun_preimage_integral" class="id"><a name="measurable_fun_preimage_integral" class="">measurable_fun_preimage_integral</a></span>.<br/>
<span class="vernacular">Context</span> <span id="d:739" class="id"><a name="d:739" class="">d</a></span> <span id="d':740" class="id"><a name="d':740" class="">d'</a></span> (<span id="X:741" class="id"><a name="X:741" class="">X</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:739">d</a></span>) (<span id="Y:742" class="id"><a name="Y:742" class="">Y</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':740">d'</a></span>) (<span id="R:743" class="id"><a name="R:743" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="vernacular">Variables</span> (<span id="measurable_fun_preimage_integral.k" class="id"><a name="measurable_fun_preimage_integral.k" class="">k</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_preimage_integral.Y">Y</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_preimage_integral.R">R</a></span>)<br/>
&nbsp;&nbsp;(<span id="measurable_fun_preimage_integral.k_" class="id"><a name="measurable_fun_preimage_integral.k_" class="">k_</a></span> <span class="id">:</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#62b1f9be67dbf6239bec964ff9de3502">{nnsfun</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_preimage_integral.Y">Y</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#62b1f9be67dbf6239bec964ff9de3502">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_preimage_integral.R">R}</a></span>) <span class="id">^nat</span>)<br/>
&nbsp;&nbsp;(<span id="measurable_fun_preimage_integral.ndk_" class="id"><a name="measurable_fun_preimage_integral.ndk_" class="">ndk_</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.sequences.html#:::'nondecreasing_seq'_x">nondecreasing_seq</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#k_:745">k_</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_preimage_integral.Y">Y</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_preimage_integral.R">R</a></span>)<span class="id">^nat</span>))<br/>
&nbsp;&nbsp;(<span id="measurable_fun_preimage_integral.k_k" class="id"><a name="measurable_fun_preimage_integral.k_k" class="">k_k</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="z:747" class="id"><a name="z:747" class="">z,</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#36b9f1631384d2c3b944cb9d5855cd98">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_preimage_integral.Y">Y]</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#z:747">z</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#k_:745">k_</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#n:748">n</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#z:747">z</a></span>)<span class="id">%:E</span> <span class="id">@[n</span> <span class="id"><a href="mathcomp.analysis.topology.html#9ae20bc67dba0e37ea0806b2f353bb2f">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#228a5fbd8d7ef28f21231bccff88d0b0">\oo]</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'--&gt;'_x">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#k:744">k</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#z:747">z</a></span>).<br/>
<br/>
<span class="vernacular">Let</span> <span id="measurable_fun_preimage_integral.k_2" class="id"><a name="measurable_fun_preimage_integral.k_2" class="">k_2</a></span> <span class="id">:</span> (<span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_preimage_integral.X">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_preimage_integral.Y">Y</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_preimage_integral.R">R</a></span>)<span class="id">^nat</span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="n:750" class="id"><a name="n:750" class="">n</a></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_preimage_integral.k_">k_</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#n:750">n</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#snd">snd</a></span>.<br/>
<br/>
<span class="vernacular">Let</span> <span id="measurable_fun_preimage_integral.k_2_ge0" class="id"><a name="measurable_fun_preimage_integral.k_2_ge0" class="">k_2_ge0</a></span> <span id="n:751" class="id"><a name="n:751" class="">n</a></span> <span id="x:752" class="id"><a name="x:752" class="">x</a></span> <span class="id">:</span> (<span class="id">0</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_preimage_integral.k_2">k_2</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#n:751">n</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:752">x</a></span>)<span class="id">%R</span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof46')">Proof.</span></div>
<div class="proofscript" id="proof46">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<br/>
<span id="kernel_k_2__canonical__lebesgue_integral_NonNegFun" class="id"><span id="HB_unnamed_factory_138" class="id"><span id="measurable_fun_preimage_integral.hb_instance_137.n" class="id"><span id="measurable_fun_preimage_integral.hb_instance_137" class="id"><a name="kernel_k_2__canonical__lebesgue_integral_NonNegFun" class="hierarchy-builder">HB.instance</a></span></span></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span id="n:753" class="id"><a name="n:753" class="">n</a></span> <span class="id">:=</span> <span class="id">@isNonNegFun</span>.<span class="id">Build</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_preimage_integral.k_2_ge0">k_2_ge0</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#n:753">n</a></span>).<br/>
<br/>
<span class="vernacular">Let</span> <span id="measurable_fun_preimage_integral.mk_2" class="id"><a name="measurable_fun_preimage_integral.mk_2" class="">mk_2</a></span> <span id="n:754" class="id"><a name="n:754" class="">n</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#36b9f1631384d2c3b944cb9d5855cd98">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_preimage_integral.X">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_preimage_integral.Y">Y]</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_preimage_integral.k_2">k_2</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#n:754">n</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof47')">Proof.</span></div>
<div class="proofscript" id="proof47">
 <span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_snd">measurable_snd</a></span>. Qed.</div>
<br/>
<span id="kernel_k_2__canonical__lebesgue_integral_MeasurableFun" class="id"><span id="HB_unnamed_factory_141" class="id"><span id="measurable_fun_preimage_integral.hb_instance_140.n" class="id"><span id="measurable_fun_preimage_integral.hb_instance_140" class="id"><a name="kernel_k_2__canonical__lebesgue_integral_MeasurableFun" class="hierarchy-builder">HB.instance</a></span></span></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span id="n:755" class="id"><a name="n:755" class="">n</a></span> <span class="id">:=</span> <span class="id">@isMeasurableFun</span>.<span class="id">Build</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_preimage_integral.mk_2">mk_2</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#n:755">n</a></span>).<br/>
<br/>
<span class="vernacular">Let</span> <span id="measurable_fun_preimage_integral.fk_2" class="id"><a name="measurable_fun_preimage_integral.fk_2" class="">fk_2</a></span> <span id="n:756" class="id"><a name="n:756" class="">n</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.cardinality.html#finite_set">finite_set</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#range">range</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_preimage_integral.k_2">k_2</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#n:756">n</a></span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof48')">Proof.</span></div>
<div class="proofscript" id="proof48">
<span class="id">have</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.cardinality.html#fimfunP">fimfunP</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_preimage_integral.k_">k_</a></span> <span class="id">n</span>).<br/>
<span class="id">suff</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#range">range</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_preimage_integral.k_">k_</a></span> <span class="id">n</span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#range">range</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_preimage_integral.k_2">k_2</a></span> <span class="id">n</span>) <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">&lt;-</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">apply/seteqP;</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">r</span> <span class="id">[y</span> <span class="id">?]</span> <span class="id">&lt;-;</span> <span class="id">[exists</span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#point">point,</a></span> <span class="id">y</span>)<span class="id">|exists</span> <span class="id">y</span>.<span class="id">2]</span>.<br/>
Qed.</div>
<br/>
<span id="kernel_k_2__canonical__lebesgue_integral_NonNegSimpleFun" class="id"><span id="kernel_k_2__canonical__lebesgue_integral_SimpleFun" class="id"><span id="kernel_k_2__canonical__cardinality_FImFun" class="id"><span id="HB_unnamed_factory_144" class="id"><span id="measurable_fun_preimage_integral.hb_instance_143.n" class="id"><span id="measurable_fun_preimage_integral.hb_instance_143" class="id"><a name="kernel_k_2__canonical__lebesgue_integral_NonNegSimpleFun" class="hierarchy-builder">HB.instance</a></span></span></span></span></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span id="n:757" class="id"><a name="n:757" class="">n</a></span> <span class="id">:=</span> <span class="id">@FiniteImage</span>.<span class="id">Build</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_preimage_integral.fk_2">fk_2</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#n:757">n</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="measurable_fun_preimage_integral" class="id"><a name="measurable_fun_preimage_integral" class="">measurable_fun_preimage_integral</a></span> (<span id="l:758" class="id"><a name="l:758" class="">l</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_preimage_integral.X">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_preimage_integral.Y">Y</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_preimage_integral.R">R}</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="n:759" class="id"><a name="n:759" class="">n</a></span> <span id="r:760" class="id"><a name="r:760" class="">r,</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#36b9f1631384d2c3b944cb9d5855cd98">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_preimage_integral.X">X]</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#l:758">l</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#d89396f990d6b54d736cfe259e498cf4">^~</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_preimage_integral.k_">k_</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#n:759">n</a></span> <span class="id">@^-1`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#29c78c22490f2dae838b1b504eb858a2">[set</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#r:760">r]</a></span>))) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#36b9f1631384d2c3b944cb9d5855cd98">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_preimage_integral.X">X]</a></span> (<span class="gallina-kwd">fun</span> <span id="x:761" class="id"><a name="x:761" class="">x</a></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[l</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:761">x]_z</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_preimage_integral.k">k</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#z:762">z</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof49')">Proof.</span></div>
<div class="proofscript" id="proof49">
<span class="id">move=&gt;</span> <span class="id">h;</span> <span class="id">apply:</span> (<span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_xsection_integral">measurable_fun_xsection_integral</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_preimage_integral.k">k</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#snd">snd</a></span>) <span class="id">l</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">fun</span> <span id="n:764" class="id"><span id="n:763" class="id"><a name="n:764" class="">n</a></span></span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#62b1f9be67dbf6239bec964ff9de3502">{nnsfun</a></span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#62b1f9be67dbf6239bec964ff9de3502">&gt;-&gt;</a></span> <span class="id">_}</span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_preimage_integral.k_2">k_2</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#n:763">n]</a></span>)) <span class="id">=&gt;</span> <span class="id">/=</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/k_2</span> <span class="id">=&gt;</span> <span class="id">m</span> <span class="id">n</span> <span class="id">mn;</span> <span class="id">apply/lefP</span> <span class="id">=&gt;</span> <span class="id">-[x</span> <span class="id">y]</span> <span class="id">/=;</span> <span class="id">exact/lefP/ndk_</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">[x</span> <span class="id">y];</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_preimage_integral.k_k">k_k</a></span>.<br/>
<span class="id">-</span> <span class="id">move=&gt;</span> <span class="id">n</span> <span class="id">r</span> <span class="id">_</span> <span class="id">/=</span> <span class="id">B</span> <span class="id">mB</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">:=</span> <span class="id">h</span> <span class="id">n</span> <span class="id">r</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT">measurableT</a></span> <span class="id">B</span> <span class="id">mB;</span> <span class="id">rewrite</span> <span class="id">!setTI</span>.<br/>
&nbsp;&nbsp;<span class="id">suff</span> <span class="id">:</span> (<span class="id">l</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#d89396f990d6b54d736cfe259e498cf4">^~</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_preimage_integral.k_">k_</a></span> <span class="id">n</span> <span class="id">@^-1`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#29c78c22490f2dae838b1b504eb858a2">[set</a></span> <span class="id">r]</span>)) <span class="id">@^-1`</span> <span class="id">B</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="gallina-kwd">fun</span> <span id="x:765" class="id"><a name="x:765" class="">x</a></span> <span class="id">=&gt;</span> <span class="id">l</span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:765">x</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#xsection">xsection</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_preimage_integral.k_2">k_2</a></span> <span class="id">n</span> <span class="id">@^-1`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#29c78c22490f2dae838b1b504eb858a2">[set</a></span> <span class="id">r]</span>) <span class="id"><a href="mathcomp.analysis.kernel.html#x:765">x</a></span>)) <span class="id">@^-1`</span> <span class="id">B</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">-&gt;</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply/seteqP;</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">x/=;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#comp_preimage">comp_preimage</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#snd">snd</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_preimage_integral.k_">k_</a></span> <span class="id">n</span>)) <span class="id"><a href="mathcomp.classical.classical_sets.html#xsection_preimage_snd">xsection_preimage_snd</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_preimage_integral">measurable_fun_preimage_integral</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="measurable_fun_integral_kernel" class="id"><a name="measurable_fun_integral_kernel" class="">measurable_fun_integral_kernel</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span id="d:766" class="id"><a name="d:766" class="">d</a></span> <span id="d':767" class="id"><a name="d':767" class="">d'</a></span> (<span id="X:768" class="id"><a name="X:768" class="">X</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:766">d</a></span>) (<span id="Y:769" class="id"><a name="Y:769" class="">Y</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':767">d'</a></span>) (<span id="R:770" class="id"><a name="R:770" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="l:771" class="id"><a name="l:771" class="">l</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#X:768">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.kernel.html#Y:769">Y</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.kernel.html#R:770">R}</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="ml:773" class="id"><a name="ml:773" class="">ml</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="U:772" class="id"><a name="U:772" class="">U,</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:772">U</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#36b9f1631384d2c3b944cb9d5855cd98">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#X:768">X]</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#l:771">l</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#d89396f990d6b54d736cfe259e498cf4">^~</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:772">U</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="k:774" class="id"><a name="k:774" class="">k</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#Y:769">Y</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#R:770">R</a></span>) (<span id="k0:776" class="id"><a name="k0:776" class="">k0</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="z:775" class="id"><a name="z:775" class="">z,</a></span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#k:774">k</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#z:775">z</a></span>) (<span id="mk:777" class="id"><a name="mk:777" class="">mk</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#36b9f1631384d2c3b944cb9d5855cd98">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Y:769">Y]</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#k:774">k</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#36b9f1631384d2c3b944cb9d5855cd98">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#X:768">X]</a></span> (<span class="gallina-kwd">fun</span> <span id="x:778" class="id"><a name="x:778" class="">x</a></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[l</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:778">x]_y</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#k:774">k</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#y:779">y</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof50')">Proof.</span></div>
<div class="proofscript" id="proof50">
<span class="id">have</span> <span class="id">[k_</span> <span class="id">[ndk_</span> <span class="id">k_k]]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation">approximation</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT">measurableT</a></span> <span class="id">mk</span> (<span class="gallina-kwd">fun</span> <span id="x:780" class="id"><a name="x:780" class="">x</a></span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id">k0</span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:780">x</a></span>).<br/>
<span class="gallina-kwd">by</span> <span class="id">apply:</span> (<span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_preimage_integral">measurable_fun_preimage_integral</a></span> <span class="id">ndk_</span> <span class="id">k_k</span>) <span class="id">=&gt;</span> <span class="id">n</span> <span class="id">r;</span> <span class="id">exact/ml</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Section</span> <span id="integral_kcomp" class="id"><a name="integral_kcomp" class="">integral_kcomp</a></span>.<br/>
<span class="vernacular">Context</span> <span id="d:781" class="id"><a name="d:781" class="">d</a></span> <span id="d2:782" class="id"><a name="d2:782" class="">d2</a></span> <span id="d3:783" class="id"><a name="d3:783" class="">d3</a></span> (<span id="X:784" class="id"><a name="X:784" class="">X</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:781">d</a></span>) (<span id="Y:785" class="id"><a name="Y:785" class="">Y</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d2:782">d2</a></span>)<br/>
&nbsp;&nbsp;(<span id="Z:786" class="id"><a name="Z:786" class="">Z</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d3:783">d3</a></span>) (<span id="R:787" class="id"><a name="R:787" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="vernacular">Variables</span> (<span id="integral_kcomp.l" class="id"><a name="integral_kcomp.l" class="">l</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#integral_kcomp.R">R</a></span>.<span class="id">-sfker</span> <span class="id"><a href="mathcomp.analysis.kernel.html#integral_kcomp.X">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#2f2bb8476188c3521c5dd8e5760dc6ab">~&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#integral_kcomp.Y">Y</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="integral_kcomp.k" class="id"><a name="integral_kcomp.k" class="">k</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#integral_kcomp.R">R</a></span>.<span class="id">-sfker</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.kernel.html#integral_kcomp.X">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#integral_kcomp.Y">Y]</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#2f2bb8476188c3521c5dd8e5760dc6ab">~&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#integral_kcomp.Z">Z</a></span>).<br/>
<br/>
<span class="vernacular">Let</span> <span id="integral_kcomp.integral_kcomp_indic" class="id"><a name="integral_kcomp.integral_kcomp_indic" class="">integral_kcomp_indic</a></span> <span id="x:790" class="id"><a name="x:790" class="">x</a></span> <span id="E:791" class="id"><a name="E:791" class="">E</a></span> (<span id="mE:792" class="id"><a name="mE:792" class="">mE</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#E:791">E</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[kcomp</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#integral_kcomp.l">l</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#integral_kcomp.k">k</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:790">x]_z</a></span> (<span class="id"><a href="mathcomp.analysis.numfun.html#e353122e03268a6eab33cb5af81dd3c6">\1_E</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#z:793">z</a></span>)<span class="id">%:E</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[l</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:790">x]_y</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[k</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#x:790">x,</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#y:794">y</a></span>)<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">]_z</a></span> (<span class="id"><a href="mathcomp.analysis.numfun.html#e353122e03268a6eab33cb5af81dd3c6">\1_E</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#z:795">z</a></span>)<span class="id">%:E</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof51')">Proof.</span></div>
<div class="proofscript" id="proof51">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_indic">integral_indic//=</a></span> <span class="id">/kcomp</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> <span class="id">=&gt;</span> <span class="id">y</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_indic">integral_indic</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="integral_kcomp.integral_kcomp_nnsfun" class="id"><a name="integral_kcomp.integral_kcomp_nnsfun" class="">integral_kcomp_nnsfun</a></span> <span id="x:796" class="id"><a name="x:796" class="">x</a></span> (<span id="f:797" class="id"><a name="f:797" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#62b1f9be67dbf6239bec964ff9de3502">{nnsfun</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#integral_kcomp.Z">Z</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#62b1f9be67dbf6239bec964ff9de3502">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#integral_kcomp.R">R}</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[kcomp</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#integral_kcomp.l">l</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#integral_kcomp.k">k</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:796">x]_z</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#f:797">f</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#z:798">z</a></span>)<span class="id">%:E</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[l</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:796">x]_y</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[k</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#x:796">x,</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#y:799">y</a></span>)<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">]_z</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#f:797">f</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#z:800">z</a></span>)<span class="id">%:E</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof52')">Proof.</span></div>
<div class="proofscript" id="proof52">
<span class="id">under</span> <span class="id">[in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.LHS">LHS]eq_integral</a></span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fimfunE">fimfunE</a></span> <span class="id">-fsumEFin//</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_fsum">ge0_integral_fsum//;</a></span> <span class="id">last</span> <span class="id">2</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">move=&gt;</span> <span class="id">r;</span> <span class="id">apply/EFin_measurable_fun/measurableT_comp</span> <span class="id">=&gt;</span> <span class="id">[//|]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> <span class="id">fr</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> (<span class="id">f</span> <span class="id">@^-1`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#29c78c22490f2dae838b1b504eb858a2">[set</a></span> <span class="id">r]</span>) <span class="gallina-kwd">by</span> <span class="id">exact/measurable_sfunP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#e353122e03268a6eab33cb5af81dd3c6">\1__</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mindic">mindic</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#integral_kcomp.R">R</a></span> <span class="id">fr</span>).<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">r</span> <span class="id">z</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinM">EFinM</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnfun_muleindic_ge0">nnfun_muleindic_ge0</a></span>.<br/>
<span class="id">under</span> <span class="id">[in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS]eq_integral</a></span>.<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">y</span> <span class="id">_</span>.<br/>
&nbsp;&nbsp;<span class="id">under</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">z</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fimfunE">fimfunE</a></span> <span class="id">-fsumEFin//;</span> <span class="id">over</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">/=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_fsum">ge0_integral_fsum//;</a></span> <span class="id">last</span> <span class="id">2</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">-</span> <span class="id">move=&gt;</span> <span class="id">r;</span> <span class="id">apply/EFin_measurable_fun/measurableT_comp</span> <span class="id">=&gt;</span> <span class="id">[//|]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> <span class="id">fr</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> (<span class="id">f</span> <span class="id">@^-1`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#29c78c22490f2dae838b1b504eb858a2">[set</a></span> <span class="id">r]</span>) <span class="gallina-kwd">by</span> <span class="id">exact/measurable_sfunP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#e353122e03268a6eab33cb5af81dd3c6">\1__</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mindic">mindic</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#integral_kcomp.R">R</a></span> <span class="id">fr</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">r</span> <span class="id">z</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinM">EFinM</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnfun_muleindic_ge0">nnfun_muleindic_ge0</a></span>.<br/>
&nbsp;&nbsp;<span class="id">under</span> <span class="id"><a href="mathcomp.classical.fsbigop.html#eq_fsbigr">eq_fsbigr</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">r</span> <span class="id">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralZl_indic">integralZl_indic</a></span> <span class="id">_</span> (<span class="gallina-kwd">fun</span> <span id="r:803" class="id"><span id="r:802" class="id"><span id="r:801" class="id"><a name="r:803" class="">r</a></span></span></span> <span class="id">=&gt;</span> <span class="id">f</span> <span class="id">@^-1`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#29c78c22490f2dae838b1b504eb858a2">[set</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#r:801">r]</a></span>))<span class="id">//;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">r0;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#preimage_nnfun0">preimage_nnfun0</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_indic">integral_indic//</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setIT">setIT</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">over</span>.<br/>
&nbsp;&nbsp;<span class="id">over</span>.<br/>
<span class="id">rewrite</span> <span class="id">/=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_fsum">ge0_integral_fsum//;</a></span> <span class="id">last</span> <span class="id">2</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">move=&gt;</span> <span class="id">r;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_funeM">measurable_funeM</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#measurable_kernel">measurable_kernel</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#integral_kcomp.k">k</a></span> (<span class="id">f</span> <span class="id">@^-1`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#29c78c22490f2dae838b1b504eb858a2">[set</a></span> <span class="id">r]</span>) <span class="id">_</span>) <span class="id">_</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">move=&gt;</span> <span class="id">n</span> <span class="id">y</span> <span class="id">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mulemu_ge0">mulemu_ge0</a></span> (<span class="gallina-kwd">fun</span> <span id="n:804" class="id"><a name="n:804" class="">n</a></span> <span class="id">=&gt;</span> <span class="id">f</span> <span class="id">@^-1`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#29c78c22490f2dae838b1b504eb858a2">[set</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#n:804">n]</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#preimage_nnfun0">preimage_nnfun0</a></span>.<br/>
<span class="id">apply:</span> <span class="id"><a href="mathcomp.classical.fsbigop.html#eq_fsbigr">eq_fsbigr</a></span> <span class="id">=&gt;</span> <span class="id">r</span> <span class="id">_</span>.<br/>
<span class="id">rewrite</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralZl_indic">integralZl_indic</a></span> <span class="id">_</span> (<span class="gallina-kwd">fun</span> <span id="r:807" class="id"><span id="r:806" class="id"><span id="r:805" class="id"><a name="r:807" class="">r</a></span></span></span> <span class="id">=&gt;</span> <span class="id">f</span> <span class="id">@^-1`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#29c78c22490f2dae838b1b504eb858a2">[set</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#r:805">r]</a></span>))<span class="id">//;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#preimage_nnfun0">preimage_nnfun0</a></span>.<br/>
<span class="id">rewrite</span> <span class="id">/=</span> <span class="id"><a href="mathcomp.analysis.kernel.html#integral_kcomp.integral_kcomp_indic">integral_kcomp_indic;</a></span> <span class="id">last</span> <span class="id">exact/measurable_sfunP</span>.<br/>
<span class="id">have</span> <span class="id">[r0|r0]</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.TotalTheory.leP">leP</a></span> <span class="id">0%R</span> <span class="id">r</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralZl">ge0_integralZl//;</a></span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#measurable_kernel">measurable_kernel</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#integral_kcomp.k">k</a></span> (<span class="id">f</span> <span class="id">@^-1`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#29c78c22490f2dae838b1b504eb858a2">[set</a></span> <span class="id">r]</span>) <span class="id">_</span>) <span class="id">_</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">congr</span> (<span class="id">_</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#f1c2ddfea282f8f8d7539f61e14c08e4">*</a></span> <span class="id">_</span>)<span class="id">;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> <span class="id">=&gt;</span> <span class="id">y</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_indic">integral_indic//</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setIT">setIT</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral0_eq">integral0_eq</a></span> <span class="id">?mule0;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">y</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral0_eq">integral0_eq//</a></span> <span class="id">=&gt;</span> <span class="id">z</span> <span class="id">_</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#preimage_nnfun0">preimage_nnfun0//</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#indic0">indic0</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral0_eq">integral0_eq//</a></span> <span class="id">=&gt;</span> <span class="id">y</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#preimage_nnfun0">preimage_nnfun0//</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measure0">measure0</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule0">mule0</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="integral_kcomp" class="id"><a name="integral_kcomp" class="">integral_kcomp</a></span> <span id="x:808" class="id"><a name="x:808" class="">x</a></span> <span id="f:809" class="id"><a name="f:809" class="">f</a></span> <span class="id">:</span> (<span class="gallina-kwd">forall</span> <span id="z:810" class="id"><a name="z:810" class="">z,</a></span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#f:809">f</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#z:810">z</a></span>) <span class="id">-&gt;</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#36b9f1631384d2c3b944cb9d5855cd98">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#integral_kcomp.Z">Z]</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#f:809">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[kcomp</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#integral_kcomp.l">l</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#integral_kcomp.k">k</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:808">x]_z</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#f:809">f</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#z:811">z</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[l</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:808">x]_y</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[k</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#x:808">x,</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#y:812">y</a></span>)<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">]_z</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#f:809">f</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#z:813">z</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof53')">Proof.</span></div>
<div class="proofscript" id="proof53">
<span class="id">move=&gt;</span> <span class="id">f0</span> <span class="id">mf</span>.<br/>
<span class="id">have</span> <span class="id">[f_</span> <span class="id">[ndf_</span> <span class="id">f_f]]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation">approximation</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT">measurableT</a></span> <span class="id">mf</span> (<span class="gallina-kwd">fun</span> <span id="z:814" class="id"><a name="z:814" class="">z</a></span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id">f0</span> <span class="id"><a href="mathcomp.analysis.kernel.html#z:814">z</a></span>).<br/>
<span class="id">transitivity</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[kcomp</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#integral_kcomp.l">l</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#integral_kcomp.k">k</a></span> <span class="id">x]_z</span> (<span class="id"><a href="mathcomp.analysis.topology.html#lim">lim</a></span> ((<span class="id">f_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#n:816">n</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#z:815">z</a></span>)<span class="id">%:E</span> <span class="id">@[n</span> <span class="id"><a href="mathcomp.analysis.topology.html#9ae20bc67dba0e37ea0806b2f353bb2f">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#228a5fbd8d7ef28f21231bccff88d0b0">\oo]</a></span>))).<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply/eq_integral</span> <span class="id">=&gt;</span> <span class="id">z</span> <span class="id">_;</span> <span class="id">apply/esym/cvg_lim</span> <span class="id">=&gt;</span> <span class="id">//=;</span> <span class="id">exact:</span> <span class="id">f_f</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence">monotone_convergence//;</a></span> <span class="id">last</span> <span class="id">3</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">n;</span> <span class="id">exact/EFin_measurable_fun</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">n</span> <span class="id">z</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">z</span> <span class="id">_</span> <span class="id">a</span> <span class="id">b</span> <span class="id">/ndf_</span> <span class="id">/lefP</span> <span class="id">ab;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
<span class="id">rewrite</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> (<span class="gallina-kwd">fun</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id">_</span>) <span class="id">=</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="gallina-kwd">fun</span> <span id="n:825" class="id"><span id="n:822" class="id"><span id="n:819" class="id"><a name="n:825" class="">n</a></span></span></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[l</a></span> <span class="id">x]_y</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[k</a></span> (<span class="id">x,</span> <span class="id"><a href="mathcomp.analysis.kernel.html#y:820">y</a></span>)<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">]_z</a></span> (<span class="id">f_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#n:819">n</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#z:821">z</a></span>)<span class="id">%:E</span>)))<span class="id">//;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply/funext</span> <span class="id">=&gt;</span> <span class="id">n;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.kernel.html#integral_kcomp.integral_kcomp_nnsfun">integral_kcomp_nnsfun</a></span>.<br/>
<span class="id">transitivity</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[l</a></span> <span class="id">x]_y</span> <span class="id"><a href="mathcomp.analysis.topology.html#lim">lim</a></span> ((<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[k</a></span> (<span class="id">x,</span> <span class="id"><a href="mathcomp.analysis.kernel.html#y:828">y</a></span>)<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">]_z</a></span> (<span class="id">f_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#n:829">n</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#z:830">z</a></span>)<span class="id">%:E</span>) <span class="id">@[n</span> <span class="id"><a href="mathcomp.analysis.topology.html#9ae20bc67dba0e37ea0806b2f353bb2f">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#228a5fbd8d7ef28f21231bccff88d0b0">\oo]</a></span>)).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-monotone_convergence//;</span> <span class="id">last</span> <span class="id">3</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">move=&gt;</span> <span class="id">n;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_integral_kernel">measurable_fun_integral_kernel</a></span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">+</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">U</span> <span class="id">mU;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#measurable_kernel">measurable_kernel</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#integral_kcomp.k">k</a></span> <span class="id">_</span> <span class="id">mU</span>) <span class="id">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">+</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">z;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">+</span> <span class="id">exact/EFin_measurable_fun</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">n</span> <span class="id">y</span> <span class="id">_;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ge0">integral_ge0</a></span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">z</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">move=&gt;</span> <span class="id">y</span> <span class="id">_</span> <span class="id">a</span> <span class="id">b</span> <span class="id">ab;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_le_integral">ge0_le_integral</a></span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">+</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">z</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">+</span> <span class="id">exact/EFin_measurable_fun</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">+</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">z</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">+</span> <span class="id">exact/EFin_measurable_fun</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">+</span> <span class="gallina-kwd">by</span> <span class="id">move:</span> <span class="id">ab</span> <span class="id">=&gt;</span> <span class="id">/ndf_</span> <span class="id">/lefP</span> <span class="id">ab</span> <span class="id">z</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> <span class="id">=&gt;</span> <span class="id">y</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id">-monotone_convergence//;</span> <span class="id">last</span> <span class="id">3</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">n;</span> <span class="id">exact/EFin_measurable_fun</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">n</span> <span class="id">z</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">z</span> <span class="id">_</span> <span class="id">a</span> <span class="id">b</span> <span class="id">/ndf_</span> <span class="id">/lefP;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> <span class="id">=&gt;</span> <span class="id">z</span> <span class="id">_;</span> <span class="id">apply/cvg_lim</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> <span class="id">f_f</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.kernel.html#integral_kcomp">integral_kcomp</a></span>.<br/>

</div>
<div class="footer"><hr/>Generated by <a href="https://github.com/yoshihiro503/coq2html/">a fork of coq2html</a></div>
</body>
</html>
