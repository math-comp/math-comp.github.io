
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Module mathcomp.analysis.numfun</title>
<meta name="description" content="Documentation of Coq module mathcomp.analysis.numfun" />
<link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.css">
<script src="https://cdn.jsdelivr.net/npm/markdown-it/dist/markdown-it.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/markdown-it-texmath/texmath.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/darkmode-js@1.5.7/lib/darkmode-js.min.js"></script>
<link href="coq2html.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="coq2html.js"> </script>
</head>

<body onload="init('proofscript')">
<h1 class="title">Module mathcomp.analysis.numfun</h1>
<div class="coq">
<span class="vernacular">From</span> <span class="id">HB</span> <span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="NOTFOUND the module url for HB.structures">structures</a></span>.<br/>
<span class="vernacular">From</span> <span class="id">mathcomp</span> <span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.all_ssreflect.html">all_ssreflect</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html">ssralg</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html">ssrnum</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrint.html">ssrint</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html">interval</a></span> <span class="id"><a href="NOTFOUND the module url for mathcomp.finmap.finmap">finmap</a></span>.<br/>
<span class="vernacular">From</span> <span class="id">mathcomp</span> <span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="mathcomp.classical.mathcomp_extra.html">mathcomp_extra</a></span> <span class="id"><a href="mathcomp.classical.boolp.html">boolp</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html">classical_sets</a></span> <span class="id"><a href="mathcomp.classical.fsbigop.html">fsbigop</a></span>.<br/>
<span class="vernacular">From</span> <span class="id">mathcomp</span> <span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="mathcomp.classical.functions.html">functions</a></span> <span class="id"><a href="mathcomp.classical.cardinality.html">cardinality</a></span> <span class="id"><a href="mathcomp.classical.set_interval.html">set_interval</a></span>.<br/>
<span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="mathcomp.analysis.signed.html">signed</a></span> <span class="id"><a href="mathcomp.analysis.reals.html">reals</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html">ereal</a></span> <span class="id"><a href="mathcomp.analysis.topology.html">topology</a></span> <span class="id"><a href="mathcomp.analysis.normedtype.html">normedtype</a></span> <span class="id"><a href="mathcomp.analysis.sequences.html">sequences</a></span>.<br/>
<br/>
<div class="ssrdoc md">
# Numerical functions                                                      
                                                                           
This file provides definitions and lemmas about numerical functions.       
                                                                           
```                                                                        
   {nnfun T &gt;-&gt; R} == type of non-negative functions                       
             f ^\+ == the function formed by the non-negative outputs      
                      of f (from a type to the type of extended real       
                      numbers) and 0 otherwise                             
                      rendered as f ⁺ with company-coq (U+207A)            
             f ^\- == the function formed by the non-positive outputs      
                      of f and 0 o.w.                                      
                      rendered as f ⁻ with company-coq (U+207B)            
             \1_ A == indicator function 1_A                               
```                                                                        
                                                                           
</div>
<br/>
<span class="gallina-kwd">Set</span> <span class="vernacular">Implicit</span> <span class="vernacular">Arguments</span>.<br/>
<span class="vernacular">Unset</span> <span class="vernacular">Strict</span> <span class="vernacular">Implicit</span>.<br/>
<span class="vernacular">Unset</span> <span class="vernacular">Printing</span> <span class="vernacular">Implicit</span> <span class="vernacular">Defensive</span>.<br/>
<span class="vernacular">Import</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.TTheory">Order.TTheory</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory">GRing.Theory</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Def">Num.Def</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory">Num.Theory</a></span>.<br/>
<span class="vernacular">Import</span> <span class="id"><a href="mathcomp.analysis.topology.html#numFieldTopology.Exports">numFieldTopology.Exports</a></span>.<br/>
<br/>
<span class="vernacular">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">classical_set_scope</span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">ring_scope</span>.<br/>
<br/>
<span id="isNonNegFun.Exports" class="id"><span id="isNonNegFun.identity_builder" class="id"><span id="isNonNegFun.phant_axioms" class="id"><span id="isNonNegFun.phant_Build" class="id"><span id="isNonNegFun.fun_ge0" class="id"><span id="isNonNegFun.axioms_" class="id"><span id="isNonNegFun.isNonNegFun.f" class="id"><span id="isNonNegFun.isNonNegFun.rT" class="id"><span id="isNonNegFun.isNonNegFun.aT" class="id"><span id="isNonNegFun.isNonNegFun" class="id"><span id="isNonNegFun" class="id"><a name="isNonNegFun.Exports" class="hierarchy-builder">HB.mixin</a></span></span></span></span></span></span></span></span></span></span></span> <span class="vernacular">Record</span> <span class="id">isNonNegFun</span> (<span id="aT:1" class="id"><a name="aT:1" class="">aT</a></span> <span class="id">:</span> <span class="gallina-kwd">Type</span>) (<span id="rT:2" class="id"><a name="rT:2" class="">rT</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.NumDomain.Exports.numDomainType">numDomainType</a></span>) (<span id="f:3" class="id"><a name="f:3" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.numfun.html#aT:1">aT</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#rT:2">rT</a></span>) <span class="id">:=</span> <span class="id">{</span><br/>
&nbsp;&nbsp;<span id="fun_ge0:5" class="id"><a name="fun_ge0:5" class="">fun_ge0</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="x:4" class="id"><a name="x:4" class="">x,</a></span> (<span class="id">0</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#f:3">f</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#x:4">x</a></span>)<span class="id">%R</span><br/>
<span class="id">}</span>.<br/>
<span id="ElpiOperations5" class="id"><span id="fun_ge0" class="id"><span id="NonNegFun.EtaAndMixinExports.structures_eta__canonical__numfun_NonNegFun" class="id"><span id="NonNegFun.EtaAndMixinExports.HB_unnamed_mixin_4" class="id"><span id="NonNegFun.EtaAndMixinExports.numfun_NonNegFun__to__numfun_isNonNegFun" class="id"><span id="NonNegFun.EtaAndMixinExports.HB_unnamed_factory_2" class="id"><span id="NonNegFun.EtaAndMixinExports.hb_instance_1.f" class="id"><span id="NonNegFun.EtaAndMixinExports.hb_instance_1.rT" class="id"><span id="NonNegFun.EtaAndMixinExports.hb_instance_1.aT" class="id"><span id="NonNegFun.EtaAndMixinExports.hb_instance_1" class="id"><span id="NonNegFun.EtaAndMixinExports" class="id"><span id="NonNegFun.phant_on_" class="id"><span id="NonNegFun.Exports" class="id"><span id="NonNegFun.pack_" class="id"><span id="NonNegFun.phant_clone" class="id"><span id="NonNegFun.class" class="id"><span id="NonNegFun.sort" class="id"><span id="NonNegFun.type" class="id"><span id="NonNegFun.numfun_isNonNegFun_mixin" class="id"><span id="NonNegFun.axioms_" class="id"><span id="NonNegFun" class="id"><a name="ElpiOperations5" class="hierarchy-builder">HB.structure</a></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span> <span class="vernacular">Definition</span> <span class="id">NonNegFun</span> <span id="aT:9" class="id"><a name="aT:9" class="">aT</a></span> <span id="rT:10" class="id"><a name="rT:10" class="">rT</a></span> <span class="id">:=</span> <span class="id"><a href="NOTFOUND the module url for HB.structures#07a2fe97f630e8e0c2d8d753544c8c8c">{f</a></span> <span class="id">of</span> <span class="id">@isNonNegFun</span> <span class="id"><a href="mathcomp.analysis.numfun.html#aT:9">aT</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#rT:10">rT</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#f:11">f}</a></span>.<br/>
<span class="vernacular">Reserved</span> <span class="vernacular">Notation</span> <span class="id">&quot;{ 'nnfun' aT &gt;-&gt; T }&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span> <span class="id">level</span> <span class="id">0,</span> <span class="id">format</span> <span class="id">&quot;{ 'nnfun'  aT  &gt;-&gt;  T }&quot;</span>).<br/>
<span class="vernacular">Reserved</span> <span class="vernacular">Notation</span> <span class="id">&quot;[ 'nnfun' 'of' f ]&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span> <span class="id">level</span> <span class="id">0,</span> <span class="id">format</span> <span class="id">&quot;[ 'nnfun'  'of'  f ]&quot;</span>).<br/>
<span class="vernacular">Notation</span> <span id="f7a5001d371827f8d2dd9f14ae0127c4" class="id"><a name="f7a5001d371827f8d2dd9f14ae0127c4" class="">&quot;{ 'nnfun' aT &gt;-&gt; T }&quot;</a></span> <span class="id">:=</span> (<span class="id">@NonNegFun</span>.<span class="id">type</span> <span class="id">aT</span> <span class="id">T</span>) <span class="id">:</span> <span class="id">form_scope</span>.<br/>
<span class="vernacular">Notation</span> <span id="533f97207748de0ff9abf1ea273eb905" class="id"><a name="533f97207748de0ff9abf1ea273eb905" class="">&quot;[ 'nnfun' 'of' f ]&quot;</a></span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#f7a5001d371827f8d2dd9f14ae0127c4">{nnfun</a></span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.numfun.html#f7a5001d371827f8d2dd9f14ae0127c4">&gt;-&gt;</a></span> <span class="id">_}</span> <span class="id">of</span> <span class="id">f]</span> <span class="id">:</span> <span class="id">form_scope</span>.<br/>
<span class="id">#[global]</span> <span class="vernacular">Hint</span> <span class="id">Extern</span> <span class="id">0</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#is_true">is_true</a></span> (<span class="id">0</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id">_</span>)) <span class="id">=&gt;</span> <span class="id">solve</span> <span class="id">[apply:</span> <span class="id"><a href="mathcomp.analysis.numfun.html#fun_ge0">fun_ge0]</a></span> <span class="id">:</span> <span class="id">core</span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="fimfun_bin" class="id"><a name="fimfun_bin" class="">fimfun_bin</a></span>.<br/>
<span class="vernacular">Context</span> (<span id="T:14" class="id"><a name="T:14" class="">T</a></span> <span class="id">:</span> <span class="gallina-kwd">Type</span>) (<span id="R:15" class="id"><a name="R:15" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.NumDomain.Exports.numDomainType">numDomainType</a></span>).<br/>
<span class="vernacular">Variables</span> <span id="fimfun_bin.f" class="id"><a name="fimfun_bin.f" class="">f</a></span> <span id="fimfun_bin.g" class="id"><a name="fimfun_bin.g" class="">g</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.cardinality.html#5d25759c49498e68ff2d2e33aa44cf93">{fimfun</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#fimfun_bin.T">T</a></span> <span class="id"><a href="mathcomp.classical.cardinality.html#5d25759c49498e68ff2d2e33aa44cf93">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#fimfun_bin.R">R}</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="max_fimfun_subproof" class="id"><a name="max_fimfun_subproof" class="">max_fimfun_subproof</a></span> <span class="id">:</span> <span class="id">@FiniteImage</span> <span class="id"><a href="mathcomp.analysis.numfun.html#fimfun_bin.T">T</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#fimfun_bin.R">R</a></span> (<span class="id"><a href="mathcomp.analysis.numfun.html#fimfun_bin.f">f</a></span> <span class="id"><a href="mathcomp.classical.mathcomp_extra.html#505306268c1f512adbccb1af85edfe66">\max</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#fimfun_bin.g">g</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof1')">Proof.</span></div>
<div class="proofscript" id="proof1">
 <span class="gallina-kwd">by</span> <span class="id">split;</span> <span class="id">apply:</span> (<span class="id"><a href="mathcomp.classical.cardinality.html#finite_image11">finite_image11</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Def.maxr">maxr</a></span>). Qed.</div>
<span id="Order_max_fun__canonical__cardinality_FImFun" class="id"><span id="HB_unnamed_factory_6" class="id"><a name="Order_max_fun__canonical__cardinality_FImFun" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.numfun.html#max_fimfun_subproof">max_fimfun_subproof</a></span>.<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.numfun.html#fimfun_bin">fimfun_bin</a></span>.<br/>
<br/>
<span class="vernacular">Reserved</span> <span class="vernacular">Notation</span> <span class="id">&quot;f ^\+&quot; (at level 1, format &quot;f ^\+&quot;</span>).<br/>
<span class="vernacular">Reserved</span> <span class="vernacular">Notation</span> <span class="id">&quot;f ^\-&quot; (at level 1, format &quot;f ^\-&quot;</span>).<br/>
<br/>
<span class="vernacular">Section</span> <span id="restrict_lemmas" class="id"><a name="restrict_lemmas" class="">restrict_lemmas</a></span>.<br/>
<span class="vernacular">Context</span> <span class="id">{aT</span> <span class="id">:</span> <span class="id">Type}</span> <span class="id">{rT</span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.NumField.Exports.numFieldType">numFieldType}</a></span>.<br/>
<span class="vernacular">Implicit</span> <span class="id">Types</span> (<span class="id">f</span> <span class="id">g</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.numfun.html#restrict_lemmas.aT">aT</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#restrict_lemmas.rT">rT</a></span>) (<span class="id">D</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#restrict_lemmas.aT">aT</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="restrict_set0" class="id"><a name="restrict_set0" class="">restrict_set0</a></span> <span id="f:20" class="id"><a name="f:20" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.numfun.html#f:20">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#3655b719ef371a959c75d07b242f4cf9">\_</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> <span class="id">0</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof2')">Proof.</span></div>
<div class="proofscript" id="proof2">
 <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#patch_set0">patch_set0</a></span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="restrict_ge0" class="id"><a name="restrict_ge0" class="">restrict_ge0</a></span> <span id="D:21" class="id"><a name="D:21" class="">D</a></span> <span id="f:22" class="id"><a name="f:22" class="">f</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="x:23" class="id"><a name="x:23" class="">x,</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#D:21">D</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#x:23">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">0</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#f:22">f</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#x:23">x</a></span>) <span class="id">-&gt;</span> <span class="gallina-kwd">forall</span> <span id="x:24" class="id"><a name="x:24" class="">x,</a></span> <span class="id">0</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> (<span class="id"><a href="mathcomp.analysis.numfun.html#f:22">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#3655b719ef371a959c75d07b242f4cf9">\_</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#D:21">D</a></span>) <span class="id"><a href="mathcomp.analysis.numfun.html#x:24">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof3')">Proof.</span></div>
<div class="proofscript" id="proof3">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">f0</span> <span class="id">x;</span> <span class="id">rewrite</span> <span class="id">/patch;</span> <span class="id">case:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifP">ifP</a></span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">/set_mem/f0-&gt;</span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="ler_restrict" class="id"><a name="ler_restrict" class="">ler_restrict</a></span> <span id="D:25" class="id"><a name="D:25" class="">D</a></span> <span id="f:26" class="id"><a name="f:26" class="">f</a></span> <span id="g:27" class="id"><a name="g:27" class="">g</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="x:28" class="id"><a name="x:28" class="">x,</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#D:25">D</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#x:28">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#f:26">f</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#x:28">x</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#g:27">g</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#x:28">x</a></span>) <span class="id">-&gt;</span> <span class="gallina-kwd">forall</span> <span id="x:29" class="id"><a name="x:29" class="">x,</a></span> (<span class="id"><a href="mathcomp.analysis.numfun.html#f:26">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#3655b719ef371a959c75d07b242f4cf9">\_</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#D:25">D</a></span>) <span class="id"><a href="mathcomp.analysis.numfun.html#x:29">x</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> (<span class="id"><a href="mathcomp.analysis.numfun.html#g:27">g</a></span> <span class="id"><a href="mathcomp.classical.functions.html#3655b719ef371a959c75d07b242f4cf9">\_</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#D:25">D</a></span>) <span class="id"><a href="mathcomp.analysis.numfun.html#x:29">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof4')">Proof.</span></div>
<div class="proofscript" id="proof4">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">f0</span> <span class="id">x;</span> <span class="id">rewrite</span> <span class="id">/patch;</span> <span class="id">case:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifP">ifP</a></span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">/set_mem/f0-&gt;</span>. Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.numfun.html#restrict_lemmas">restrict_lemmas</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="erestrict_ge0" class="id"><a name="erestrict_ge0" class="">erestrict_ge0</a></span> <span class="id">{aT}</span> <span class="id">{rT</span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.NumField.Exports.numFieldType">numFieldType}</a></span> (<span id="D:32" class="id"><a name="D:32" class="">D</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#aT:30">aT</a></span>) (<span id="f:33" class="id"><a name="f:33" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.numfun.html#aT:30">aT</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#rT:31">rT</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="x:34" class="id"><a name="x:34" class="">x,</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#D:32">D</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#x:34">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> (<span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#f:33">f</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#x:34">x</a></span>)<span class="id">%E</span>) <span class="id">-&gt;</span> <span class="gallina-kwd">forall</span> <span id="x:35" class="id"><a name="x:35" class="">x,</a></span> (<span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> (<span class="id"><a href="mathcomp.analysis.numfun.html#f:33">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#3655b719ef371a959c75d07b242f4cf9">\_</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#D:32">D</a></span>) <span class="id"><a href="mathcomp.analysis.numfun.html#x:35">x</a></span>)<span class="id">%E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof5')">Proof.</span></div>
<div class="proofscript" id="proof5">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">f0</span> <span class="id">x;</span> <span class="id">rewrite</span> <span class="id">/patch;</span> <span class="id">case:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifP">ifP</a></span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">/set_mem/f0-&gt;</span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="lee_restrict" class="id"><a name="lee_restrict" class="">lee_restrict</a></span> <span class="id">{aT}</span> <span class="id">{rT</span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.NumField.Exports.numFieldType">numFieldType}</a></span> (<span id="D:38" class="id"><a name="D:38" class="">D</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#aT:36">aT</a></span>) (<span id="f:39" class="id"><a name="f:39" class="">f</a></span> <span id="g:40" class="id"><a name="g:40" class="">g</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.numfun.html#aT:36">aT</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#rT:37">rT</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="x:41" class="id"><a name="x:41" class="">x,</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#D:38">D</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#x:41">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#f:39">f</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#x:41">x</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#g:40">g</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#x:41">x</a></span>)<span class="id">%E</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="gallina-kwd">forall</span> <span id="x:42" class="id"><a name="x:42" class="">x,</a></span> ((<span class="id"><a href="mathcomp.analysis.numfun.html#f:39">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#3655b719ef371a959c75d07b242f4cf9">\_</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#D:38">D</a></span>) <span class="id"><a href="mathcomp.analysis.numfun.html#x:42">x</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> (<span class="id"><a href="mathcomp.analysis.numfun.html#g:40">g</a></span> <span class="id"><a href="mathcomp.classical.functions.html#3655b719ef371a959c75d07b242f4cf9">\_</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#D:38">D</a></span>) <span class="id"><a href="mathcomp.analysis.numfun.html#x:42">x</a></span>)<span class="id">%E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof6')">Proof.</span></div>
<div class="proofscript" id="proof6">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">f0</span> <span class="id">x;</span> <span class="id">rewrite</span> <span class="id">/patch;</span> <span class="id">case:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifP">ifP</a></span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">/set_mem/f0-&gt;</span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="restrict_lee" class="id"><a name="restrict_lee" class="">restrict_lee</a></span> <span class="id">{aT}</span> <span class="id">{rT</span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.NumField.Exports.numFieldType">numFieldType}</a></span> (<span id="D:45" class="id"><a name="D:45" class="">D</a></span> <span id="E:46" class="id"><a name="E:46" class="">E</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#aT:43">aT</a></span>) (<span id="f:47" class="id"><a name="f:47" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.numfun.html#aT:43">aT</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#rT:44">rT</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="x:48" class="id"><a name="x:48" class="">x,</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#E:46">E</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#x:48">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#f:47">f</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#x:48">x</a></span>)<span class="id">%E</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.numfun.html#D:45">D</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#e19db46c1d4073266228fb7781521a56">`&lt;=`</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#E:46">E</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="gallina-kwd">forall</span> <span id="x:49" class="id"><a name="x:49" class="">x,</a></span> ((<span class="id"><a href="mathcomp.analysis.numfun.html#f:47">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#3655b719ef371a959c75d07b242f4cf9">\_</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#D:45">D</a></span>) <span class="id"><a href="mathcomp.analysis.numfun.html#x:49">x</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> (<span class="id"><a href="mathcomp.analysis.numfun.html#f:47">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#3655b719ef371a959c75d07b242f4cf9">\_</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#E:46">E</a></span>) <span class="id"><a href="mathcomp.analysis.numfun.html#x:49">x</a></span>)<span class="id">%E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof7')">Proof.</span></div>
<div class="proofscript" id="proof7">
<span class="id">move=&gt;</span> <span class="id">f0</span> <span class="id">ED</span> <span class="id">x;</span> <span class="id">rewrite</span> <span class="id">/restrict;</span> <span class="id">case:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span> <span class="id">=&gt;</span> <span class="id">[xD|xD]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#mem_set">mem_set//;</a></span> <span class="id">apply:</span> <span class="id">ED;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#in_setE">in_setE</a></span> <span class="gallina-kwd">in</span> <span class="id">xD</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">case:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">xE;</span> <span class="id">apply:</span> <span class="id">f0;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#in_setE">in_setE</a></span> <span class="gallina-kwd">in</span> <span class="id">xE</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Section</span> <span id="erestrict_lemmas" class="id"><a name="erestrict_lemmas" class="">erestrict_lemmas</a></span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="vernacular">Variables</span> (<span id="erestrict_lemmas.T" class="id"><a name="erestrict_lemmas.T" class="">T</a></span> <span class="id">:</span> <span class="gallina-kwd">Type</span>) (<span id="erestrict_lemmas.R" class="id"><a name="erestrict_lemmas.R" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.RealDomain.Exports.realDomainType">realDomainType</a></span>) (<span id="erestrict_lemmas.D" class="id"><a name="erestrict_lemmas.D" class="">D</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#T:50">T</a></span>).<br/>
<span class="vernacular">Implicit</span> <span class="id">Types</span> (<span class="id">f</span> <span class="id">g</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.numfun.html#erestrict_lemmas.T">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#erestrict_lemmas.R">R</a></span>) (<span class="id">r</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.numfun.html#erestrict_lemmas.R">R</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="erestrict_set0" class="id"><a name="erestrict_set0" class="">erestrict_set0</a></span> <span id="f:53" class="id"><a name="f:53" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.numfun.html#f:53">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#3655b719ef371a959c75d07b242f4cf9">\_</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> <span class="id">0</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof8')">Proof.</span></div>
<div class="proofscript" id="proof8">
 <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#patch_set0">patch_set0</a></span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="erestrict0" class="id"><a name="erestrict0" class="">erestrict0</a></span> <span class="id">:</span> (<span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#erestrict_lemmas.T">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#erestrict_lemmas.R">R</a></span>) <span class="id">\_</span> <span class="id"><a href="mathcomp.analysis.numfun.html#erestrict_lemmas.D">D</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> <span class="id">0</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof9')">Proof.</span></div>
<div class="proofscript" id="proof9">
 <span class="gallina-kwd">by</span> <span class="id">apply/funext</span> <span class="id">=&gt;</span> <span class="id">x;</span> <span class="id">rewrite</span> <span class="id">/patch/=;</span> <span class="id">case:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifP">ifP</a></span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="erestrictD" class="id"><a name="erestrictD" class="">erestrictD</a></span> <span id="f:54" class="id"><a name="f:54" class="">f</a></span> <span id="g:55" class="id"><a name="g:55" class="">g</a></span> <span class="id">:</span> (<span class="id"><a href="mathcomp.analysis.numfun.html#f:54">f</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#a03b5d62fe4ea52edbfd5608db7ebe2f">\+</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#g:55">g</a></span>) <span class="id">\_</span> <span class="id"><a href="mathcomp.analysis.numfun.html#erestrict_lemmas.D">D</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#f:54">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#3655b719ef371a959c75d07b242f4cf9">\_</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#erestrict_lemmas.D">D</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#a03b5d62fe4ea52edbfd5608db7ebe2f">\+</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#g:55">g</a></span> <span class="id"><a href="mathcomp.classical.functions.html#3655b719ef371a959c75d07b242f4cf9">\_</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#erestrict_lemmas.D">D</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof10')">Proof.</span></div>
<div class="proofscript" id="proof10">
 <span class="gallina-kwd">by</span> <span class="id">apply/funext=&gt;</span> <span class="id">x;</span> <span class="id">rewrite</span> <span class="id">/patch/=;</span> <span class="id">case:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifP">ifP;</a></span> <span class="id">rewrite</span> <span class="id">?adde0</span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="erestrictN" class="id"><a name="erestrictN" class="">erestrictN</a></span> <span id="f:56" class="id"><a name="f:56" class="">f</a></span> <span class="id">:</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#bf80dd271000fa448e03c4c14365c369">\-</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#f:56">f</a></span>) <span class="id">\_</span> <span class="id"><a href="mathcomp.analysis.numfun.html#erestrict_lemmas.D">D</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#bf80dd271000fa448e03c4c14365c369">\-</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#f:56">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#3655b719ef371a959c75d07b242f4cf9">\_</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#erestrict_lemmas.D">D</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof11')">Proof.</span></div>
<div class="proofscript" id="proof11">
 <span class="gallina-kwd">by</span> <span class="id">apply/funext=&gt;</span> <span class="id">x;</span> <span class="id">rewrite</span> <span class="id">/patch/=;</span> <span class="id">case:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifP">ifP;</a></span> <span class="id">rewrite</span> <span class="id">?oppe0</span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="erestrictB" class="id"><a name="erestrictB" class="">erestrictB</a></span> <span id="f:57" class="id"><a name="f:57" class="">f</a></span> <span id="g:58" class="id"><a name="g:58" class="">g</a></span> <span class="id">:</span> (<span class="id"><a href="mathcomp.analysis.numfun.html#f:57">f</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#413a754bf74f3e306cb2b48b8fe944d4">\-</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#g:58">g</a></span>) <span class="id">\_</span> <span class="id"><a href="mathcomp.analysis.numfun.html#erestrict_lemmas.D">D</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#f:57">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#3655b719ef371a959c75d07b242f4cf9">\_</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#erestrict_lemmas.D">D</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#413a754bf74f3e306cb2b48b8fe944d4">\-</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#g:58">g</a></span> <span class="id"><a href="mathcomp.classical.functions.html#3655b719ef371a959c75d07b242f4cf9">\_</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#erestrict_lemmas.D">D</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof12')">Proof.</span></div>
<div class="proofscript" id="proof12">
 <span class="gallina-kwd">by</span> <span class="id">apply/funext=&gt;</span> <span class="id">x;</span> <span class="id">rewrite</span> <span class="id">/patch/=;</span> <span class="id">case:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifP">ifP;</a></span> <span class="id">rewrite</span> <span class="id">?sube0</span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="erestrictM" class="id"><a name="erestrictM" class="">erestrictM</a></span> <span id="f:59" class="id"><a name="f:59" class="">f</a></span> <span id="g:60" class="id"><a name="g:60" class="">g</a></span> <span class="id">:</span> (<span class="id"><a href="mathcomp.analysis.numfun.html#f:59">f</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#1b777d6ed36ff4e9cc54d468aac5be7a">\*</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#g:60">g</a></span>) <span class="id">\_</span> <span class="id"><a href="mathcomp.analysis.numfun.html#erestrict_lemmas.D">D</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#f:59">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#3655b719ef371a959c75d07b242f4cf9">\_</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#erestrict_lemmas.D">D</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#1b777d6ed36ff4e9cc54d468aac5be7a">\*</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#g:60">g</a></span> <span class="id"><a href="mathcomp.classical.functions.html#3655b719ef371a959c75d07b242f4cf9">\_</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#erestrict_lemmas.D">D</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof13')">Proof.</span></div>
<div class="proofscript" id="proof13">
 <span class="gallina-kwd">by</span> <span class="id">apply/funext=&gt;</span> <span class="id">x;</span> <span class="id">rewrite</span> <span class="id">/patch/=;</span> <span class="id">case:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifP">ifP;</a></span> <span class="id">rewrite</span> <span class="id">?mule0</span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="erestrict_scale" class="id"><a name="erestrict_scale" class="">erestrict_scale</a></span> <span id="k:61" class="id"><a name="k:61" class="">k</a></span> <span id="f:62" class="id"><a name="f:62" class="">f</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">fun</span> <span id="x:63" class="id"><a name="x:63" class="">x</a></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.numfun.html#k:61">k%:E</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#f1c2ddfea282f8f8d7539f61e14c08e4">*</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#f:62">f</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#x:63">x</a></span>) <span class="id">\_</span> <span class="id"><a href="mathcomp.analysis.numfun.html#erestrict_lemmas.D">D</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> (<span class="gallina-kwd">fun</span> <span id="x:64" class="id"><a name="x:64" class="">x</a></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.numfun.html#k:61">k%:E</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#f1c2ddfea282f8f8d7539f61e14c08e4">*</a></span> (<span class="id"><a href="mathcomp.analysis.numfun.html#f:62">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#3655b719ef371a959c75d07b242f4cf9">\_</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#erestrict_lemmas.D">D</a></span>) <span class="id"><a href="mathcomp.analysis.numfun.html#x:64">x</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof14')">Proof.</span></div>
<div class="proofscript" id="proof14">
 <span class="gallina-kwd">by</span> <span class="id">apply/funext=&gt;</span> <span class="id">x;</span> <span class="id">rewrite</span> <span class="id">/patch/=;</span> <span class="id">case:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifP">ifP;</a></span> <span class="id">rewrite</span> <span class="id">?mule0</span>. Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.numfun.html#erestrict_lemmas">erestrict_lemmas</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="funposneg" class="id"><a name="funposneg" class="">funposneg</a></span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">ereal_scope</span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="funepos" class="id"><a name="funepos" class="">funepos</a></span> <span id="T:65" class="id"><a name="T:65" class="">T</a></span> (<span id="R:66" class="id"><a name="R:66" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.RealDomain.Exports.realDomainType">realDomainType</a></span>) (<span id="f:67" class="id"><a name="f:67" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.numfun.html#T:65">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#R:66">R</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">fun</span> <span id="x:68" class="id"><a name="x:68" class="">x</a></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#maxe">maxe</a></span> (<span class="id"><a href="mathcomp.analysis.numfun.html#f:67">f</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#x:68">x</a></span>) <span class="id">0</span>.<br/>
<span class="vernacular">Definition</span> <span id="funeneg" class="id"><a name="funeneg" class="">funeneg</a></span> <span id="T:69" class="id"><a name="T:69" class="">T</a></span> (<span id="R:70" class="id"><a name="R:70" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.RealDomain.Exports.realDomainType">realDomainType</a></span>) (<span id="f:71" class="id"><a name="f:71" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.numfun.html#T:69">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#R:70">R</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">fun</span> <span id="x:72" class="id"><a name="x:72" class="">x</a></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#maxe">maxe</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'-'_x">-</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#f:71">f</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#x:72">x</a></span>) <span class="id">0</span>.<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.numfun.html#funposneg">funposneg</a></span>.<br/>
<br/>
<span class="vernacular">Notation</span> <span id="0aba79a7ddf4e21eb9e8bb0a843651a1" class="id"><a name="0aba79a7ddf4e21eb9e8bb0a843651a1" class="">&quot;f ^\+&quot;</a></span> <span class="id">:=</span> (<span class="id"><a href="mathcomp.analysis.numfun.html#funepos">funepos</a></span> <span class="id">f</span>) <span class="id">:</span> <span class="id">ereal_scope</span>.<br/>
<span class="vernacular">Notation</span> <span id="dc73a9eb30675850d21ad1ad76b8f0e8" class="id"><a name="dc73a9eb30675850d21ad1ad76b8f0e8" class="">&quot;f ^\-&quot;</a></span> <span class="id">:=</span> (<span class="id"><a href="mathcomp.analysis.numfun.html#funeneg">funeneg</a></span> <span class="id">f</span>) <span class="id">:</span> <span class="id">ereal_scope</span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="funposneg_lemmas" class="id"><a name="funposneg_lemmas" class="">funposneg_lemmas</a></span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="vernacular">Variables</span> (<span id="funposneg_lemmas.T" class="id"><a name="funposneg_lemmas.T" class="">T</a></span> <span class="id">:</span> <span class="gallina-kwd">Type</span>) (<span id="funposneg_lemmas.R" class="id"><a name="funposneg_lemmas.R" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.RealDomain.Exports.realDomainType">realDomainType</a></span>) (<span id="funposneg_lemmas.D" class="id"><a name="funposneg_lemmas.D" class="">D</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#T:73">T</a></span>).<br/>
<span class="vernacular">Implicit</span> <span class="id">Types</span> (<span class="id">f</span> <span class="id">g</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.numfun.html#funposneg_lemmas.T">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#funposneg_lemmas.R">R</a></span>) (<span class="id">r</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.numfun.html#funposneg_lemmas.R">R</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="funepos_ge0" class="id"><a name="funepos_ge0" class="">funepos_ge0</a></span> <span id="f:76" class="id"><a name="f:76" class="">f</a></span> <span id="x:77" class="id"><a name="x:77" class="">x</a></span> <span class="id">:</span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#f:76">f^\+</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#x:77">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof15')">Proof.</span></div>
<div class="proofscript" id="proof15">
 <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/funepos</span> <span class="id">/=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.TotalTheory.le_maxr">le_maxr</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.lexx">lexx</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#orbT">orbT</a></span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="funeneg_ge0" class="id"><a name="funeneg_ge0" class="">funeneg_ge0</a></span> <span id="f:78" class="id"><a name="f:78" class="">f</a></span> <span id="x:79" class="id"><a name="x:79" class="">x</a></span> <span class="id">:</span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#f:78">f^\-</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#x:79">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof16')">Proof.</span></div>
<div class="proofscript" id="proof16">
 <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/funeneg</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.TotalTheory.le_maxr">le_maxr</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.lexx">lexx</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#orbT">orbT</a></span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="funeposN" class="id"><a name="funeposN" class="">funeposN</a></span> <span id="f:80" class="id"><a name="f:80" class="">f</a></span> <span class="id">:</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#bf80dd271000fa448e03c4c14365c369">\-</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#f:80">f</a></span>)<span class="id">^\+</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#f:80">f^\-</a></span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof17')">Proof.</span></div>
<div class="proofscript" id="proof17">
 <span class="id">exact/funext</span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="funenegN" class="id"><a name="funenegN" class="">funenegN</a></span> <span id="f:81" class="id"><a name="f:81" class="">f</a></span> <span class="id">:</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#bf80dd271000fa448e03c4c14365c369">\-</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#f:81">f</a></span>)<span class="id">^\-</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#f:81">f^\+</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof18')">Proof.</span></div>
<div class="proofscript" id="proof18">
 <span class="gallina-kwd">by</span> <span class="id">apply/funext</span> <span class="id">=&gt;</span> <span class="id">x;</span> <span class="id">rewrite</span> <span class="id">/funeneg</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#oppeK">oppeK</a></span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="funepos_restrict" class="id"><a name="funepos_restrict" class="">funepos_restrict</a></span> <span id="f:82" class="id"><a name="f:82" class="">f</a></span> <span class="id">:</span> (<span class="id"><a href="mathcomp.analysis.numfun.html#f:82">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#3655b719ef371a959c75d07b242f4cf9">\_</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#funposneg_lemmas.D">D</a></span>)<span class="id">^\+</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> (<span class="id"><a href="mathcomp.analysis.numfun.html#f:82">f^\+</a></span>) <span class="id">\_</span> <span class="id"><a href="mathcomp.analysis.numfun.html#funposneg_lemmas.D">D</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof19')">Proof.</span></div>
<div class="proofscript" id="proof19">
<span class="gallina-kwd">by</span> <span class="id">apply/funext</span> <span class="id">=&gt;</span> <span class="id">x;</span> <span class="id">rewrite</span> <span class="id">/patch/_^\+;</span> <span class="id">case:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifP">ifP;</a></span> <span class="id">rewrite</span> <span class="id">//=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.maxxx">maxxx</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="funeneg_restrict" class="id"><a name="funeneg_restrict" class="">funeneg_restrict</a></span> <span id="f:83" class="id"><a name="f:83" class="">f</a></span> <span class="id">:</span> (<span class="id"><a href="mathcomp.analysis.numfun.html#f:83">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#3655b719ef371a959c75d07b242f4cf9">\_</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#funposneg_lemmas.D">D</a></span>)<span class="id">^\-</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> (<span class="id"><a href="mathcomp.analysis.numfun.html#f:83">f^\-</a></span>) <span class="id">\_</span> <span class="id"><a href="mathcomp.analysis.numfun.html#funposneg_lemmas.D">D</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof20')">Proof.</span></div>
<div class="proofscript" id="proof20">
<span class="gallina-kwd">by</span> <span class="id">apply/funext</span> <span class="id">=&gt;</span> <span class="id">x;</span> <span class="id">rewrite</span> <span class="id">/patch/_^\-;</span> <span class="id">case:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifP">ifP;</a></span> <span class="id">rewrite</span> <span class="id">//=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.oppr0">oppr0</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.maxxx">maxxx</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="ge0_funeposE" class="id"><a name="ge0_funeposE" class="">ge0_funeposE</a></span> <span id="f:84" class="id"><a name="f:84" class="">f</a></span> <span class="id">:</span> (<span class="gallina-kwd">forall</span> <span id="x:85" class="id"><a name="x:85" class="">x,</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#funposneg_lemmas.D">D</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#x:85">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#f:84">f</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#x:85">x</a></span>) <span class="id">-&gt;</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#8c08d4203604dbed63e7afa9b689d858">{in</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#funposneg_lemmas.D">D,</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#f:84">f^\+</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#876aa133fb3472bffd492f74ff496035">=1</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#f:84">f}</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof21')">Proof.</span></div>
<div class="proofscript" id="proof21">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">f0</span> <span class="id">x;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> <span class="id">=&gt;</span> <span class="id">Dx;</span> <span class="id">apply/max_idPl/f0</span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="ge0_funenegE" class="id"><a name="ge0_funenegE" class="">ge0_funenegE</a></span> <span id="f:86" class="id"><a name="f:86" class="">f</a></span> <span class="id">:</span> (<span class="gallina-kwd">forall</span> <span id="x:87" class="id"><a name="x:87" class="">x,</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#funposneg_lemmas.D">D</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#x:87">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#f:86">f</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#x:87">x</a></span>) <span class="id">-&gt;</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#8c08d4203604dbed63e7afa9b689d858">{in</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#funposneg_lemmas.D">D,</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#f:86">f^\-</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#876aa133fb3472bffd492f74ff496035">=1</a></span> <span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> <span class="id">0}</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof22')">Proof.</span></div>
<div class="proofscript" id="proof22">
<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">f0</span> <span class="id">x;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> <span class="id">=&gt;</span> <span class="id">Dx;</span> <span class="id">apply/max_idPr;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_oppl">lee_oppl</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#oppe0">oppe0</a></span> <span class="id">f0</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="le0_funeposE" class="id"><a name="le0_funeposE" class="">le0_funeposE</a></span> <span id="f:88" class="id"><a name="f:88" class="">f</a></span> <span class="id">:</span> (<span class="gallina-kwd">forall</span> <span id="x:89" class="id"><a name="x:89" class="">x,</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#funposneg_lemmas.D">D</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#x:89">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#f:88">f</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#x:89">x</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id">0</span>) <span class="id">-&gt;</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#8c08d4203604dbed63e7afa9b689d858">{in</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#funposneg_lemmas.D">D,</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#f:88">f^\+</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#876aa133fb3472bffd492f74ff496035">=1</a></span> <span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> <span class="id">0}</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof23')">Proof.</span></div>
<div class="proofscript" id="proof23">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">f0</span> <span class="id">x;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> <span class="id">=&gt;</span> <span class="id">Dx;</span> <span class="id">exact/max_idPr/f0</span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="le0_funenegE" class="id"><a name="le0_funenegE" class="">le0_funenegE</a></span> <span id="f:90" class="id"><a name="f:90" class="">f</a></span> <span class="id">:</span> (<span class="gallina-kwd">forall</span> <span id="x:91" class="id"><a name="x:91" class="">x,</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#funposneg_lemmas.D">D</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#x:91">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#f:90">f</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#x:91">x</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id">0</span>) <span class="id">-&gt;</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#8c08d4203604dbed63e7afa9b689d858">{in</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#funposneg_lemmas.D">D,</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#f:90">f^\-</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#876aa133fb3472bffd492f74ff496035">=1</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#bf80dd271000fa448e03c4c14365c369">\-</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#f:90">f}</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof24')">Proof.</span></div>
<div class="proofscript" id="proof24">
<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">f0</span> <span class="id">x;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> <span class="id">=&gt;</span> <span class="id">Dx;</span> <span class="id">apply/max_idPl;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_oppr">lee_oppr</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#oppe0">oppe0</a></span> <span class="id">f0</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="gt0_funeposM" class="id"><a name="gt0_funeposM" class="">gt0_funeposM</a></span> <span id="r:92" class="id"><a name="r:92" class="">r</a></span> <span id="f:93" class="id"><a name="f:93" class="">f</a></span> <span class="id">:</span> (<span class="id">0</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#r:92">r</a></span>)<span class="id">%R</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">fun</span> <span id="x:94" class="id"><a name="x:94" class="">x</a></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.numfun.html#r:92">r%:E</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#f1c2ddfea282f8f8d7539f61e14c08e4">*</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#f:93">f</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#x:94">x</a></span>)<span class="id">^\+</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> (<span class="gallina-kwd">fun</span> <span id="x:95" class="id"><a name="x:95" class="">x</a></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.numfun.html#r:92">r%:E</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#f1c2ddfea282f8f8d7539f61e14c08e4">*</a></span> (<span class="id"><a href="mathcomp.analysis.numfun.html#f:93">f^\+</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#x:95">x</a></span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof25')">Proof.</span></div>
<div class="proofscript" id="proof25">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">?;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE</a></span> <span class="id">=&gt;</span> <span class="id">x;</span> <span class="id">rewrite</span> <span class="id">/funepos</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#maxeMr">maxeMr//</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule0">mule0</a></span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="gt0_funenegM" class="id"><a name="gt0_funenegM" class="">gt0_funenegM</a></span> <span id="r:96" class="id"><a name="r:96" class="">r</a></span> <span id="f:97" class="id"><a name="f:97" class="">f</a></span> <span class="id">:</span> (<span class="id">0</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#r:96">r</a></span>)<span class="id">%R</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">fun</span> <span id="x:98" class="id"><a name="x:98" class="">x</a></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.numfun.html#r:96">r%:E</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#f1c2ddfea282f8f8d7539f61e14c08e4">*</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#f:97">f</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#x:98">x</a></span>)<span class="id">^\-</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> (<span class="gallina-kwd">fun</span> <span id="x:99" class="id"><a name="x:99" class="">x</a></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.numfun.html#r:96">r%:E</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#f1c2ddfea282f8f8d7539f61e14c08e4">*</a></span> (<span class="id"><a href="mathcomp.analysis.numfun.html#f:97">f^\-</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#x:99">x</a></span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof26')">Proof.</span></div>
<div class="proofscript" id="proof26">
<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">r0;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE</a></span> <span class="id">=&gt;</span> <span class="id">x;</span> <span class="id">rewrite</span> <span class="id">/funeneg</span> <span class="id">-muleN</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#maxeMr">maxeMr//</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule0">mule0</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="lt0_funeposM" class="id"><a name="lt0_funeposM" class="">lt0_funeposM</a></span> <span id="r:100" class="id"><a name="r:100" class="">r</a></span> <span id="f:101" class="id"><a name="f:101" class="">f</a></span> <span class="id">:</span> (<span class="id"><a href="mathcomp.analysis.numfun.html#r:100">r</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'&lt;'_x">&lt;</a></span> <span class="id">0</span>)<span class="id">%R</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">fun</span> <span id="x:102" class="id"><a name="x:102" class="">x</a></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.numfun.html#r:100">r%:E</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#f1c2ddfea282f8f8d7539f61e14c08e4">*</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#f:101">f</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#x:102">x</a></span>)<span class="id">^\+</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> (<span class="gallina-kwd">fun</span> <span id="x:103" class="id"><a name="x:103" class="">x</a></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'-'_x">-</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#r:100">r%:E</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#f1c2ddfea282f8f8d7539f61e14c08e4">*</a></span> (<span class="id"><a href="mathcomp.analysis.numfun.html#f:101">f^\-</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#x:103">x</a></span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof27')">Proof.</span></div>
<div class="proofscript" id="proof27">
<span class="id">move=&gt;</span> <span class="id">r0;</span> <span class="id">rewrite</span> <span class="id">-[in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.LHS">LHS]</a></span>(<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.opprK">opprK</a></span> <span class="id">r</span>)<span class="id">;</span> <span class="id">under</span> <span class="id"><a href="mathcomp.classical.boolp.html#eq_fun">eq_fun</a></span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinN">EFinN</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mulNe">mulNe</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.numfun.html#funeposN">funeposN</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#gt0_funenegM">gt0_funenegM</a></span> <span class="id">-1?ltr_oppr</span> <span class="id">?oppr0</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="lt0_funenegM" class="id"><a name="lt0_funenegM" class="">lt0_funenegM</a></span> <span id="r:104" class="id"><a name="r:104" class="">r</a></span> <span id="f:105" class="id"><a name="f:105" class="">f</a></span> <span class="id">:</span> (<span class="id"><a href="mathcomp.analysis.numfun.html#r:104">r</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'&lt;'_x">&lt;</a></span> <span class="id">0</span>)<span class="id">%R</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">fun</span> <span id="x:106" class="id"><a name="x:106" class="">x</a></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.numfun.html#r:104">r%:E</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#f1c2ddfea282f8f8d7539f61e14c08e4">*</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#f:105">f</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#x:106">x</a></span>)<span class="id">^\-</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> (<span class="gallina-kwd">fun</span> <span id="x:107" class="id"><a name="x:107" class="">x</a></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'-'_x">-</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#r:104">r%:E</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#f1c2ddfea282f8f8d7539f61e14c08e4">*</a></span> (<span class="id"><a href="mathcomp.analysis.numfun.html#f:105">f^\+</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#x:107">x</a></span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof28')">Proof.</span></div>
<div class="proofscript" id="proof28">
<span class="id">move=&gt;</span> <span class="id">r0;</span> <span class="id">rewrite</span> <span class="id">-[in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.LHS">LHS]</a></span>(<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.opprK">opprK</a></span> <span class="id">r</span>)<span class="id">;</span> <span class="id">under</span> <span class="id"><a href="mathcomp.classical.boolp.html#eq_fun">eq_fun</a></span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinN">EFinN</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mulNe">mulNe</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.numfun.html#funenegN">funenegN</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#gt0_funeposM">gt0_funeposM</a></span> <span class="id">-1?ltr_oppr</span> <span class="id">?oppr0</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="fune_abse" class="id"><a name="fune_abse" class="">fune_abse</a></span> <span id="f:108" class="id"><a name="f:108" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#abse">abse</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#f:108">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#f:108">f^\+</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#a03b5d62fe4ea52edbfd5608db7ebe2f">\+</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#f:108">f^\-</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof29')">Proof.</span></div>
<div class="proofscript" id="proof29">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE</a></span> <span class="id">=&gt;</span> <span class="id">x</span> <span class="id">/=;</span> <span class="id">have</span> <span class="id">[fx0|/ltW</span> <span class="id">fx0]</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.TotalTheory.leP">leP</a></span> (<span class="id">f</span> <span class="id">x</span>) <span class="id">0</span>.<br/>
<span class="id">-</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee0_abs">lee0_abs//</a></span> <span class="id">/funepos</span> <span class="id">/funeneg</span>.<br/>
&nbsp;&nbsp;<span class="id">move/max_idPr</span> <span class="id">:</span> (<span class="id">fx0</span>) <span class="id">=&gt;</span> <span class="id">-&gt;;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#add0e">add0e</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move:</span> <span class="id">fx0;</span> <span class="id">rewrite</span> <span class="id">-{1}oppr0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinN">EFinN</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_oppr">lee_oppr</a></span> <span class="id">=&gt;</span> <span class="id">/max_idPl</span> <span class="id">-&gt;</span>.<br/>
<span class="id">-</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#gee0_abs">gee0_abs//</a></span> <span class="id">/funepos</span> <span class="id">/funeneg;</span> <span class="id">move/max_idPl</span> <span class="id">:</span> (<span class="id">fx0</span>) <span class="id">=&gt;</span> <span class="id">-&gt;</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move:</span> <span class="id">fx0;</span> <span class="id">rewrite</span> <span class="id">-{1}oppr0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinN">EFinN</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_oppl">lee_oppl</a></span> <span class="id">=&gt;</span> <span class="id">/max_idPr</span> <span class="id">-&gt;;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#adde0">adde0</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="funeposneg" class="id"><a name="funeposneg" class="">funeposneg</a></span> <span id="f:109" class="id"><a name="f:109" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.numfun.html#f:109">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> (<span class="gallina-kwd">fun</span> <span id="x:110" class="id"><a name="x:110" class="">x</a></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.numfun.html#f:109">f^\+</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#x:110">x</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'-'_x">-</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#f:109">f^\-</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#x:110">x</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof30')">Proof.</span></div>
<div class="proofscript" id="proof30">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE</a></span> <span class="id">=&gt;</span> <span class="id">x;</span> <span class="id">rewrite</span> <span class="id">/funepos</span> <span class="id">/funeneg;</span> <span class="id">have</span> <span class="id">[|/ltW]</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.TotalTheory.leP">leP</a></span> (<span class="id">f</span> <span class="id">x</span>) <span class="id">0</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-{1}oppe0</span> <span class="id">-lee_oppr</span> <span class="id">=&gt;</span> <span class="id">/max_idPl</span> <span class="id">-&gt;;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#oppeK">oppeK</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#add0e">add0e</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-{1}oppe0</span> <span class="id">-lee_oppl</span> <span class="id">=&gt;</span> <span class="id">/max_idPr</span> <span class="id">-&gt;;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#sube0">sube0</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="add_def_funeposneg" class="id"><a name="add_def_funeposneg" class="">add_def_funeposneg</a></span> <span id="f:111" class="id"><a name="f:111" class="">f</a></span> <span id="x:112" class="id"><a name="x:112" class="">x</a></span> <span class="id">:</span> (<span class="id"><a href="mathcomp.analysis.numfun.html#f:111">f^\+</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#x:112">x</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#95c149a6c3d7e16b8d29b2e8ca838dd4">+?</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'-'_x">-</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#f:111">f^\-</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#x:112">x</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof31')">Proof.</span></div>
<div class="proofscript" id="proof31">
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/funeneg</span> <span class="id">/funepos;</span> <span class="id">case:</span> (<span class="id">f</span> <span class="id">x</span>) <span class="id">=&gt;</span> <span class="id">[r|</span> <span class="id">|];</span><br/>
&nbsp;&nbsp;<span class="id">[rewrite</span> <span class="id">-fine_max/=|rewrite</span> <span class="id">/maxe</span> <span class="id">/=</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ltNyr">ltNyr|rewrite</a></span> <span class="id">/maxe</span> <span class="id">/=</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ltNyr">ltNyr]</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="funeD_Dpos" class="id"><a name="funeD_Dpos" class="">funeD_Dpos</a></span> <span id="f:113" class="id"><a name="f:113" class="">f</a></span> <span id="g:114" class="id"><a name="g:114" class="">g</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.numfun.html#f:113">f</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#a03b5d62fe4ea52edbfd5608db7ebe2f">\+</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#g:114">g</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> (<span class="id"><a href="mathcomp.analysis.numfun.html#f:113">f</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#a03b5d62fe4ea52edbfd5608db7ebe2f">\+</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#g:114">g</a></span>)<span class="id">^\+</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#413a754bf74f3e306cb2b48b8fe944d4">\-</a></span> (<span class="id"><a href="mathcomp.analysis.numfun.html#f:113">f</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#a03b5d62fe4ea52edbfd5608db7ebe2f">\+</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#g:114">g</a></span>)<span class="id">^\-</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof32')">Proof.</span></div>
<div class="proofscript" id="proof32">
<span class="id">apply/funext</span> <span class="id">=&gt;</span> <span class="id">x;</span> <span class="id">rewrite</span> <span class="id">/funepos</span> <span class="id">/funeneg;</span> <span class="id">have</span> <span class="id">[|/ltW]</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.TotalTheory.leP">leP</a></span> <span class="id">0</span> (<span class="id">f</span> <span class="id">x</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d4965da372b2485934ec33867ee5fbe7">+</a></span> <span class="id">g</span> <span class="id">x</span>).<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-{1}oppe0</span> <span class="id">-lee_oppl</span> <span class="id">=&gt;</span> <span class="id">/max_idPr</span> <span class="id">-&gt;;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#sube0">sube0</a></span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-{1}oppe0</span> <span class="id">-lee_oppr</span> <span class="id">=&gt;</span> <span class="id">/max_idPl</span> <span class="id">-&gt;;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#oppeK">oppeK</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#add0e">add0e</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="funeD_posD" class="id"><a name="funeD_posD" class="">funeD_posD</a></span> <span id="f:115" class="id"><a name="f:115" class="">f</a></span> <span id="g:116" class="id"><a name="g:116" class="">g</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.numfun.html#f:115">f</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#a03b5d62fe4ea52edbfd5608db7ebe2f">\+</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#g:116">g</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> (<span class="id"><a href="mathcomp.analysis.numfun.html#f:115">f^\+</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#a03b5d62fe4ea52edbfd5608db7ebe2f">\+</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#g:116">g^\+</a></span>) <span class="id">\-</span> (<span class="id"><a href="mathcomp.analysis.numfun.html#f:115">f^\-</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#a03b5d62fe4ea52edbfd5608db7ebe2f">\+</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#g:116">g^\-</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof33')">Proof.</span></div>
<div class="proofscript" id="proof33">
<span class="id">apply/funext</span> <span class="id">=&gt;</span> <span class="id">x;</span> <span class="id">rewrite</span> <span class="id">/funepos</span> <span class="id">/funeneg</span>.<br/>
<span class="id">have</span> <span class="id">[|fx0]</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.TotalTheory.leP">leP</a></span> <span class="id">0</span> (<span class="id">f</span> <span class="id">x</span>)<span class="id">;</span> <span class="id">last</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#add0e">add0e</a></span>.<br/>
<span class="id">-</span> <span class="id">rewrite</span> <span class="id">-{1}oppe0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_oppl">lee_oppl</a></span> <span class="id">=&gt;</span> <span class="id">/max_idPr</span> <span class="id">-&gt;;</span> <span class="id">have</span> <span class="id">[|/ltW]</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.TotalTheory.leP">leP</a></span> <span class="id">0</span> (<span class="id">g</span> <span class="id">x</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-{1}oppe0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_oppl">lee_oppl</a></span> <span class="id">=&gt;</span> <span class="id">/max_idPr</span> <span class="id">-&gt;;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#adde0">adde0</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#sube0">sube0</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-{1}oppe0</span> <span class="id">-lee_oppr</span> <span class="id">=&gt;</span> <span class="id">/max_idPl</span> <span class="id">-&gt;;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#adde0">adde0</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#sub0e">sub0e</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#oppeK">oppeK</a></span>.<br/>
<span class="id">-</span> <span class="id">move/ltW</span> <span class="id">:</span> (<span class="id">fx0</span>)<span class="id">;</span> <span class="id">rewrite</span> <span class="id">-{1}oppe0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_oppr">lee_oppr</a></span> <span class="id">=&gt;</span> <span class="id">/max_idPl</span> <span class="id">-&gt;</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">[|]</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.TotalTheory.leP">leP</a></span> <span class="id">0</span> (<span class="id">g</span> <span class="id">x</span>)<span class="id">;</span> <span class="id">last</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#add0e">add0e</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-{1}oppe0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_oppl">lee_oppl</a></span> <span class="id">=&gt;</span> <span class="id">/max_idPr</span> <span class="id">-&gt;;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#adde0">adde0</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#oppeK">oppeK</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#addeC">addeC</a></span>.<br/>
&nbsp;&nbsp;<span class="id">move</span> <span class="id">gg'</span> <span class="id">:</span> (<span class="id">g</span> <span class="id">x</span>) <span class="id">=&gt;</span> <span class="id">g';</span> <span class="id">move:</span> <span class="id">g'</span> <span class="id">gg'</span> <span class="id">=&gt;</span> <span class="id">[g'</span> <span class="id">gg'</span> <span class="id">g'0|//|goo</span> <span class="id">_]</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">move/ltW</span> <span class="id">:</span> (<span class="id">g'0</span>)<span class="id">;</span> <span class="id">rewrite</span> <span class="id">-{1}oppe0</span> <span class="id">-lee_oppr</span> <span class="id">=&gt;</span> <span class="id">/max_idPl</span> <span class="id">=&gt;</span> <span class="id">-&gt;</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num_oppeD">fin_num_oppeD//</a></span> <span class="id">2!oppeK</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/maxe</span> <span class="id">/=;</span> <span class="id">case:</span> (<span class="id">f</span> <span class="id">x</span>) <span class="id">fx0</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.numfun.html#funposneg_lemmas">funposneg_lemmas</a></span>.<br/>
<span class="id">#[global]</span><br/>
<span class="vernacular">Hint</span> <span class="id">Extern</span> <span class="id">0</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#is_true">is_true</a></span> (<span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.numfun.html#0aba79a7ddf4e21eb9e8bb0a843651a1">^\+</a></span> <span class="id">_</span>)<span class="id">%E</span>) <span class="id">=&gt;</span> <span class="id">solve</span> <span class="id">[apply:</span> <span class="id"><a href="mathcomp.analysis.numfun.html#funepos_ge0">funepos_ge0]</a></span> <span class="id">:</span> <span class="id">core</span>.<br/>
<span class="id">#[global]</span><br/>
<span class="vernacular">Hint</span> <span class="id">Extern</span> <span class="id">0</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#is_true">is_true</a></span> (<span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.numfun.html#dc73a9eb30675850d21ad1ad76b8f0e8">^\-</a></span> <span class="id">_</span>)<span class="id">%E</span>) <span class="id">=&gt;</span> <span class="id">solve</span> <span class="id">[apply:</span> <span class="id"><a href="mathcomp.analysis.numfun.html#funeneg_ge0">funeneg_ge0]</a></span> <span class="id">:</span> <span class="id">core</span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="indic" class="id"><a name="indic" class="">indic</a></span> <span class="id">{T}</span> <span class="id">{R</span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Ring.Exports.ringType">ringType}</a></span> (<span id="A:119" class="id"><a name="A:119" class="">A</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#T:117">T</a></span>) (<span id="x:120" class="id"><a name="x:120" class="">x</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.numfun.html#T:117">T</a></span>) <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.numfun.html#R:118">R</a></span> <span class="id">:=</span> (<span class="id"><a href="mathcomp.analysis.numfun.html#x:120">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7">\in</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#A:119">A</a></span>)<span class="id">%:R</span>.<br/>
<span class="vernacular">Reserved</span> <span class="vernacular">Notation</span> <span class="id">&quot;'\1_' A&quot; (at level 8, A at level 2, format &quot;'\1_' A&quot;</span>) <span class="id">.</span><br/>
<span class="vernacular">Notation</span> <span id="e353122e03268a6eab33cb5af81dd3c6" class="id"><a name="e353122e03268a6eab33cb5af81dd3c6" class="">&quot;'\1_' A&quot;</a></span> <span class="id">:=</span> (<span class="id"><a href="mathcomp.analysis.numfun.html#indic">indic</a></span> <span class="id">A</span>) <span class="id">:</span> <span class="id">ring_scope</span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="indic_lemmas" class="id"><a name="indic_lemmas" class="">indic_lemmas</a></span>.<br/>
<span class="vernacular">Context</span> (<span id="T:121" class="id"><a name="T:121" class="">T</a></span> <span class="id">:</span> <span class="gallina-kwd">Type</span>) (<span id="R:122" class="id"><a name="R:122" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Ring.Exports.ringType">ringType</a></span>).<br/>
<span class="vernacular">Implicit</span> <span class="id">Types</span> <span class="id">A</span> <span class="id">D</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#indic_lemmas.T">T</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="indicE" class="id"><a name="indicE" class="">indicE</a></span> <span id="A:123" class="id"><a name="A:123" class="">A</a></span> (<span id="x:124" class="id"><a name="x:124" class="">x</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.numfun.html#indic_lemmas.T">T</a></span>) <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.numfun.html#e353122e03268a6eab33cb5af81dd3c6">\1_A</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#x:124">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#b8b2ebc8e1a8b9aa935c0702efb5dccf">=</a></span> (<span class="id"><a href="mathcomp.analysis.numfun.html#x:124">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7">\in</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#A:123">A</a></span>)<span class="id">%:R</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#b8b2ebc8e1a8b9aa935c0702efb5dccf">:&gt;</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#indic_lemmas.R">R</a></span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof34')">Proof.</span></div>
<div class="proofscript" id="proof34">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="indicT" class="id"><a name="indicT" class="">indicT</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.numfun.html#e353122e03268a6eab33cb5af81dd3c6">\1_[set:</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#indic_lemmas.T">T]</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> (<span class="id">1</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#indic_lemmas.R">R</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof35')">Proof.</span></div>
<div class="proofscript" id="proof35">
 <span class="gallina-kwd">by</span> <span class="id">apply/funext=&gt;</span> <span class="id">x;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.numfun.html#indicE">indicE</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#in_setT">in_setT</a></span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="indic0" class="id"><a name="indic0" class="">indic0</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.numfun.html#e353122e03268a6eab33cb5af81dd3c6">\1_</a></span>(<span class="id">@set0</span> <span class="id"><a href="mathcomp.analysis.numfun.html#indic_lemmas.T">T</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> (<span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#indic_lemmas.R">R</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof36')">Proof.</span></div>
<div class="proofscript" id="proof36">
 <span class="gallina-kwd">by</span> <span class="id">apply/funext=&gt;</span> <span class="id">x;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.numfun.html#indicE">indicE</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#in_set0">in_set0</a></span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="preimage_indic" class="id"><a name="preimage_indic" class="">preimage_indic</a></span> <span id="D:125" class="id"><a name="D:125" class="">D</a></span> (<span id="B:126" class="id"><a name="B:126" class="">B</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#indic_lemmas.R">R</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.numfun.html#e353122e03268a6eab33cb5af81dd3c6">\1_D</a></span> <span class="id">@^-1`</span> <span class="id"><a href="mathcomp.analysis.numfun.html#B:126">B</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="gallina-kwd">if</span> <span class="id">1</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7">\in</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#B:126">B</a></span> <span class="gallina-kwd">then</span> (<span class="gallina-kwd">if</span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7">\in</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#B:126">B</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="gallina-kwd">else</span> <span class="id"><a href="mathcomp.analysis.numfun.html#D:125">D</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">else</span> (<span class="gallina-kwd">if</span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7">\in</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#B:126">B</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#a89cad8a77dea0eb3c15a935f79663f1">~`</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#D:125">D</a></span> <span class="gallina-kwd">else</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof37')">Proof.</span></div>
<div class="proofscript" id="proof37">
<span class="id">rewrite</span> <span class="id">/preimage/=</span> <span class="id">/indic;</span> <span class="id">apply/seteqP;</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">x;</span><br/>
&nbsp;&nbsp;<span class="id">case:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span> <span class="id">=&gt;</span> <span class="id">B1;</span> <span class="id">case:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span> <span class="id">=&gt;</span> <span class="id">B0</span> <span class="id">//=</span>.<br/>
<span class="id">-</span> <span class="id">have</span> <span class="id">[|]</span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#boolP">boolP</a></span> (<span class="id">x</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7">\in</a></span> <span class="id">D</span>)<span class="id">;</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#notin_set">notin_set</a></span> <span class="gallina-kwd">in</span> <span class="id">B0</span>.<br/>
<span class="id">-</span> <span class="id">have</span> <span class="id">[|]</span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#boolP">boolP</a></span> (<span class="id">x</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7">\in</a></span> <span class="id">D</span>)<span class="id">;</span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#notin_set">notin_set</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#notin_set">notin_set</a></span> <span class="gallina-kwd">in</span> <span class="id">B1</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">have</span> <span class="id">[xD|xD]</span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#boolP">boolP</a></span> (<span class="id">x</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7">\in</a></span> <span class="id">D</span>)<span class="id">;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">[rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#notin_set">notin_set</a></span> <span class="gallina-kwd">in</span> <span class="id">B1|rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#notin_set">notin_set</a></span> <span class="gallina-kwd">in</span> <span class="id">B0]</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">have</span> <span class="id">[xD|xD]</span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#boolP">boolP</a></span> (<span class="id">x</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7">\in</a></span> <span class="id">D</span>)<span class="id">;</span> <span class="id">[rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> <span class="gallina-kwd">in</span> <span class="id">B1|rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> <span class="gallina-kwd">in</span> <span class="id">B0]</span>.<br/>
<span class="id">-</span> <span class="id">have</span> <span class="id">[xD|]</span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#boolP">boolP</a></span> (<span class="id">x</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7">\in</a></span> <span class="id">D</span>)<span class="id">;</span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#notin_set">notin_set</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> <span class="gallina-kwd">in</span> <span class="id">B1</span>.<br/>
<span class="id">-</span> <span class="id">have</span> <span class="id">[|xD]</span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#boolP">boolP</a></span> (<span class="id">x</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7">\in</a></span> <span class="id">D</span>)<span class="id">;</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> <span class="gallina-kwd">in</span> <span class="id">B0</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="image_indic" class="id"><a name="image_indic" class="">image_indic</a></span> <span id="D:127" class="id"><a name="D:127" class="">D</a></span> <span id="A:128" class="id"><a name="A:128" class="">A</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.numfun.html#e353122e03268a6eab33cb5af81dd3c6">\1_D</a></span> <span class="id">@`</span> <span class="id"><a href="mathcomp.analysis.numfun.html#A:128">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> (<span class="gallina-kwd">if</span> <span class="id"><a href="mathcomp.analysis.numfun.html#A:128">A</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#cf50465a73dc8072abef3845b643e512">`\`</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#D:127">D</a></span> <span class="id">!=</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#29c78c22490f2dae838b1b504eb858a2">[set</a></span> <span class="id">0]</span> <span class="gallina-kwd">else</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span>) <span class="id">`|`</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="gallina-kwd">if</span> <span class="id"><a href="mathcomp.analysis.numfun.html#A:128">A</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#c7636f45aa1745dbf533da3d408cece1">`&amp;`</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#D:127">D</a></span> <span class="id">!=</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#94b9287f4dba4876ca96b3ab306cbac9">[set</a></span> <span class="id">1</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#94b9287f4dba4876ca96b3ab306cbac9">:</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#indic_lemmas.R">R]</a></span> <span class="gallina-kwd">else</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof38')">Proof.</span></div>
<div class="proofscript" id="proof38">
<span class="id">rewrite</span> <span class="id">/indic;</span> <span class="id">apply/predeqP</span> <span class="id">=&gt;</span> <span class="id">x;</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">[[t</span> <span class="id">At</span> <span class="id">/=</span> <span class="id">&lt;-]|]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/indic;</span> <span class="id">case:</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#boolP">boolP</a></span> (<span class="id">t</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7">\in</a></span> <span class="id">D</span>))<span class="id">;</span> <span class="id">rewrite</span> <span class="id">?</span>(<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE,</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#notin_set">notin_set</a></span>) <span class="id">=&gt;</span> <span class="id">Dt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">[right|left];</span> <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifT">ifT//=;</a></span> <span class="id">apply/set0P;</span> <span class="gallina-kwd">exists</span> <span class="id">t</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">[];</span> <span class="id">case:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn;</a></span> <span class="id">rewrite</span> <span class="id">?negbK//</span> <span class="id">=&gt;</span> <span class="id">/set0P[t</span> <span class="id">[At</span> <span class="id">Dt]]</span> <span class="id">-&gt;;</span><br/>
&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">t</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">case:</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#boolP">boolP</a></span> (<span class="id">t</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7">\in</a></span> <span class="id">D</span>))<span class="id">;</span> <span class="id">rewrite</span> <span class="id">?</span>(<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE,</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#notin_set">notin_set</a></span>).<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="image_indic_sub" class="id"><a name="image_indic_sub" class="">image_indic_sub</a></span> <span id="D:129" class="id"><a name="D:129" class="">D</a></span> <span id="A:130" class="id"><a name="A:130" class="">A</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.numfun.html#e353122e03268a6eab33cb5af81dd3c6">\1_D</a></span> <span class="id">@`</span> <span class="id"><a href="mathcomp.analysis.numfun.html#A:130">A</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#e19db46c1d4073266228fb7781521a56">`&lt;=`</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#5a7092a84ffebb249d94ea1f3b2cd778">[set</a></span> <span class="id">0;</span> <span class="id">1]</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#indic_lemmas.R">R</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof39')">Proof.</span></div>
<div class="proofscript" id="proof39">
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.numfun.html#image_indic">image_indic;</a></span> <span class="id">do</span> <span class="id">![case:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifP">ifP=&gt;</a></span> <span class="id">//=</span> <span class="id">_]</span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">t</span> <span class="id">[]//=</span> <span class="id">-&gt;;</span> <span class="id">[left|right]</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="fimfunE" class="id"><a name="fimfunE" class="">fimfunE</a></span> (<span id="f:131" class="id"><a name="f:131" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.cardinality.html#5d25759c49498e68ff2d2e33aa44cf93">{fimfun</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#indic_lemmas.T">T</a></span> <span class="id"><a href="mathcomp.classical.cardinality.html#5d25759c49498e68ff2d2e33aa44cf93">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#indic_lemmas.R">R}</a></span>) <span id="x:132" class="id"><a name="x:132" class="">x</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.numfun.html#f:131">f</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#x:132">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.classical.fsbigop.html#66bb639f4673920039e1c5f4f74ee386">\sum_</a></span>(<span id="y:136" class="id"><span id="y:135" class="id"><span id="y:134" class="id"><span id="y:133" class="id"><a name="y:136" class="">y</a></span></span></span></span> <span class="id"><a href="mathcomp.classical.fsbigop.html#66bb639f4673920039e1c5f4f74ee386">\in</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#range">range</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#f:131">f</a></span>) (<span class="id"><a href="mathcomp.analysis.numfun.html#y:133">y</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#2d0cfb150261028f4ebd2ba355623dcc">*</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#e353122e03268a6eab33cb5af81dd3c6">\1_</a></span>(<span class="id"><a href="mathcomp.analysis.numfun.html#f:131">f</a></span> <span class="id">@^-1`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#29c78c22490f2dae838b1b504eb858a2">[set</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#y:133">y]</a></span>) <span class="id"><a href="mathcomp.analysis.numfun.html#x:132">x</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof40')">Proof.</span></div>
<div class="proofscript" id="proof40">
<span class="id">rewrite</span> (<span class="id"><a href="mathcomp.classical.fsbigop.html#fsbigD1">fsbigD1</a></span> (<span class="id">f</span> <span class="id">x</span>))<span class="id">//</span> <span class="id">/=</span> <span class="id"><a href="mathcomp.analysis.numfun.html#indicE">indicE</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#mem_set">mem_set//</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.mulr1">mulr1</a></span> <span class="id"><a href="mathcomp.classical.fsbigop.html#fsbig1">fsbig1</a></span> <span class="id">?addr0//</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">y</span> <span class="id">[fy</span> <span class="id">/=</span> <span class="id">/nesym</span> <span class="id">yfx];</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.numfun.html#indicE">indicE</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#memNset">memNset</a></span> <span class="id">?mulr0</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.numfun.html#indic_lemmas">indic_lemmas</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="patch_indic" class="id"><a name="patch_indic" class="">patch_indic</a></span> <span id="T:137" class="id"><a name="T:137" class="">T</a></span> <span class="id">{R</span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.NumField.Exports.numFieldType">numFieldType}</a></span> (<span id="f:139" class="id"><a name="f:139" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.numfun.html#T:137">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#R:138">R</a></span>) (<span id="D:140" class="id"><a name="D:140" class="">D</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#T:137">T</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.numfun.html#f:139">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#3655b719ef371a959c75d07b242f4cf9">\_</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#D:140">D</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> (<span class="id"><a href="mathcomp.analysis.numfun.html#f:139">f</a></span> <span class="id"><a href="mathcomp.classical.mathcomp_extra.html#97c66421897c043c5333ab3c7e831f5b">\*</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#e353122e03268a6eab33cb5af81dd3c6">\1_D</a></span>)<span class="id">%R</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof41')">Proof.</span></div>
<div class="proofscript" id="proof41">
<span class="id">apply/funext</span> <span class="id">=&gt;</span> <span class="id">x</span> <span class="id">/=;</span> <span class="id">rewrite</span> <span class="id">/patch</span> <span class="id">/=</span> <span class="id"><a href="mathcomp.analysis.numfun.html#indicE">indicE</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">case:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span> <span class="id">=&gt;</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id">?</span>(<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.mulr1">mulr1,</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.mulr0">mulr0</a></span>).<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="xsection_indic" class="id"><a name="xsection_indic" class="">xsection_indic</a></span> (<span id="R:141" class="id"><a name="R:141" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Ring.Exports.ringType">ringType</a></span>) <span id="T1:142" class="id"><a name="T1:142" class="">T1</a></span> <span id="T2:143" class="id"><a name="T2:143" class="">T2</a></span> (<span id="A:144" class="id"><a name="A:144" class="">A</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> (<span class="id"><a href="mathcomp.analysis.numfun.html#T1:142">T1</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#T2:143">T2</a></span>)) <span id="x:145" class="id"><a name="x:145" class="">x</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.classical_sets.html#xsection">xsection</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#A:144">A</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#x:145">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> (<span class="gallina-kwd">fun</span> <span id="y:146" class="id"><a name="y:146" class="">y</a></span> <span class="id">=&gt;</span> (<span class="id"><a href="mathcomp.analysis.numfun.html#e353122e03268a6eab33cb5af81dd3c6">\1_A</a></span> (<span class="id"><a href="mathcomp.analysis.numfun.html#x:145">x,</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#y:146">y</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#R:141">R</a></span>)) <span class="id">@^-1`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#29c78c22490f2dae838b1b504eb858a2">[set</a></span> <span class="id">1]</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof42')">Proof.</span></div>
<div class="proofscript" id="proof42">
<span class="id">apply/seteqP;</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">[y/mem_set/=|y/=];</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.numfun.html#indicE">indicE</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#mem_xsection">mem_xsection</a></span> <span class="id">=&gt;</span> <span class="id">-&gt;</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/xsection/=;</span> <span class="id">case:</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7">\in</a></span> <span class="id">_</span>) <span class="id">=&gt;</span> <span class="id">//=</span> <span class="id">/esym/eqP</span> <span class="id">/[!oner_eq0]</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="ysection_indic" class="id"><a name="ysection_indic" class="">ysection_indic</a></span> (<span id="R:147" class="id"><a name="R:147" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Ring.Exports.ringType">ringType</a></span>) <span id="T1:148" class="id"><a name="T1:148" class="">T1</a></span> <span id="T2:149" class="id"><a name="T2:149" class="">T2</a></span> (<span id="A:150" class="id"><a name="A:150" class="">A</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> (<span class="id"><a href="mathcomp.analysis.numfun.html#T1:148">T1</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#T2:149">T2</a></span>)) <span id="y:151" class="id"><a name="y:151" class="">y</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.classical_sets.html#ysection">ysection</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#A:150">A</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#y:151">y</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> (<span class="gallina-kwd">fun</span> <span id="x:152" class="id"><a name="x:152" class="">x</a></span> <span class="id">=&gt;</span> (<span class="id"><a href="mathcomp.analysis.numfun.html#e353122e03268a6eab33cb5af81dd3c6">\1_A</a></span> (<span class="id"><a href="mathcomp.analysis.numfun.html#x:152">x,</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#y:151">y</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#R:147">R</a></span>)) <span class="id">@^-1`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#29c78c22490f2dae838b1b504eb858a2">[set</a></span> <span class="id">1]</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof43')">Proof.</span></div>
<div class="proofscript" id="proof43">
<span class="id">apply/seteqP;</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">[x/mem_set/=|x/=];</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.numfun.html#indicE">indicE</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#mem_ysection">mem_ysection</a></span> <span class="id">=&gt;</span> <span class="id">-&gt;</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/ysection/=;</span> <span class="id">case:</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7">\in</a></span> <span class="id">_</span>) <span class="id">=&gt;</span> <span class="id">//=</span> <span class="id">/esym/eqP</span> <span class="id">/[!oner_eq0]</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="indic_restrict" class="id"><a name="indic_restrict" class="">indic_restrict</a></span> <span class="id">{T</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#Pointed.Exports.pointedType">pointedType}</a></span> <span class="id">{R</span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.NumField.Exports.numFieldType">numFieldType}</a></span> (<span id="A:155" class="id"><a name="A:155" class="">A</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#T:153">T</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.numfun.html#e353122e03268a6eab33cb5af81dd3c6">\1_A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#b8b2ebc8e1a8b9aa935c0702efb5dccf">=</a></span> <span class="id">1</span> <span class="id"><a href="mathcomp.classical.functions.html#3655b719ef371a959c75d07b242f4cf9">\_</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#A:155">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#b8b2ebc8e1a8b9aa935c0702efb5dccf">:&gt;</a></span> (<span class="id"><a href="mathcomp.analysis.numfun.html#T:153">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#R:154">R</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof44')">Proof.</span></div>
<div class="proofscript" id="proof44">
 <span class="gallina-kwd">by</span> <span class="id">apply/funext</span> <span class="id">=&gt;</span> <span class="id">x;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.numfun.html#indicE">indicE</a></span> <span class="id">/patch;</span> <span class="id">case:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifP">ifP</a></span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="restrict_indic" class="id"><a name="restrict_indic" class="">restrict_indic</a></span> <span id="T:156" class="id"><a name="T:156" class="">T</a></span> (<span id="R:157" class="id"><a name="R:157" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.NumField.Exports.numFieldType">numFieldType</a></span>) (<span id="E:158" class="id"><a name="E:158" class="">E</a></span> <span id="A:159" class="id"><a name="A:159" class="">A</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#T:156">T</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;(<span class="id"><a href="mathcomp.analysis.numfun.html#e353122e03268a6eab33cb5af81dd3c6">\1_E</a></span> <span class="id"><a href="mathcomp.classical.functions.html#3655b719ef371a959c75d07b242f4cf9">\_</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#A:159">A</a></span>) <span class="id">=</span> <span class="id"><a href="mathcomp.analysis.numfun.html#e353122e03268a6eab33cb5af81dd3c6">\1_</a></span>(<span class="id"><a href="mathcomp.analysis.numfun.html#E:158">E</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#c7636f45aa1745dbf533da3d408cece1">`&amp;`</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#A:159">A</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#b8b2ebc8e1a8b9aa935c0702efb5dccf">:&gt;</a></span> (<span class="id"><a href="mathcomp.analysis.numfun.html#T:156">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#R:157">R</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof45')">Proof.</span></div>
<div class="proofscript" id="proof45">
<span class="id">apply/funext</span> <span class="id">=&gt;</span> <span class="id">x;</span> <span class="id">rewrite</span> <span class="id">/restrict</span> <span class="id">2!indicE</span>.<br/>
<span class="id">case:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span> <span class="id">=&gt;</span> <span class="id">[|]</span> <span class="id">xA;</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#in_setI">in_setI</a></span> <span class="id">xA</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#in_setI">in_setI</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negbTE">negbTE</a></span> <span class="id">xA</span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbF">andbF</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Section</span> <span id="ring" class="id"><a name="ring" class="">ring</a></span>.<br/>
<span class="vernacular">Context</span> (<span id="aT:160" class="id"><a name="aT:160" class="">aT</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#Pointed.Exports.pointedType">pointedType</a></span>) (<span id="rT:161" class="id"><a name="rT:161" class="">rT</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Ring.Exports.ringType">ringType</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="fimfun_mulr_closed" class="id"><a name="fimfun_mulr_closed" class="">fimfun_mulr_closed</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Pred.Exports.mulr_closed">mulr_closed</a></span> (<span class="id">@fimfun</span> <span class="id"><a href="mathcomp.analysis.numfun.html#ring.aT">aT</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#ring.rT">rT</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof46')">Proof.</span></div>
<div class="proofscript" id="proof46">
<span class="id">split=&gt;</span> <span class="id">[|f</span> <span class="id">g];</span> <span class="id">rewrite</span> <span class="id">!inE/=;</span> <span class="id">first</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.classical.cardinality.html#finite_image_cst">finite_image_cst</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">fA</span> <span class="id">gA;</span> <span class="id">apply:</span> (<span class="id"><a href="mathcomp.classical.cardinality.html#finite_image11">finite_image11</a></span> (<span class="gallina-kwd">fun</span> <span id="x:164" class="id"><span id="x:162" class="id"><a name="x:164" class="">x</a></span></span> <span id="y:165" class="id"><span id="y:163" class="id"><a name="y:165" class="">y</a></span></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.numfun.html#x:162">x</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#2d0cfb150261028f4ebd2ba355623dcc">*</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#y:163">y</a></span>)).<br/>
Qed.</div>
<span class="vernacular">Canonical</span> <span id="fimfun_mul" class="id"><a name="fimfun_mul" class="">fimfun_mul</a></span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Pred.Exports.MulrPred">MulrPred</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#fimfun_mulr_closed">fimfun_mulr_closed</a></span>.<br/>
<span class="vernacular">Canonical</span> <span id="fimfun_ring" class="id"><a name="fimfun_ring" class="">fimfun_ring</a></span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Pred.Exports.SubringPred">SubringPred</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#fimfun_mulr_closed">fimfun_mulr_closed</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="fimfun_ringMixin" class="id"><a name="fimfun_ringMixin" class="">fimfun_ringMixin</a></span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#f625c62aceb0354308865d5dd53ab01f">[ringMixin</a></span> <span class="id">of</span> <span class="id"><a href="mathcomp.classical.cardinality.html#5d25759c49498e68ff2d2e33aa44cf93">{fimfun</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#ring.aT">aT</a></span> <span class="id"><a href="mathcomp.classical.cardinality.html#5d25759c49498e68ff2d2e33aa44cf93">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#ring.rT">rT}</a></span> <span class="gallina-kwd">by</span> <span class="id">&lt;:]</span>.<br/>
<span class="vernacular">Canonical</span> <span id="fimfun_ringType" class="id"><a name="fimfun_ringType" class="">fimfun_ringType</a></span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Ring.Exports.RingType">RingType</a></span> <span class="id"><a href="mathcomp.classical.cardinality.html#5d25759c49498e68ff2d2e33aa44cf93">{fimfun</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#ring.aT">aT</a></span> <span class="id"><a href="mathcomp.classical.cardinality.html#5d25759c49498e68ff2d2e33aa44cf93">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#ring.rT">rT}</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#fimfun_ringMixin">fimfun_ringMixin</a></span>.<br/>
<br/>
<span class="vernacular">Implicit</span> <span class="id">Types</span> (<span class="id">f</span> <span class="id">g</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.cardinality.html#5d25759c49498e68ff2d2e33aa44cf93">{fimfun</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#ring.aT">aT</a></span> <span class="id"><a href="mathcomp.classical.cardinality.html#5d25759c49498e68ff2d2e33aa44cf93">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#ring.rT">rT}</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="fimfunM" class="id"><a name="fimfunM" class="">fimfunM</a></span> <span id="f:166" class="id"><a name="f:166" class="">f</a></span> <span id="g:167" class="id"><a name="g:167" class="">g</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.numfun.html#f:166">f</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#2d0cfb150261028f4ebd2ba355623dcc">*</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#g:167">g</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#b8b2ebc8e1a8b9aa935c0702efb5dccf">=</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#f:166">f</a></span> <span class="id"><a href="mathcomp.classical.mathcomp_extra.html#97c66421897c043c5333ab3c7e831f5b">\*</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#g:167">g</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#b8b2ebc8e1a8b9aa935c0702efb5dccf">:&gt;</a></span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">_</span>)<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof47')">Proof.</span></div>
<div class="proofscript" id="proof47">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span class="vernacular">Lemma</span> <span id="fimfun1" class="id"><a name="fimfun1" class="">fimfun1</a></span> <span class="id">:</span> (<span class="id">1</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="mathcomp.classical.cardinality.html#5d25759c49498e68ff2d2e33aa44cf93">{fimfun</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#ring.aT">aT</a></span> <span class="id"><a href="mathcomp.classical.cardinality.html#5d25759c49498e68ff2d2e33aa44cf93">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#ring.rT">rT}</a></span>) <span class="id">=</span> <span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> <span class="id">1</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#b8b2ebc8e1a8b9aa935c0702efb5dccf">:&gt;</a></span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">_</span>)<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof48')">Proof.</span></div>
<div class="proofscript" id="proof48">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span class="vernacular">Lemma</span> <span id="fimfun_prod" class="id"><a name="fimfun_prod" class="">fimfun_prod</a></span> <span id="I:168" class="id"><a name="I:168" class="">I</a></span> <span id="r:169" class="id"><a name="r:169" class="">r</a></span> (<span id="P:170" class="id"><a name="P:170" class="">P</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#64f8873130736b599801d4930af00e74">{pred</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#I:168">I}</a></span>) (<span id="f:171" class="id"><a name="f:171" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.numfun.html#I:168">I</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.cardinality.html#5d25759c49498e68ff2d2e33aa44cf93">{fimfun</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#ring.aT">aT</a></span> <span class="id"><a href="mathcomp.classical.cardinality.html#5d25759c49498e68ff2d2e33aa44cf93">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#ring.rT">rT}</a></span>) (<span id="x:172" class="id"><a name="x:172" class="">x</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.numfun.html#ring.aT">aT</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;(<span class="id">\sum_</span>(<span id="i:175" class="id"><span id="i:174" class="id"><span id="i:173" class="id"><a name="i:175" class="">i</a></span></span></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#0e493beb85c9c1b3ab2241ceeaa98b08">&lt;-</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#r:169">r</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#0e493beb85c9c1b3ab2241ceeaa98b08">|</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#P:170">P</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#i:173">i</a></span>) <span class="id"><a href="mathcomp.analysis.numfun.html#f:171">f</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#i:173">i</a></span>) <span class="id"><a href="mathcomp.analysis.numfun.html#x:172">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#0e493beb85c9c1b3ab2241ceeaa98b08">\sum_</a></span>(<span id="i:178" class="id"><span id="i:177" class="id"><span id="i:176" class="id"><a name="i:178" class="">i</a></span></span></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#0e493beb85c9c1b3ab2241ceeaa98b08">&lt;-</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#r:169">r</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#0e493beb85c9c1b3ab2241ceeaa98b08">|</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#P:170">P</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#i:176">i</a></span>) <span class="id"><a href="mathcomp.analysis.numfun.html#f:171">f</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#i:176">i</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#x:172">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof49')">Proof.</span></div>
<div class="proofscript" id="proof49">
 <span class="gallina-kwd">by</span> <span class="id">elim/big_rec2:</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id">//=</span> <span class="id">i</span> <span class="id">y</span> <span class="id">?</span> <span class="id">Pi</span> <span class="id">&lt;-</span>. Qed.</div>
<span class="vernacular">Lemma</span> <span id="fimfunX" class="id"><a name="fimfunX" class="">fimfunX</a></span> <span id="f:179" class="id"><a name="f:179" class="">f</a></span> <span id="n:180" class="id"><a name="n:180" class="">n</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.numfun.html#f:179">f</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#663140372ac3b275aae871b74b140513">^+</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#n:180">n</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#b8b2ebc8e1a8b9aa935c0702efb5dccf">=</a></span> (<span class="gallina-kwd">fun</span> <span id="x:181" class="id"><a name="x:181" class="">x</a></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.numfun.html#f:179">f</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#x:181">x</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#663140372ac3b275aae871b74b140513">^+</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#n:180">n</a></span>) <span class="id">:&gt;</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">_</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof50')">Proof.</span></div>
<div class="proofscript" id="proof50">
<span class="gallina-kwd">by</span> <span class="id">apply/funext</span> <span class="id">=&gt;</span> <span class="id">x;</span> <span class="id">elim:</span> <span class="id">n</span> <span class="id">=&gt;</span> <span class="id">[|n</span> <span class="id">IHn]//;</span> <span class="id">rewrite</span> <span class="id">!exprS</span> <span class="id"><a href="mathcomp.analysis.numfun.html#fimfunM">fimfunM/=</a></span> <span class="id">IHn</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="indic_fimfun_subproof" class="id"><a name="indic_fimfun_subproof" class="">indic_fimfun_subproof</a></span> <span id="X:182" class="id"><a name="X:182" class="">X</a></span> <span class="id">:</span> <span class="id">@FiniteImage</span> <span class="id"><a href="mathcomp.analysis.numfun.html#ring.aT">aT</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#ring.rT">rT</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#e353122e03268a6eab33cb5af81dd3c6">\1_X</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof51')">Proof.</span></div>
<div class="proofscript" id="proof51">
<span class="id">split;</span> <span class="id">apply:</span> (<span class="id"><a href="mathcomp.classical.cardinality.html#finite_subfset">finite_subfset</a></span> <span class="id"><a href="NOTFOUND the module url for mathcomp.finmap.finmap#fd4d5ce3f73ff8c9a8bc2ea79d961d06">[fset</a></span> <span class="id">0;</span> <span class="id">1]%fset</span>) <span class="id">=&gt;</span> <span class="id">x</span> <span class="id">[tt</span> <span class="id">/=]</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">!inE</span> <span class="id"><a href="mathcomp.analysis.numfun.html#indicE">indicE;</a></span> <span class="id">case:</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7">\in</a></span> <span class="id">_</span>) <span class="id">=&gt;</span> <span class="id">_</span> <span class="id">&lt;-;</span> <span class="id">rewrite</span> <span class="id">?eqxx</span> <span class="id">?orbT</span>.<br/>
Qed.</div>
<span id="numfun_indic__canonical__cardinality_FImFun" class="id"><span id="HB_unnamed_factory_9" class="id"><span id="ring.hb_instance_8.X" class="id"><span id="ring.hb_instance_8" class="id"><a name="numfun_indic__canonical__cardinality_FImFun" class="hierarchy-builder">HB.instance</a></span></span></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span id="X:183" class="id"><a name="X:183" class="">X</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.numfun.html#indic_fimfun_subproof">indic_fimfun_subproof</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#X:183">X</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="indic_fimfun" class="id"><a name="indic_fimfun" class="">indic_fimfun</a></span> (<span id="X:184" class="id"><a name="X:184" class="">X</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#ring.aT">aT</a></span>) <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="mathcomp.classical.cardinality.html#5d25759c49498e68ff2d2e33aa44cf93">{fimfun</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#ring.aT">aT</a></span> <span class="id"><a href="mathcomp.classical.cardinality.html#5d25759c49498e68ff2d2e33aa44cf93">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#ring.rT">rT}</a></span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.numfun.html#e353122e03268a6eab33cb5af81dd3c6">\1_X]</a></span>.<br/>
<br/>
<span id="GRing_mulr_fun__canonical__cardinality_FImFun" class="id"><span id="HB_unnamed_mixin_14" class="id"><span id="cardinality_FImFun__to__cardinality_FiniteImage" class="id"><span id="HB_unnamed_factory_12" class="id"><span id="ring.hb_instance_11.f" class="id"><span id="ring.hb_instance_11.k" class="id"><span id="ring.hb_instance_11" class="id"><a name="GRing_mulr_fun__canonical__cardinality_FImFun" class="hierarchy-builder">HB.instance</a></span></span></span></span></span></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span id="k:185" class="id"><a name="k:185" class="">k</a></span> <span id="f:186" class="id"><a name="f:186" class="">f</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.cardinality.html#FImFun.copy">FImFun.copy</a></span> (<span class="id"><a href="mathcomp.analysis.numfun.html#k:185">k</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#5e03abe1c4aaadd0b39b8ab0cf62f35b">\o*</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#f:186">f</a></span>) (<span class="id"><a href="mathcomp.analysis.numfun.html#f:186">f</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#2d0cfb150261028f4ebd2ba355623dcc">*</a></span> <span class="id"><a href="mathcomp.classical.cardinality.html#cst_fimfun">cst_fimfun</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#k:185">k</a></span>).<br/>
<span class="vernacular">Definition</span> <span id="scale_fimfun" class="id"><a name="scale_fimfun" class="">scale_fimfun</a></span> <span id="k:187" class="id"><a name="k:187" class="">k</a></span> <span id="f:188" class="id"><a name="f:188" class="">f</a></span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="mathcomp.classical.cardinality.html#5d25759c49498e68ff2d2e33aa44cf93">{fimfun</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#ring.aT">aT</a></span> <span class="id"><a href="mathcomp.classical.cardinality.html#5d25759c49498e68ff2d2e33aa44cf93">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#ring.rT">rT}</a></span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.numfun.html#k:187">k</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#5e03abe1c4aaadd0b39b8ab0cf62f35b">\o*</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#f:188">f]</a></span>.<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.numfun.html#ring">ring</a></span>.<br/>
<span class="vernacular">Arguments</span> <span class="id"><a href="mathcomp.analysis.numfun.html#indic_fimfun">indic_fimfun</a></span> <span class="id">{aT</span> <span class="id">rT}</span> <span class="id">_</span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="comring" class="id"><a name="comring" class="">comring</a></span>.<br/>
<span class="vernacular">Context</span> (<span id="aT:189" class="id"><a name="aT:189" class="">aT</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#Pointed.Exports.pointedType">pointedType</a></span>) (<span id="rT:190" class="id"><a name="rT:190" class="">rT</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.ComRing.Exports.comRingType">comRingType</a></span>).<br/>
<span class="vernacular">Definition</span> <span id="fimfun_comRingMixin" class="id"><a name="fimfun_comRingMixin" class="">fimfun_comRingMixin</a></span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#4c5a69764ef57db08f25bb13c5922bb9">[comRingMixin</a></span> <span class="id">of</span> <span class="id"><a href="mathcomp.classical.cardinality.html#5d25759c49498e68ff2d2e33aa44cf93">{fimfun</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#comring.aT">aT</a></span> <span class="id"><a href="mathcomp.classical.cardinality.html#5d25759c49498e68ff2d2e33aa44cf93">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#comring.rT">rT}</a></span> <span class="gallina-kwd">by</span> <span class="id">&lt;:]</span>.<br/>
<span class="vernacular">Canonical</span> <span id="fimfun_comRingType" class="id"><a name="fimfun_comRingType" class="">fimfun_comRingType</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.ComRing.Exports.ComRingType">ComRingType</a></span> <span class="id"><a href="mathcomp.classical.cardinality.html#5d25759c49498e68ff2d2e33aa44cf93">{fimfun</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#comring.aT">aT</a></span> <span class="id"><a href="mathcomp.classical.cardinality.html#5d25759c49498e68ff2d2e33aa44cf93">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#comring.rT">rT}</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#fimfun_comRingMixin">fimfun_comRingMixin</a></span>.<br/>
<br/>
<span class="vernacular">Implicit</span> <span class="id">Types</span> (<span class="id">f</span> <span class="id">g</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.cardinality.html#5d25759c49498e68ff2d2e33aa44cf93">{fimfun</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#comring.aT">aT</a></span> <span class="id"><a href="mathcomp.classical.cardinality.html#5d25759c49498e68ff2d2e33aa44cf93">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#comring.rT">rT}</a></span>).<br/>
<span id="mathcomp_extra_mul_fun__canonical__cardinality_FImFun" class="id"><span id="HB_unnamed_mixin_19" class="id"><span id="cardinality_FImFun__to__cardinality_FiniteImage__18" class="id"><span id="HB_unnamed_factory_16" class="id"><span id="comring.hb_instance_15.g" class="id"><span id="comring.hb_instance_15.f" class="id"><span id="comring.hb_instance_15" class="id"><a name="mathcomp_extra_mul_fun__canonical__cardinality_FImFun" class="hierarchy-builder">HB.instance</a></span></span></span></span></span></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span id="f:191" class="id"><a name="f:191" class="">f</a></span> <span id="g:192" class="id"><a name="g:192" class="">g</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.cardinality.html#FImFun.copy">FImFun.copy</a></span> (<span class="id"><a href="mathcomp.analysis.numfun.html#f:191">f</a></span> <span class="id"><a href="mathcomp.classical.mathcomp_extra.html#97c66421897c043c5333ab3c7e831f5b">\*</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#g:192">g</a></span>) (<span class="id"><a href="mathcomp.analysis.numfun.html#f:191">f</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#2d0cfb150261028f4ebd2ba355623dcc">*</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#g:192">g</a></span>).<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.numfun.html#comring">comring</a></span>.<br/>
<br/>
<span id="FiniteDecomp.Exports" class="id"><span id="FiniteDecomp.phant_axioms" class="id"><span id="FiniteDecomp.phant_Build" class="id"><span id="FiniteDecomp.fimfunE" class="id"><span id="FiniteDecomp.axioms_" class="id"><span id="FiniteDecomp.FiniteDecomp.f" class="id"><span id="FiniteDecomp.FiniteDecomp.R" class="id"><span id="FiniteDecomp.FiniteDecomp.T" class="id"><span id="FiniteDecomp.FiniteDecomp" class="id"><span id="FiniteDecomp" class="id"><a name="FiniteDecomp.Exports" class="hierarchy-builder">HB.factory</a></span></span></span></span></span></span></span></span></span></span> <span class="vernacular">Record</span> <span class="id">FiniteDecomp</span> (<span id="T:193" class="id"><a name="T:193" class="">T</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#Pointed.Exports.pointedType">pointedType</a></span>) (<span id="R:194" class="id"><a name="R:194" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Ring.Exports.ringType">ringType</a></span>) (<span id="f:195" class="id"><a name="f:195" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.numfun.html#T:193">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#R:194">R</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id">{</span> <span id="fimfunE:202" class="id"><a name="fimfunE:202" class="">fimfunE</a></span> <span class="id">:</span> <span class="gallina-kwd">exists</span> (<span id="r:196" class="id"><a name="r:196" class="">r</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#seq">seq</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#R:194">R</a></span>) (<span id="A_:197" class="id"><a name="A_:197" class="">A_</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.numfun.html#R:194">R</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#T:193">T</a></span>)<span class="id">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:198" class="id"><a name="x:198" class="">x,</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#f:195">f</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#x:198">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#706f4f0208bba5d79e26d335c76ea034">\sum_</a></span>(<span id="y:201" class="id"><span id="y:200" class="id"><span id="y:199" class="id"><a name="y:201" class="">y</a></span></span></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#706f4f0208bba5d79e26d335c76ea034">&lt;-</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#r:196">r</a></span>) (<span class="id"><a href="mathcomp.analysis.numfun.html#y:199">y</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#2d0cfb150261028f4ebd2ba355623dcc">*</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#e353122e03268a6eab33cb5af81dd3c6">\1_</a></span>(<span class="id"><a href="mathcomp.analysis.numfun.html#A_:197">A_</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#y:199">y</a></span>) <span class="id"><a href="mathcomp.analysis.numfun.html#x:198">x</a></span>) <span class="id">}</span>.<br/>
<span id="Builders_20.Builders_20.fresh_name_21" class="id"><span id="Builders_20.Builders_20.f" class="id"><span id="Builders_20.Builders_20.R" class="id"><span id="Builders_20.Builders_20.T" class="id"><span id="Builders_20.Builders_20" class="id"><span id="Builders_20" class="id"><a name="Builders_20.Builders_20.fresh_name_21" class="hierarchy-builder">HB.builders</a></span></span></span></span></span></span> <span class="vernacular">Context</span> <span id="T:206" class="id"><a name="T:206" class="">T</a></span> <span id="R:207" class="id"><a name="R:207" class="">R</a></span> <span id="f:208" class="id"><a name="f:208" class="">f</a></span> <span class="id">of</span> <span class="id">@FiniteDecomp</span> <span class="id"><a href="mathcomp.analysis.numfun.html#T:206">T</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#R:207">R</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#f:208">f</a></span>.<br/>
&nbsp;&nbsp;<span class="vernacular">Lemma</span> <span id="Builders_20.finite_subproof" class="id"><a name="Builders_20.finite_subproof" class="">finite_subproof:</a></span> <span class="id">@FiniteImage</span> <span class="id"><a href="mathcomp.analysis.numfun.html#Builders_20.Builders_20.T">T</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#Builders_20.Builders_20.R">R</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#Builders_20.Builders_20.f">f</a></span>.<br/>
<div>&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof52')">Proof.</span></div>
<div class="proofscript" id="proof52">
&nbsp;&nbsp;<span class="id">split;</span> <span class="id">have</span> <span class="id">[r</span> <span class="id">[A_</span> <span class="id">fE]]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.numfun.html#Builders_20.fimfunE">fimfunE</a></span>.<br/>
&nbsp;&nbsp;<span class="id">suff</span> <span class="id">-&gt;</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.numfun.html#Builders_20.Builders_20.f">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#706f4f0208bba5d79e26d335c76ea034">\sum_</a></span>(<span id="y:214" class="id"><span id="y:213" class="id"><span id="y:212" class="id"><a name="y:214" class="">y</a></span></span></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#706f4f0208bba5d79e26d335c76ea034">&lt;-</a></span> <span class="id">r</span>) <span class="id"><a href="mathcomp.classical.cardinality.html#cst_fimfun">cst_fimfun</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#y:212">y</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#2d0cfb150261028f4ebd2ba355623dcc">*</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#indic_fimfun">indic_fimfun</a></span> (<span class="id">A_</span> <span class="id"><a href="mathcomp.analysis.numfun.html#y:212">y</a></span>) <span class="gallina-kwd">by</span> <span class="id">[]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply/funext=&gt;</span> <span class="id">x;</span> <span class="id">rewrite</span> <span class="id">fE</span> <span class="id"><a href="mathcomp.classical.cardinality.html#fimfun_sum">fimfun_sum</a></span>.<br/>
&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;<span id="Builders_20.Builders_20_f__canonical__cardinality_FImFun" class="id"><span id="Builders_20.HB_unnamed_factory_22" class="id"><a name="Builders_20.Builders_20_f__canonical__cardinality_FImFun" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.numfun.html#Builders_20.finite_subproof">finite_subproof</a></span>.<br/>
<span id="Builders_20.FiniteDecomp_Exports" class="id"><a name="Builders_20.FiniteDecomp_Exports" class="hierarchy-builder">HB.end</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="Tietze" class="id"><a name="Tietze" class="">Tietze</a></span>.<br/>
<span class="vernacular">Context</span> <span class="id">{X</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.topology.html#Topological.Exports.topologicalType">topologicalType}</a></span> <span class="id">{R</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType}</a></span>.<br/>
<br/>
<span class="vernacular">Local</span> <span class="vernacular">Notation</span> <span id="Tietze.::ring_scope:'3'" class="id"><a name="Tietze.::ring_scope:'3'" class="">&quot;3&quot;</a></span> <span class="id">:=</span> <span class="id">3%:R</span> <span class="id">:</span> <span class="id">ring_scope</span>.<br/>
<br/>
<span class="vernacular">Hypothesis</span> <span id="Tietze.normalX" class="id"><a name="Tietze.normalX" class="">normalX</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.topology.html#normal_space">normal_space</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#Tietze.X">X</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="urysohn_ext_itv" class="id"><a name="urysohn_ext_itv" class="">urysohn_ext_itv</a></span> <span id="A:218" class="id"><a name="A:218" class="">A</a></span> <span id="B:219" class="id"><a name="B:219" class="">B</a></span> <span id="x:220" class="id"><a name="x:220" class="">x</a></span> <span id="y:221" class="id"><a name="y:221" class="">y</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.topology.html#closed">closed</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#A:218">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#closed">closed</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#B:219">B</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#A:218">A</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#c7636f45aa1745dbf533da3d408cece1">`&amp;`</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#B:219">B</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#x:220">x</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#y:221">y</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="f:222" class="id"><a name="f:222" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.numfun.html#Tietze.X">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#Tietze.R">R,</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#554fc3f3cf0a27fe0863b7741d119014">[/\</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#continuous">continuous</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#f:222">f,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.numfun.html#f:222">f</a></span> <span class="id">@`</span> <span class="id"><a href="mathcomp.analysis.numfun.html#A:218">A</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#e19db46c1d4073266228fb7781521a56">`&lt;=`</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#29c78c22490f2dae838b1b504eb858a2">[set</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#x:220">x],</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#f:222">f</a></span> <span class="id">@`</span> <span class="id"><a href="mathcomp.analysis.numfun.html#B:219">B</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#e19db46c1d4073266228fb7781521a56">`&lt;=`</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#29c78c22490f2dae838b1b504eb858a2">[set</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#y:221">y]</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#554fc3f3cf0a27fe0863b7741d119014">&amp;</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#range">range</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#f:222">f</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#e19db46c1d4073266228fb7781521a56">`&lt;=`</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#0d46aeacdf83c1ab2ebf3404fa8daa4b">`[x,</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#y:221">y]]</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof53')">Proof.</span></div>
<div class="proofscript" id="proof53">
<span class="id">move=&gt;</span> <span class="id">cA</span> <span class="id">cB</span> <span class="id">A0</span> <span class="id">xy;</span> <span class="id">move/normal_separatorP</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.numfun.html#Tietze.normalX">normalX</a></span> <span class="id">=&gt;</span> <span class="id">urysohn_ext</span>.<br/>
<span class="id">have</span> <span class="id">/</span>(<span class="id">@uniform_separatorP</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.numfun.html#Tietze.R">R</a></span>)<span class="id">[f</span> <span class="id">[cf</span> <span class="id">f01</span> <span class="id">f0</span> <span class="id">f1]]</span> <span class="id">:=</span> <span class="id">urysohn_ext</span> <span class="id">_</span> <span class="id">_</span> <span class="id">cA</span> <span class="id">cB</span> <span class="id">A0</span>.<br/>
<span class="id">pose</span> <span class="id">g</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.numfun.html#Tietze.X">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#Tietze.R">R</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.set_interval.html#line_path">line_path</a></span> <span class="id">x</span> <span class="id">y</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id">f;</span> <span class="gallina-kwd">exists</span> <span class="id">g;</span> <span class="id">split;</span> <span class="id">rewrite</span> <span class="id">/g</span> <span class="id">/=</span>.<br/>
<span class="id">-</span> <span class="id">move=&gt;</span> <span class="id">t;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.topology.html#continuous_comp">continuous_comp;</a></span> <span class="id">first</span> <span class="id">exact:</span> <span class="id">cf</span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> (<span class="id">@continuousD</span> <span class="id"><a href="mathcomp.analysis.numfun.html#Tietze.R">R</a></span> <span class="id"><a href="mathcomp.analysis.normedtype.html#b9a9cc31768410d682d511792985772f">[normedModType</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#Tietze.R">R</a></span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.numfun.html#Tietze.R">R^o]</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#continuousM">continuousM;</a></span> <span class="id">last</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.topology.html#cvg_cst">cvg_cst</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> (<span class="id">@continuousB</span> <span class="id"><a href="mathcomp.analysis.numfun.html#Tietze.R">R</a></span> <span class="id"><a href="mathcomp.analysis.normedtype.html#b9a9cc31768410d682d511792985772f">[normedModType</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#Tietze.R">R</a></span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.numfun.html#Tietze.R">R^o]</a></span>) <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.topology.html#cvg_cst">cvg_cst</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#continuousM">continuousM;</a></span> <span class="id">[exact:</span> <span class="id"><a href="mathcomp.analysis.topology.html#cvg_id">cvg_id|exact:</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#cvg_cst">cvg_cst]</a></span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-image_comp</span> <span class="id">=&gt;</span> <span class="id">z</span> <span class="id">/=</span> <span class="id">[?</span> <span class="id">/f0</span> <span class="id">-&gt;</span> <span class="id">&lt;-];</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.set_interval.html#line_path0">line_path0</a></span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-image_comp</span> <span class="id">=&gt;</span> <span class="id">z</span> <span class="id">/=</span> <span class="id">[?</span> <span class="id">/f1</span> <span class="id">-&gt;</span> <span class="id">&lt;-];</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.set_interval.html#line_path1">line_path1</a></span>.<br/>
<span class="id">-</span> <span class="id">rewrite</span> <span class="id">-image_comp;</span> <span class="id">apply:</span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#subset_trans">subset_trans</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#image_subset">image_subset</a></span> <span class="id">_</span> <span class="id">f01</span>)).<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.set_interval.html#range_line_path">range_line_path</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Context</span> (<span id="A:223" class="id"><a name="A:223" class="">A</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#Tietze.X">X</a></span>).<br/>
<span class="vernacular">Hypothesis</span> <span id="Tietze.clA" class="id"><a name="Tietze.clA" class="">clA</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.topology.html#closed">closed</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#Tietze.A">A</a></span>.<br/>
<br/>
<span class="vernacular">Local</span> <span class="vernacular">Notation</span> <span id="Tietze.:::'3'" class="id"><a name="Tietze.:::'3'" class="">&quot;3&quot;</a></span> <span class="id">:=</span> <span class="id">3%:R</span>.<br/>
<br/>
<span class="vernacular">Local</span> <span class="vernacular">Lemma</span> <span id="tietze_step'" class="id"><a name="tietze_step'" class="">tietze_step'</a></span> (<span id="f:225" class="id"><a name="f:225" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.numfun.html#Tietze.X">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#Tietze.R">R</a></span>) (<span id="M:226" class="id"><a name="M:226" class="">M</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.numfun.html#Tietze.R">R</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id">0</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#M:226">M</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#af19c018041d6f46936695fca32b4483">{within</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#Tietze.A">A,</a></span> <span class="id">continuous</span> <span class="id"><a href="mathcomp.analysis.numfun.html#f:225">f}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="x:227" class="id"><a name="x:227" class="">x,</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#Tietze.A">A</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#x:227">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#55297ec87c6b3f98c14c99daeafb55d3">`|f</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#x:227">x|</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#M:226">M</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="g:228" class="id"><a name="g:228" class="">g</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.numfun.html#Tietze.X">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#Tietze.R">R,</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#d7e433f5d2fe56f5b712860a9ff2a681">[/\</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#continuous">continuous</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#g:228">g,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="x:229" class="id"><a name="x:229" class="">x,</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#Tietze.A">A</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#x:229">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#55297ec87c6b3f98c14c99daeafb55d3">`|f</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#x:229">x</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'-'_x">-</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#g:228">g</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#x:229">x|</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id">2/3</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#2d0cfb150261028f4ebd2ba355623dcc">*</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#M:226">M</a></span>) <span class="id">&amp;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="x:230" class="id"><a name="x:230" class="">x,</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#55297ec87c6b3f98c14c99daeafb55d3">`|g</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#x:230">x|</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id">1/3</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#2d0cfb150261028f4ebd2ba355623dcc">*</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#M:226">M</a></span>)<span class="id">]</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof54')">Proof.</span></div>
<div class="proofscript" id="proof54">
<span class="id">move:</span> <span class="id">M</span> <span class="id">=&gt;</span> <span class="id">_/posnumP[M]</span> <span class="id">ctsf</span> <span class="id">fA1</span>.<br/>
<span class="id">have</span> <span class="id">[]</span> <span class="id">:=</span> <span class="id">@urysohn_ext_itv</span> (<span class="id"><a href="mathcomp.analysis.numfun.html#Tietze.A">A</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#c7636f45aa1745dbf533da3d408cece1">`&amp;`</a></span> <span class="id">f</span> <span class="id">@^-1`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#5e1b04cba2ff8bb716094037c34db7ee">`]-oo,</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:'-'_x">-</a></span>(<span class="id">1/3</span>) <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#2d0cfb150261028f4ebd2ba355623dcc">*</a></span> <span class="id">M%:num]</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="mathcomp.analysis.numfun.html#Tietze.A">A</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#c7636f45aa1745dbf533da3d408cece1">`&amp;`</a></span> <span class="id">f</span> <span class="id">@^-1`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#15b7e1a0c6e4df0db66b48da271129e4">`[1/3</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#2d0cfb150261028f4ebd2ba355623dcc">*</a></span> <span class="id">M%:num,+oo[</span>) (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:'-'_x">-</a></span>(<span class="id">1/3</span>) <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#2d0cfb150261028f4ebd2ba355623dcc">*</a></span> <span class="id">M%:num</span>) (<span class="id">1/3</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#2d0cfb150261028f4ebd2ba355623dcc">*</a></span> <span class="id">M%:num</span>).<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.topology.html#closed_setSI">closed_setSI;</a></span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.topology.html#closed_comp">closed_comp</a></span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.topology.html#closed_setSI">closed_setSI;</a></span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.topology.html#closed_comp">closed_comp</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#interval_closed">interval_closed</a></span>.<br/>
<span class="id">-</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setIACA">setIACA</a></span> <span class="id">-preimage_setI</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#eqEsubset">eqEsubset;</a></span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">z</span> <span class="id">//</span> <span class="id">[_</span> <span class="id">[]]</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">!set_itvE/=</span> <span class="id">=&gt;</span> <span class="id">/[swap]</span> <span class="id">/le_trans</span> <span class="id">/[apply]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.TotalTheory.leNgt">leNgt</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.mulNr">mulNr</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.gtr_opp">gtr_opp//</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.mulr_gt0">mulr_gt0//</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.divr_gt0">divr_gt0</a></span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.mulNr">mulNr</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.gtr_opp">gtr_opp//</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.mulr_gt0">mulr_gt0</a></span>.<br/>
<span class="id">move=&gt;</span> <span class="id">g</span> <span class="id">[ctsg</span> <span class="id">gL3</span> <span class="id">gR3</span> <span class="id">grng];</span> <span class="gallina-kwd">exists</span> <span class="id">g;</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">first</span> <span class="id">last</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">x;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ler_norml">ler_norml</a></span> <span class="id">-mulNr;</span> <span class="id">apply:</span> <span class="id">grng;</span> <span class="gallina-kwd">exists</span> <span class="id">x</span>.<br/>
<span class="id">move=&gt;</span> <span class="id">x</span> <span class="id">Ax;</span> <span class="id">have</span> <span class="id">:=</span> <span class="id">fA1</span> <span class="id">_</span> <span class="id">Ax;</span> <span class="id">rewrite</span> <span class="id">2!ler_norml</span> <span class="id">=&gt;</span> <span class="id">/andP[Mfx</span> <span class="id">fxM]</span>.<br/>
<span class="id">have</span> <span class="id">[xL|xL]</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.TotalTheory.leP">leP</a></span> (<span class="id">f</span> <span class="id">x</span>) (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:'-'_x">-</a></span>(<span class="id">1/3</span>) <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#2d0cfb150261028f4ebd2ba355623dcc">*</a></span> <span class="id">M%:num</span>).<br/>
&nbsp;&nbsp;<span class="id">have:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#7e4573e059f309ba0ef27b7fc70cc4df">[set</a></span> <span class="id">g</span> <span class="id"><a href="mathcomp.analysis.numfun.html#x:231">x</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#7e4573e059f309ba0ef27b7fc70cc4df">|</a></span> <span id="x:231" class="id"><a name="x:231" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.numfun.html#Tietze.A">A</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#c7636f45aa1745dbf533da3d408cece1">`&amp;`</a></span> <span class="id">f@^-1`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#5e1b04cba2ff8bb716094037c34db7ee">`]-oo,</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:'-'_x">-</a></span>(<span class="id">1/3</span>) <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#2d0cfb150261028f4ebd2ba355623dcc">*</a></span> <span class="id">M%:num]]</span> (<span class="id">g</span> <span class="id">x</span>) <span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> <span class="id">x</span>.<br/>
&nbsp;&nbsp;<span class="id">move/gL3=&gt;</span> <span class="id">-&gt;;</span> <span class="id">rewrite</span> <span class="id">!mulNr</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.opprK">opprK;</a></span> <span class="id">apply/andP;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-ler_subl_addr</span> <span class="id">-opprD</span> <span class="id">-2!mulrDl</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.natr1">natr1</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.divrr">divrr</a></span> <span class="id">?unitfE//</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.mul1r">mul1r</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-ler_subr_addr</span> <span class="id">-2!mulrBl</span> <span class="id">-</span>(<span class="id">@natrB</span> <span class="id">_</span> <span class="id">2</span> <span class="id">1</span>)<span class="id">//</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans</a></span> <span class="id">xL</span>)<span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ler_pmul2r">ler_pmul2r//</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.ltW">ltW//</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.gtr_opp">gtr_opp//</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.divr_gt0">divr_gt0</a></span>.<br/>
<span class="id">have</span> <span class="id">[xR|xR]</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.lerP">lerP</a></span> (<span class="id">1/3</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#2d0cfb150261028f4ebd2ba355623dcc">*</a></span> <span class="id">M%:num</span>) (<span class="id">f</span> <span class="id">x</span>).<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#7e4573e059f309ba0ef27b7fc70cc4df">[set</a></span> <span class="id">g</span> <span class="id"><a href="mathcomp.analysis.numfun.html#x:232">x</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#7e4573e059f309ba0ef27b7fc70cc4df">|</a></span> <span id="x:232" class="id"><a name="x:232" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.numfun.html#Tietze.A">A</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#c7636f45aa1745dbf533da3d408cece1">`&amp;`</a></span> <span class="id">f@^-1`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#15b7e1a0c6e4df0db66b48da271129e4">`[1/3</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#2d0cfb150261028f4ebd2ba355623dcc">*</a></span> <span class="id">M%:num,</span> <span class="id">+oo[]</span> (<span class="id">g</span> <span class="id">x</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> <span class="id">x</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">rewrite</span> <span class="id">/=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#in_itv">in_itv</a></span> <span class="id">//=</span> <span class="id">xR</span>.<br/>
&nbsp;&nbsp;<span class="id">move/gR3</span> <span class="id">=&gt;</span> <span class="id">-&gt;;</span> <span class="id">apply/andP;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ler_subr_addl">ler_subr_addl</a></span> <span class="id">-2!mulrBl</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans</a></span> <span class="id">_</span> <span class="id">xR</span>)<span class="id">//</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ler_pmul2r">ler_pmul2r//</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ler_wpmul2r">ler_wpmul2r</a></span> <span class="id">?invr_ge0</span> <span class="id">?ler0n//</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ler_subl_addl">ler_subl_addl</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.natr1">natr1</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ler1n">ler1n</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ler_subl_addl">ler_subl_addl</a></span> <span class="id">-2!mulrDl</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.nat1r">nat1r</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.divrr">divrr</a></span> <span class="id">?mul1r//</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.unitfE">unitfE</a></span>.<br/>
<span class="id">have</span> <span class="id">/andP[ng3</span> <span class="id">pg3]</span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:'-'_x">-</a></span>(<span class="id">1/3</span>) <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#2d0cfb150261028f4ebd2ba355623dcc">*</a></span> <span class="id">M%:num</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#5285549f1bd0c3f181a17cc59d549bc0">&lt;=</a></span> <span class="id">g</span> <span class="id">x</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#5285549f1bd0c3f181a17cc59d549bc0">&lt;=</a></span> <span class="id">1/3</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#2d0cfb150261028f4ebd2ba355623dcc">*</a></span> <span class="id">M%:num</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id">grng;</span> <span class="gallina-kwd">exists</span> <span class="id">x</span>.<br/>
<span class="id">rewrite</span> <span class="id">?</span>(<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrint.html#intrD">intrD</a></span> <span class="id">_</span> <span class="id">1</span> <span class="id">1</span>) <span class="id">!mulrDl;</span> <span class="id">apply/andP;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.opprD">opprD</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ler_sub">ler_sub//</a></span> <span class="id">-mulNr</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.ltW">ltW</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ler_add">ler_add</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.ltW">ltW</a></span> <span class="id">_</span>))<span class="id">//</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ler_oppl">ler_oppl</a></span> <span class="id">-mulNr</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="Tietze.tietze_step" class="id"><a name="Tietze.tietze_step" class="">tietze_step</a></span> (<span id="f:233" class="id"><a name="f:233" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.numfun.html#Tietze.X">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#Tietze.R">R</a></span>) <span id="M:234" class="id"><a name="M:234" class="">M</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#6556914db359db999889decec6a4a562">{g</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#6556914db359db999889decec6a4a562">:</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#Tietze.X">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#Tietze.R">R^o</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#6556914db359db999889decec6a4a562">|</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#af19c018041d6f46936695fca32b4483">{within</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#Tietze.A">A,</a></span> <span class="id">continuous</span> <span class="id"><a href="mathcomp.analysis.numfun.html#f:233">f}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">0</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#M:234">M</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="x:236" class="id"><a name="x:236" class="">x,</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#Tietze.A">A</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#x:236">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#55297ec87c6b3f98c14c99daeafb55d3">`|f</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#x:236">x|</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#M:234">M</a></span>) <span class="id">-&gt;</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#d7e433f5d2fe56f5b712860a9ff2a681">[/\</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#continuous">continuous</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#g:235">g,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:237" class="id"><a name="x:237" class="">x,</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#Tietze.A">A</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#x:237">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#55297ec87c6b3f98c14c99daeafb55d3">`|f</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#x:237">x</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'-'_x">-</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#g:235">g</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#x:237">x|</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#ba5152cc8b7dbce43c273ac9c15cfb7c">&lt;=</a></span> <span class="id">2/3</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#2d0cfb150261028f4ebd2ba355623dcc">*</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#M:234">M</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#ba5152cc8b7dbce43c273ac9c15cfb7c">:&gt;R</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">&amp;</span> <span class="gallina-kwd">forall</span> <span id="x:238" class="id"><a name="x:238" class="">x,</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#55297ec87c6b3f98c14c99daeafb55d3">`|g</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#x:238">x|</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id">1/3</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#2d0cfb150261028f4ebd2ba355623dcc">*</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#M:234">M</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#d7e433f5d2fe56f5b712860a9ff2a681">]}</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof55')">Proof.</span></div>
<div class="proofscript" id="proof55">
<span class="id">apply:</span> <span class="id"><a href="mathcomp.classical.boolp.html#cid">cid</a></span>.<br/>
<span class="id">have</span> <span class="id">[|?]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.boolp.html#pselect">pselect</a></span> (<span class="id"><a href="mathcomp.analysis.topology.html#af19c018041d6f46936695fca32b4483">{within</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#Tietze.A">A,</a></span> <span class="id">continuous</span> <span class="id">f}</span>)<span class="id">;</span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#point">point</a></span>.<br/>
<span class="id">have</span> <span class="id">[|?]</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.TotalTheory.ltP">ltP</a></span> <span class="id">0</span> <span class="id">M;</span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#point">point</a></span>.<br/>
<span class="id">have</span> <span class="id">[|?]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.boolp.html#pselect">pselect</a></span> (<span class="gallina-kwd">forall</span> <span id="x:239" class="id"><a name="x:239" class="">x,</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#Tietze.A">A</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#x:239">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#55297ec87c6b3f98c14c99daeafb55d3">`|f</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#x:239">x|</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id">M</span>)<span class="id">;</span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#point">point</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">bd</span> <span class="id">pm</span> <span class="id">cf;</span> <span class="id">have</span> <span class="id">[g</span> <span class="id">?]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.numfun.html#tietze_step'">tietze_step'</a></span> <span class="id">pm</span> <span class="id">cf</span> <span class="id">bd;</span> <span class="gallina-kwd">exists</span> <span class="id">g</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="Tietze.onem_twothirds" class="id"><a name="Tietze.onem_twothirds" class="">onem_twothirds</a></span> <span class="id">:</span> <span class="id">1</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'-'_x">-</a></span> <span class="id">2/3%:R</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#b8b2ebc8e1a8b9aa935c0702efb5dccf">=</a></span> <span class="id">1/3%:R</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#b8b2ebc8e1a8b9aa935c0702efb5dccf">:&gt;</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#Tietze.R">R</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof56')">Proof.</span></div>
<div class="proofscript" id="proof56">
 <span class="gallina-kwd">by</span> <span class="id">apply/eqP;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.subr_eq">subr_eq/=</a></span> <span class="id">-mulrDl</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.nat1r">nat1r</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.divrr">divrr//</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.unitfE">unitfE</a></span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="continuous_bounded_extension" class="id"><a name="continuous_bounded_extension" class="">continuous_bounded_extension</a></span> (<span id="f:240" class="id"><a name="f:240" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.numfun.html#Tietze.X">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#Tietze.R">R^o</a></span>) <span id="M:241" class="id"><a name="M:241" class="">M</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id">0</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#M:241">M</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#af19c018041d6f46936695fca32b4483">{within</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#Tietze.A">A,</a></span> <span class="id">continuous</span> <span class="id"><a href="mathcomp.analysis.numfun.html#f:240">f}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> (<span class="gallina-kwd">forall</span> <span id="x:242" class="id"><a name="x:242" class="">x,</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#Tietze.A">A</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#x:242">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#55297ec87c6b3f98c14c99daeafb55d3">`|f</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#x:242">x|</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#M:241">M</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="g:243" class="id"><a name="g:243" class="">g,</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#d7e433f5d2fe56f5b712860a9ff2a681">[/\</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#8c08d4203604dbed63e7afa9b689d858">{in</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#Tietze.A">A,</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#f:240">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#876aa133fb3472bffd492f74ff496035">=1</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#g:243">g},</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#continuous">continuous</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#g:243">g</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#d7e433f5d2fe56f5b712860a9ff2a681">&amp;</a></span> <span class="gallina-kwd">forall</span> <span id="x:244" class="id"><a name="x:244" class="">x,</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#55297ec87c6b3f98c14c99daeafb55d3">`|g</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#x:244">x|</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#M:241">M]</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof57')">Proof.</span></div>
<div class="proofscript" id="proof57">
<span class="id">move:</span> <span class="id">M</span> <span class="id">=&gt;</span> <span class="id">_/posnumP[M]</span> <span class="id">Af</span> <span class="id">fbd;</span> <span class="id">pose</span> <span class="id">M2d3</span> <span id="n:245" class="id"><a name="n:245" class="">n</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.sequences.html#geometric">geometric</a></span> <span class="id">M%:num</span> (<span class="id">2/3</span>) <span class="id"><a href="mathcomp.analysis.numfun.html#n:245">n</a></span>.<br/>
<span class="id">have</span> <span class="id">MN0</span> <span class="id">n</span> <span class="id">:</span> <span class="id">0</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'&lt;'_x">&lt;</a></span> <span class="id">M2d3</span> <span class="id"><a href="mathcomp.analysis.numfun.html#n:246">n</a></span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/M2d3</span> <span class="id">/geometric</span> <span class="id">/mk_sequence</span>.<br/>
<span class="id">pose</span> <span class="id">f_</span> <span class="id">:=</span> <span class="gallina-kwd">fix</span> <span class="id">F</span> <span id="n:247" class="id"><a name="n:247" class="">n</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">if</span> <span class="id"><a href="mathcomp.analysis.numfun.html#n:247">n</a></span> <span class="id">is</span> <span class="id">n</span>.<span class="id">+1</span> <span class="gallina-kwd">then</span> <span class="id"><a href="mathcomp.analysis.numfun.html#F:248">F</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#n:247">n</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'-'_x">-</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#projT1">projT1</a></span> (<span class="id"><a href="mathcomp.analysis.numfun.html#Tietze.tietze_step">tietze_step</a></span> (<span class="id"><a href="mathcomp.analysis.numfun.html#F:248">F</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#n:247">n</a></span>) (<span class="id">M2d3</span> <span class="id"><a href="mathcomp.analysis.numfun.html#n:247">n</a></span>)) <span class="gallina-kwd">else</span> <span class="id">f</span>.<br/>
<span class="id">pose</span> <span class="id">g_</span> <span id="n:250" class="id"><a name="n:250" class="">n</a></span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#projT1">projT1</a></span> (<span class="id"><a href="mathcomp.analysis.numfun.html#Tietze.tietze_step">tietze_step</a></span> (<span class="id">f_</span> <span class="id"><a href="mathcomp.analysis.numfun.html#n:250">n</a></span>) (<span class="id">M2d3</span> <span class="id"><a href="mathcomp.analysis.numfun.html#n:250">n</a></span>)).<br/>
<span class="id">have</span> <span class="id">fgE</span> <span class="id">n</span> <span class="id">:</span> <span class="id">f_</span> <span class="id"><a href="mathcomp.analysis.numfun.html#n:251">n</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'-'_x">-</a></span> <span class="id">f_</span> <span class="id"><a href="mathcomp.analysis.numfun.html#n:251">n</a></span>.<span class="id">+1</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">g_</span> <span class="id"><a href="mathcomp.analysis.numfun.html#n:251">n</a></span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.opprB">opprB</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.addrC">addrC</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.subrK">subrK</a></span>.<br/>
<span class="id">have</span> <span class="id">twothirds1</span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#55297ec87c6b3f98c14c99daeafb55d3">`|2/3|</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'&lt;'_x_':&gt;'_x">&lt;</a></span> <span class="id">1</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'&lt;'_x_':&gt;'_x">:&gt;</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#Tietze.R">R</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.gtr0_norm">gtr0_norm</a></span> <span class="id">//=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltr_pdivr_mulr">ltr_pdivr_mulr//</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.mul1r">mul1r</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltr_nat">ltr_nat</a></span>.<br/>
<span class="id">have</span> <span class="id">f_geo</span> <span class="id">n</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.topology.html#af19c018041d6f46936695fca32b4483">{within</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#Tietze.A">A,</a></span> <span class="id">continuous</span> <span class="id">f_</span> <span class="id"><a href="mathcomp.analysis.numfun.html#n:252">n}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="x:253" class="id"><a name="x:253" class="">x,</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#Tietze.A">A</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#x:253">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#55297ec87c6b3f98c14c99daeafb55d3">`|f_</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#n:252">n</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#x:253">x|</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.sequences.html#geometric">geometric</a></span> <span class="id">M%:num</span> (<span class="id">2/3</span>) <span class="id"><a href="mathcomp.analysis.numfun.html#n:252">n</a></span>).<br/>
&nbsp;&nbsp;<span class="id">elim:</span> <span class="id">n</span> <span class="id">=&gt;</span> <span class="id">[|n</span> <span class="id">[ctsN</span> <span class="id">bdN]];</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">split=&gt;</span> <span class="id">//=</span> <span class="id">x</span> <span class="id">?;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.expr0">expr0</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.mulr1">mulr1</a></span> <span class="id">fbd</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">[cg</span> <span class="id">bdNS</span> <span class="id">bd2]</span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#projT2">projT2</a></span> (<span class="id"><a href="mathcomp.analysis.numfun.html#Tietze.tietze_step">tietze_step</a></span> (<span class="id">f_</span> <span class="id">n</span>) <span class="id">_</span>) <span class="id">ctsN</span> (<span class="id">MN0</span> <span class="id">n</span>) <span class="id">bdN</span>.<br/>
&nbsp;&nbsp;<span class="id">split=&gt;</span> <span class="id">[x|];</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#cvgB">cvgB;</a></span> <span class="id">[exact:ctsN|exact/continuous_subspaceT/cg]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">x</span> <span class="id">Ax;</span> <span class="id">rewrite</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans</a></span> (<span class="id">bdNS</span> <span class="id">_</span> <span class="id">Ax</span>))<span class="id">//</span> <span class="id">/M2d3/=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.mulrCA">mulrCA</a></span> <span class="id">-exprS</span>.<br/>
<span class="id">have</span> <span class="id">g_cts</span> <span class="id">n</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.topology.html#continuous">continuous</a></span> (<span class="id">g_</span> <span class="id"><a href="mathcomp.analysis.numfun.html#n:254">n</a></span>).<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">have</span> <span class="id">[?</span> <span class="id">?]</span> <span class="id">:=</span> <span class="id">f_geo</span> <span class="id">n;</span> <span class="id">case:</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#projT2">projT2</a></span> (<span class="id"><a href="mathcomp.analysis.numfun.html#Tietze.tietze_step">tietze_step</a></span> (<span class="id">f_</span> <span class="id">n</span>) <span class="id">_</span>) <span class="id">_</span> (<span class="id">MN0</span> <span class="id">n</span>)).<br/>
<span class="id">have</span> <span class="id">g_bd</span> <span class="id">n</span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="x:256" class="id"><a name="x:256" class="">x,</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#55297ec87c6b3f98c14c99daeafb55d3">`|g_</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#n:255">n</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#x:256">x|</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.sequences.html#geometric">geometric</a></span> ((<span class="id">1/3</span>) <span class="id">*</span> <span class="id">M%:num</span>) (<span class="id">2/3</span>) <span class="id"><a href="mathcomp.analysis.numfun.html#n:255">n</a></span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">[ctsN</span> <span class="id">bdfN]</span> <span class="id">:=</span> <span class="id">f_geo</span> <span class="id">n;</span> <span class="id">rewrite</span> <span class="id">/geometric</span> <span class="id">/=</span> <span class="id">-[_</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#2d0cfb150261028f4ebd2ba355623dcc">*</a></span> <span class="id">M%:num</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#2d0cfb150261028f4ebd2ba355623dcc">*</a></span> <span class="id">_]mulrA</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">have</span> <span class="id">[_</span> <span class="id">_]</span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#projT2">projT2</a></span> (<span class="id"><a href="mathcomp.analysis.numfun.html#Tietze.tietze_step">tietze_step</a></span> (<span class="id">f_</span> <span class="id">n</span>) <span class="id">_</span>) <span class="id">ctsN</span> (<span class="id">MN0</span> <span class="id">n</span>) <span class="id">bdfN</span>.<br/>
<span class="id">pose</span> <span class="id">h_</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#12d25fecd51546d1ed59b474f7ac8a20">[completeType</a></span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.topology.html#27b8687d54946e40caa663ead86f5271">{uniform</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#Tietze.X">X</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#27b8687d54946e40caa663ead86f5271">-&gt;</a></span> <span class="id">_}]</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id">@series</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#97b11d2a158d9db11032c2626798c6ac">[zmodType</a></span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.topology.html#27b8687d54946e40caa663ead86f5271">{uniform</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#Tietze.X">X</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#27b8687d54946e40caa663ead86f5271">-&gt;</a></span> <span class="id">_}]</span> <span class="id">g_</span>.<br/>
<span class="id">have</span> <span class="id">cvgh'</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.topology.html#cvg">cvg</a></span> (<span class="id">h_</span> <span class="id">@</span> <span class="id"><a href="mathcomp.analysis.topology.html#228a5fbd8d7ef28f21231bccff88d0b0">\oo</a></span>).<br/>
&nbsp;&nbsp;<span class="id">apply/cauchy_cvgP/cauchy_ballP</span> <span class="id">=&gt;</span> <span class="id">eps</span> <span class="id">epos;</span> <span class="id">near_simpl</span>.<br/>
&nbsp;&nbsp;<span class="id">suff</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.topology.html#ac1b93c05e84da4060d9d4b990e77733">\forall</a></span> <span id="x:257" class="id"><a name="x:257" class="">x</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#ac1b93c05e84da4060d9d4b990e77733">&amp;</a></span> <span id="x':258" class="id"><a name="x':258" class="">x'</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#ac1b93c05e84da4060d9d4b990e77733">\near</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#228a5fbd8d7ef28f21231bccff88d0b0">\oo,</a></span> (<span class="id"><a href="mathcomp.analysis.numfun.html#x':258">x'</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.ssrnat.html#cb53cf0ee22c036a03b4a9281c68b5a3">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#x:257">x</a></span>)<span class="id">%N</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#ball">ball</a></span> (<span class="id">h_</span> <span class="id"><a href="mathcomp.analysis.numfun.html#x:257">x</a></span>) <span class="id">eps</span> (<span class="id">h_</span> <span class="id"><a href="mathcomp.analysis.numfun.html#x':258">x'</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move=&gt;/[dup];</span> <span class="id">rewrite</span> <span class="id">{1}near_swap;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.topology.html#filter_app2">filter_app2;</a></span> <span class="id">near=&gt;</span> <span class="id">n</span> <span class="id">m</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">have</span> <span class="id">/orP[mn</span> <span class="id">/</span>(<span class="id">_</span> <span class="id">mn</span>)<span class="id">/ball_sym</span> <span class="id">+</span> <span class="id">_|</span> <span class="id">?</span> <span class="id">_]</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.ssrnat.html#leq_total">leq_total</a></span> <span class="id">n</span> <span class="id">m;</span> <span class="id">apply</span>.<br/>
&nbsp;&nbsp;<span class="id">near=&gt;</span> <span class="id">n</span> <span class="id">m;</span> <span class="id">move=&gt;</span> <span class="id">/=</span> <span class="id">MN;</span> <span class="id">rewrite</span> <span class="id">/ball</span> <span class="id">/=</span> <span class="id">/h_</span> <span class="id">=&gt;</span> <span class="id">t;</span> <span class="id">rewrite</span> <span class="id">/ball</span> <span class="id">/=</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-[X</span> <span class="gallina-kwd">in</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#55297ec87c6b3f98c14c99daeafb55d3">`|X|]/</a></span>((<span class="id"><a href="mathcomp.analysis.sequences.html#series">series</a></span> <span class="id">g_</span> <span class="id">n</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'-'_x">-</a></span> <span class="id"><a href="mathcomp.analysis.sequences.html#series">series</a></span> <span class="id">g_</span> <span class="id">m</span>) <span class="id">t</span>) <span class="id"><a href="mathcomp.analysis.sequences.html#sub_series">sub_series</a></span> <span class="id">MN</span> <span class="id"><a href="mathcomp.classical.functions.html#fct_sumE">fct_sumE</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_lt_trans">le_lt_trans</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ler_norm_sum">ler_norm_sum</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>))<span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_lt_trans">le_lt_trans</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ler_sum">ler_sum</a></span> <span class="id">_</span> (<span class="gallina-kwd">fun</span> <span id="i:262" class="id"><span id="i:261" class="id"><span id="i:260" class="id"><a name="i:262" class="">i</a></span></span></span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id">g_bd</span> <span class="id"><a href="mathcomp.analysis.numfun.html#i:260">i</a></span> <span class="id">t</span>)))<span class="id">//</span> <span class="id">-mulr_sumr</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-</span>(<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.ssrnat.html#subnKC">subnKC</a></span> <span class="id">MN</span>) <span class="id"><a href="mathcomp.analysis.sequences.html#geometric_partial_tail">geometric_partial_tail</a></span>.<br/>
&nbsp;&nbsp;<span class="id">pose</span> <span class="id">L</span> <span class="id">:=</span> (<span class="id">1/3</span>) <span class="id">*</span> <span class="id">M%:num</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#2d0cfb150261028f4ebd2ba355623dcc">*</a></span> ((<span class="id">2/3</span>) <span class="id">^+</span> <span class="id">m</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#69c431a9c94f6f30a655bd7ddb59037b">/</a></span> (<span class="id">1</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'-'_x">-</a></span> (<span class="id">2/3</span>))).<br/>
&nbsp;&nbsp;<span class="id">apply:</span> (<span class="id">@le_lt_trans</span> <span class="id">_</span> <span class="id">_</span> <span class="id">L</span>)<span class="id">;</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ler_pmul2l">ler_pmul2l</a></span> <span class="id">//</span> <span class="id"><a href="mathcomp.analysis.sequences.html#geometric_le_lim">geometric_le_lim</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">/L</span> <span class="id"><a href="mathcomp.analysis.numfun.html#Tietze.onem_twothirds">onem_twothirds</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">[_</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#663140372ac3b275aae871b74b140513">^+</a></span> <span class="id">_</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#2d0cfb150261028f4ebd2ba355623dcc">*</a></span> <span class="id">_</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#4e5a4c91ec0aa12de06dfe1cc07ea126">^-1]mulrC</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.mulrA">mulrA</a></span> <span class="id">-[x</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.numfun.html#x:263">x</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'&lt;'_x">&lt;</a></span> <span class="id">_]ger0_norm;</span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">[]</span>.<br/>
&nbsp;&nbsp;<span class="id">near:</span> <span class="id">m;</span> <span class="id">near_simpl;</span> <span class="id">move:</span> <span class="id">eps</span> <span class="id">epos</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> (<span class="id"><a href="mathcomp.analysis.normedtype.html#cvgr0_norm_lt">cvgr0_norm_lt</a></span> (<span class="gallina-kwd">fun</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#Tietze.R">R^o</a></span>))<span class="id">;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.sequences.html#cvg_geometric">cvg_geometric</a></span>.<br/>
<span class="id">have</span> <span class="id">cvgh</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.topology.html#82751b72ee1979a69897a2299122f3d9">{uniform,</a></span> <span class="id">h_</span> <span class="id">@</span> <span class="id"><a href="mathcomp.analysis.topology.html#228a5fbd8d7ef28f21231bccff88d0b0">\oo</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#82751b72ee1979a69897a2299122f3d9">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#lim">lim</a></span> (<span class="id">h_</span> <span class="id">@</span> <span class="id"><a href="mathcomp.analysis.topology.html#228a5fbd8d7ef28f21231bccff88d0b0">\oo</a></span>)<span class="id"><a href="mathcomp.analysis.topology.html#82751b72ee1979a69897a2299122f3d9">}</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">?;</span> <span class="id">rewrite</span> <span class="id">/=</span> <span class="id"><a href="mathcomp.analysis.topology.html#uniform_nbhsT">uniform_nbhsT;</a></span> <span class="id">exact:</span> <span class="id">cvgh'</span>.<br/>
<span class="gallina-kwd">exists</span> (<span class="id"><a href="mathcomp.analysis.topology.html#lim">lim</a></span> (<span class="id">h_</span> <span class="id">@</span> <span class="id"><a href="mathcomp.analysis.topology.html#228a5fbd8d7ef28f21231bccff88d0b0">\oo</a></span>))<span class="id">;</span> <span class="id">split</span>.<br/>
<span class="id">-</span> <span class="id">move=&gt;</span> <span class="id">t</span> <span class="id">/set_mem</span> <span class="id">At;</span> <span class="id">have</span> <span class="id">/pointwise_cvgP/</span>(<span class="id">_</span> <span class="id">t</span>)<span class="id">/</span>(<span class="id"><a href="mathcomp.analysis.topology.html#cvg_lim">cvg_lim</a></span> (<span class="id">@Rhausdorff</span> <span class="id">_</span>)) <span class="id">:=</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">!!</span> <span class="id"><a href="mathcomp.analysis.topology.html#pointwise_uniform_cvg">pointwise_uniform_cvg</a></span> <span class="id">_</span> <span class="id">cvgh</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-fmap_comp</span> <span class="id">/comp</span> <span class="id">/h_</span> <span class="id">=&gt;</span> <span class="id">&lt;-;</span> <span class="id">apply/esym/</span>(<span class="id">@cvg_lim</span> <span class="id">_</span> (<span class="id">@Rhausdorff</span> <span class="id"><a href="mathcomp.analysis.numfun.html#Tietze.R">R</a></span>)).<br/>
&nbsp;&nbsp;<span class="id">apply:</span> (<span class="id">@cvg_zero</span> <span class="id"><a href="mathcomp.analysis.numfun.html#Tietze.R">R</a></span> <span class="id"><a href="mathcomp.analysis.normedtype.html#776e1182347bcebd17103861272b4c0f">[pseudoMetricNormedZmodType</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#Tietze.R">R</a></span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.numfun.html#Tietze.R">R^o]</a></span>).<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#norm_cvg0">norm_cvg0;</a></span> <span class="id">under</span> <span class="id"><a href="mathcomp.classical.boolp.html#eq_fun">eq_fun</a></span> <span class="id">=&gt;</span> <span class="id">n</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.distrC">distrC</a></span> <span class="id">/series</span> <span class="id">/cst</span> <span class="id">/=</span> <span class="id">-mulN1r</span> <span class="id"><a href="mathcomp.classical.functions.html#fct_sumE">fct_sumE</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.mulr_sumr">mulr_sumr</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">under</span> <span class="id">[fun</span> <span class="id">_</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id">=&gt;</span> <span class="id">_]eq_fun</span> <span class="id">=&gt;</span> <span class="id">?</span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.mulN1r">mulN1r</a></span> <span class="id">-fgE</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.opprB">opprB</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.telescope_sumr">telescope_sumr</a></span> <span class="id">//=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.addrCA">addrCA</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.subrr">subrr</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.addr0">addr0</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">over</span>.<br/>
&nbsp;&nbsp;<span class="id">apply/norm_cvg0P/cvgr0Pnorm_lt</span> <span class="id">=&gt;</span> <span class="id">eps</span> <span class="id">epos</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">/</span>(<span class="id">_</span> <span class="id">_</span> <span class="id">epos</span>)  <span class="id">:=</span> <span class="id">@cvgr0_norm_lt</span> <span class="id"><a href="mathcomp.analysis.numfun.html#Tietze.R">R</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.topology.html#eventually_filter">eventually_filter</a></span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#Tietze.R">R^o</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="mathcomp.analysis.sequences.html#cvg_geometric">cvg_geometric</a></span> <span class="id">M%:num</span> <span class="id">twothirds1</span>).<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.topology.html#filter_app">filter_app;</a></span> <span class="id">near_simpl;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.topology.html#nearW">nearW</a></span> <span class="id">=&gt;</span> <span class="id">n</span> <span class="id">/le_lt_trans;</span> <span class="id">apply</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans</a></span> ((<span class="id">f_geo</span> <span class="id">n</span>).<span class="id">2</span> <span class="id">_</span> <span class="id">_</span>)) <span class="id">//</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ler_norm">ler_norm</a></span>.<br/>
<span class="id">-</span> <span class="id">apply:</span> (<span class="id">@uniform_limit_continuous</span> <span class="id"><a href="mathcomp.analysis.numfun.html#Tietze.X">X</a></span> <span class="id">_</span> (<span class="id">h_</span> <span class="id">@</span> <span class="id"><a href="mathcomp.analysis.topology.html#228a5fbd8d7ef28f21231bccff88d0b0">\oo</a></span>) (<span class="id"><a href="mathcomp.analysis.topology.html#lim">lim</a></span> (<span class="id">h_</span> <span class="id">@</span> <span class="id"><a href="mathcomp.analysis.topology.html#228a5fbd8d7ef28f21231bccff88d0b0">\oo</a></span>))) <span class="id">=&gt;//</span>.<br/>
&nbsp;&nbsp;<span class="id">near_simpl;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.topology.html#nearW">nearW;</a></span> <span class="id">elim</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/h_</span> <span class="id">/series</span> <span class="id">/=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.bigop.html#big_geq">big_geq//</a></span> <span class="id">=&gt;</span> <span class="id">?;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.topology.html#cvg_cst">cvg_cst</a></span>.<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">n;</span> <span class="id">rewrite</span> <span class="id">/h_</span> <span class="id">/series</span> <span class="id">/=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.bigop.html#big_nat_recr">big_nat_recr</a></span> <span class="id">/=</span> <span class="id">//</span> <span class="id">=&gt;</span> <span class="id">IH</span> <span class="id">t</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#continuousD">continuousD;</a></span> <span class="id">[exact:</span> <span class="id">IH|exact:</span> <span class="id">g_cts]</span>.<br/>
<span class="id">-</span> <span class="id">move=&gt;</span> <span class="id">t</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">/pointwise_cvgP/</span>(<span class="id">_</span> <span class="id">t</span>)<span class="id">/</span>(<span class="id"><a href="mathcomp.analysis.topology.html#cvg_lim">cvg_lim</a></span> (<span class="id">@Rhausdorff</span> <span class="id">_</span>)) <span class="id">:=</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">!!</span> <span class="id"><a href="mathcomp.analysis.topology.html#pointwise_uniform_cvg">pointwise_uniform_cvg</a></span> <span class="id">_</span> <span class="id">cvgh</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-fmap_comp</span> <span class="id">/comp</span> <span class="id">/h_</span> <span class="id">=&gt;</span> <span class="id">&lt;-</span>.<br/>
&nbsp;&nbsp;<span class="id">under</span> <span class="id">[fun</span> <span class="id">_</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id">=&gt;</span> <span class="id">_]eq_fun</span> <span class="id">=&gt;</span> <span class="id">?</span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id">/series</span> <span class="id">/=</span> <span class="id"><a href="mathcomp.classical.functions.html#fct_sumE">fct_sumE</a></span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">cvg_gt</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.topology.html#cvg">cvg</a></span> <span class="id"><a href="mathcomp.analysis.sequences.html#1bc2e6606ddc6997e697ea81c5520e51">[normed</a></span> <span class="id"><a href="mathcomp.analysis.sequences.html#series">series</a></span> (<span class="id">g_^~</span> <span class="id">t</span>)<span class="id"><a href="mathcomp.analysis.sequences.html#1bc2e6606ddc6997e697ea81c5520e51">]</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply:</span> (<span class="id"><a href="mathcomp.analysis.sequences.html#series_le_cvg">series_le_cvg</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="id">g_bd</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#d89396f990d6b54d736cfe259e498cf4">^~</a></span> <span class="id">t</span>) (<span class="id"><a href="mathcomp.analysis.sequences.html#is_cvg_geometric_series">is_cvg_geometric_series</a></span> <span class="id">_</span>)) <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">n;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.mulr_ge0">mulr_ge0</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans</a></span> (<span class="id"><a href="mathcomp.analysis.sequences.html#lim_series_norm">lim_series_norm</a></span> <span class="id">_</span>))<span class="id">//;</span> <span class="id">apply:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact/</span>(<span class="id"><a href="mathcomp.analysis.sequences.html#lim_series_le">lim_series_le</a></span> <span class="id">cvg_gt</span> <span class="id">_</span> (<span class="id">g_bd</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#d89396f990d6b54d736cfe259e498cf4">^~</a></span> <span class="id">t</span>))<span class="id">/is_cvg_geometric_series</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id"><a href="mathcomp.analysis.topology.html#cvg_lim">cvg_lim</a></span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.sequences.html#cvg_geometric_series">cvg_geometric_series</a></span> <span class="id">_</span>))<span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.numfun.html#Tietze.onem_twothirds">onem_twothirds</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.mulrAC">mulrAC</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.divrr">divrr</a></span> <span class="id">?mul1r//</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.unitfE">unitfE</a></span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all:</span> <span class="gallina-kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.numfun.html#Tietze">Tietze</a></span>.<br/>

</div>
<div class="footer"><hr/>Generated by <a href="https://github.com/yoshihiro503/coq2html/">a fork of coq2html</a></div>
</body>
</html>
