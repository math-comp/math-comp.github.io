
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Module mathcomp.analysis.ftc</title>
<meta name="description" content="Documentation of Coq module mathcomp.analysis.ftc" />
<link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.css">
<script src="https://cdn.jsdelivr.net/npm/markdown-it/dist/markdown-it.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/markdown-it-texmath/texmath.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/darkmode-js@1.5.7/lib/darkmode-js.min.js"></script>
<link href="coq2html.css" rel="stylesheet" type="text/css" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script type="text/javascript" src="coq2html.js"> </script>
</head>

<body onload="init('proofscript')">

  <main>
    <div class="sidebar">
      <h2>Files</h2>
      <li><details id="mathcomp"><summary>mathcomp</summary>
          <ul>
          <li><details id="mathcomp.analysis"><summary>analysis</summary>
          <ul>
          <li><a href="mathcomp.analysis.cantor.html">cantor</a></li>
<li><a href="mathcomp.analysis.charge.html">charge</a></li>
<li><a href="mathcomp.analysis.constructive_ereal.html">constructive_ereal</a></li>
<li><a href="mathcomp.analysis.convex.html">convex</a></li>
<li><a href="mathcomp.analysis.derive.html">derive</a></li>
<li><a href="mathcomp.analysis.ereal.html">ereal</a></li>
<li><a href="mathcomp.analysis.esum.html">esum</a></li>
<li><a href="mathcomp.analysis.exp.html">exp</a></li>
<li><a href="mathcomp.analysis.forms.html">forms</a></li>
<li><a href="mathcomp.analysis.ftc.html">ftc</a></li>
<li><a href="mathcomp.analysis.function_spaces.html">function_spaces</a></li>
<li><a href="mathcomp.analysis.hoelder.html">hoelder</a></li>
<li><a href="mathcomp.analysis.itv.html">itv</a></li>
<li><a href="mathcomp.analysis.kernel.html">kernel</a></li>
<li><a href="mathcomp.analysis.landau.html">landau</a></li>
<li><a href="mathcomp.analysis.lebesgue_integral.html">lebesgue_integral</a></li>
<li><a href="mathcomp.analysis.lebesgue_measure.html">lebesgue_measure</a></li>
<li><a href="mathcomp.analysis.lebesgue_stieltjes_measure.html">lebesgue_stieltjes_measure</a></li>
<li><a href="mathcomp.analysis.measure.html">measure</a></li>
<li><a href="mathcomp.analysis.normedtype.html">normedtype</a></li>
<li><a href="mathcomp.analysis.nsatz_realtype.html">nsatz_realtype</a></li>
<li><a href="mathcomp.analysis.numfun.html">numfun</a></li>
<li><a href="mathcomp.analysis.probability.html">probability</a></li>
<li><a href="mathcomp.analysis.prodnormedzmodule.html">prodnormedzmodule</a></li>
<li><a href="mathcomp.analysis.real_interval.html">real_interval</a></li>
<li><a href="mathcomp.analysis.realfun.html">realfun</a></li>
<li><a href="mathcomp.analysis.reals.html">reals</a></li>
<li><a href="mathcomp.analysis.Rstruct.html">Rstruct</a></li>
<li><a href="mathcomp.analysis.sequences.html">sequences</a></li>
<li><a href="mathcomp.analysis.signed.html">signed</a></li>
<li><a href="mathcomp.analysis.summability.html">summability</a></li>
<li><a href="mathcomp.analysis.topology.html">topology</a></li>
<li><a href="mathcomp.analysis.trigo.html">trigo</a></li>
          </ul>
          </details>
          </li>
<li><details id="mathcomp.classical"><summary>classical</summary>
          <ul>
          <li><a href="mathcomp.classical.all_classical.html">all_classical</a></li>
<li><a href="mathcomp.classical.boolp.html">boolp</a></li>
<li><a href="mathcomp.classical.cardinality.html">cardinality</a></li>
<li><a href="mathcomp.classical.classical_sets.html">classical_sets</a></li>
<li><a href="mathcomp.classical.contra.html">contra</a></li>
<li><a href="mathcomp.classical.fsbigop.html">fsbigop</a></li>
<li><a href="mathcomp.classical.functions.html">functions</a></li>
<li><a href="mathcomp.classical.mathcomp_extra.html">mathcomp_extra</a></li>
<li><a href="mathcomp.classical.set_interval.html">set_interval</a></li>
          </ul>
          </details>
          </li>
          </ul>
          </details>
          </li>
    </div>

  <div class="coq">

    <div class="content">
      <p><a href="./index.html">Top</a></p>
      <h1 class="title">Module mathcomp.analysis.ftc</h1>
<span class="vernacular">From</span> <span class="id">HB</span> <span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="NOTFOUND the module url for HB.structures">structures</a></span>.<br/>
<span class="vernacular">From</span> <span class="id">mathcomp</span> <span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.all_ssreflect.html">all_ssreflect</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html">ssralg</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html">ssrnum</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrint.html">ssrint</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html">interval</a></span> <span class="id"><a href="NOTFOUND the module url for mathcomp.finmap.finmap">finmap</a></span>.<br/>
<span class="vernacular">From</span> <span class="id">mathcomp</span> <span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="mathcomp.classical.mathcomp_extra.html">mathcomp_extra</a></span> <span class="id"><a href="mathcomp.classical.boolp.html">boolp</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html">classical_sets</a></span> <span class="id"><a href="mathcomp.classical.functions.html">functions</a></span>.<br/>
<span class="vernacular">From</span> <span class="id">mathcomp</span> <span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="mathcomp.classical.cardinality.html">cardinality</a></span> <span class="id"><a href="mathcomp.classical.fsbigop.html">fsbigop</a></span> .<br/>
<span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="mathcomp.analysis.signed.html">signed</a></span> <span class="id"><a href="mathcomp.analysis.reals.html">reals</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html">ereal</a></span> <span class="id"><a href="mathcomp.analysis.topology.html">topology</a></span> <span class="id"><a href="mathcomp.analysis.normedtype.html">normedtype</a></span> <span class="id"><a href="mathcomp.analysis.sequences.html">sequences</a></span> <span class="id"><a href="mathcomp.analysis.real_interval.html">real_interval</a></span>.<br/>
<span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="mathcomp.analysis.esum.html">esum</a></span> <span class="id"><a href="mathcomp.analysis.measure.html">measure</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html">lebesgue_measure</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html">numfun</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html">realfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html">lebesgue_integral</a></span>.<br/>
<span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="mathcomp.analysis.derive.html">derive</a></span>.<br/>
<br/>
<div class="ssrdoc md">
# Fundamental Theorem of Calculus for the Lebesgue Integral                 
                                                                            
</div>
<br/>
<span class="gallina-kwd">Set</span> <span class="vernacular">Implicit</span> <span class="vernacular">Arguments</span>.<br/>
<span class="vernacular">Unset</span> <span class="vernacular">Strict</span> <span class="vernacular">Implicit</span>.<br/>
<span class="vernacular">Unset</span> <span class="vernacular">Printing</span> <span class="vernacular">Implicit</span> <span class="vernacular">Defensive</span>.<br/>
<span class="vernacular">Import</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.TTheory">Order.TTheory</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory">GRing.Theory</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Def">Num.Def</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory">Num.Theory</a></span>.<br/>
<span class="vernacular">Import</span> <span class="id"><a href="mathcomp.analysis.topology.html#numFieldTopology.Exports">numFieldTopology.Exports</a></span>.<br/>
<br/>
<span class="vernacular">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">classical_set_scope</span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">ring_scope</span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="FTC" class="id"><a name="FTC" class="">FTC</a></span>.<br/>
<span class="vernacular">Context</span> <span class="id">{R</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType}</a></span>.<br/>
<span class="vernacular">Notation</span> <span id="mu" class="id"><a name="mu" class="">mu</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_measure">lebesgue_measure</a></span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="vernacular">Implicit</span> <span class="id">Types</span> (<span class="id">f</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.ftc.html#FTC.R">R</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.ftc.html#FTC.R">R</a></span>) (<span class="id">a</span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#itv_bound">itv_bound</a></span> <span class="id"><a href="mathcomp.analysis.ftc.html#FTC.R">R</a></span>).<br/>
<br/>
<span class="vernacular">Let</span> <span id="FTC.FTC0" class="id"><a name="FTC.FTC0" class="">FTC0</a></span> <span id="f:2" class="id"><a name="f:2" class="">f</a></span> <span id="a:3" class="id"><a name="a:3" class="">a</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.ftc.html#mu">mu</a></span>.<span class="id">-integrable</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="mathcomp.analysis.ftc.html#f:2">f</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">let</span> <span id="F:6" class="id"><a name="F:6" class="">F</a></span> <span id="x:4" class="id"><a name="x:4" class="">x</a></span> <span class="id">:=</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#00afd7077fe8d4381a047ef487700a85">\int[mu]_</a></span>(<span id="t:5" class="id"><a name="t:5" class="">t</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#fd1315670760bbd104fd4b87ca2730c7">[set`</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#Interval">Interval</a></span> <span class="id"><a href="mathcomp.analysis.ftc.html#a:3">a</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#BRight">BRight</a></span> <span class="id"><a href="mathcomp.analysis.ftc.html#x:4">x</a></span>)<span class="id"><a href="mathcomp.classical.classical_sets.html#fd1315670760bbd104fd4b87ca2730c7">]</a></span>) <span class="id"><a href="mathcomp.analysis.ftc.html#f:2">f</a></span> <span class="id"><a href="mathcomp.analysis.ftc.html#t:5">t</a></span>)%<span class="id">R</span> <span class="gallina-kwd">in</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:7" class="id"><a name="x:7" class="">x,</a></span> <span class="id"><a href="mathcomp.analysis.ftc.html#a:3">a</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#BRight">BRight</a></span> <span class="id"><a href="mathcomp.analysis.ftc.html#x:7">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lebesgue_pt">lebesgue_pt</a></span> <span class="id"><a href="mathcomp.analysis.ftc.html#f:2">f</a></span> <span class="id"><a href="mathcomp.analysis.ftc.html#x:7">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.ftc.html#h:8">h^-1</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#3b05480e39db306e67fadbc79d394529">*:</a></span> (<span class="id"><a href="mathcomp.analysis.ftc.html#F:6">F</a></span> (<span class="id"><a href="mathcomp.analysis.ftc.html#h:8">h</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d4965da372b2485934ec33867ee5fbe7">+</a></span> <span class="id"><a href="mathcomp.analysis.ftc.html#x:7">x</a></span>) <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'-'_x">-</a></span> <span class="id"><a href="mathcomp.analysis.ftc.html#F:6">F</a></span> <span class="id"><a href="mathcomp.analysis.ftc.html#x:7">x</a></span>) @<span class="id">[h</span> <span class="id"><a href="mathcomp.analysis.topology.html#9ae20bc67dba0e37ea0806b2f353bb2f">--&gt;</a></span> <span class="id">0</span>%<span class="id">R^']</span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'--&gt;'_x">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.ftc.html#f:2">f</a></span> <span class="id"><a href="mathcomp.analysis.ftc.html#x:7">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof1')">Proof.</span></div>
<div class="proofscript" id="proof1">
<span class="id">move=&gt;</span> <span class="id">intf</span> <span class="id">F</span> <span class="id">x</span> <span class="id">ax</span> <span class="id">fx</span>.<br/>
<span class="id">have</span> <span class="id">locf</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#locally_integrable">locally_integrable</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id">f</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_locally">integrable_locally</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.topology.html#openT">openT</a></span>.<br/>
<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#cvg_at_right_left_dnbhs">cvg_at_right_left_dnbhs</a></span>.<br/>
<span class="id">-</span> <span class="id">apply/cvg_at_rightP</span> <span class="id">=&gt;</span> <span class="id">d</span> <span class="id">[d_gt0</span> <span class="id">d0]</span>.<br/>
&nbsp;&nbsp;<span class="id">pose</span> <span class="id">E</span> <span id="x:9" class="id"><a name="x:9" class="">x</a></span> <span id="n:10" class="id"><a name="n:10" class="">n</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#140563da441f6537ec725c3b5a222afb">`[x,</a></span> <span class="id"><a href="mathcomp.analysis.ftc.html#x:9">x</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#c7f78cf1f6a5e4f664654f7d671ca752">+</a></span> <span class="id">d</span> <span class="id"><a href="mathcomp.analysis.ftc.html#n:10">n[</a></span>%<span class="id">classic</span>%<span class="id">R</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">muE</span> <span class="id">y</span> <span class="id">n</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.ftc.html#mu">mu</a></span> (<span class="id">E</span> <span class="id"><a href="mathcomp.analysis.ftc.html#y:11">y</a></span> <span class="id"><a href="mathcomp.analysis.ftc.html#n:12">n</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> (<span class="id">d</span> <span class="id"><a href="mathcomp.analysis.ftc.html#n:12">n</a></span>)%<span class="id">:E</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">/E</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_measure_itv">lebesgue_measure_itv/=</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_fin">lte_fin</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltrDl">ltrDl</a></span> <span class="id">d_gt0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-EFinD</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.addrAC">addrAC</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.subrr">subrr</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.add0r">add0r</a></span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">nice_E</span> <span class="id">y</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nicely_shrinking">nicely_shrinking</a></span> <span class="id"><a href="mathcomp.analysis.ftc.html#y:13">y</a></span> (<span class="id">E</span> <span class="id"><a href="mathcomp.analysis.ftc.html#y:13">y</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">split=&gt;</span> <span class="id">[n|];</span> <span class="id">first</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_itv">measurable_itv</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">exists</span> (<span class="id">2,</span> (<span class="gallina-kwd">fun</span> <span id="n:15" class="id"><span id="n:14" class="id"><a name="n:15" class="">n</a></span></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.signed.html#PosNum">PosNum</a></span> (<span class="id">d_gt0</span> <span class="id"><a href="mathcomp.analysis.ftc.html#n:14">n</a></span>)))<span class="id">;</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">//=</span> <span class="id">[n</span> <span class="id">z|n]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">/E/=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#in_itv">in_itv/=</a></span> <span class="id">/ball/=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltr_distlC">ltr_distlC</a></span> <span class="id">=&gt;</span> <span class="id">/andP[yz</span> <span class="id">-&gt;]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.lt_le_trans">lt_le_trans</a></span> <span class="id">_</span> <span class="id">yz</span>)<span class="id">//</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltrBlDr">ltrBlDr</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltrDl">ltrDl</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_measure_ball">lebesgue_measure_ball</a></span> <span class="id">_</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.ltW">ltW</a></span> <span class="id">_</span>))<span class="id">//</span> <span class="id">-/mu</span> <span class="id">muE</span> <span class="id">-EFinM</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.mulr_natl">mulr_natl</a></span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">ixdf</span> <span class="id">n</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="t:17" class="id"><a name="t:17" class="">t</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#fd1315670760bbd104fd4b87ca2730c7">[set`</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#Interval">Interval</a></span> <span class="id">a</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#BRight">BRight</a></span> (<span class="id">x</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d4965da372b2485934ec33867ee5fbe7">+</a></span> <span class="id">d</span> <span class="id"><a href="mathcomp.analysis.ftc.html#n:16">n</a></span>))<span class="id"><a href="mathcomp.classical.classical_sets.html#fd1315670760bbd104fd4b87ca2730c7">]</a></span>) (<span class="id">f</span> <span class="id"><a href="mathcomp.analysis.ftc.html#t:17">t</a></span>)%<span class="id">:E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'-'_x">-</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="t:18" class="id"><a name="t:18" class="">t</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#fd1315670760bbd104fd4b87ca2730c7">[set`</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#Interval">Interval</a></span> <span class="id">a</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#BRight">BRight</a></span> <span class="id">x</span>)<span class="id"><a href="mathcomp.classical.classical_sets.html#fd1315670760bbd104fd4b87ca2730c7">]</a></span>) (<span class="id">f</span> <span class="id"><a href="mathcomp.analysis.ftc.html#t:18">t</a></span>)%<span class="id">:E</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="y:19" class="id"><a name="y:19" class="">y</a></span> <span class="gallina-kwd">in</span> <span class="id">E</span> <span class="id">x</span> <span class="id"><a href="mathcomp.analysis.ftc.html#n:16">n</a></span>) (<span class="id">f</span> <span class="id"><a href="mathcomp.analysis.ftc.html#y:19">y</a></span>)%<span class="id">:E</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-[in</span> <span class="id">X</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.ftc.html#X:20">X</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'-'_x">-</a></span> <span class="id">_]integral_itv_bndo_bndc//=;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">case:</span> <span class="id">locf</span> <span class="id">=&gt;</span> <span class="id">+</span> <span class="id">_</span> <span class="id">_;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_funS">measurable_funS</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> (@<span class="id"><a href="mathcomp.classical.set_interval.html#itv_bndbnd_setU">itv_bndbnd_setU</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#BLeft">BLeft</a></span> <span class="id">x</span>))<span class="id">//=;</span> <span class="id">last</span> <span class="id">2</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">case:</span> <span class="id">a</span> <span class="id">ax</span> <span class="id">F</span> <span class="id">=&gt;</span> <span class="id">[[|]</span> <span class="id">a|[|]]//</span> <span class="id">/ltW</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#bnd_simp">bnd_simp</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.lerDl">lerDl</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.ltW">ltW</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_setU_EFin">integral_setU_EFin//=</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">-</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#addeAC">addeAC</a></span> <span class="id">-[X</span> <span class="gallina-kwd">in</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'-'_x">-</a></span> <span class="id"><a href="mathcomp.analysis.ftc.html#X:21">X]integral_itv_bndo_bndc//=;</a></span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">case:</span> <span class="id">locf</span> <span class="id">=&gt;</span> <span class="id">+</span> <span class="id">_</span> <span class="id">_;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_funS">measurable_funS</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#subee">subee</a></span> <span class="id">?add0e//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_fune_fin_num">integral_fune_fin_num</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableS">integrableS</a></span> <span class="id">intf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">case:</span> <span class="id">locf</span> <span class="id">=&gt;</span> <span class="id">+</span> <span class="id">_</span> <span class="id">_;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_funS">measurable_funS</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">-</span> <span class="id">apply/disj_setPRL</span> <span class="id">=&gt;</span> <span class="id">z/=</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">/E</span> <span class="id">/=</span> <span class="id">!in_itv/=</span> <span class="id">=&gt;</span> <span class="id">/andP[xz</span> <span class="id">zxdn]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move:</span> <span class="id">a</span> <span class="id">ax</span> <span class="id">{F}</span> <span class="id">=&gt;</span> <span class="id">[[|]</span> <span class="id">t/=|[_</span> <span class="id">/=|//]]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">-</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_fin">lte_fin</a></span> <span class="id">=&gt;</span> <span class="id">tx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply/negP;</span> <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negb_and">negb_and</a></span> <span class="id">-leNgt</span> <span class="id">xz</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#orbT">orbT</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">-</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_fin">lte_fin</a></span> <span class="id">=&gt;</span> <span class="id">tx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply/negP;</span> <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negb_and">negb_and</a></span> <span class="id">-!leNgt</span> <span class="id">xz</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#orbT">orbT</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">apply/negP;</span> <span class="id">rewrite</span> <span class="id">-leNgt</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">[f</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.ftc.html#f:28">f</a></span> <span class="id"><a href="mathcomp.analysis.ftc.html#n:22">n</a></span> @<span class="id">[n</span> <span class="id"><a href="mathcomp.analysis.topology.html#9ae20bc67dba0e37ea0806b2f353bb2f">--&gt;</a></span> <span class="id">_]</span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'--&gt;'_x">--&gt;</a></span> <span class="id">_]</span>(<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">fun</span> <span id="n:30" class="id"><span id="n:25" class="id"><span id="n:23" class="id"><a name="n:30" class="">n</a></span></span></span> <span class="id">=&gt;</span> (<span class="id">d</span> <span class="id"><a href="mathcomp.analysis.ftc.html#n:23">n</a></span>)<span class="id">^-1</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#3b05480e39db306e67fadbc79d394529">*:</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="t:31" class="id"><span id="t:26" class="id"><span id="t:24" class="id"><a name="t:31" class="">t</a></span></span></span> <span class="gallina-kwd">in</span> <span class="id">E</span> <span class="id">x</span> <span class="id"><a href="mathcomp.analysis.ftc.html#n:23">n</a></span>) (<span class="id">f</span> <span class="id"><a href="mathcomp.analysis.ftc.html#t:24">t</a></span>)%<span class="id">:E</span>))<span class="id">;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply/funext</span> <span class="id">=&gt;</span> <span class="id">n;</span> <span class="id">congr</span> (<span class="id">_</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#3b05480e39db306e67fadbc79d394529">*:</a></span> <span class="id">_</span>)<span class="id">;</span> <span class="id">rewrite</span> <span class="id">-fineB/=</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/=</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.addrC">addrC</a></span> (<span class="id">d</span> <span class="id">n</span>) <span class="id">x</span>) <span class="id">ixdf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_fune_fin_num">integral_fune_fin_num</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableS">integrableS</a></span> <span class="id">intf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_fune_fin_num">integral_fune_fin_num</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableS">integrableS</a></span> <span class="id">intf</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nice_lebesgue_differentiation">nice_lebesgue_differentiation</a></span> <span class="id">nice_E</span> <span class="id">locf</span> <span class="id">fx</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">{ixdf}</span> <span class="id">-/mu</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">[g</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.ftc.html#g:38">g</a></span> <span class="id"><a href="mathcomp.analysis.ftc.html#n:32">n</a></span> @<span class="id">[n</span> <span class="id"><a href="mathcomp.analysis.topology.html#9ae20bc67dba0e37ea0806b2f353bb2f">--&gt;</a></span> <span class="id">_]</span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'--&gt;'_x">--&gt;</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">_]</span>(<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">fun</span> <span id="n:40" class="id"><span id="n:35" class="id"><span id="n:33" class="id"><a name="n:40" class="">n</a></span></span></span> <span class="id">=&gt;</span> (<span class="id">d</span> <span class="id"><a href="mathcomp.analysis.ftc.html#n:33">n</a></span>)<span class="id">^-1</span>%<span class="id">:E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#f1c2ddfea282f8f8d7539f61e14c08e4">*</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="y:41" class="id"><span id="y:36" class="id"><span id="y:34" class="id"><a name="y:41" class="">y</a></span></span></span> <span class="gallina-kwd">in</span> <span class="id">E</span> <span class="id">x</span> <span class="id"><a href="mathcomp.analysis.ftc.html#n:33">n</a></span>) (<span class="id">f</span> <span class="id"><a href="mathcomp.analysis.ftc.html#y:34">y</a></span>)%<span class="id">:E</span>)<span class="id">;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply/funext</span> <span class="id">=&gt;</span> <span class="id">n;</span> <span class="id">rewrite</span> <span class="id">muE</span>.<br/>
&nbsp;&nbsp;<span class="id">move/fine_cvgP</span> <span class="id">=&gt;</span> <span class="id">[_</span> <span class="id">/=]</span>.<br/>
&nbsp;&nbsp;<span class="id">set</span> <span class="id">g</span> <span class="id">:=</span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id">gf</span>.<br/>
&nbsp;&nbsp;<span class="id">set</span> <span class="id">h</span> <span class="id">:=</span> (<span class="id">f</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.ftc.html#f:43">f</a></span> <span class="id"><a href="mathcomp.analysis.ftc.html#n:42">n</a></span> @<span class="id">[n</span> <span class="id"><a href="mathcomp.analysis.topology.html#9ae20bc67dba0e37ea0806b2f353bb2f">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#228a5fbd8d7ef28f21231bccff88d0b0">\oo]</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'--&gt;'_x">--&gt;</a></span> <span class="id">_</span>).<br/>
&nbsp;&nbsp;<span class="id">suff</span> <span class="id">:</span> <span class="id">g</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">h</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">&lt;-</span>.<br/>
&nbsp;&nbsp;<span class="id">apply/funext</span> <span class="id">=&gt;</span> <span class="id">n</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">/g</span> <span class="id">/h</span> <span class="id">/=</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineM">fineM//</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_fune_fin_num">integral_fune_fin_num</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">first</span> <span class="id">exact:</span> (<span class="id">nice_E</span> <span class="id">_</span>).<span class="id">1</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableS">integrableS</a></span> <span class="id">intf</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> (<span class="id">nice_E</span> <span class="id">_</span>).<span class="id">1</span>.<br/>
<span class="id">-</span> <span class="id">apply/cvg_at_leftP</span> <span class="id">=&gt;</span> <span class="id">d</span> <span class="id">[d_gt0</span> <span class="id">d0]</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">{}Nd_gt0</span> <span class="id">n</span> <span class="id">:</span> (<span class="id">0</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:'-'_x">-</a></span> <span class="id">d</span> <span class="id"><a href="mathcomp.analysis.ftc.html#n:45">n</a></span>)%<span class="id">R</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltrNr">ltrNr</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.oppr0">oppr0</a></span>.<br/>
&nbsp;&nbsp;<span class="id">pose</span> <span class="id">E</span> <span id="x:46" class="id"><a name="x:46" class="">x</a></span> <span id="n:47" class="id"><a name="n:47" class="">n</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#8e027a9428c1529a00eda7b3474672c0">`]x</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#c7f78cf1f6a5e4f664654f7d671ca752">+</a></span> <span class="id">d</span> <span class="id"><a href="mathcomp.analysis.ftc.html#n:47">n,</a></span> <span class="id"><a href="mathcomp.analysis.ftc.html#x:46">x]</a></span>%<span class="id">classic</span>%<span class="id">R</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">muE</span> <span class="id">y</span> <span class="id">n</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.ftc.html#mu">mu</a></span> (<span class="id">E</span> <span class="id"><a href="mathcomp.analysis.ftc.html#y:48">y</a></span> <span class="id"><a href="mathcomp.analysis.ftc.html#n:49">n</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:'-'_x">-</a></span> <span class="id">d</span> <span class="id"><a href="mathcomp.analysis.ftc.html#n:49">n</a></span>)%<span class="id">:E</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">/E</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_measure_itv">lebesgue_measure_itv/=</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_fin">lte_fin</a></span> <span class="id">-ltrBrDr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltrDl">ltrDl</a></span> <span class="id">Nd_gt0</span> <span class="id">-EFinD</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.opprD">opprD</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.addrA">addrA</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.subrr">subrr</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.add0r">add0r</a></span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">nice_E</span> <span class="id">y</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nicely_shrinking">nicely_shrinking</a></span> <span class="id"><a href="mathcomp.analysis.ftc.html#y:50">y</a></span> (<span class="id">E</span> <span class="id"><a href="mathcomp.analysis.ftc.html#y:50">y</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">split=&gt;</span> <span class="id">[n|];</span> <span class="id">first</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_itv">measurable_itv</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">exists</span> (<span class="id">2,</span> (<span class="gallina-kwd">fun</span> <span id="n:52" class="id"><span id="n:51" class="id"><a name="n:52" class="">n</a></span></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.signed.html#PosNum">PosNum</a></span> (<span class="id">Nd_gt0</span> <span class="id"><a href="mathcomp.analysis.ftc.html#n:51">n</a></span>)))<span class="id">;</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">//=</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-oppr0;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#cvgN">cvgN</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">n</span> <span class="id">z</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">/E/=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#in_itv">in_itv/=</a></span> <span class="id">/ball/=</span> <span class="id">=&gt;</span> <span class="id">/andP[yz</span> <span class="id">zy]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltr_distlC">ltr_distlC</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.opprK">opprK</a></span> <span class="id">yz</span> <span class="id">/=</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_lt_trans">le_lt_trans</a></span> <span class="id">zy</span>)<span class="id">//</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltrDl">ltrDl</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">n</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_measure_ball">lebesgue_measure_ball//;</a></span> <span class="id">last</span> <span class="id">exact:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.ltW">ltW</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-/mu</span> <span class="id">muE</span> <span class="id">-EFinM</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.mulr_natl">mulr_natl</a></span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">ixdf</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.topology.html#5b88bba1a0d3085b56928b27b84bfd97">{near</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#228a5fbd8d7ef28f21231bccff88d0b0">\oo,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="gallina-kwd">fun</span> <span id="n:53" class="id"><a name="n:53" class="">n</a></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="t:54" class="id"><a name="t:54" class="">t</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#fd1315670760bbd104fd4b87ca2730c7">[set`</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#Interval">Interval</a></span> <span class="id">a</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#BRight">BRight</a></span> (<span class="id">x</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d4965da372b2485934ec33867ee5fbe7">+</a></span> <span class="id">d</span> <span class="id"><a href="mathcomp.analysis.ftc.html#n:53">n</a></span>))<span class="id"><a href="mathcomp.classical.classical_sets.html#fd1315670760bbd104fd4b87ca2730c7">]</a></span>) (<span class="id">f</span> <span class="id"><a href="mathcomp.analysis.ftc.html#t:54">t</a></span>)%<span class="id">:E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'-'_x">-</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="t:55" class="id"><a name="t:55" class="">t</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#fd1315670760bbd104fd4b87ca2730c7">[set`</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#Interval">Interval</a></span> <span class="id">a</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#BRight">BRight</a></span> <span class="id">x</span>)<span class="id"><a href="mathcomp.classical.classical_sets.html#fd1315670760bbd104fd4b87ca2730c7">]</a></span>) (<span class="id">f</span> <span class="id"><a href="mathcomp.analysis.ftc.html#t:55">t</a></span>)%<span class="id">:E</span>) <span class="id">=1</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="gallina-kwd">fun</span> <span id="n:56" class="id"><a name="n:56" class="">n</a></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'-'_x">-</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="y:57" class="id"><a name="y:57" class="">y</a></span> <span class="gallina-kwd">in</span> <span class="id">E</span> <span class="id">x</span> <span class="id"><a href="mathcomp.analysis.ftc.html#n:56">n</a></span>) (<span class="id">f</span> <span class="id"><a href="mathcomp.analysis.ftc.html#y:57">y</a></span>)%<span class="id">:E</span>)<span class="id"><a href="mathcomp.analysis.topology.html#5b88bba1a0d3085b56928b27b84bfd97">}</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">case:</span> <span class="id">a</span> <span class="id">ax</span> <span class="id">{F};</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">[_|//]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.topology.html#nearW">nearW</a></span> <span class="id">=&gt;</span> <span class="id">n</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-[in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.LHS">LHS]integral_itv_bndo_bndc//=;</a></span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">case:</span> <span class="id">locf</span> <span class="id">=&gt;</span> <span class="id">+</span> <span class="id">_</span> <span class="id">_;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_funS">measurable_funS</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-/mu</span> <span class="id">-[LHS]oppeK;</span> <span class="id">congr</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#oppe">oppe</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#oppeB">oppeB;</a></span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num_adde_defl">fin_num_adde_defl//</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_numN">fin_numN//</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_fune_fin_num">integral_fune_fin_num</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableS">integrableS</a></span> <span class="id">intf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#addeC">addeC</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#5e1b04cba2ff8bb716094037c34db7ee">`]-oo,</a></span> <span class="id">x]</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#5e1b04cba2ff8bb716094037c34db7ee">`]-oo,</a></span> (<span class="id">x</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#c7f78cf1f6a5e4f664654f7d671ca752">+</a></span> <span class="id">d</span> <span class="id">n</span>)%<span class="id">R]</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#f0f4f4a06533e5eeff19ee265a896441">`|`</a></span> <span class="id">E</span> <span class="id">x</span> <span class="id">n</span>)%<span class="id">classic;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-itv_bndbnd_setU//=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#bnd_simp">bnd_simp</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ler_wnDr">ler_wnDr//</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.ltW">ltW</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_setU_EFin">integral_setU_EFin//=</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">-</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#addeAC">addeAC</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-[X</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.ftc.html#X:58">X</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'-'_x">-</a></span> <span class="id">_]integral_itv_bndo_bndc//;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">case:</span> <span class="id">locf</span> <span class="id">=&gt;</span> <span class="id">+</span> <span class="id">_</span> <span class="id">_;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_funS">measurable_funS</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#subee">subee</a></span> <span class="id">?add0e//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_fune_fin_num">integral_fune_fin_num</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableS">integrableS</a></span> <span class="id">intf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">-</span> <span class="id">exact:</span> (<span class="id">nice_E</span> <span class="id">_</span>).<span class="id">1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">case:</span> <span class="id">locf</span> <span class="id">=&gt;</span> <span class="id">+</span> <span class="id">_</span> <span class="id">_;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_funS">measurable_funS</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">-</span> <span class="id">apply/disj_setPLR</span> <span class="id">=&gt;</span> <span class="id">z/=</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">/E</span> <span class="id">/=</span> <span class="id">!in_itv/=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.TotalTheory.leNgt">leNgt</a></span> <span class="id">=&gt;</span> <span class="id">xdnz</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply/negP;</span> <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negb_and">negb_and</a></span> <span class="id">xdnz</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">b</span> <span class="id">a</span> <span class="id">ax</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move/cvgrPdist_le</span> <span class="id">:</span> <span class="id">d0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move/</span>(<span class="id">_</span> (<span class="id">x</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'-'_x">-</a></span> <span class="id">a</span>)%<span class="id">R</span>)<span class="id">;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.subr_gt0">subr_gt0</a></span> <span class="id">=&gt;</span> <span class="id">/</span>(<span class="id">_</span> <span class="id">ax</span>)<span class="id">[m</span> <span class="id">_</span> <span class="id">/=]</span> <span class="id">h</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">near=&gt;</span> <span class="id">n</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> <span class="id">mn</span> <span class="id">:</span> (<span class="id">m</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.ssrnat.html#cb53cf0ee22c036a03b4a9281c68b5a3">&lt;=</a></span> <span class="id">n</span>)%<span class="id">N</span> <span class="gallina-kwd">by</span> <span class="id">near:</span> <span class="id">n;</span> <span class="gallina-kwd">exists</span> <span class="id">m</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-[in</span> <span class="id">X</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.ftc.html#X:59">X</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'-'_x">-</a></span> <span class="id">_]integral_itv_bndo_bndc//=;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">case:</span> <span class="id">locf</span> <span class="id">=&gt;</span> <span class="id">+</span> <span class="id">_</span> <span class="id">_;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_funS">measurable_funS</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-/mu</span> <span class="id">-[LHS]oppeK;</span> <span class="id">congr</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#oppe">oppe</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#oppeB">oppeB;</a></span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num_adde_defl">fin_num_adde_defl//</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_numN">fin_numN//</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_fune_fin_num">integral_fune_fin_num</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableS">integrableS</a></span> <span class="id">intf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#addeC">addeC</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> (@<span class="id"><a href="mathcomp.classical.set_interval.html#itv_bndbnd_setU">itv_bndbnd_setU</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#BRight">BRight</a></span> (<span class="id">x</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'-'_x">-</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:'-'_x">-</a></span> <span class="id">d</span> <span class="id">n</span>)%<span class="id">R</span>))<span class="id">//;</span> <span class="id">last</span> <span class="id">2</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">case:</span> <span class="id">b</span> <span class="gallina-kwd">in</span> <span class="id">ax</span> <span class="id">*</span> <span class="id">=&gt;</span> <span class="id">/=;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#bnd_simp">bnd_simp</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.lerBrDl">lerBrDl</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.addrC">addrC</a></span> <span class="id">-lerBrDl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">have</span> <span class="id">:=</span> <span class="id">h</span> <span class="id">_</span> <span class="id">mn;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.sub0r">sub0r</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.gtr0_norm">gtr0_norm</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.lerBrDl">lerBrDl</a></span> <span class="id">-lerBrDr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">have</span> <span class="id">:=</span> <span class="id">h</span> <span class="id">_</span> <span class="id">mn;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.sub0r">sub0r</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.gtr0_norm">gtr0_norm</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.opprK">opprK</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#bnd_simp">bnd_simp</a></span> <span class="id">-lerBrDl</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.subrr">subrr</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.ltW">ltW</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_setU_EFin">integral_setU_EFin//=</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">-</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#addeAC">addeAC</a></span> <span class="id">-[X</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.ftc.html#X:60">X</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'-'_x">-</a></span> <span class="id">_]integral_itv_bndo_bndc//;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">case:</span> <span class="id">locf</span> <span class="id">=&gt;</span> <span class="id">+</span> <span class="id">_</span> <span class="id">_;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_funS">measurable_funS</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.opprK">opprK</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#subee">subee</a></span> <span class="id">?add0e//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_fune_fin_num">integral_fune_fin_num</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableS">integrableS</a></span> <span class="id">intf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">case:</span> <span class="id">locf</span> <span class="id">=&gt;</span> <span class="id">+</span> <span class="id">_</span> <span class="id">_;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_funS">measurable_funS</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">-</span> <span class="id">apply/disj_setPLR</span> <span class="id">=&gt;</span> <span class="id">z/=</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">/E</span> <span class="id">/=</span> <span class="id">!in_itv/=</span> <span class="id">=&gt;</span> <span class="id">/andP[az</span> <span class="id">zxdn]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply/negP;</span> <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negb_and">negb_and</a></span> <span class="id">-leNgt</span> <span class="id">zxdn</span>.<br/>
&nbsp;&nbsp;<span class="id">suff:</span> ((<span class="id">d</span> <span class="id"><a href="mathcomp.analysis.ftc.html#n:61">n</a></span>)<span class="id">^-1</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#2d0cfb150261028f4ebd2ba355623dcc">*</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:'-'_x">-</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#871f2882c0e95b3d1e1d20f0a4fbdef3">\int[mu]_</a></span>(<span id="y:62" class="id"><a name="y:62" class="">y</a></span> <span class="gallina-kwd">in</span> <span class="id">E</span> <span class="id">x</span> <span class="id"><a href="mathcomp.analysis.ftc.html#n:61">n</a></span>) (<span class="id">f</span> <span class="id"><a href="mathcomp.analysis.ftc.html#y:62">y</a></span>)%<span class="id">:E</span>))%<span class="id">R</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id">[n</span> <span class="id"><a href="mathcomp.analysis.topology.html#9ae20bc67dba0e37ea0806b2f353bb2f">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#228a5fbd8d7ef28f21231bccff88d0b0">\oo]</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'--&gt;'_x">--&gt;</a></span> <span class="id">f</span> <span class="id">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.topology.html#cvg_trans">cvg_trans;</a></span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.topology.html#near_eq_cvg">near_eq_cvg;</a></span> <span class="id">near=&gt;</span> <span class="id">n;</span>  <span class="id">congr</span> (<span class="id">_</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#3b05480e39db306e67fadbc79d394529">*:</a></span> <span class="id">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">/F/=</span> <span class="id">/Rintegral</span> <span class="id">-fineN</span> <span class="id">-fineB;</span> <span class="id">last</span> <span class="id">2</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_fune_fin_num">integral_fune_fin_num</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableS">integrableS</a></span> <span class="id">intf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_fune_fin_num">integral_fune_fin_num</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableS">integrableS</a></span> <span class="id">intf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">congr</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> <span class="id">=&gt;</span> <span class="id">/=;</span> <span class="id">apply/esym;</span> <span class="id">rewrite</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.addrC">addrC</a></span> <span class="id">_</span> <span class="id">x</span>)<span class="id">;</span> <span class="id">near:</span> <span class="id">n</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nice_lebesgue_differentiation">nice_lebesgue_differentiation</a></span> <span class="id">nice_E</span> <span class="id">locf</span> <span class="id">fx</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">{ixdf}</span> <span class="id">-/mu</span>.<br/>
&nbsp;&nbsp;<span class="id">move/fine_cvgP</span> <span class="id">=&gt;</span> <span class="id">[_</span> <span class="id">/=]</span>.<br/>
&nbsp;&nbsp;<span class="id">set</span> <span class="id">g</span> <span class="id">:=</span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id">gf</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (@<span class="id"><a href="mathcomp.analysis.topology.html#eq_cvg">eq_cvg</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">g</span>)<span class="id">//</span> <span class="id">=&gt;</span> <span class="id">n</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">/g</span> <span class="id">/=</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineM">fineM//=;</a></span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_fune_fin_num">integral_fune_fin_num</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">first</span> <span class="id">exact:</span> (<span class="id">nice_E</span> <span class="id">_</span>).<span class="id">1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableS">integrableS</a></span> <span class="id">intf</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> (<span class="id">nice_E</span> <span class="id">_</span>).<span class="id">1</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">muE/=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.invrN">invrN</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.mulNr">mulNr</a></span> <span class="id">-mulrN</span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all:</span> <span class="gallina-kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="FTC1" class="id"><a name="FTC1" class="">FTC1</a></span> <span id="f:63" class="id"><a name="f:63" class="">f</a></span> <span id="a:64" class="id"><a name="a:64" class="">a</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.ftc.html#mu">mu</a></span>.<span class="id">-integrable</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="mathcomp.analysis.ftc.html#f:63">f</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">let</span> <span id="F:67" class="id"><a name="F:67" class="">F</a></span> <span id="x:65" class="id"><a name="x:65" class="">x</a></span> <span class="id">:=</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#00afd7077fe8d4381a047ef487700a85">\int[mu]_</a></span>(<span id="t:66" class="id"><a name="t:66" class="">t</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#fd1315670760bbd104fd4b87ca2730c7">[set`</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#Interval">Interval</a></span> <span class="id"><a href="mathcomp.analysis.ftc.html#a:64">a</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#BRight">BRight</a></span> <span class="id"><a href="mathcomp.analysis.ftc.html#x:65">x</a></span>)<span class="id"><a href="mathcomp.classical.classical_sets.html#fd1315670760bbd104fd4b87ca2730c7">]</a></span>) (<span class="id"><a href="mathcomp.analysis.ftc.html#f:63">f</a></span> <span class="id"><a href="mathcomp.analysis.ftc.html#t:66">t</a></span>))%<span class="id">R</span> <span class="gallina-kwd">in</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:68" class="id"><a name="x:68" class="">x,</a></span> <span class="id"><a href="mathcomp.analysis.ftc.html#a:64">a</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#BRight">BRight</a></span> <span class="id"><a href="mathcomp.analysis.ftc.html#x:68">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lebesgue_pt">lebesgue_pt</a></span> <span class="id"><a href="mathcomp.analysis.ftc.html#f:63">f</a></span> <span class="id"><a href="mathcomp.analysis.ftc.html#x:68">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.derive.html#derivable">derivable</a></span> <span class="id"><a href="mathcomp.analysis.ftc.html#F:67">F</a></span> <span class="id"><a href="mathcomp.analysis.ftc.html#x:68">x</a></span> <span class="id">1</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="mathcomp.analysis.ftc.html#F:67">F^`</a></span>() <span class="id"><a href="mathcomp.analysis.ftc.html#x:68">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.ftc.html#f:63">f</a></span> <span class="id"><a href="mathcomp.analysis.ftc.html#x:68">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof2')">Proof.</span></div>
<div class="proofscript" id="proof2">
<span class="id">move=&gt;</span> <span class="id">intf</span> <span class="id">F</span> <span class="id">x</span> <span class="id">ax</span> <span class="id">fx;</span> <span class="id">split;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply/cvg_lim;</span> <span class="id">[exact:</span> <span class="id"><a href="mathcomp.analysis.topology.html#Rhausdorff">Rhausdorff|exact:</a></span> <span class="id"><a href="mathcomp.analysis.ftc.html#FTC.FTC0">FTC0]</a></span>.<br/>
<span class="id">apply/cvg_ex;</span> <span class="gallina-kwd">exists</span> (<span class="id">f</span> <span class="id">x</span>).<br/>
<span class="id">have</span> <span class="id">/=</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.ftc.html#FTC.FTC0">FTC0</a></span> <span class="id">intf</span> <span class="id">ax</span> <span class="id">fx</span>.<br/>
<span class="id">set</span> <span class="id">g</span> <span class="id">:=</span> (<span class="id">f</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.ftc.html#f:70">f</a></span> <span class="id"><a href="mathcomp.analysis.ftc.html#n:69">n</a></span> @<span class="id">[n</span> <span class="id"><a href="mathcomp.analysis.topology.html#9ae20bc67dba0e37ea0806b2f353bb2f">--&gt;</a></span> <span class="id">_]</span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'--&gt;'_x">--&gt;</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">_</span>).<br/>
<span class="id">set</span> <span class="id">h</span> <span class="id">:=</span> (<span class="id">f</span> <span class="gallina-kwd">in</span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.ftc.html#f:73">f</a></span> <span class="id"><a href="mathcomp.analysis.ftc.html#n:72">n</a></span> @<span class="id">[n</span> <span class="id"><a href="mathcomp.analysis.topology.html#9ae20bc67dba0e37ea0806b2f353bb2f">--&gt;</a></span> <span class="id">_]</span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'--&gt;'_x">--&gt;</a></span> <span class="id">_</span>).<br/>
<span class="id">suff</span> <span class="id">:</span> <span class="id">g</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">h</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">&lt;-</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">apply/funext</span> <span class="id">=&gt;</span> <span class="id">y;rewrite</span> <span class="id">/g</span> <span class="id">/h</span> <span class="id">/=</span> <span class="id">[X</span> <span class="gallina-kwd">in</span> <span class="id">F</span> (<span class="id"><a href="mathcomp.analysis.ftc.html#X:75">X</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d4965da372b2485934ec33867ee5fbe7">+</a></span> <span class="id">_</span>)<span class="id">]</span>(<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.mulr1">mulr1</a></span>).<br/>
Qed.</div>
<br/>
<span class="vernacular">Corollary</span> <span id="continuous_FTC1" class="id"><a name="continuous_FTC1" class="">continuous_FTC1</a></span> <span id="f:76" class="id"><a name="f:76" class="">f</a></span> <span id="a:77" class="id"><a name="a:77" class="">a</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.ftc.html#mu">mu</a></span>.<span class="id">-integrable</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="mathcomp.analysis.ftc.html#f:76">f</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">let</span> <span id="F:80" class="id"><a name="F:80" class="">F</a></span> <span id="x:78" class="id"><a name="x:78" class="">x</a></span> <span class="id">:=</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#00afd7077fe8d4381a047ef487700a85">\int[mu]_</a></span>(<span id="t:79" class="id"><a name="t:79" class="">t</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#fd1315670760bbd104fd4b87ca2730c7">[set`</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#Interval">Interval</a></span> <span class="id"><a href="mathcomp.analysis.ftc.html#a:77">a</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#BRight">BRight</a></span> <span class="id"><a href="mathcomp.analysis.ftc.html#x:78">x</a></span>)<span class="id"><a href="mathcomp.classical.classical_sets.html#fd1315670760bbd104fd4b87ca2730c7">]</a></span>) (<span class="id"><a href="mathcomp.analysis.ftc.html#f:76">f</a></span> <span class="id"><a href="mathcomp.analysis.ftc.html#t:79">t</a></span>))%<span class="id">R</span> <span class="gallina-kwd">in</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:81" class="id"><a name="x:81" class="">x,</a></span> <span class="id"><a href="mathcomp.analysis.ftc.html#a:77">a</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.interval.html#BRight">BRight</a></span> <span class="id"><a href="mathcomp.analysis.ftc.html#x:81">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#7c80fbc9405d98c9b96117793e1b9981">{for</a></span> <span class="id"><a href="mathcomp.analysis.ftc.html#x:81">x,</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#continuous">continuous</a></span> <span class="id"><a href="mathcomp.analysis.ftc.html#f:76">f}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.derive.html#derivable">derivable</a></span> <span class="id"><a href="mathcomp.analysis.ftc.html#F:80">F</a></span> <span class="id"><a href="mathcomp.analysis.ftc.html#x:81">x</a></span> <span class="id">1</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="mathcomp.analysis.ftc.html#F:80">F^`</a></span>() <span class="id"><a href="mathcomp.analysis.ftc.html#x:81">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.ftc.html#f:76">f</a></span> <span class="id"><a href="mathcomp.analysis.ftc.html#x:81">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof3')">Proof.</span></div>
<div class="proofscript" id="proof3">
<span class="id">move=&gt;</span> <span class="id">fi</span> <span class="id">F</span> <span class="id">x</span> <span class="id">ax</span> <span class="id">fx</span>.<br/>
<span class="id">have</span> <span class="id">lfx</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lebesgue_pt">lebesgue_pt</a></span> <span class="id">f</span> <span class="id">x</span>.<br/>
&nbsp;&nbsp;<span class="id">near</span> (<span class="id">0</span>%<span class="id">R:R</span>)<span class="id">^'+</span> <span class="id">=&gt;</span> <span class="id">e</span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> (@<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#continuous_lebesgue_pt">continuous_lebesgue_pt</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.topology.html#ball">ball</a></span> <span class="id">x</span> <span class="id">e</span>)).<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#ball_open_nbhs">ball_open_nbhs</a></span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_ball">measurable_ball</a></span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">case/integrableP</span> <span class="id">:</span> <span class="id">fi</span> <span class="id">=&gt;</span> <span class="id">+</span> <span class="id">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move/EFin_measurable_fun;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_funS">measurable_funS</a></span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">exact:</span> <span class="id">fx</span>.<br/>
<span class="id">have</span> <span class="id">lif</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#locally_integrable">locally_integrable</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id">f</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_locally">integrable_locally</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.topology.html#openT">openT</a></span>.<br/>
<span class="id">have</span> <span class="id">/=</span> <span class="id">/</span>(<span class="id">_</span> <span class="id">ax</span> <span class="id">lfx</span>)<span class="id">/=</span> <span class="id">[dfx</span> <span class="id">f'xE]</span> <span class="id">:=</span> @<span class="id"><a href="mathcomp.analysis.ftc.html#FTC1">FTC1</a></span> <span class="id">f</span> <span class="id">a</span> <span class="id">fi</span> <span class="id">x</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">split;</span> <span class="id">[exact:</span> <span class="id">dfx|rewrite</span> <span class="id">f'xE]</span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all:</span> <span class="gallina-kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.ftc.html#FTC">FTC</a></span>.<br/>

      <div class="footer"><hr/>Generated by <a href="https://github.com/yoshihiro503/coq2html/">a fork of coq2html</a></div>
    </div>
  </div>
    </main>
</body>
</html>
